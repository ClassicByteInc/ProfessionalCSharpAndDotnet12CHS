<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops"
    xmlns:svg="http://www.w3.org/2000/svg" epub:prefix="index: http://www.index.com/" lang="en" xml:lang="en"
    imt-state="dual" imt-trans-position="after">

<head>
    <title>3 类、记录、结构体和元组 --- 3 Classes, Records, Structs, and Tuples</title>
    <link href="WileyTemplate_v5.5.css" rel="stylesheet" type="text/css" />
    <meta content="urn:uuid:e0000000-0000-0000-0000-000006715209" name="Adept.expected.resource" />
    <style data-id="immersive-translate-input-injected-css">
        .immersive-translate-input {
            position: absolute;
            top: 0;
            right: 0;
            left: 0;
            bottom: 0;
            z-index: 2147483647;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .immersive-translate-attach-loading::after {
            content: " ";

            --loading-color: #f78fb6;
            width: 6px;
            height: 6px;
            border-radius: 50%;
            display: block;
            margin: 12px auto;
            position: relative;
            color: white;
            left: -100px;
            box-sizing: border-box;
            animation: immersiveTranslateShadowRolling 1.5s linear infinite;

            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-2000%, -50%);
            z-index: 100;
        }

        .immersive-translate-loading-spinner {
            vertical-align: middle !important;
            width: 10px !important;
            height: 10px !important;
            display: inline-block !important;
            margin: 0 4px !important;
            border: 2px rgba(221, 244, 255, 0.6) solid !important;
            border-top: 2px rgba(0, 0, 0, 0.375) solid !important;
            border-left: 2px rgba(0, 0, 0, 0.375) solid !important;
            border-radius: 50% !important;
            padding: 0 !important;
            -webkit-animation: immersive-translate-loading-animation 0.6s infinite linear !important;
            animation: immersive-translate-loading-animation 0.6s infinite linear !important;
        }

        @-webkit-keyframes immersive-translate-loading-animation {
            from {
                -webkit-transform: rotate(0deg);
            }

            to {
                -webkit-transform: rotate(359deg);
            }
        }

        @keyframes immersive-translate-loading-animation {
            from {
                transform: rotate(0deg);
            }

            to {
                transform: rotate(359deg);
            }
        }

        .immersive-translate-input-loading {
            --loading-color: #f78fb6;
            width: 6px;
            height: 6px;
            border-radius: 50%;
            display: block;
            margin: 12px auto;
            position: relative;
            color: white;
            left: -100px;
            box-sizing: border-box;
            animation: immersiveTranslateShadowRolling 1.5s linear infinite;
        }

        @keyframes immersiveTranslateShadowRolling {
            0% {
                box-shadow: 0px 0 rgba(255, 255, 255, 0), 0px 0 rgba(255, 255, 255, 0),
                    0px 0 rgba(255, 255, 255, 0), 0px 0 rgba(255, 255, 255, 0);
            }

            12% {
                box-shadow: 100px 0 var(--loading-color), 0px 0 rgba(255, 255, 255, 0),
                    0px 0 rgba(255, 255, 255, 0), 0px 0 rgba(255, 255, 255, 0);
            }

            25% {
                box-shadow: 110px 0 var(--loading-color), 100px 0 var(--loading-color),
                    0px 0 rgba(255, 255, 255, 0), 0px 0 rgba(255, 255, 255, 0);
            }

            36% {
                box-shadow: 120px 0 var(--loading-color), 110px 0 var(--loading-color),
                    100px 0 var(--loading-color), 0px 0 rgba(255, 255, 255, 0);
            }

            50% {
                box-shadow: 130px 0 var(--loading-color), 120px 0 var(--loading-color),
                    110px 0 var(--loading-color), 100px 0 var(--loading-color);
            }

            62% {
                box-shadow: 200px 0 rgba(255, 255, 255, 0), 130px 0 var(--loading-color),
                    120px 0 var(--loading-color), 110px 0 var(--loading-color);
            }

            75% {
                box-shadow: 200px 0 rgba(255, 255, 255, 0), 200px 0 rgba(255, 255, 255, 0),
                    130px 0 var(--loading-color), 120px 0 var(--loading-color);
            }

            87% {
                box-shadow: 200px 0 rgba(255, 255, 255, 0), 200px 0 rgba(255, 255, 255, 0),
                    200px 0 rgba(255, 255, 255, 0), 130px 0 var(--loading-color);
            }

            100% {
                box-shadow: 200px 0 rgba(255, 255, 255, 0), 200px 0 rgba(255, 255, 255, 0),
                    200px 0 rgba(255, 255, 255, 0), 200px 0 rgba(255, 255, 255, 0);
            }
        }

        .immersive-translate-toast {
            display: flex;
            position: fixed;
            z-index: 2147483647;
            left: 0;
            right: 0;
            top: 1%;
            width: fit-content;
            padding: 12px 20px;
            margin: auto;
            overflow: auto;
            background: #fef6f9;
            box-shadow: 0px 4px 10px 0px rgba(0, 10, 30, 0.06);
            font-size: 15px;
            border-radius: 8px;
            color: #333;
        }

        .immersive-translate-toast-content {
            display: flex;
            flex-direction: row;
            align-items: center;
        }

        .immersive-translate-toast-hidden {
            margin: 0 20px 0 72px;
            text-decoration: underline;
            cursor: pointer;
        }

        .immersive-translate-toast-close {
            color: #666666;
            font-size: 20px;
            font-weight: bold;
            padding: 0 10px;
            cursor: pointer;
        }

        @media screen and (max-width: 768px) {
            .immersive-translate-toast {
                top: 0;
                padding: 12px 0px 0 10px;
            }

            .immersive-translate-toast-content {
                flex-direction: column;
                text-align: center;
            }

            .immersive-translate-toast-hidden {
                margin: 10px auto;
            }
        }

        .immersive-translate-modal {
            display: none;
            position: fixed;
            z-index: 2147483647;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgb(0, 0, 0);
            background-color: rgba(0, 0, 0, 0.4);
            font-size: 15px;
        }

        .immersive-translate-modal-content {
            background-color: #fefefe;
            margin: 10% auto;
            padding: 40px 24px 24px;
            border: 1px solid #888;
            border-radius: 10px;
            width: 80%;
            max-width: 270px;
            font-family: system-ui, -apple-system, "Segoe UI", "Roboto", "Ubuntu",
                "Cantarell", "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji",
                "Segoe UI Symbol", "Noto Color Emoji";
            position: relative;
        }

        @media screen and (max-width: 768px) {
            .immersive-translate-modal-content {
                margin: 50% auto !important;
            }
        }

        .immersive-translate-modal .immersive-translate-modal-content-in-input {
            max-width: 500px;
        }

        .immersive-translate-modal-content-in-input .immersive-translate-modal-body {
            text-align: left;
            max-height: unset;
        }

        .immersive-translate-modal-title {
            text-align: center;
            font-size: 16px;
            font-weight: 700;
            color: #333333;
        }

        .immersive-translate-modal-body {
            text-align: center;
            font-size: 14px;
            font-weight: 400;
            color: #333333;
            word-break: break-all;
            margin-top: 24px;
        }

        @media screen and (max-width: 768px) {
            .immersive-translate-modal-body {
                max-height: 250px;
                overflow-y: auto;
            }
        }

        .immersive-translate-close {
            color: #666666;
            position: absolute;
            right: 16px;
            top: 16px;
            font-size: 20px;
            font-weight: bold;
        }

        .immersive-translate-close:hover,
        .immersive-translate-close:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }

        .immersive-translate-modal-footer {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 24px;
        }

        .immersive-translate-btn {
            width: fit-content;
            color: #fff;
            background-color: #ea4c89;
            border: none;
            font-size: 16px;
            margin: 0 8px;
            padding: 9px 30px;
            border-radius: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        .immersive-translate-btn:hover {
            background-color: #f082ac;
        }

        .immersive-translate-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .immersive-translate-btn:disabled:hover {
            background-color: #ea4c89;
        }

        .immersive-translate-cancel-btn {
            /* gray color */
            background-color: rgb(89, 107, 120);
        }

        .immersive-translate-cancel-btn:hover {
            background-color: hsl(205, 20%, 32%);
        }

        .immersive-translate-action-btn {
            background-color: transparent;
            color: #ea4c89;
            border: 1px solid #ea4c89;
        }

        .immersive-translate-btn svg {
            margin-right: 5px;
        }

        .immersive-translate-link {
            cursor: pointer;
            user-select: none;
            -webkit-user-drag: none;
            text-decoration: none;
            color: #007bff;
            -webkit-tap-highlight-color: rgba(0, 0, 0, 0.1);
        }

        .immersive-translate-primary-link {
            cursor: pointer;
            user-select: none;
            -webkit-user-drag: none;
            text-decoration: none;
            color: #ea4c89;
            -webkit-tap-highlight-color: rgba(0, 0, 0, 0.1);
        }

        .immersive-translate-modal input[type="radio"] {
            margin: 0 6px;
            cursor: pointer;
        }

        .immersive-translate-modal label {
            cursor: pointer;
        }

        .immersive-translate-close-action {
            position: absolute;
            top: 2px;
            right: 0px;
            cursor: pointer;
        }

        .imt-image-status {
            background-color: rgba(0, 0, 0, 0.5) !important;
            display: flex !important;
            flex-direction: column !important;
            align-items: center !important;
            justify-content: center !important;
            border-radius: 16px !important;
        }

        .imt-image-status img,
        .imt-image-status svg,
        .imt-img-loading {
            width: 28px !important;
            height: 28px !important;
            margin: 0 0 8px 0 !important;
            min-height: 28px !important;
            min-width: 28px !important;
            position: relative !important;
        }

        .imt-img-loading {
            background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4CAMAAACfWMssAAAAtFBMVEUAAAD////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////oK74hAAAAPHRSTlMABBMIDyQXHwyBfFdDMSw+OjXCb+5RG51IvV/k0rOqlGRM6KKMhdvNyZBz9MaupmxpWyj437iYd/yJVNZeuUC7AAACt0lEQVRIx53T2XKiUBCA4QYOiyCbiAsuuGBcYtxiYtT3f6/pbqoYHVFO5r+iivpo6DpAWYpqeoFfr9f90DsYAuRSWkFnPO50OgR9PwiCUFcl2GEcx+N/YBh6pvKaefHlUgZd1zVe0NbYcQjGBfzrPE8Xz8aF+71D8gG6DHFPpc4a7xFiCDuhaWgKgGIJQ3d5IMGDrpS4S5KgpIm+en9f6PlAhKby4JwEIxlYJV9h5k5nee9GoxHJ2IDSNB0dwdad1NAxDJ/uXDHYmebdk4PdbkS58CIVHdYSUHTYYRWOJblWSyu2lmy3KNFVJNBhxcuGW4YBVCbYGRZwIooipHsNqjM4FbgOQqQqSKQQU9V8xmi1QlgHqQQ6DDBvRUVCDirs+EzGDGOQTCATgtYTnbCVLgsVgRE0T1QE0qHCFAht2z6dLvJQs3Lo2FQoDxWNUiBhaP4eRgwNkI+dAjVOA/kUrIDwf3CG8NfNOE0eiFotSuo+rBiq8tD9oY4Qzc6YJw99hl1wzpQvD7ef2M8QgnOGJfJw+EltQc+oX2yn907QB22WZcvlUpd143dqQu+8pCJZuGE4xCuPXJqqcs5sNpsI93Rmzym1k4Npk+oD1SH3/a3LOK/JpUBpWfqNySxWzCfNCUITuDG5dtuphrUJ1myeIE9bIsPiKrfqTai5WZxbhtNphYx6GEIHihyGFTI69lje/rxajdh0s0msZ0zYxyPLhYCb1CyHm9Qsd2H37Y3lugVwL9kNh8Ot8cha6fUNQ8nuXi5z9/ExsAO4zQrb/ev1yrCB7lGyQzgYDGuxq1toDN/JGvN+HyWNHKB7zEoK+PX11e12G431erGYzwmytAWU56fkMHY5JJnDRR2eZji3AwtIcrEV8Cojat/BdQ7XOwGV1e1hDjGGjXbdArm8uJZtCH5MbcctVX8A1WpqumJHwckAAAAASUVORK5CYII=");
            background-size: 28px 28px;
            animation: image-loading-rotate 1s linear infinite !important;
        }

        .imt-image-status span {
            color: var(--bg-2, #fff) !important;
            font-size: 14px !important;
            line-height: 14px !important;
            font-weight: 500 !important;
            font-family: "PingFang SC", Arial, sans-serif !important;
        }

        @keyframes image-loading-rotate {
            from {
                transform: rotate(360deg);
            }

            to {
                transform: rotate(0deg);
            }
        }
    </style>
    <style data-id="immersive-translate-default-injected-css">
        :root {
            --immersive-translate-theme-underline-borderColor: #72ece9;
            --immersive-translate-theme-nativeUnderline-borderColor: #72ece9;
            --immersive-translate-theme-nativeDashed-borderColor: #72ece9;
            --immersive-translate-theme-nativeDotted-borderColor: #72ece9;
            --immersive-translate-theme-highlight-backgroundColor: #ffff00;
            --immersive-translate-theme-dashed-borderColor: #59c1bd;
            --immersive-translate-theme-blockquote-borderColor: #cc3355;
            --immersive-translate-theme-thinDashed-borderColor: #ff374f;
            --immersive-translate-theme-dashedBorder-borderColor: #94a3b8;
            --immersive-translate-theme-dashedBorder-borderRadius: 0;
            --immersive-translate-theme-solidBorder-borderColor: #94a3b8;
            --immersive-translate-theme-solidBorder-borderRadius: 0;
            --immersive-translate-theme-dotted-borderColor: #94a3b8;
            --immersive-translate-theme-wavy-borderColor: #72ece9;
            --immersive-translate-theme-dividingLine-borderColor: #94a3b8;
            --immersive-translate-theme-grey-textColor: #2f4f4f;
            --immersive-translate-theme-marker-backgroundColor: #fbda41;
            --immersive-translate-theme-marker-backgroundColor-rgb: 251, 218, 65;
            --immersive-translate-theme-marker2-backgroundColor: #ffff00;
            --immersive-translate-theme-background-backgroundColor: #dbafaf;
            --immersive-translate-theme-background-backgroundColor-rgb: 219, 175, 175;
            --immersive-translate-theme-background-backgroundOpacity: 12;
            --immersive-translate-theme-opacity-opacity: 10;
        }

        [imt-state="dual"] .immersive-translate-target-translation-pre-whitespace {
            white-space: pre-wrap !important;
        }

        [imt-state="dual"] .immersive-translate-pdf-target-container {
            position: absolute;
            background-color: #fff;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica,
                sans-serif;
            top: 0;
            width: 600px;
            height: 100%;
            z-index: 2;
            line-height: 1.3;
            font-size: 16px;
        }

        [imt-state="dual"] .immersive-translate-target-wrapper[dir="rtl"] {
            text-align: right;
        }

        [imt-state="dual"] .immersive-translate-pdf-target-container .immersive-translate-target-wrapper {
            color: rgb(0, 0, 0);
            white-space: normal;
            position: absolute;
        }

        [imt-state="dual"] .immersive-translate-pdf-target-container .immersive-translate-target-wrapper font {
            color: inherit;
            white-space: inherit;
            position: unset;
        }

        [imt-state="translation"] .immersive-translate-target-wrapper &gt;

        br {
            display: none;
        }

        [imt-state="translation"] .immersive-translate-target-translation-block-wrapper {
            margin: 0 !important;
        }

        [imt-state="dual"] .immersive-translate-target-translation-block-wrapper {
            margin: 8px 0 !important;
            display: inline-block;
        }

        [imt-trans-position="before"] .immersive-translate-target-translation-block-wrapper {
            display: block;
        }

        [imt-trans-position="before"] .immersive-translate-target-translation-block-wrapper {
            margin-top: 0 !important;
        }

        [imt-state="dual"] .immersive-translate-target-translation-pdf-block-wrapper {
            margin: 0 !important;
            display: inline-block;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-grey-inner {
            color: var(--immersive-translate-theme-grey-textColor);
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-underline-inner {
            border-bottom: 1px solid var(--immersive-translate-theme-underline-borderColor) !important;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-nativeUnderline-inner {
            text-decoration: underline !important;
            text-decoration-color: var(--immersive-translate-theme-nativeUnderline-borderColor) !important;
        }

        [imt-state="dual"] .immersive-translate-target-translation-block-wrapper-theme-dashedBorder {
            border: 1px dashed var(--immersive-translate-theme-dashedBorder-borderColor) !important;
            border-radius: var(--immersive-translate-theme-dashedBorder-borderRadius) !important;
            padding: 6px;
            margin-top: 2px;
            display: inline-block;
        }

        [imt-state="dual"] .immersive-translate-target-translation-inline-wrapper-theme-dashedBorder {
            border: 1px dashed var(--immersive-translate-theme-dashedBorder-borderColor) !important;
            border-radius: var(--immersive-translate-theme-dashedBorder-borderRadius) !important;
            padding: 2px;
        }

        [imt-state="dual"] .immersive-translate-target-translation-block-wrapper-theme-solidBorder {
            border: 1px solid var(--immersive-translate-theme-solidBorder-borderColor) !important;
            border-radius: var(--immersive-translate-theme-solidBorder-borderRadius) !important;
            padding: 6px;
            margin-top: 2px;
            display: inline-block;
        }

        [imt-state="dual"] .immersive-translate-target-translation-inline-wrapper-theme-solidBorder {
            border: 1px solid var(--immersive-translate-theme-solidBorder-borderColor) !important;
            border-radius: var(--immersive-translate-theme-solidBorder-borderRadius) !important;
            padding: 2px;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-nativeDashed-inner {
            text-decoration: underline !important;
            text-decoration-color: var(--immersive-translate-theme-nativeDashed-borderColor) !important;
            text-decoration-style: dashed !important;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-thinDashed-inner {
            border-bottom: 1px dashed var(--immersive-translate-theme-thinDashed-borderColor) !important;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-dotted-inner {
            background-image: linear-gradient(to right,
                    var(--immersive-translate-theme-dotted-borderColor) 30%,
                    rgba(255, 255, 255, 0) 0%);
            background-position: bottom;
            background-size: 5px 1px;
            background-repeat: repeat-x;
            padding-bottom: 3px;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-nativeDotted-inner {
            text-decoration: underline !important;
            text-decoration-color: var(--immersive-translate-theme-nativeDotted-borderColor) !important;
            text-decoration-style: dotted !important;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-wavy-inner {
            text-decoration: underline !important;
            text-decoration-color: var(--immersive-translate-theme-wavy-borderColor) !important;
            text-decoration-style: wavy !important;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-dashed-inner {
            background: linear-gradient(to right,
                    var(--immersive-translate-theme-dashed-borderColor) 0%,
                    var(--immersive-translate-theme-dashed-borderColor) 50%,
                    transparent 50%,
                    transparent 100%) repeat-x left bottom;
            background-size: 8px 2px;
            padding-bottom: 2px;
        }

        [imt-state="dual"] .immersive-translate-target-translation-block-wrapper-theme-dividingLine::before {
            content: "";
            display: block;
            max-width: 80px;
            width: 10%;
            border-top: 1px dashed var(--immersive-translate-theme-dividingLine-borderColor);
            padding-top: 8px;
        }

        [imt-state="dual"] .immersive-translate-target-translation-inline-wrapper-theme-dividingLine::before {
            content: "";
            border-left: 1px dashed var(--immersive-translate-theme-dividingLine-borderColor);
            max-height: 16px;
            height: 16px;
            padding-left: 8px;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-highlight-inner {
            background: var(--immersive-translate-theme-highlight-backgroundColor);
            box-decoration-break: clone;
            -webkit-box-decoration-break: clone;
        }

        [imt-state="dual"] .immersive-translate-target-translation-block-wrapper-theme-marker {
            line-height: 1.5em;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-marker2-inner {
            font-weight: bold;
            text-shadow: 10px 0px 3px var(--immersive-translate-theme-marker2-backgroundColor),
                16px 3px 9px var(--immersive-translate-theme-marker2-backgroundColor),
                2px 0px 6px var(--immersive-translate-theme-marker2-backgroundColor),
                -12px 0px 12px var(--immersive-translate-theme-marker2-backgroundColor) !important;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-marker-inner {
            /* TODO: add more texture */
            background: linear-gradient(to right,
                    rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.1),
                    rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 3%,
                    rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 35%,
                    rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 70%,
                    rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.8) 95%,
                    rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.3));
            box-decoration-break: clone;
            -webkit-box-decoration-break: clone;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-weakening {
            opacity: 0.618 !important;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-italic {
            font-style: italic !important;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-bold {
            font-weight: bold !important;
        }

        [imt-state="dual"] .immersive-translate-target-translation-block-wrapper-theme-paper {
            margin: 8px 0;
            box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;
            padding: 16px 32px;
            display: inline-block;
        }

        [imt-state="dual"] .immersive-translate-target-translation-block-wrapper-theme-blockquote {
            border-left: 4px solid var(--immersive-translate-theme-blockquote-borderColor) !important;
            padding-left: 12px !important;
            margin-top: 4px;
            margin-bottom: 4px;
            padding-top: 4px;
            padding-bottom: 4px;
            display: inline-block;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-mask-inner {
            filter: blur(5px) !important;
            transition: filter 0.3s ease !important;
            border-radius: 10px;
            display: inline-block;
        }

        [data-immersive-translate-root-translation-theme="none"] .immersive-translate-target-translation-theme-mask-inner {
            filter: none !important;
        }

        [data-immersive-translate-root-translation-theme="mask"] .immersive-translate-target-inner {
            filter: blur(5px) !important;
            transition: filter 0.3s ease !important;
            border-radius: 10px;
            display: inline-block;
        }

        /* opacity theme start */

        [imt-state="dual"] .immersive-translate-target-translation-theme-opacity-inner {
            filter: opacity(calc(var(--immersive-translate-theme-opacity-opacity) * 1%)) !important;
            transition: filter 0.3s ease !important;
            border-radius: 10px;
            display: inline-block;
        }

        [data-immersive-translate-root-translation-theme="none"] .immersive-translate-target-translation-theme-opacity-inner {
            filter: none !important;
        }

        [data-immersive-translate-root-translation-theme="opacity"] .immersive-translate-target-inner,
        [imt-state="dual"] .immersive-translate-target-translation-theme-opacity-inner:hover {
            filter: opacity(calc(var(--immersive-translate-theme-opacity-opacity) * 1%)) !important;
            transition: filter 0.3s ease !important;
            border-radius: 10px;
            display: inline-block;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-opacity-inner:hover {
            filter: none !important;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-mask-inner:hover {
            filter: none !important;
        }

        [data-immersive-translate-root-translation-theme="opacity"] .immersive-translate-target-inner:hover {
            filter: none !important;
        }

        [data-immersive-translate-root-translation-theme="mask"] .immersive-translate-target-inner:hover {
            filter: none !important;
        }

        /* opacity theme end */

        /* background theme start */
        [imt-state="dual"] .immersive-translate-target-translation-block-wrapper-theme-background {
            margin: 8px 0;
            background: rgba(var(--immersive-translate-theme-background-backgroundColor-rgb),
                    calc(var(--immersive-translate-theme-background-backgroundOpacity) * 1%));
            border-radius: 4px;
            box-shadow: unset !important;
            padding: 12px;
            display: inline-block;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-background-inner {
            background: rgba(var(--immersive-translate-theme-background-backgroundColor-rgb),
                    calc(var(--immersive-translate-theme-background-backgroundOpacity) * 1%));
            padding-left: 6px;
            padding-right: 6px;
            box-decoration-break: clone;
            -webkit-box-decoration-break: clone;
        }

        [imt-state="dual"] .immersive-translate-target-translation-block-wrapper .immersive-translate-target-translation-theme-background-inner {
            background: unset;
            padding-left: unset;
            padding-right: unset;
        }

        /* background theme end */

        /* vertical css , please remain it in the last one. */
        .immersive-translate-target-translation-vertical-block-wrapper {
            margin: 0px 8px !important;
        }

        .immersive-translate-text {
            font-size: 15px !important;
        }

        .immersive-translate-error-toast {
            position: fixed;
            top: 5%;
            z-index: 99999999;
            left: 0;
            right: 0;
            margin: auto;
            max-width: 300px;
            padding: 16px;
            border-radius: 12px;
            background-color: rgba(0, 0, 0, 0.8);
            display: flex;
            flex-direction: row;
            justify-content: space-between;
        }

        @media all and (min-width: 750px) {
            .immersive-translate-error-toast {
                max-width: 400px;
            }
        }

        .immersive-translate-clickable-button {
            cursor: pointer;
        }

        .immersive-translate-help-button {
            cursor: pointer;
        }

        .immersive-translate-loading-text:before {
            content: "...";
        }

        /* dark mode for loading */

        @media only screen and (prefers-color-scheme: dark) {
            .immersive-translate-loading {
                border: 2px rgba(255, 255, 255, 0.25) solid !important;
                border-top: 2px rgba(255, 255, 255, 1) solid !important;
            }
        }

        .immersive-translate-error-wrapper {
            position: relative;
            display: inline-flex;
            padding: 6px;
            margin: 0 12px;
            white-space: nowrap;
            font-size: 0.9em;
        }

        [lang="zh-CN"] .immersive-translate-error-wrapper {
            font-size: 0.75em;
        }

        [lang="zh-TW"] .immersive-translate-error-wrapper {
            font-size: 0.75em;
        }

        .immersive-translate-tooltip {
            position: relative;
            display: inline-flex;
            /* little indicater to indicate it's hoverable */
        }

        .immersive-translate-tooltip-content {
            /* here's the magic */
            position: absolute;
            z-index: 100000000000;

            left: 50%;
            bottom: 0;
            transform: translate(-50%, 110%);
            line-height: 1;
            /* and add a small left margin */

            /* basic styles */
            width: max-content;
            max-width: 250px;
            word-wrap: break-word;
            white-space: pre-line;
            padding: 10px;
            border-radius: 10px;
            background: #000c;
            color: #fff;
            text-align: center;
            font-size: 14px;
            display: none;
            /* hide by default */
        }

        .immersive-translate-tooltip:hover .immersive-translate-tooltip-content {
            display: inline-block;
        }

        .immersive-translate-tooltip:hover+.immersive-translate-tooltip-content {
            display: inline-block;
        }

        .immersive-translate-tooltip-content-table {
            left: unset !important;
            bottom: unset !important;
            transform: translate(-10%, 50%) !important;
        }

        .immersive-translate-tooltip:hover:before {
            display: inline-block;
        }

        .immersive-translate-loading-spinner {
            vertical-align: middle !important;
            width: 10px !important;
            height: 10px !important;
            display: inline-block !important;
            margin: 0 4px !important;
            border: 2px rgba(221, 244, 255, 0.6) solid !important;
            border-top: 2px rgba(0, 0, 0, 0.375) solid !important;
            border-left: 2px rgba(0, 0, 0, 0.375) solid !important;
            border-radius: 50% !important;
            padding: 0 !important;
            -webkit-animation: immersive-translate-loading-animation 0.6s infinite linear !important;
            animation: immersive-translate-loading-animation 0.6s infinite linear !important;
        }

        @-webkit-keyframes immersive-translate-loading-animation {
            from {
                -webkit-transform: rotate(0deg);
            }

            to {
                -webkit-transform: rotate(359deg);
            }
        }

        @keyframes immersive-translate-loading-animation {
            from {
                transform: rotate(0deg);
            }

            to {
                transform: rotate(359deg);
            }
        }

        .imt-image-status {
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: var(--bg-2, #fff);
            font-size: 14px;
        }
    </style>
    <style data-id="immersive-translate-user-custom-style">
        :root {

            .immersive-translate-target-inner {
                font-family: inherit;
            }


            .immersive-translate-target-inner {
                font-family: inherit;
            }
        }
    </style>
    <style data-id="immersive-translate-dynamic-injected-css">
        .immersive-translate-target-wrapper[dir='rtl'] {
            text-align: right;
        }

        .immersive-translate-target-wrapper[dir='rtl'] [data-immersive-translate-class-bak*='block-wrapper'] {
            display: block;
        }

        .immersive-translate-target-wrapper {
            word-break: break-word;
            user-select: text;
        }

        [imt-state="translation"] .immersive-translate-target-wrapper[dir='rtl'] {
            display: inline-block;
        }

        [dir='rtl'] .immersive-translate-target-wrapper:not([dir]) {
            text-align: left;
        }

        [imt-state=dual] .immersive-translate-target-translation-block-wrapper-theme-dividingLine::before {
            display: block;
        }

        [imt-trans-position=before] .immersive-translate-target-translation-block-wrapper {
            display: block !important;
        }

        [imt-state][data-immersive-translate_rtl] .immersive-translate-target-wrapper {
            display: block !important;
        }
    </style>
</head>

<body epub:type="bodymatter" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
    <section aria-labelledby="c03_1" epub:type="chapter" role="doc-chapter"
        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
        <header data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
            <h1 id="c03_1" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                data-immersive-translate-paragraph="1"><span aria-label="59" epub:type="pagebreak" id="Page_59"
                    role="doc-pagebreak"
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"></span><span id="c03"
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"></span><span
                    class="chapterNumber"
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">3</span><br /><span
                    class="chapterTitle" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Classes,
                    Records, Structs, and Tuples</span>
                <font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">3 类、记录、结构体和元组</font>
                    </font>
                </font>
            </h1>
        </header>
        <section aria-label="chapter opening" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
            <span id="c03-sec-0001" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"></span>
            <aside data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                <div class="top hr" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                    <hr />
                </div>
                <section class="feature3" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                    <h3 data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                        data-immersive-translate-paragraph="1">WHAT'S IN THIS CHAPTER?<font
                            class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">本章内容</font>
                            </font>
                        </font>
                    </h3>
                    <ul class="check2" id="c03-list-0001"
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                        <li id="c03-li-0001" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                            data-immersive-translate-paragraph="1">Pass by value and by reference<font
                                class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">按值传递和按引用传递</font>
                                </font>
                            </font>
                        </li>
                        <li id="c03-li-0002" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                            data-immersive-translate-paragraph="1">Classes and members<font
                                class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                                <font class="notranslate" data-immersive-translate-translation-element-mark="1">  
                                </font>
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">类和成员</font>
                                </font>
                            </font>
                        </li>
                        <li id="c03-li-0003" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                            data-immersive-translate-paragraph="1">Records<font
                                class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                                <font class="notranslate" data-immersive-translate-translation-element-mark="1">  
                                </font>
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">记录</font>
                                </font>
                            </font>
                        </li>
                        <li id="c03-li-0004" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                            data-immersive-translate-paragraph="1">Structs<font
                                class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                                <font class="notranslate" data-immersive-translate-translation-element-mark="1">  
                                </font>
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">结构体</font>
                                </font>
                            </font>
                        </li>
                        <li id="c03-li-0005" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                            data-immersive-translate-paragraph="1">Enum types<font
                                class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                                <font class="notranslate" data-immersive-translate-translation-element-mark="1">  
                                </font>
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">枚举类型</font>
                                </font>
                            </font>
                        </li>
                        <li id="c03-li-0006" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                            data-immersive-translate-paragraph="1">ref, in, and out keywords<font
                                class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">ref、in 和 out 关键字</font>
                                </font>
                            </font>
                        </li>
                        <li id="c03-li-0007" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                            data-immersive-translate-paragraph="1">Tuples<font
                                class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                                <font class="notranslate" data-immersive-translate-translation-element-mark="1">  
                                </font>
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">元组</font>
                                </font>
                            </font>
                        </li>
                        <li id="c03-li-0008" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                            data-immersive-translate-paragraph="1">Deconstruction<font
                                class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                                <font class="notranslate" data-immersive-translate-translation-element-mark="1">  
                                </font>
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">解构</font>
                                </font>
                            </font>
                        </li>
                        <li id="c03-li-0009" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                            data-immersive-translate-paragraph="1">Pattern Matching<font
                                class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                                <font class="notranslate" data-immersive-translate-translation-element-mark="1">  
                                </font>
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">模式匹配</font>
                                </font>
                            </font>
                        </li>
                        <li id="c03-li-0010" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                            data-immersive-translate-paragraph="1">Partial Types<font
                                class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                                <font class="notranslate" data-immersive-translate-translation-element-mark="1">  
                                </font>
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">部分类型</font>
                                </font>
                            </font>
                        </li>
                    </ul>
                    <div class="bottom hr" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                        <hr />
                    </div>
                </section>
            </aside>
            <aside data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                <div class="top hr" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                    <hr />
                </div>
                <section class="feature3" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"><span
                        id="c03-fea-0001" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"></span>
                    <h3 id="head-2-20" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                        data-immersive-translate-paragraph="1">CODE DOWNLOADS FOR THIS CHAPTER<font
                            class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">本章代码下载</font>
                            </font>
                        </font>
                    </h3>
                    <section data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"><span
                            id="c03-sec-0003"
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"></span>
                        <p id="c03-para-0003" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                            data-immersive-translate-paragraph="1">The source code for this chapter is available on the
                            book page at <code
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"><a href="http://www.wiley.com">www.wiley.com</a></code>.
                            Click the Downloads link. The code can also be found at <code
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"><a href="https://github.com/ProfessionalCSharp/ProfessionalCSharp2021">https://github.com/ProfessionalCSharp/ProfessionalCSharp2021</a></code>
                            in the directory <code
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">1_CS/Types</code>.
                            <font class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">本章的源代码可在第 <code
                                            xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"><a href="http://www.wiley.com">www.wiley.com</a></code>
                                        页的书籍页面上找到。点击下载链接。代码也可以在第 <code xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"><a href="https://github.com/ProfessionalCSharp/ProfessionalCSharp2021">https://github.com/ProfessionalCSharp/ProfessionalCSharp2021</a></code>
                                        处的 <code xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">1_CS/Types</code>
                                        目录中找到。</font>
                                </font>
                            </font>
                        </p>
                        <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                            data-immersive-translate-paragraph="1">The code for this chapter is divided into the
                            following major examples:<font class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">本章的代码分为以下主要示例：</font>
                                </font>
                            </font>
                        </p>
                        <ul class="check" id="c03-list-0002"
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                            <li id="c03-li-0011" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                                data-immersive-translate-paragraph="1">TypesSample</li>
                            <li id="c03-li-0012" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                                data-immersive-translate-paragraph="1">ClassesSample</li>
                            <li id="c03-li-0013" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                                data-immersive-translate-paragraph="1">MathSample</li>
                            <li id="c03-li-0014" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                                data-immersive-translate-paragraph="1">MethodSample</li>
                            <li id="c03-li-0015" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                                data-immersive-translate-paragraph="1"><span aria-label="60" epub:type="pagebreak"
                                    id="Page_60" role="doc-pagebreak"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"></span>ExtensionMethods
                            </li>
                            <li id="c03-li-0016" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                                data-immersive-translate-paragraph="1">RecordsSample</li>
                            <li id="c03-li-0017" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                                data-immersive-translate-paragraph="1">StructsSample</li>
                            <li id="c03-li-0018" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                                data-immersive-translate-paragraph="1">EnumSample</li>
                            <li id="c03-li-0019" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                                data-immersive-translate-paragraph="1">RefInOutSample</li>
                            <li id="c03-li-0020" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                                data-immersive-translate-paragraph="1">TuplesSample</li>
                            <li id="c03-li-0021" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                                data-immersive-translate-paragraph="1">PatternMatchingSample<font
                                    class="notranslate immersive-translate-target-wrapper"
                                    data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                                    <font class="notranslate" data-immersive-translate-translation-element-mark="1">  
                                    </font>
                                    <font
                                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                                        data-immersive-translate-translation-element-mark="1">
                                        <font
                                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                            data-immersive-translate-translation-element-mark="1">模式匹配样本 </font>
                                    </font>
                                </font>
                            </li>
                        </ul>
                        <p id="c03-para-0005" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                            data-immersive-translate-paragraph="1">All the projects have nullable reference types
                            enabled.<font class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">所有项目都启用了可空引用类型。 </font>
                                </font>
                            </font>
                        </p>
                    </section>
                    <div class="bottom hr" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                        <hr />
                    </div>
                </section>
            </aside>
        </section>
        <section aria-labelledby="head-2-21" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
            <span id="c03-sec-0004" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"></span>
            <h2 id="head-2-21" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                data-immersive-translate-paragraph="1">CREATING AND USING TYPES<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">创建和使用类型</font>
                    </font>
                </font>
            </h2>
            <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                data-immersive-translate-paragraph="1">So far, you've been introduced to some of the building blocks of
                the C# language, including variables, data types, and program flow statements, and you have seen a few
                short but complete programs that contain little more than top-level statements and a few methods. What
                you haven't seen yet is how to put all these elements together to form a longer program. The key to this
                lies in working with the types of .NET—classes, records, structs, and tuples, which are the subject of
                this chapter.<font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">到目前为止，你已经接触了
                            C#语言的一些基本构建块，包括变量、数据类型和程序流程语句，并且见过一些简短但完整的程序，这些程序除了顶层语句和一些方法外几乎不包含其他内容。但你还没有看到如何将这些元素组合起来形成更长的程序。实现这一点的关键在于处理.NET
                            的类型——类、记录、结构体和元组，这些正是本章的主题。</font>
                    </font>
                </font>
            </p>
            <aside data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                <div class="top hr" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                    <hr />
                </div>
                <section class="feature2" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                    <p id="c03-para-0007" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                        data-immersive-translate-paragraph="1"><b
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">NOTE</b> <i
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">This chapter
                            introduces the basic syntax associated with types. However, I assume that you are already
                            familiar with the underlying principles of using classes—for example, that you know what a
                            constructor or a property is. This chapter is largely confined to applying those principles
                            in C# code.</i>
                        <font class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">注意
                                    本章介绍了与类型相关的基本语法。然而，我假设你已经熟悉使用类的基本原理——例如，你知道什么是构造函数或属性。本章主要局限于在 C#代码中应用这些原理。</font>
                            </font>
                        </font>
                    </p>
                    <div class="bottom hr" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                        <hr />
                    </div>
                </section>
            </aside>
        </section>
        <section aria-labelledby="head-2-22" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
            <span id="c03-sec-0006" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"></span>
            <h2 id="head-2-22" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                data-immersive-translate-paragraph="1">PASS BY VALUE OR BY REFERENCE<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">按值传递或按引用传递</font>
                    </font>
                </font>
            </h2>
            <p id="c03-para-0008" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                data-immersive-translate-paragraph="1">The types available with .NET can be categorized as pass by
                reference or pass by value.<font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">.NET 提供的类型可以分为按值传递或按引用传递。</font>
                    </font>
                </font>
            </p>
            <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                data-immersive-translate-paragraph="1"><i
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Pass by value</i> means that
                if you assign a variable to another variable, the value is copied. If you change the new value, the
                original value does not change. The content of the variable is copied on assignment. With the following
                code sample, a struct is created that contains a public field <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">A</code>. <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">x1</code> and <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">x2</code> are variables of
                this type. After creating <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">x1</code>, <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">x2</code> is assigned to
                <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">x1</code>. Because struct
                is a value type, the data from <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">x2</code> is copied to <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">x1</code>. Changing the value
                of the public field with <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">x2</code> doesn't influence
                <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">x1</code> at all. The <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">x1</code> variable still
                lists the original value; the value was copied (code file <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">TypesSample/Program.cs</code>):
                <font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">
                            按值传递意味着如果你将一个变量赋值给另一个变量，值会被复制。如果你改变新值，原始值不会改变。变量内容在赋值时被复制。通过以下代码示例，创建了一个包含公共字段 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">A</code> 的结构体。
                            <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">x1</code> 和 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">x2</code>
                            是这种类型的变量。创建 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">x1</code> 后，
                            <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">x2</code> 被赋值给
                            <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">x1</code>
                            。因为结构体是值类型， <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">x2</code> 的数据被复制到
                            <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">x1</code> 。使用
                            <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">x2</code>
                            改变公共字段的值对 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">x1</code> 毫无影响。
                            <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">x1</code>
                            变量仍然列出了原始值；值被复制了（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">TypesSample/Program.cs</code>
                            ）：</font>
                    </font>
                </font>
            </p>
            <pre id="c03-code-0001"><code>AStruct x1 = new() { A = 1 };</code>
<code>AStruct x2 = x1;</code>
<code>x2.A = 2;</code>
<code>Console.WriteLine($"original didn't change with a struct: {x1.A}");</code>
<code> </code>
<code>//…</code>
<code> </code>
<code>public struct AStruct</code>
<code>{</code>
<code>  public int A;</code>
<code>}</code></pre>
            <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"><span aria-label="61"
                    epub:type="pagebreak" id="Page_61" role="doc-pagebreak"
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"></span></p>
            <aside data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                <div class="top hr" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                    <hr />
                </div>
                <section class="feature2" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                    <p id="c03-para-0011" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                        data-immersive-translate-paragraph="1"><b
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">NOTE</b> <i
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Usually, you should
                            not create public fields; instead, you should use other members such as properties. To give
                            you an easy view of major differences with the .NET types, public fields are used.</i>
                        <font class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">注意
                                    通常你不应该创建公共字段；相反，你应该使用其他成员，如属性。为了让你更容易地了解与 .NET 类型的主要区别，这里使用了公共字段。</font>
                            </font>
                        </font>
                    </p>
                    <div class="bottom hr" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                        <hr />
                    </div>
                </section>
            </aside>
            <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                data-immersive-translate-paragraph="1">This behavior is very different with classes. If you change the
                public member of <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">A</code>
                within the <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">y2</code>
                variable, using the reference <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">y1</code>, the new value
                assigned from <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">y2</code> can
                be read. <i data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Pass by reference</i>
                means that the variables <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">y1</code> and <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">y2</code> after assignment
                reference the same object (code file <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">TypesSample/Program.cs</code>):
                <font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">这种行为与类非常不同。如果你在 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">y2</code> 变量中使用引用
                            <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">y1</code> 改变
                            <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">A</code> 的公共成员，从
                            <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">y2</code>
                            赋值的新值可以被读取。按引用传递意味着赋值后的变量 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">y1</code> 和 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">y2</code>
                            引用同一个对象（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">TypesSample/Program.cs</code>
                            ）：</font>
                    </font>
                </font>
            </p>
            <pre id="c03-code-0002"><code>AClass y1 = new() { A = 1 };</code>
<code>AClass y2 = y1;</code>
<code>y2.A = 2;</code>
<code>Console.WriteLine($"original changed with a class: {y1.A}");</code>
<code> </code>
<code>//…</code>
<code> </code>
<code>public class AClass</code>
<code>{</code>
<code>  public int A;</code>
<code>}</code></pre>
            <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                data-immersive-translate-paragraph="1">Another difference between the types that's worth mentioning is
                where the data is stored. With a reference type like the class, the memory where the data is stored is
                the managed heap. The variable itself is on the stack and references the content on the heap. A value
                type like the struct is usually stored on the stack. This is important with regard to garbage
                collection. The garbage collector needs to clean up objects in the heap if they are no longer used.
                Memory on the stack is automatically released at the end of the method, when the variable is outside of
                its scope.<font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">
                            另一个值得提及的类型差异在于数据的存储位置。对于类这样的引用类型，数据存储的内存是托管堆。变量本身位于栈上，并引用堆上的内容。而结构体这样的值类型通常存储在栈上。这在垃圾回收方面很重要。垃圾回收器需要清理不再使用的堆中的对象。栈上的内存会在方法结束时自动释放，当变量超出其作用域时。
                        </font>
                    </font>
                </font>
            </p>
            <aside data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                <div class="top hr" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                    <hr />
                </div>
                <section class="feature2" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                    <p id="c03-para-0014" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                        data-immersive-translate-paragraph="1"><b
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">NOTE</b> <i
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">The value of a struct
                            typically is stored on the stack. However, with boxing—that is, when a struct is passed as
                            an object or object methods are invoked with the struct—the data of the struct is moved to
                            the heap. Boxing moves a struct to the heap; unboxing moves it back. C# also has a type
                            where the data can never be stored on the heap; this is the ref struct. With a ref struct,
                            you get a compilation error if operations are used that would move the data to the heap.
                            This is discussed in <a href="c13.xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Chapter 13</a>,
                            “Managed and Unmanaged Memory.”</i>
                        <font class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">注意
                                    结构体的值通常存储在栈上。但是，在装箱操作时——即当结构体作为对象传递或使用结构体调用对象方法时——结构体的数据会被移至堆上。装箱操作将结构体移至堆，而拆箱操作则将其移回。C#
                                    还有一种类型，其数据永远不会存储在堆上；这就是 ref struct。对于 ref struct，如果使用会将其数据移至堆的操作，编译器会报错。这将在第 13
                                    章“托管和非托管内存”中讨论。</font>
                            </font>
                        </font>
                    </p>
                    <div class="bottom hr" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                        <hr />
                    </div>
                </section>
            </aside>
            <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                data-immersive-translate-paragraph="1">Let's take a look at the record type that's new with C# 9. Using
                the <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">record</code> keyword,
                a record is created. Similar to our previous example when the class keyword was used to create a
                reference type, with the record keyword a reference type is created as well. A C# 9 record is a class.
                This C# keyword is just “syntax sugar”: the compiler creates a class behind the scenes. There's no
                functionality needed from the runtime; you could create the same generated code without using this
                keyword, you just would need a lot more code lines (code file <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">TypesSample/Program.cs</code>):
                <font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">让我们看看 C# 9 中新引入的记录类型。使用 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">record</code>
                            关键字可以创建记录。类似于我们之前使用 class 关键字创建引用类型的例子，使用 record 关键字同样创建引用类型。C# 9 的记录是一个类。这个
                            C#关键字只是“语法糖”：编译器在后台创建了一个类。不需要运行时提供任何功能；即使不使用这个关键字，你也可以创建相同的生成代码，只是需要更多的代码行（代码文件 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">TypesSample/Program.cs</code>
                            ）：</font>
                    </font>
                </font>
            </p>
            <pre id="c03-code-0003"><code>ARecord z1 = new() { A = 1 };</code>
<code>ARecord z2 = z1;</code>
<code>z2.A = 2;</code>
<code>Console.WriteLine($"original changed with a record: {z1.A}");</code>
<code> </code>
<code>//…</code>
<code> <span aria-label="62" epub:type="pagebreak" id="Page_62" role="doc-pagebreak"></span></code>
<code>public record ARecord</code>
<code>{</code>
<code>  public int A;</code>
<code>}</code></pre>
            <aside data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                <div class="top hr" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                    <hr />
                </div>
                <section class="feature2" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                    <p id="c03-para-0017" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                        data-immersive-translate-paragraph="1"><b
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">NOTE</b> <i
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">A record supports
                            value semantics like a struct, but it's implemented as a class. This comes from the fact
                            that a record offers easy creation of immutable types and has members that cannot be changed
                            after initialization. Read more about records later in this chapter.</i>
                        <font class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">
                                    注意：记录支持与结构体类似的值语义，但它被实现为类。这源于记录易于创建不可变类型，并且其成员在初始化后无法更改。在本章后面了解更多关于记录的内容。</font>
                            </font>
                        </font>
                    </p>
                    <div class="bottom hr" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                        <hr />
                    </div>
                </section>
            </aside>
            <p id="c03-para-0018" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                data-immersive-translate-paragraph="1">What about tuples? With tuples, you combine multiple types into
                one type without needing to create a class, struct, or record. How does this type behave?<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">
                            元组呢？使用元组，你可以将多种类型组合成一个类型，而无需创建类、结构或记录。这种类型的行为如何？</font>
                    </font>
                </font>
            </p>
            <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                data-immersive-translate-paragraph="1">In the following code snippet, <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">t1</code> is a tuple that
                combines a number and a string. The tuple <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">t1</code> is then assigned to
                the variable <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">t2</code>. If
                you change the value of <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">t2</code>, <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">t1</code> is not changed. The
                reason is that behind the scenes, using the C# syntax for tuples, the compiler makes use of the <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ValueTuple</code> type—which
                is a struct—and copies values (code file <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">TypesSample/Program.cs</code>):
                <font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">在以下代码片段中， <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">t1</code>
                            是一个组合了数字和字符串的元组。然后元组 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">t1</code> 被赋值给变量
                            <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">t2</code> 。如果你改变
                            <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">t2</code> 的值，
                            <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">t1</code>
                            不会改变。原因是，在幕后，使用 C# 的元组语法，编译器利用了 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ValueTuple</code>
                            类型——这是一个结构体——并复制了值（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">TypesSample/Program.cs</code>
                            ）：</font>
                    </font>
                </font>
            </p>
            <pre id="c03-code-0004"><code>var t1 = (Number: 1, String: "a");</code>
<code>var t2 = t1;</code>
<code>t2.Number = 2;</code>
<code>t2.String = "b";</code>
<code>Console.WriteLine($"original didn't change with a tuple: {t1.Number} {t1.String}");</code></pre>
            <aside data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                <div class="top hr" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                    <hr />
                </div>
                <section class="feature2" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                    <p id="c03-para-0021" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                        data-immersive-translate-paragraph="1"><b
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">NOTE</b> <i
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">.NET offers the
                        </i><code
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Tuple&lt;T&gt;</code><i
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"> type as well as the
                        </i><code
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ValueTuple&lt;T&gt;</code><i
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"> type. </i><code
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Tuple&lt;T&gt;</code><i
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"> is the older one
                            that is implemented as a class. With the built-in C# syntax for tuples, the </i><code
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ValueTuple</code><i
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"> is used. This
                        </i><code
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ValueTuple</code><i
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"> contains public
                            fields for all the members of the tuple. The old </i><code
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Tuple&lt;T&gt;</code><i
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"> type contains public
                            read-only properties where the values cannot be changed. Today, there's no need to use the
                        </i><code
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Tuple&lt;T&gt;</code><i
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"> type in your
                            applications because there's better built-in support for </i><code
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ValueTuple&lt;T&gt;</code><i
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">.</i>
                        <font class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">注意 .NET 提供了 <code
                                        xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Tuple&lt;T&gt;</code>
                                    类型以及 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ValueTuple&lt;T&gt;</code>
                                    类型。 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Tuple&lt;T&gt;</code>
                                    是较旧的类型，它被实现为一个类。使用内置的 C# 元组语法时，会使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ValueTuple</code>
                                    类型。这个 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ValueTuple</code>
                                    类型包含所有元组成员的公共字段。旧的 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Tuple&lt;T&gt;</code>
                                    类型包含公共只读属性，其中值不能被更改。如今，在您的应用程序中不再需要使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Tuple&lt;T&gt;</code>
                                    类型，因为 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ValueTuple&lt;T&gt;</code>
                                    类型有更好的内置支持。</font>
                            </font>
                        </font>
                    </p>
                    <div class="bottom hr" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                        <hr />
                    </div>
                </section>
            </aside>
            <p id="c03-para-0022" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                data-immersive-translate-paragraph="1">Now that you've been introduced to the main differences between
                classes, structs, records, and tuples, let's dive deeper into the classes, including the members of
                classes. Most of the members of classes you learn about also apply to records and structs. I discuss the
                differences between records and structs after I introduce the members of classes.<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">
                            现在你已经了解了类、结构体、记录和元组之间的主要区别，让我们深入探讨类，包括类的成员。你将要学习的类的大多数成员同样适用于记录和结构体。在介绍完类的成员后，我会讨论记录和结构体之间的区别。
                        </font>
                    </font>
                </font>
            </p>
        </section>
        <section aria-labelledby="head-2-23" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
            <span id="c03-sec-0011" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"></span>
            <h2 id="head-2-23" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                data-immersive-translate-paragraph="1">CLASSES<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                    <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">类</font>
                    </font>
                </font>
            </h2>
            <p id="c03-para-0023" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                data-immersive-translate-paragraph="1">A class contains members, which can be static or instance. A <i
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">static member</i> belongs to
                the class; an <i data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">instance
                    member</i> belongs to the object. With static fields, the value of the field is the same for every
                object. With instance fields, every object can have a different value. Static members have the <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">static</code> modifier
                attached.<font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">
                            一个类包含成员，这些成员可以是静态的或实例的。静态成员属于类；实例成员属于对象。使用静态字段时，字段的值对于每个对象都是相同的。使用实例字段时，每个对象可以有不同的值。静态成员带有
                            <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">static</code>
                            修饰符。</font>
                    </font>
                </font>
            </p>
            <p id="c03-para-0024" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                data-immersive-translate-paragraph="1">The kinds of members are explained in the following table:<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">成员的种类在下面的表格中解释：</font>
                    </font>
                </font>
            </p>
            <table border="1" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                <thead data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                    <tr data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                        <th class="left bgcolor2" scope="col">MEMBER</th>
                        <th class="left bgcolor2" scope="col">DESCRIPTION</th>
                    </tr>
                </thead>
                <tbody data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                    <tr data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                        <td class="left bgcolor3" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                            data-immersive-translate-paragraph="1">Fields<font
                                class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                                <font class="notranslate" data-immersive-translate-translation-element-mark="1">  
                                </font>
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">字段</font>
                                </font>
                            </font>
                        </td>
                        <td class="left bgcolor3" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                            data-immersive-translate-paragraph="1">A field is a data member of a class. It is a variable
                            of a type that is a member of a class.<font
                                class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">字段是一个类的数据成员。它是一个类型为类成员的变量。
                                    </font>
                                </font>
                            </font>
                        </td>
                    </tr>
                    <tr data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                        <td class="left bgcolor3" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                            data-immersive-translate-paragraph="1">Constants<font
                                class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                                <font class="notranslate" data-immersive-translate-translation-element-mark="1">  
                                </font>
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">常量</font>
                                </font>
                            </font>
                        </td>
                        <td class="left bgcolor3" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                            data-immersive-translate-paragraph="1">Constants are associated with the class (although
                            they do not have the <code
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">static</code>
                            modifier). The compiler replaces constants everywhere they are used with the real value.
                            <font class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">常量与类相关联（尽管它们没有 <code
                                            xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">static</code>
                                        修饰符）。编译器会将它们在代码中使用的常量替换为实际值。</font>
                                </font>
                            </font>
                        </td>
                    </tr>
                    <tr data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                        <td class="left bgcolor3" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                            data-immersive-translate-paragraph="1">Methods<font
                                class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                                <font class="notranslate" data-immersive-translate-translation-element-mark="1">  
                                </font>
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">方法</font>
                                </font>
                            </font>
                        </td>
                        <td class="left bgcolor3" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                            data-immersive-translate-paragraph="1">Methods are functions associated with a particular
                            class.<font class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">方法是特定类关联的函数。</font>
                                </font>
                            </font>
                        </td>
                    </tr>
                    <tr data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                        <td class="left bgcolor3" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                            data-immersive-translate-paragraph="1">Properties<font
                                class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                                <font class="notranslate" data-immersive-translate-translation-element-mark="1">  
                                </font>
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">属性</font>
                                </font>
                            </font>
                        </td>
                        <td class="left bgcolor3" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                            data-immersive-translate-paragraph="1">Properties are sets of functions that can be accessed
                            from the client in a similar way to the public fields of the class. C# provides a specific
                            syntax for implementing read and write properties on your classes, so you don't have to use
                            method names that are prefixed with the words <code
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Get</code> or
                            <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Set</code>.
                            Because there's a dedicated syntax for properties that is distinct from that for normal
                            functions, the illusion of objects as actual things is strengthened for client code.<font
                                class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">
                                        属性是一组可以从客户端以类似于类公共字段的方式访问的函数。C# 提供了一种特定的语法来在您的类中实现读写属性，因此您不必使用以 <code
                                            xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Get</code>
                                        或 <code xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Set</code>
                                        开头的方法名。由于属性有专门的语法，且与普通函数的语法不同，这加强了客户端代码中对象作为真实事物的错觉。</font>
                                </font>
                            </font>
                        </td>
                    </tr>
                    <tr data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                        <td class="left bgcolor3" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                            data-immersive-translate-paragraph="1">Constructors<font
                                class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                                <font class="notranslate" data-immersive-translate-translation-element-mark="1">  
                                </font>
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">构造函数</font>
                                </font>
                            </font>
                        </td>
                        <td class="left bgcolor3" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                            data-immersive-translate-paragraph="1">Constructors are special functions that are called
                            automatically when an object is instantiated. They must have the same name as the class to
                            which they belong and cannot have a return type. Constructors are useful for initialization.
                            <font class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">
                                        构造函数是特殊函数，在对象实例化时会自动调用。它们必须与其所属的类同名，且不能有返回类型。构造函数用于初始化。</font>
                                </font>
                            </font>
                        </td>
                    </tr>
                    <tr data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                        <td class="left bgcolor3" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                            data-immersive-translate-paragraph="1">Indexers<font
                                class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                                <font class="notranslate" data-immersive-translate-translation-element-mark="1">  
                                </font>
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">索引器</font>
                                </font>
                            </font>
                        </td>
                        <td class="left bgcolor3" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                            data-immersive-translate-paragraph="1">Indexers allow your object to be accessed the same
                            way as arrays. Indexers are explained in <a href="c05.xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Chapter 5</a>,
                            “Operators and Casts.”<font class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">
                                        索引器允许你的对象像数组一样被访问。索引器在第五章“运算符和类型转换”中解释。</font>
                                </font>
                            </font>
                        </td>
                    </tr>
                    <tr data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                        <td class="left bgcolor3" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                            data-immersive-translate-paragraph="1">Operators<font
                                class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                                <font class="notranslate" data-immersive-translate-translation-element-mark="1">  
                                </font>
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">运算符</font>
                                </font>
                            </font>
                        </td>
                        <td class="left bgcolor3" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                            data-immersive-translate-paragraph="1">Operators, at their simplest, are actions such as +
                            or –. When you add two integers, you are, strictly speaking, using the + operator for
                            integers. C# also allows you to specify how existing operators will work with your own
                            classes (operator overloading). <a href="c05.xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Chapter 5</a>
                            looks at operators in detail.<font class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">
                                        运算符，最简单来说，是像+或-这样的操作。当你对两个整数进行加法时，严格来说，你是在使用整数的+运算符。C#还允许你指定现有运算符如何与你的自定义类一起工作（运算符重载）。第
                                        5 章详细介绍了运算符。</font>
                                </font>
                            </font>
                        </td>
                    </tr>
                    <tr data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                        <td class="left bgcolor3" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                            data-immersive-translate-paragraph="1">Events<font
                                class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                                <font class="notranslate" data-immersive-translate-translation-element-mark="1">  
                                </font>
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">事件</font>
                                </font>
                            </font>
                        </td>
                        <td class="left bgcolor3" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                            data-immersive-translate-paragraph="1">Events are class members that allow an object to
                            notify a subscriber whenever something noteworthy happens, such as a field or property of
                            the class changing, or some form of user interaction occurring. The client can have code,
                            known as an <i data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">event
                                handler</i>, that reacts to the event. <a href="c07.xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Chapter 7</a>,
                            “Delegates, Lambdas, and Events,” looks at events in detail.<font
                                class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">
                                        事件是类的成员，允许对象在发生重要事件时通知订阅者，例如类的字段或属性发生变化，或发生某种用户交互。客户端可以有一个名为事件处理程序的代码，该代码会对事件做出反应。第
                                        7 章“委托、Lambda 表达式和事件”详细介绍了事件。</font>
                                </font>
                            </font>
                        </td>
                    </tr>
                    <tr data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                        <td class="left bgcolor3" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                            data-immersive-translate-paragraph="1">Destructors<font
                                class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                                <font class="notranslate" data-immersive-translate-translation-element-mark="1">  
                                </font>
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">析构函数</font>
                                </font>
                            </font>
                        </td>
                        <td class="left bgcolor3" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                            data-immersive-translate-paragraph="1">The syntax of destructors or finalizers is similar to
                            the syntax for constructors, but they are called when the CLR detects that an object is no
                            longer needed. They have the same name as the class, preceded by a tilde (~). It is
                            impossible to predict precisely when a finalizer will be called. Finalizers are discussed in
                            <a href="c13.xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Chapter 13</a>.
                            <font class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">
                                        析构函数或终结器的语法与构造函数的语法相似，但它们会在 CLR
                                        检测到对象不再需要时被调用。它们的名称与类相同，但前面有一个波浪号(~)。无法精确预测终结器何时被调用。终结器在第 13 章中讨论。</font>
                                </font>
                            </font>
                        </td>
                    </tr>
                    <tr data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                        <td class="left bgcolor3" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                            data-immersive-translate-paragraph="1">Deconstructors<font
                                class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                                <font class="notranslate" data-immersive-translate-translation-element-mark="1">  
                                </font>
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">析构函数</font>
                                </font>
                            </font>
                        </td>
                        <td class="left bgcolor3" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                            data-immersive-translate-paragraph="1">Deconstructors allow you to deconstruct the object
                            into a tuple or different variables. Deconstruction is explained later in the section
                            “Deconstruction.”<font class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">
                                        解构器允许你将对象解构为一个元组或不同的变量。解构在“解构”一节中另有说明。</font>
                                </font>
                            </font>
                        </td>
                    </tr>
                    <tr data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                        <td class="left bgcolor3" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                            data-immersive-translate-paragraph="1">Types<font
                                class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                                <font class="notranslate" data-immersive-translate-translation-element-mark="1">  
                                </font>
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">类型</font>
                                </font>
                            </font>
                        </td>
                        <td class="left bgcolor3" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                            data-immersive-translate-paragraph="1">Classes can contain inner classes. This is
                            interesting if the inner type is used only in conjunction with the outer type.<font
                                class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">
                                        类可以包含内部类。如果内部类型仅与外部类型一起使用，这很有趣。</font>
                                </font>
                            </font><span aria-label="63" epub:type="pagebreak" id="Page_63" role="doc-pagebreak"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"></span></td>
                    </tr>
                </tbody>
            </table>
            <p id="c03-para-0026" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                data-immersive-translate-paragraph="1">Let's get into the details of class members.<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">让我们深入了解类的成员。</font>
                    </font>
                </font>
            </p>
            <section data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"><span id="c03-sec-0012"
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"></span>
                <h3 id="head-3-87" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">Fields <font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                        <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">字段</font>
                        </font>
                    </font>
                </h3>
                <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1"><i
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Fields</i> are any
                    variables associated with the class. In the class <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Person</code>, the fields
                    _
                    <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">firstName</code> and
                    <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">_lastName</code> of
                    type <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">string</code> are
                    defined. It's a good practice to declare fields with the <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">private</code> access
                    modifier, which only allows accessing fields from within the class (code file <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ClassesSample/Person.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">字段是与类相关的任何变量。在类 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Person</code>
                                中，定义了类型为 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">string</code>
                                的字段 _ <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">firstName</code>
                                和 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">_lastName</code>
                                。使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">private</code>
                                访问修饰符声明字段是一种良好实践，它只允许从类内部访问字段（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ClassesSample/Person.cs</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c03-code-0005"><code>public class Person</code>
<code>{<span aria-label="64" epub:type="pagebreak" id="Page_64" role="doc-pagebreak"></span></code>
<code>  //…</code>
<code>  <b>private string _firstName;</b></code>
<code>  <b>private string _lastName;</b></code>
<code>  //…</code>
<code>}</code></pre>
                <aside data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                    <div class="top hr" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                        <hr />
                    </div>
                    <section class="feature2" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                        <p id="c03-para-0029" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                            data-immersive-translate-paragraph="1"><b
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">NOTE</b> <i
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Members declared
                                with the </i> <code
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">private</code> <i
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"> access modifier
                                only allow members of the class to invoke this member. To allow access from everywhere,
                                use the </i> <code
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">public</code> <i
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"> access modifier.
                                Besides these two modifiers, C# also defines </i> <code
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">internal</code>
                            <i data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"> and </i> <code
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">protected</code>
                            <i data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"> to be used with
                                access modifiers. All the different access modifiers are explained in detail in <a
                                    href="c04.xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Chapter
                                    4</a>, “Object-Oriented Programming in C#.”</i>
                            <font class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">注意：使用 <code
                                            xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">private</code>
                                        访问修饰符声明的成员仅允许类的成员调用该成员。若要允许从任何地方访问，请使用 <code
                                            xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">public</code>
                                        访问修饰符。除了这两种修饰符外，C# 还定义了 <code xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">internal</code>
                                        和 <code xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">protected</code>
                                        用于与访问修饰符一起使用。所有不同的访问修饰符在第四章“C# 中的面向对象编程”中有详细解释。</font>
                                </font>
                            </font>
                        </p>
                        <div class="bottom hr" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                            <hr />
                        </div>
                    </section>
                </aside>
                <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">In the class <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">PeopleFactory</code>, the
                    field <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">s_peopleCount</code> is
                    of type <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">int</code> and
                    has the <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">static</code>
                    modifier applied. With the <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">static</code> modifier,
                    the field is used with all instances of the class. Instance fields (without the <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">static</code> modifier)
                    have different values for every instance of the class. Because this class only has static members,
                    the class itself can have the <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">static</code> modifier
                    applied. The compiler than makes sure that instance members are not added (code file <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ClassesSample/PeopleFactory.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">在类 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">PeopleFactory</code>
                                中，字段 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">s_peopleCount</code>
                                的类型为 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">int</code>
                                并应用了 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">static</code>
                                修饰符。使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">static</code>
                                修饰符时，该字段用于类的所有实例。实例字段（未使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">static</code>
                                修饰符）在每个类的实例中都有不同的值。由于这个类只有静态成员，因此类本身可以应用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">static</code>
                                修饰符。编译器会确保不会添加实例成员（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ClassesSample/PeopleFactory.cs</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c03-code-0006"><code>public static class PeopleFactory</code>
<code>{</code>
<code>  //…</code>
<code>  <b>private static int s_peopleCount;</b></code>
<code>  //…</code>
<code>}</code></pre>
            </section>
            <section data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"><span id="c03-sec-0014"
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"></span>
                <h3 id="head-3-88" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">Readonly Fields <font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                        <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">只读字段</font>
                        </font>
                    </font>
                </h3>
                <p id="c03-para-0031" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">To guarantee that fields of an object cannot be changed,
                    fields can be declared with the <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">readonly</code> modifier.
                    Fields with the <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">readonly</code> modifier
                    can be assigned only values from constructors. This is different from the <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">const</code> modifier
                    shown in <a href="c02.xhtml"
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Chapter 2</a>, “Core C#.”
                    With the <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">const</code>
                    modifier, the compiler replaces the variable by its value everywhere it is used. The compiler
                    already knows the value of the constant. Read-only fields are assigned during runtime from a
                    constructor. The following <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Person</code> class
                    specifies a constructor where values for both <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">firstName</code> and
                    <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">lastName</code> need to
                    be passed.<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">为了确保对象字段不可更改，字段可以用 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">readonly</code>
                                修饰符声明。带有 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">readonly</code>
                                修饰符的字段只能通过构造函数赋值。这与第 2 章“核心 C#”中提到的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">const</code>
                                修饰符不同。使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">const</code>
                                修饰符时，编译器会在使用变量的地方将其替换为变量的值。编译器已经知道常量的值。只读字段在运行时通过构造函数赋值。下面的 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Person</code>
                                类指定了一个构造函数，需要传入 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">firstName</code>
                                和 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">lastName</code>
                                的值。</font>
                        </font>
                    </font>
                </p>
                <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">Contrary to const fields, read-only fields can be instance
                    members. With the following code snippet, the <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">_firstName</code> and
                    <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">_lastName</code> fields
                    are changed to add the <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">readonly</code> modifier.
                    The compiler complains with errors if this field is changed after initializing it in the constructor
                    (code file <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ClassesSample/Person.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">与常量字段不同，只读字段可以是实例成员。通过以下代码片段，将
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">_firstName</code>
                                和 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">_lastName</code>
                                字段改为添加 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">readonly</code>
                                修饰符。如果在构造函数中初始化后更改该字段，编译器会报错（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ClassesSample/Person.cs</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c03-code-0007"><code>public class Person</code>
<code>{</code>
<code>  //…</code>
<code>  public Person(string firstName, string lastName)</code>
<code>  {</code>
<code>    _firstName = firstName;</code>
<code>    _lastName = lastName;</code>
<code>  }</code>
<code> </code>
<code>  private <b>readonly</b> string _firstName;</code>
<code>  private readonly string _lastName;</code>
<code>  //…</code>
<code>}</code></pre>
            </section> <span aria-label="65" epub:type="pagebreak" id="Page_65" role="doc-pagebreak"
                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"></span>
            <section data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"><span id="c03-sec-0015"
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"></span>
                <h3 id="head-3-89" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">Properties <font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                        <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">属性</font>
                        </font>
                    </font>
                </h3>
                <p id="c03-para-0033" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">Instead of having a method pair to set and get the values of
                    a field, C# defines the syntax of a property. From outside of the class, a property looks like a
                    field with typically used uppercase names. Within the class, you can write a custom implementation
                    to set not just fields and get the value of fields, but you can add some programming logic to
                    validate the value before assigning it to a variable. You can also define a purely computed property
                    without any variable that is accessed by the property.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">
                                C#通过定义属性的语法，而不是使用方法对来设置和获取字段的值。在类的外部，属性看起来像字段，通常使用大写名称。在类内部，您可以编写自定义实现来设置字段和获取字段的值，同时您可以在赋值前添加一些编程逻辑来验证值。您还可以定义一个纯计算属性，该属性没有任何变量被属性访问。
                            </font>
                        </font>
                    </font>
                </p>
                <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">The class <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Person</code> as shown in
                    the following code snippet defines a property with the name <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Age</code> accessing the
                    private field <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">_age</code>. With the
                    <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">get</code> accessor,
                    the value of the field is returned. With the <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">set</code> accessor, the
                    variable <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">value</code>,
                    which contains the value passed when setting the property, is automatically created. In the code
                    snippet, the value variable is used to assign the value to the <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">_age</code> field (code
                    file <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ClassesSample/Person.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">在以下代码片段中，类 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Person</code>
                                定义了一个名为 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Age</code>
                                的属性，该属性访问私有字段 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">_age</code>
                                。通过 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">get</code>
                                访问器，返回字段值。通过 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">set</code>
                                访问器，自动创建包含设置属性时传递的值的变量 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">value</code>
                                。在代码片段中，值变量用于将值赋给 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">_age</code>
                                字段（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ClassesSample/Person.cs</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c03-code-0008"><code>public class Person</code>
<code>{ </code>
<code>  //…</code>
<code> </code>
<code>  private int _age;</code>
<code>  <b>public int Age</b></code>
<code>  <b>{</b></code>
<code>    <b>get =&gt; _age;</b></code>
<code>    <b>set =&gt; _age = value;</b></code>
<code>  <b>}</b></code>
<code>}</code></pre>
                <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">In case more than one statement is needed with the
                    implementation of the property accessor, you can use curly brackets as shown in the following code
                    snippet:<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">
                                如果属性访问器的实现需要多个语句，可以使用花括号，如下面的代码片段所示：</font>
                        </font>
                    </font>
                </p>
                <pre id="c03-code-0009"><code>private int _age;</code>
<code>public int Age</code>
<code>{</code>
<code>  get</code>
<code>  {</code>
<code>    return _age;</code>
<code>  }</code>
<code>  set </code>
<code>  {</code>
<code>    _age = value;</code>
<code>  }</code>
<code>}</code></pre>
                <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">To use the property, you can access the property from an
                    object instance. Setting a value to the property invokes the <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">set</code> accessor.
                    Reading the value invokes the <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">get</code> accessor:<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">要使用属性，可以从对象实例访问该属性。向属性设置值会调用 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">set</code>
                                访问器。读取值会调用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">get</code>
                                访问器：</font>
                        </font>
                    </font>
                </p>
                <pre id="c03-code-0010"><code>person.Age = 4; // setting a property value with the set accessor</code>
<code>int age = person.Age; // accessing the property with the get accessor</code></pre>
                <section data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"><span id="c03-sec-0016"
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"></span>
                    <h4 id="head-4-9" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                        data-immersive-translate-paragraph="1">Auto-Implemented Properties<font
                            class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">自动实现属性</font>
                            </font>
                        </font>
                    </h4>
                    <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                        data-immersive-translate-paragraph="1">If there isn't going to be any logic in the property
                        accessors <code
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">set</code> and <code
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">get</code>, then
                        auto-implemented properties can be used. Auto-implemented properties implement the backing
                        member variable automatically. The code for the earlier <code
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Age</code> example
                        would look like this:<font class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">如果属性访问器 <code
                                        xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">set</code>
                                    和 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">get</code>
                                    中没有逻辑，则可以使用自动实现的属性。自动实现的属性会自动实现后备成员变量。前面 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Age</code>
                                    示例的代码如下：</font>
                            </font>
                        </font>
                    </p>
                    <pre id="c03-code-0011"><code>public int Age { get; set; }</code></pre>
                    <p id="c03-para-0038" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                        data-immersive-translate-paragraph="1">The declaration of a private field is not needed. The
                        compiler creates this automatically. With auto-implemented properties, you cannot access the
                        field directly because you don't know the name the compiler generates. If all <span
                            aria-label="66" epub:type="pagebreak" id="Page_66" role="doc-pagebreak"
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"></span>you need to do
                        with a property is read and write a field, the syntax for the property using auto-implemented
                        properties is shorter than using expression-bodied property accessors.<font
                            class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">
                                    不需要声明私有字段，编译器会自动创建。使用自动实现的属性时，你不能直接访问字段，因为你不知道编译器生成的名称。如果你对属性只需要读取和写入字段，使用自动实现属性的语法比使用表达式主体属性访问器的语法更短。
                                </font>
                            </font>
                        </font>
                    </p>
                    <p id="c03-para-0039" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                        data-immersive-translate-paragraph="1">By using auto-implemented properties, validation of the
                        property cannot be done at the property set. Therefore, with the <code
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Age</code> property,
                        you could not have checked to see whether an invalid age is set.<font
                            class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">
                                    通过使用自动实现的属性，无法在属性设置时进行属性验证。因此，对于 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Age</code>
                                    属性，你无法检查是否设置了无效的年龄。</font>
                            </font>
                        </font>
                    </p>
                    <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                        data-immersive-translate-paragraph="1">Auto-implemented properties can be initialized using a
                        property initializer. The compiler moves this initialization to the created constructor, and the
                        initialization is done before the constructor body.<font
                            class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">
                                    自动实现的属性可以使用属性初始化器进行初始化。编译器将此初始化移动到创建的构造函数中，初始化在构造函数主体之前完成。</font>
                            </font>
                        </font>
                    </p>
                    <pre id="c03-code-0012"><code>public int Age { get; set; } <b>= 42;</b></code></pre>
                </section>
                <section data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"><span id="c03-sec-0017"
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"></span>
                    <h4 id="head-4-10" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                        data-immersive-translate-paragraph="1">Access Modifiers for Properties<font
                            class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">属性访问修饰符</font>
                            </font>
                        </font>
                    </h4>
                    <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                        data-immersive-translate-paragraph="1">C# allows the <code
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">set</code> and <code
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">get</code> accessors
                        to have differing access modifiers. This would allow a property to have a public <code
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">get</code> and a
                        private or protected <code
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">set</code>. This can
                        help control how or when a property can be set. In the following code example, notice that the
                        <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">set</code> has a
                        private access modifier, but the <code
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">get</code> does not.
                        In this case, the <code
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">get</code> takes the
                        access level of the property. One of the accessors must follow the access level of the property.
                        A compile error is generated if the <code
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">get</code> accessor
                        has the <code
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">protected</code>
                        access level associated with it because that would make both accessors have a different access
                        level from the property.<font class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">C# 允许 <code
                                        xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">set</code>
                                    和 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">get</code>
                                    访问器具有不同的访问修饰符。这允许一个属性具有公共 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">get</code>
                                    和私有或受保护的 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">set</code>
                                    。这有助于控制属性如何或何时被设置。在以下代码示例中，请注意 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">set</code>
                                    具有私有访问修饰符，但 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">get</code>
                                    没有。在这种情况下， <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">get</code>
                                    采用属性的访问级别。其中一个访问器必须遵循属性的访问级别。如果 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">get</code>
                                    访问器具有与 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">protected</code>
                                    关联的访问级别，则会生成编译错误，因为这将使两个访问器与属性的访问级别不同。</font>
                            </font>
                        </font>
                    </p>
                    <pre id="c03-code-0013"><code>private string _name;</code>
<code>public string Name</code>
<code>{</code>
<code>  get =&gt; _name;</code>
<code>  private set =&gt; _name = value;</code>
<code>}</code></pre>
                    <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                        data-immersive-translate-paragraph="1">Different access levels can also be set with
                        auto-implemented properties:<font class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">不同的访问级别也可以通过自动实现的属性来设置：</font>
                            </font>
                        </font>
                    </p>
                    <pre id="c03-code-0014"><code>public int Age { get; <b>private</b> set; }</code></pre>
                </section>
                <section data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"><span id="c03-sec-0018"
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"></span>
                    <h4 id="head-4-11" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                        data-immersive-translate-paragraph="1">Readonly Properties<font
                            class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                            <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">只读属性</font>
                            </font>
                        </font>
                    </h4>
                    <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                        data-immersive-translate-paragraph="1">It is possible to create a read-only property by simply
                        omitting the <code
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">set</code> accessor
                        from the property definition. Thus, to make <code
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">FirstName</code> a
                        read-only property, you can do this by just defining the <code
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">get</code> accessor:
                        <font class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">可以通过简单地从属性定义中省略 <code
                                        xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">set</code>
                                    访问器来创建一个只读属性。因此，要使 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">FirstName</code>
                                    成为一个只读属性，只需定义 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">get</code>
                                    访问器即可：</font>
                            </font>
                        </font>
                    </p>
                    <pre id="c03-code-0015"><code>private readonly string _firstName;</code>
<code>public string FirstName</code>
<code>{</code>
<code>  get =&gt; _firstName;</code>
<code>}</code></pre>
                    <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                        data-immersive-translate-paragraph="1">Declaring the field with the <code
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">readonly</code>
                        modifier only allows initializing the value of the property in the constructor.<font
                            class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">使用 <code
                                        xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">readonly</code>
                                    修饰符声明字段仅允许在构造函数中初始化属性的值。</font>
                            </font>
                        </font>
                    </p>
                    <aside data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                        <div class="top hr" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                            <hr />
                        </div>
                        <section class="feature2"
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                            <p id="c03-para-0045" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                                data-immersive-translate-paragraph="1"><b
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">NOTE</b> <i
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Similar to
                                    properties that only make use of a </i><code
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">get</code><i
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"> accessor,
                                    you can also specify a property with just a </i><code
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">set</code><i
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"> accessor.
                                    This is a write-only property. However, this is regarded as poor programming
                                    practice and could be confusing to the developers who access this property. It's
                                    recommended that you define methods instead of using write-only properties.</i>
                                <font class="notranslate immersive-translate-target-wrapper"
                                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                    <font
                                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                        data-immersive-translate-translation-element-mark="1">
                                        <font
                                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                            data-immersive-translate-translation-element-mark="1">注意 类似仅使用 <code
                                                xmlns="http://www.w3.org/1999/xhtml"
                                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">get</code>
                                            访问器的属性，你也可以仅使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">set</code>
                                            访问器来指定一个属性。这是一个只写属性。然而，这被视为不良的编程实践，并且可能会让访问此属性的开发者感到困惑。建议你定义方法而不是使用只写属性。
                                        </font>
                                    </font>
                                </font>
                            </p>
                            <div class="bottom hr"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                                <hr />
                            </div>
                        </section>
                    </aside>
                </section>
                <section data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"><span id="c03-sec-0020"
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"></span>
                    <h4 id="head-4-12" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                        data-immersive-translate-paragraph="1">Expression-Bodied Properties<font
                            class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">表达式主体属性</font>
                            </font>
                        </font>
                    </h4>
                    <p id="c03-para-0046" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                        data-immersive-translate-paragraph="1">With properties that only implement a <code
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">get</code> accessor,
                        you can use a simplified syntax with the =&gt; token and assign an expression-bodied member.
                        There's no need to write the <code
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">get</code> accessor
                        to return a value. Behind the scenes, the compiler creates an implementation with a <code
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">get</code> accessor.
                        <font class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">对于仅实现 <code
                                        xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">get</code>
                                    访问器的属性，你可以使用 =&gt; 令牌和表达式主体成员的简化语法进行赋值。无需编写 <code
                                        xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">get</code>
                                    访问器来返回值。在幕后，编译器会创建一个具有 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">get</code>
                                    访问器的实现。</font>
                            </font>
                        </font>
                    </p>
                    <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                        data-immersive-translate-paragraph="1"><span aria-label="67" epub:type="pagebreak" id="Page_67"
                            role="doc-pagebreak"
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"></span>In the
                        following code snippet, a <code
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">FirstName</code>
                        property is defined that returns the field <code
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">_firstName</code>
                        using an expression-bodied property. The <code
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">FullName</code>
                        property combines the <code
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">_firstName</code>
                        field and the value from the <code
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">LastName</code>
                        property to return the full name (code file <code
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ClassesSample/Person.cs</code>):
                        <font class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">在以下代码片段中，定义了一个 <code
                                        xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">FirstName</code>
                                    属性，该属性使用表达式主体返回字段 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">_firstName</code>
                                    。 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">FullName</code>
                                    属性结合了 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">_firstName</code>
                                    字段和来自 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">LastName</code>
                                    属性的值来返回全名（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ClassesSample/Person.cs</code>
                                    ）：</font>
                            </font>
                        </font>
                    </p>
                    <pre id="c03-code-0016"><code>private readonly string _firstName;</code>
<code>public string FirstName =&gt; _firstName;</code>
<code>private readonly string _lastName;</code>
<code>public strign LastName =&gt; _lastName;</code>
<code>public string FullName =&gt; $"{FirstName} {LastName}";</code></pre>
                </section>
                <section data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"><span id="c03-sec-0021"
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"></span>
                    <h4 id="head-4-13" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                        data-immersive-translate-paragraph="1">Auto-Implemented Read-Only Properties<font
                            class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">自动实现的只读属性</font>
                            </font>
                        </font>
                    </h4>
                    <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                        data-immersive-translate-paragraph="1">C# offers a simple syntax with auto-implemented
                        properties to create read-only properties that access read-only fields. These properties can be
                        initialized using property initializers:<font
                            class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">C#
                                    提供了一种简单的语法，通过自动实现的属性来创建只读属性，这些属性可以访问只读字段。这些属性可以使用属性初始化器进行初始化：</font>
                            </font>
                        </font>
                    </p>
                    <pre
                        id="c03-code-0017"><code>public string Id { get; } <b>= Guid.NewGuid().ToString();</b></code></pre>
                    <p id="c03-para-0049" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                        data-immersive-translate-paragraph="1">Behind the scenes, the compiler creates a read-only field
                        and a property with a <code
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">get</code> accessor
                        to this field. The code from the initializer moves to the implementation of the constructor and
                        is invoked before the constructor body is called.<font
                            class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">在底层，编译器会创建一个只读字段和一个带有 <code
                                        xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">get</code>
                                    访问器的属性来访问这个字段。初始化器中的代码会移动到构造函数的实现中，并在构造函数体被调用之前执行。</font>
                            </font>
                        </font>
                    </p>
                    <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                        data-immersive-translate-paragraph="1">Read-only properties can also explicitly be initialized
                        from the constructor, as shown with this code snippet:<font
                            class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">只读属性也可以在构造函数中显式初始化，如以下代码片段所示：
                                </font>
                            </font>
                        </font>
                    </p>
                    <pre id="c03-code-0018"><code>public class Book</code>
<code>{</code>
<code>  <b>public Book(string title) =&gt; Title = title;</b></code>
<code> </code>
<code>  public string Title { get; }</code>
<code>}</code></pre>
                </section>
                <section data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"><span id="c03-sec-0022"
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"></span>
                    <h4 id="head-4-14" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                        data-immersive-translate-paragraph="1">Init-Only Set Accessors<font
                            class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                            <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">Init-Only Set 访问器</font>
                            </font>
                        </font>
                    </h4>
                    <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                        data-immersive-translate-paragraph="1">C# 9 allows you to define properties with <code
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">get</code> and <code
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">init</code> accessors
                        by using the <code
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">init</code> keyword
                        instead of the <code
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">set</code> keyword.
                        This way the property value can be set only in the constructor or with an object initializer
                        (code file <code
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ClassesSample/Book.cs</code>):
                        <font class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">C# 9 允许你使用 <code
                                        xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">get</code>
                                    关键字而不是 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">set</code>
                                    关键字来定义带 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">init</code>
                                    和 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">get</code>
                                    访问器的属性。这样属性值只能通过构造函数或对象初始化器来设置（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ClassesSample/Book.cs</code>
                                    ）：</font>
                            </font>
                        </font>
                    </p>
                    <pre id="c03-code-0019"><code>public class Book</code>
<code>{</code>
<code>  public Book(string title)</code>
<code>  {</code>
<code>    Title = title;</code>
<code>  }</code>
<code> </code>
<code>  public string Title { get; <b>init;</b> }</code>
<code>  public string? Publisher { get; <b>init;</b> }</code>
<code>}</code></pre>
                    <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                        data-immersive-translate-paragraph="1">C# 9 offers a new option with properties that should only
                        be set with constructors and object initializers. A new <code
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Book</code> object
                        can now be created by invoking the constructor and using an object initializer to set the
                        properties as shown in the following code snippet (code file <code
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ClassesSample/Program.</code>
                        cs):<font class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">C# 9
                                    提供了一个新选项，用于仅通过构造函数和对象初始化器来设置属性。现在可以通过调用构造函数并使用对象初始化器来创建一个新的 <code
                                        xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Book</code>
                                    对象，如以下代码片段所示（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ClassesSample/Program.</code>
                                    cs）：</font>
                            </font>
                        </font>
                    </p>
                    <pre id="c03-code-0020"><code>Book theBook = new("Professional C#") </code>
<code>{ </code>
<code>  <b>Publisher = "Wrox Press"</b></code>
<code>};</code></pre>
                    <p id="c03-para-0053" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                        data-immersive-translate-paragraph="1">You can use object initializers to initialize properties
                        on creation of the object. The constructor defines the required parameters that the class needs
                        for initialization. With the object initializer, you can assign all properties with a <code
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">set</code> and an
                        <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">init</code>
                        accessor. The object initializer can be used only when creating the object, not afterward.<font
                            class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">
                                    你可以使用对象初始化器在对象创建时初始化属性。构造函数定义了类初始化所需的参数。通过对象初始化器，你可以使用 <code
                                        xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">set</code>
                                    和 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">init</code>
                                    访问器为所有属性赋值。对象初始化器只能在创建对象时使用，不能之后使用。</font>
                            </font>
                        </font>
                    </p>
                </section>
            </section> <span aria-label="68" epub:type="pagebreak" id="Page_68" role="doc-pagebreak"
                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"></span>
            <section data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"><span id="c03-sec-0023"
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"></span>
                <h3 id="head-3-90" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">Methods <font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                        <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">方法</font>
                        </font>
                    </font>
                </h3>
                <p id="c03-para-0054" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">With the C# terminology, there's a distinction between
                    functions and methods. The term <i
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">function member</i>
                    includes not only methods, but also other nondata members such as indexers, operators, constructors,
                    destructors, and properties—all members that contain executable code.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">在
                                C#的术语中，函数和方法之间存在区别。术语“函数成员”不仅包括方法，还包括其他非数据成员，例如索引器、运算符、构造函数、析构函数和属性——所有包含可执行代码的成员。
                            </font>
                        </font>
                    </font>
                </p>
                <section data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"><span id="c03-sec-0024"
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"></span>
                    <h4 id="head-4-15" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                        data-immersive-translate-paragraph="1">Declaring Methods<font
                            class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                            <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">声明方法</font>
                            </font>
                        </font>
                    </h4>
                    <p id="c03-para-0055" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                        data-immersive-translate-paragraph="1">In C#, the definition of a method consists of any method
                        modifiers (such as the method's accessibility), followed by the type of the return value,
                        followed by the name of the method, followed by a list of parameters enclosed in parentheses,
                        followed by the body of the method enclosed in curly brackets.<font
                            class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">在
                                    C#中，方法的定义包括任何方法修饰符（例如方法的访问权限），然后是返回值的类型，接着是方法的名称，然后是一组括号内的参数列表，最后是花括号内的方法体。</font>
                            </font>
                        </font>
                    </p>
                    <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                        data-immersive-translate-paragraph="1">Each parameter consists of the name of the type of the
                        parameter and the name by which it can be referenced in the body of the method. Also, if the
                        method returns a value, a return statement must be used with the return value to indicate each
                        exit point, as shown in this example:<font
                            class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">
                                    每个参数由参数的类型名称和它在方法体中可以参考的名称组成。此外，如果方法返回值，必须使用带返回值的 return 语句来表示每个退出点，如本例所示：</font>
                            </font>
                        </font>
                    </p>
                    <pre id="c03-code-0021"><code>public bool IsSquare(Rectangle rect)</code>
<code>{</code>
<code>  return (rect.Height == rect.Width);</code>
<code>}</code></pre>
                    <p id="c03-para-0057" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                        data-immersive-translate-paragraph="1">If the method doesn't return anything, specify a return
                        type of <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">void</code>
                        because you can't omit the return type altogether. If the method takes no parameters, you need
                        to include an empty set of parentheses after the method name. With a void return, using a return
                        statement in the implementation is optional—the method returns automatically when the closing
                        curly brace is reached.<font class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">如果方法不返回任何内容，需要指定返回类型为 <code
                                        xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">void</code>
                                    ，因为不能完全省略返回类型。如果方法不接受参数，需要在方法名后包含一个空括号对。对于 void 返回类型，在实现中使用 return
                                    语句是可选的——当遇到闭合大括号时，方法会自动返回。</font>
                            </font>
                        </font>
                    </p>
                </section>
                <section data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"><span id="c03-sec-0025"
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"></span>
                    <h4 id="head-4-16" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                        data-immersive-translate-paragraph="1">Expression-Bodied Methods<font
                            class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">表达式主体方法</font>
                            </font>
                        </font>
                    </h4>
                    <p id="c03-para-0058" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                        data-immersive-translate-paragraph="1">If the implementation of a method consists just of one
                        statement, C# gives a simplified syntax to method definitions: <i
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">expression-bodied
                            methods</i>. You don't need to write curly brackets and the <code
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">return</code> keyword
                        with this syntax. The <code
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">=&gt;</code> token is
                        used to distinguish the declaration of the left side of this operator to the implementation that
                        is on the right side.<font class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">如果方法的实现仅包含一条语句，C#
                                    提供了一种简化的方法定义语法：表达式主体方法。使用这种语法时，无需编写大括号和 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">return</code>
                                    关键字。 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">=&gt;</code>
                                    标记用于区分该运算符左侧的声明与右侧的实现。</font>
                            </font>
                        </font>
                    </p>
                    <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                        data-immersive-translate-paragraph="1">The following example is the same method as before, <code
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">IsSquare</code>,
                        implemented using the expression-bodied method syntax. The right side of the <code
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">=&gt;</code> token
                        defines the implementation of the method. Curly brackets and a return statement are not needed.
                        What's returned is the result of the statement, and the result needs to be of the same type as
                        the method declared on the left side, which is a <code
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">bool</code> in this
                        code snippet:<font class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">以下示例是之前相同的方法 <code
                                        xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">IsSquare</code>
                                    ，使用表达式主体方法语法实现的。 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">=&gt;</code>
                                    标记的右侧定义了方法的实现。无需大括号和返回语句。返回的是语句的结果，且结果类型需与左侧声明的 <code
                                        xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">bool</code>
                                    方法类型相同，这在代码片段中是一个 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">bool</code>：
                                </font>
                            </font>
                        </font>
                    </p>
                    <pre
                        id="c03-code-0022"><code>public bool IsSquare(Rectangle rect) =&gt; rect.Height == rect.Width;</code></pre>
                </section>
                <section data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"><span id="c03-sec-0026"
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"></span>
                    <h4 id="head-4-17" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                        data-immersive-translate-paragraph="1">Invoking Methods<font
                            class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                            <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">调用方法</font>
                            </font>
                        </font>
                    </h4>
                    <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                        data-immersive-translate-paragraph="1">The following example illustrates the syntax for
                        definition and instantiation of classes and for definition and invocation of methods. The class
                        <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Math</code> defines
                        instance and static members (code file <code
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">MathSample/Math.cs</code>):
                        <font class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">以下示例说明了类定义和实例化以及方法定义和调用的语法。类
                                    <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Math</code>
                                    定义了实例和静态成员（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">MathSample/Math.cs</code>
                                    ）：</font>
                            </font>
                        </font>
                    </p>
                    <pre id="c03-code-0023"><code>public class Math</code>
<code>{</code>
<code>  public int Value { get; set; }</code>
<code>  public int GetSquare() =&gt; Value * Value;</code>
<code>  public static int GetSquareOf(int x) =&gt; x * x;</code>
<code>}</code></pre>
                    <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                        data-immersive-translate-paragraph="1">The top-level statements in the <code
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Program.cs</code>
                        file uses the <code
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Math</code> class,
                        calls static methods, and instantiates an object to invoke instance members (code file <code
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">MathSample/Program.cs</code>):
                        <font class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1"> <code
                                        xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Program.cs</code>
                                    文件中的顶层语句使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Math</code>
                                    类，调用静态方法，并实例化对象以调用实例成员（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">MathSample/Program.cs</code>
                                    ）：</font>
                            </font>
                        </font>
                    </p>
                    <pre id="c03-code-0024"><code>using System;</code>
<code> <span aria-label="69" epub:type="pagebreak" id="Page_69" role="doc-pagebreak"></span></code>
<code>// Call static members</code>
<code>int x = Math.GetSquareOf(5);</code>
<code>Console.WriteLine($"Square of 5 is {x}");</code>
<code> </code>
<code>// Instantiate a Math object</code>
<code>Math math = new();</code>
<code> </code>
<code>// Call instance members</code>
<code>math.Value = 30;</code>
<code>Console.WriteLine($"Value field of math variable contains {math.Value}");</code>
<code>Console.WriteLine($"Square of 30 is {math.GetSquare()}");</code></pre>
                    <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                        data-immersive-translate-paragraph="1">Running the <code
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">MathSample</code>
                        example produces the following results:<font
                            class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">运行 <code
                                        xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">MathSample</code>
                                    示例会产生以下结果：</font>
                            </font>
                        </font>
                    </p>
                    <pre id="c03-code-0025"><code>Square of 5 is 25</code>
<code>Value field of math variable contains 30</code>
<code>Square of 30 is 900</code></pre>
                    <p id="c03-para-0063" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                        data-immersive-translate-paragraph="1">As you can see from the code, the <code
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Math</code> class
                        contains a property that contains a number, as well as a method to find the square of this
                        number. It also contains one static method to find the square of the number passed in as a
                        parameter.<font class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">从代码中可以看出， <code
                                        xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Math</code>
                                    类包含一个包含数字的属性，以及一个用于计算该数字平方的方法。它还包含一个静态方法，用于计算作为参数传递的数字的平方。</font>
                            </font>
                        </font>
                    </p>
                </section>
                <section data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"><span id="c03-sec-0027"
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"></span>
                    <h4 id="head-4-18" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                        data-immersive-translate-paragraph="1">Method Overloading<font
                            class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                            <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">方法重载</font>
                            </font>
                        </font>
                    </h4>
                    <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                        data-immersive-translate-paragraph="1">C# supports method overloading—several versions of the
                        method that have different signatures (that is, the same name but a different number of
                        parameters and/or different parameter data types). To overload methods, simply declare the
                        methods with the same name but different numbers of parameter types:<font
                            class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">C#
                                    支持方法重载——即具有不同签名（也就是说，相同名称但参数数量和/或参数数据类型不同）的多个方法版本。要重载方法，只需声明具有相同名称但参数类型不同的方法：</font>
                            </font>
                        </font>
                    </p>
                    <pre id="c03-code-0026"><code>class ResultDisplayer</code>
<code>{</code>
<code>  public void DisplayResult(string result)</code>
<code>  {</code>
<code>    // implementation</code>
<code>  }</code>
<code> </code>
<code>  public void DisplayResult(int result)</code>
<code>  {</code>
<code>    // implementation</code>
<code>  }</code>
<code>}</code></pre>
                    <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                        data-immersive-translate-paragraph="1">It's not just the parameter types that can differ; the
                        number of parameters can differ too, as shown in the next example. One overloaded method can
                        invoke another:<font class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">
                                    不仅参数类型可以不同，参数的数量也可以不同，如下一个示例所示。一个重载方法可以调用另一个：</font>
                            </font>
                        </font>
                    </p>
                    <pre id="c03-code-0027"><code>class MyClass</code>
<code>{</code>
<code>  public int DoSomething(int x) =&gt; DoSomething(x, 10);</code>
<code> </code>
<code>  public int DoSomething(int x, int y)</code>
<code>  {</code>
<code>    // implementation</code>
<code>  }</code>
<code>}</code></pre>
                    <aside data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                        <div class="top hr" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                            <hr />
                        </div>
                        <section class="feature2"
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                            <p id="c03-para-0067" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                                data-immersive-translate-paragraph="1"><b
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">NOTE</b> <i
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">With method
                                    overloading, it is not sufficient to differ overloads only by the return type. It's
                                    also not sufficient to differ them by parameter names. The number of parameters
                                    and/or types needs to differ.</i>
                                <font class="notranslate immersive-translate-target-wrapper"
                                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                    <font
                                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                        data-immersive-translate-translation-element-mark="1">
                                        <font
                                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                            data-immersive-translate-translation-element-mark="1">
                                            注意：使用方法重载时，仅凭返回类型不同来区分重载是不够的。仅凭参数名不同来区分重载也是不够的。需要不同的参数数量和/或类型。</font>
                                    </font>
                                </font>
                            </p>
                            <div class="bottom hr"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                                <hr />
                            </div>
                        </section>
                    </aside>
                </section> <span aria-label="70" epub:type="pagebreak" id="Page_70" role="doc-pagebreak"
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"></span>
                <section data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"><span id="c03-sec-0029"
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"></span>
                    <h4 id="head-4-19" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                        data-immersive-translate-paragraph="1">Named Arguments<font
                            class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                            <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">命名参数</font>
                            </font>
                        </font>
                    </h4>
                    <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                        data-immersive-translate-paragraph="1">When invoking methods, the variable name need not be
                        added to the invocation. However, if you have a method signature like the following to move a
                        rectangle:<font class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">
                                    调用方法时，无需在调用中添加变量名。然而，如果你有一个如下所示的移动矩形的方法签名：</font>
                            </font>
                        </font>
                    </p>
                    <pre
                        id="c03-code-0028"><code>public void MoveAndResize(int x, int y, int width, int height)</code></pre>
                    <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                        data-immersive-translate-paragraph="1">and you invoke it with the following code snippet, it's
                        not clear from the invocation what numbers are used for what:<font
                            class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">
                                    并且你使用以下代码片段调用它，从调用中无法清楚知道哪些数字用于什么：</font>
                            </font>
                        </font>
                    </p>
                    <pre id="c03-code-0029"><code>r.MoveAndResize(30, 40, 20, 40);</code></pre>
                    <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                        data-immersive-translate-paragraph="1">You can change the invocation to make it immediately
                        clear what the numbers mean:<font class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">你可以将调用改为立即清楚数字含义的形式：</font>
                            </font>
                        </font>
                    </p>
                    <pre
                        id="c03-code-0030"><code>r.MoveAndResize(<b>x:</b> 30, <b>y:</b> 40, <b>width:</b> 20, <b>height:</b> 40);</code></pre>
                    <p id="c03-para-0071" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                        data-immersive-translate-paragraph="1">Any method can be invoked using named arguments. You just
                        need to write the name of the variable followed by a colon and the value passed. The compiler
                        gets rid of the name and creates an invocation of the method just as if the variable name is not
                        there—so there's no difference within the compiled code.<font
                            class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">
                                    任何方法都可以使用命名参数调用。你只需写出变量名，后面跟一个冒号和传递的值。编译器会去掉变量名，创建一个与方法调用相同的形式，就好像变量名不存在一样——所以在编译后的代码中没有区别。
                                </font>
                            </font>
                        </font>
                    </p>
                    <p id="c03-para-0072" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                        data-immersive-translate-paragraph="1">You can also change the order of variables this way, and
                        the compiler rearranges it to the correct order. The real advantage to this is shown in the next
                        section with optional arguments.<font class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">
                                    你也可以用这种方式改变变量的顺序，编译器会重新排列成正确的顺序。这种方式的真正优势将在下一节的可选参数中展示。</font>
                            </font>
                        </font>
                    </p>
                </section>
                <section data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"><span id="c03-sec-0030"
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"></span>
                    <h4 id="head-4-20" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                        data-immersive-translate-paragraph="1">Optional Arguments<font
                            class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                            <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">可选参数</font>
                            </font>
                        </font>
                    </h4>
                    <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                        data-immersive-translate-paragraph="1">Parameters can also be optional. You must supply a
                        default value for optional parameters, which must be the last ones defined:<font
                            class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">
                                    参数也可以是可选的。你必须为可选参数提供一个默认值，这个默认值必须是定义的最后几个参数：</font>
                            </font>
                        </font>
                    </p>
                    <pre id="c03-code-0031"><code>public void TestMethod(int notOptionalNumber, int optionalNumber = 42)</code>
<code>{</code>
<code>  Console.WriteLine(optionalNumber + notOptionalNumber);</code>
<code>}</code></pre>
                    <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                        data-immersive-translate-paragraph="1">This method can now be invoked using one or two
                        parameters. When you pass one parameter, the compiler changes the method call to pass <code
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">42</code> with the
                        second parameter:<font class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">
                                    这个方法现在可以使用一个或两个参数来调用。当你传递一个参数时，编译器会将方法调用改为用第二个参数传递 <code
                                        xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">42</code>
                                    ：</font>
                            </font>
                        </font>
                    </p>
                    <pre id="c03-code-0032"><code>TestMethod(11);</code>
<code>TestMethod(11, 42);</code></pre>
                    <aside data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                        <div class="top hr" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                            <hr />
                        </div>
                        <section class="feature2"
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                            <p id="c03-para-0076" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                                data-immersive-translate-paragraph="1"><b
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">NOTE</b> <i
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Because the
                                    compiler changes methods with optional parameters to pass the default value, the
                                    default value should never change with newer versions of the library. This is a
                                    breaking change because the calling application can still have the previous value
                                    without recompilation.</i>
                                <font class="notranslate immersive-translate-target-wrapper"
                                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                    <font
                                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                        data-immersive-translate-translation-element-mark="1">
                                        <font
                                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                            data-immersive-translate-translation-element-mark="1">
                                            注意：由于编译器会将带可选参数的方法改为传递默认值，因此默认值绝不应随库的新版本而改变。这是一个破坏性变更，因为调用应用程序可以在不重新编译的情况下仍然使用旧值。
                                        </font>
                                    </font>
                                </font>
                            </p>
                            <div class="bottom hr"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                                <hr />
                            </div>
                        </section>
                    </aside>
                    <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                        data-immersive-translate-paragraph="1">You can define multiple optional parameters, as shown
                        here:<font class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">您可以定义多个可选参数，如下所示：</font>
                            </font>
                        </font>
                    </p>
                    <pre id="c03-code-0033"><code>public void TestMethod(int n, int opt1 = 11, int opt2 = 22, int opt3 = 33)</code>
<code>{</code>
<code>  Console.WriteLine(n + opt1 + opt2 + opt3);</code>
<code>}</code></pre>
                    <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                        data-immersive-translate-paragraph="1">This way, the method can be called using one, two, three,
                        or four parameters. The first line of the following code leaves the optional parameters with the
                        values <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">11</code>,
                        <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">22</code>, and
                        <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">33</code>. The
                        second line passes the first three parameters, and the last one has a value of <code
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">33</code>
                        :<font class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">
                                    这样，该方法可以使用一个、两个、三个或四个参数调用。以下代码的第一行将可选参数的值留为 <code
                                        xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">11</code>
                                    、 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">22</code>
                                    和 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">33</code>
                                    。第二行传递了前三个参数，最后一行有一个值为 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">33</code>
                                    ：</font>
                            </font>
                        </font>
                    </p>
                    <pre id="c03-code-0034"><code>TestMethod(1);</code>
<code>TestMethod(1, 2, 3);</code></pre>
                    <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                        data-immersive-translate-paragraph="1"><span aria-label="71" epub:type="pagebreak" id="Page_71"
                            role="doc-pagebreak"
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"></span>With multiple
                        optional parameters, the feature of named arguments shines. When you use named arguments, you
                        can pass any of the optional parameters. For example, this example passes just the last one:
                        <font class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">
                                    对于多个可选参数，命名参数的特性尤为突出。当您使用命名参数时，可以传递任何可选参数。例如，此示例仅传递最后一个：</font>
                            </font>
                        </font>
                    </p>
                    <pre id="c03-code-0035"><code>TestMethod(1, <b>opt3: 4</b>);</code></pre>
                    <aside data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                        <div class="top hr" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                            <hr />
                        </div>
                        <section class="feature2"
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                            <p id="c03-para-0081" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                                data-immersive-translate-paragraph="1"><b
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">WARNING</b> <i
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Pay attention
                                    to versioning issues when using optional arguments. One issue is changing default
                                    values in newer versions; another issue is changing the number of arguments. It
                                    might be tempting to add another optional parameter because it is optional anyway.
                                    However, the compiler changes the calling code to fill in all the parameters, and
                                    that's the reason why earlier compiled callers fail if another parameter is added
                                    later.</i>
                                <font class="notranslate immersive-translate-target-wrapper"
                                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                    <font
                                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                        data-immersive-translate-translation-element-mark="1">
                                        <font
                                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                            data-immersive-translate-translation-element-mark="1">警告
                                            使用可选参数时要注意版本问题。一个问题是在新版本中更改默认值；另一个问题是更改参数数量。可能会诱人添加另一个可选参数，因为无论如何它都是可选的。然而，编译器会更改调用代码以填充所有参数，这就是为什么早期编译的调用者如果后来添加了另一个参数会失败的原因。
                                        </font>
                                    </font>
                                </font>
                            </p>
                            <div class="bottom hr"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                                <hr />
                            </div>
                        </section>
                    </aside>
                </section>
                <section data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"><span id="c03-sec-0033"
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"></span>
                    <h4 id="head-4-21" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                        data-immersive-translate-paragraph="1">Variable Number of Arguments<font
                            class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">可变数量的参数</font>
                            </font>
                        </font>
                    </h4>
                    <p id="c03-para-0082" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                        data-immersive-translate-paragraph="1">When you use optional arguments, you can define a
                        variable number of arguments. However, there's also a different syntax that allows passing a
                        variable number of arguments—and this syntax doesn't have versioning issues.<font
                            class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">
                                    当你使用可选参数时，可以定义可变数量的参数。然而，还有一种不同的语法允许传递可变数量的参数——这种语法没有版本问题。</font>
                            </font>
                        </font>
                    </p>
                    <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                        data-immersive-translate-paragraph="1">When you declare the parameter of type array—the sample
                        code uses an <code
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">int</code> array—and
                        add the <code
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">params</code>
                        keyword, the method can be invoked using any number of <code
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">int</code>
                        parameters.<font class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">当你声明类型为数组的参数——示例代码使用 <code
                                        xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">int</code>
                                    数组——并添加 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">params</code>
                                    关键字时，该方法可以使用任意数量的 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">int</code>
                                    参数被调用。</font>
                            </font>
                        </font>
                    </p>
                    <pre id="c03-code-0036"><code>public void AnyNumberOfArguments(<b>params</b> int[] data)</code>
<code>{</code>
<code>  foreach (var x in data)</code>
<code>  {</code>
<code>    Console.WriteLine(x);</code>
<code>  }</code>
<code>}</code></pre>
                    <aside data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                        <div class="top hr" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                            <hr />
                        </div>
                        <section class="feature2"
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                            <p id="c03-para-0085" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                                data-immersive-translate-paragraph="1"><b
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">NOTE</b> <i
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Arrays are
                                    explained in detail in <a href="c06.xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Chapter
                                        6</a>, “Arrays.”</i>
                                <font class="notranslate immersive-translate-target-wrapper"
                                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                    <font
                                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                        data-immersive-translate-translation-element-mark="1">
                                        <font
                                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                            data-immersive-translate-translation-element-mark="1">注意：数组在第六章“数组”中有详细解释。
                                        </font>
                                    </font>
                                </font>
                            </p>
                            <div class="bottom hr"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                                <hr />
                            </div>
                        </section>
                    </aside>
                    <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                        data-immersive-translate-paragraph="1">Because the parameter of the method <code
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">AnyNumberOfArguments</code>
                        is of type <code
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">int[]</code>, you can
                        pass an <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">int</code>
                        array, or because of the <code
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">params</code>
                        keyword, you can pass zero or more <code
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">int</code> values:
                        <font class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">因为方法 <code
                                        xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">AnyNumberOfArguments</code>
                                    的参数类型是 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">int[]</code>
                                    ，你可以传递一个 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">int</code>
                                    数组，或者因为 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">params</code>
                                    关键字，你可以传递零个或多个 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">int</code>
                                    值：</font>
                            </font>
                        </font>
                    </p>
                    <pre id="c03-code-0037"><code>AnyNumberOfArguments(1);</code>
<code>AnyNumberOfArguments(1, 3, 5, 7, 11, 13);</code></pre>
                    <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                        data-immersive-translate-paragraph="1">If arguments of different types should be passed to
                        methods, you can use an <code
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">object</code> array:
                        <font class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">如果需要向方法传递不同类型的参数，可以使用 <code
                                        xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">object</code>
                                    数组：</font>
                            </font>
                        </font>
                    </p>
                    <pre id="c03-code-0038"><code>public void AnyNumberOfArguments(params object[] data)</code>
<code>{</code>
<code>  // …</code></pre>
                    <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                        data-immersive-translate-paragraph="1">Now it is possible to use any type for the parameters
                        calling this method:<font class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">现在可以调用此方法的参数使用任何类型：</font>
                            </font>
                        </font>
                    </p>
                    <pre id="c03-code-0039"><code>AnyNumberOfArguments("text", 42);</code></pre>
                    <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                        data-immersive-translate-paragraph="1">If the <code
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">params</code> keyword
                        is used with multiple parameters that are defined with the method signature, <code
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">params</code> can be
                        used only once, and it must be the last parameter:<font
                            class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">如果使用 <code
                                        xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">params</code>
                                    关键字与多个通过方法签名定义的参数一起使用， <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">params</code>
                                    只能使用一次，并且必须是最后一个参数：</font>
                            </font>
                        </font>
                    </p>
                    <pre id="c03-code-0040"><code>Console.WriteLine(string format, params object[] arg);</code></pre>
                    <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"><span aria-label="72"
                            epub:type="pagebreak" id="Page_72" role="doc-pagebreak"
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"></span></p>
                    <aside data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                        <div class="top hr" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                            <hr />
                        </div>
                        <section class="feature2"
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                            <p id="c03-para-0091" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                                data-immersive-translate-paragraph="1"><b
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">NOTE</b> <i
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">In case
                                    you've overloaded methods, and one of these methods is using the </i><code
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">params</code><i
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"> keyword, the
                                    compiler prefers fixed parameters rather than the </i><code
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">params</code><i
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"> keyword. For
                                    example, if a method is declared with two </i><code
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">int</code><i
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"> parameters
                                    (</i><code
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Foo(int, int)</code><i
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">), and
                                    another method is using the </i><code
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">params</code><i
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"> keyword
                                    (</i><code
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Foo(int[] params</code><i
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">), when
                                    invoking this method with two </i><code
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">int</code><i
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"> arguments,
                                    the method </i><code
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Foo(int, int)</code><i
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"> wins because
                                    it has a better match.</i>
                                <font class="notranslate immersive-translate-target-wrapper"
                                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                    <font
                                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                        data-immersive-translate-translation-element-mark="1">
                                        <font
                                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                            data-immersive-translate-translation-element-mark="1">注意 如果你重载了方法，其中一个方法使用了
                                            <code xmlns="http://www.w3.org/1999/xhtml"
                                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">params</code>
                                            关键字，编译器会优先选择固定参数而不是 <code xmlns="http://www.w3.org/1999/xhtml"
                                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">params</code>
                                            关键字。例如，如果一个方法声明了两个 <code xmlns="http://www.w3.org/1999/xhtml"
                                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">int</code>
                                            参数 ( <code xmlns="http://www.w3.org/1999/xhtml"
                                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Foo(int, int)</code>
                                            )，而另一个方法使用了 <code xmlns="http://www.w3.org/1999/xhtml"
                                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">params</code>
                                            关键字 ( <code xmlns="http://www.w3.org/1999/xhtml"
                                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Foo(int[] params</code>
                                            )，当用两个 <code xmlns="http://www.w3.org/1999/xhtml"
                                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">int</code>
                                            参数调用这个方法时，方法 <code xmlns="http://www.w3.org/1999/xhtml"
                                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Foo(int, int)</code>
                                            会胜出，因为它有更好的匹配。</font>
                                    </font>
                                </font>
                            </p>
                            <div class="bottom hr"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                                <hr />
                            </div>
                        </section>
                    </aside>
                    <p id="c03-para-0092" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                        data-immersive-translate-paragraph="1">Now that you've looked at the many aspects of methods,
                        let's get into constructors, which are a special kind of method.<font
                            class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">
                                    现在你已经了解了方法的许多方面，让我们来谈谈构造函数，它们是一种特殊的方法。</font>
                            </font>
                        </font>
                    </p>
                </section>
            </section>
            <section data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"><span id="c03-sec-0036"
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"></span>
                <h3 id="head-3-91" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">Constructors <font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                        <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">构造函数</font>
                        </font>
                    </font>
                </h3>
                <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">The syntax for declaring basic constructors is a method that
                    has the same name as the containing class and that does not have any return type:<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">声明基本构造函数的语法是一个与包含它的类同名且没有返回类型的方法：
                            </font>
                        </font>
                    </font>
                </p>
                <pre id="c03-code-0041"><code>public class MyClass</code>
<code>{</code>
<code>  public MyClass()</code>
<code>  {</code>
<code>  }</code>
<code> </code>
<code>  //…</code>
<code>}</code></pre>
                <p id="c03-para-0094" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">It's not necessary to provide a constructor for your class.
                    If you don't supply any constructor, the compiler generates a default behind the scenes. This
                    constructor initializes all the member fields to the default values, which is <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">0</code> for numbers,
                    <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">false</code> for <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">bool</code>, and <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">null</code> for reference
                    types. When you're using nullable reference types and don't declare your reference types to allow
                    <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">null</code>, you'll get
                    a compiler warning if these fields are not initialized.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">
                                你不必为你的类提供构造函数。如果你不提供任何构造函数，编译器会在后台生成一个默认的构造函数。这个构造函数将所有成员字段初始化为默认值，数字的默认值是 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">0</code> ，
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">bool</code>
                                的默认值是 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">false</code>
                                ，引用类型的默认值是 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">null</code>
                                。当你使用可空引用类型并且没有声明你的引用类型允许 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">null</code>
                                时，如果这些字段没有被初始化，你会得到一个编译器警告。</font>
                        </font>
                    </font>
                </p>
                <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">Constructors follow the same rules for overloading as other
                    methods—that is, you can provide as many overloads to the constructor as you want, provided they are
                    clearly different in signature:<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">
                                构造函数遵循与其他方法相同的重载规则，也就是说，你可以提供任意数量的重载给构造函数，只要它们的签名明显不同即可：</font>
                        </font>
                    </font>
                </p>
                <pre id="c03-code-0042"><code>public MyClass() // parameterless constructor</code>
<code>{</code>
<code>  // construction code</code>
<code>}</code>
<code> </code>
<code>public MyClass(int number) // constructor overload with an int parameter</code>
<code>{</code>
<code>  // construction code</code>
<code>}</code></pre>
                <p id="c03-para-0096" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">If you supply any constructors, the compiler does not
                    automatically supply a default one. The default constructor is created only if other constructors
                    are not defined.<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">
                                如果你提供了任何构造函数，编译器不会自动提供一个默认的构造函数。只有当没有定义其他构造函数时，才会创建默认构造函数。</font>
                        </font>
                    </font>
                </p>
                <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">Note that it is possible to define constructors as <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">private</code> or <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">protected</code> so that
                    they are invisible to code in unrelated classes, too:<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">请注意，可以将构造函数定义为 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">private</code>
                                或 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">protected</code>
                                ，这样它们对无关类中的代码也是不可见的：</font>
                        </font>
                    </font>
                </p>
                <pre id="c03-code-0043"><code>public class MyNumber</code>
<code>{</code>
<code>  private int _number;</code>
<code>  <b>private</b> MyNumber(int number) =&gt; _number = number;</code>
<code>  //…</code>
<code>}</code></pre>
                <p id="c03-para-0098" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1"><span aria-label="73" epub:type="pagebreak" id="Page_73"
                        role="doc-pagebreak"
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"></span>An example in
                    which this is useful is to create a singleton where an instance can be created only from a static
                    factory method.<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">一个有用的例子是创建一个单例，其中实例只能从一个静态工厂方法中创建。
                            </font>
                        </font>
                    </font>
                </p>
                <section data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"><span id="c03-sec-0037"
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"></span>
                    <h4 id="head-4-22" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                        data-immersive-translate-paragraph="1">Expression Bodies with Constructors<font
                            class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">构造函数的表达式体</font>
                            </font>
                        </font>
                    </h4>
                    <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                        data-immersive-translate-paragraph="1">If the implementation of a constructor just consists of a
                        single expression, the constructor can be implemented with an expression-bodied implementation:
                        <font class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">
                                    如果构造函数的实现仅由单个表达式组成，则可以使用表达式体实现来编写构造函数：</font>
                            </font>
                        </font>
                    </p>
                    <pre id="c03-code-0044"><code>public class Singleton</code>
<code>{</code>
<code>  private static Singleton s_instance;</code>
<code>  private int _state;</code>
<code>  <b>private Singleton(int state) =&gt; _state = state;</b></code>
<code> </code>
<code>  public static Singleton Instance =&gt; s_instance ??= new Singleton(42);</code>
<code>}</code></pre>
                    <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                        data-immersive-translate-paragraph="1">You can also initialize multiple properties with a single
                        expression. You can do this using the tuple syntax as shown in the following code snippet. With
                        the <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Book</code>
                        constructor, two parameters are required. Putting these two variables in parentheses creates a
                        tuple. This tuple is then deconstructed and put into the properties specified with the left side
                        of the assignment operator. Behind the scenes, the compiler detects that tuples are not needed
                        for the initialization and creates the same code whether you initialize the properties within
                        curly brackets or with the tuple syntax shown:<font
                            class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">
                                    您还可以使用单个表达式初始化多个属性。您可以使用元组语法来完成此操作，如下面的代码片段所示。使用 <code
                                        xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Book</code>
                                    构造函数需要两个参数。将这两个变量放入括号中会创建一个元组。然后对这个元组进行解构，并将其放入赋值运算符左侧指定的属性中。在幕后，编译器检测到初始化不需要元组，并且无论您是在大括号内初始化属性还是使用显示的元组语法，都会生成相同的代码：
                                </font>
                            </font>
                        </font>
                    </p>
                    <pre id="c03-code-0045"><code>public class Book</code>
<code>{</code>
<code>  <b>public Book(string title, string publisher) =&gt;</b> </code>
<code>    <b>(Title, Publisher) = (title, publisher);</b></code>
<code> </code>
<code>  public string Title { get; }</code>
<code>  public string Publisher { get; }</code>
<code>}</code></pre>
                </section>
                <section data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"><span id="c03-sec-0038"
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"></span>
                    <h4 id="head-4-23" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                        data-immersive-translate-paragraph="1">Calling Constructors from Other Constructors<font
                            class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">从其他构造函数调用构造函数</font>
                            </font>
                        </font>
                    </h4>
                    <p id="c03-para-0101" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                        data-immersive-translate-paragraph="1">When you're creating multiple constructors in a class,
                        you shouldn't duplicate the implementation. Instead, one constructor can invoke another one from
                        a constructor initializer.<font class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">
                                    当你在类中创建多个构造函数时，你不应该重复实现。相反，一个构造函数可以从构造函数初始化器中调用另一个构造函数。</font>
                            </font>
                        </font>
                    </p>
                    <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                        data-immersive-translate-paragraph="1">Both constructors initialize the same fields. It would
                        clearly be tidier to place all the code in one location. C# has a special syntax known as a <i
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">constructor
                            initializer</i> to enable this:<font class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">
                                    两个构造函数初始化相同的字段。显然，将所有代码放在一个位置会更整洁。C#有一种特殊的语法，称为构造函数初始化器，可以实现这一点：</font>
                            </font>
                        </font>
                    </p>
                    <pre id="c03-code-0046"><code>class Car</code>
<code>{</code>
<code>  private string _description;</code>
<code>  private uint _nWheels;</code>
<code>  public Car(string description, uint nWheels)</code>
<code>  {</code>
<code>    _description = description;</code>
<code>    _nWheels = nWheels;</code>
<code>  }</code>
<code>  public Car(string description): <b>this(description, 4)</b></code>
<code>  {</code>
<code>  }</code>
<code>}</code></pre>
                    <p id="c03-para-0103" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                        data-immersive-translate-paragraph="1">In this context, the <code
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">this</code> keyword
                        simply causes the constructor with the matching parameters to be called. Note that any
                        constructor initializer is executed before the body of the constructor.<font
                            class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">在这种情况下， <code
                                        xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">this</code>
                                    关键字只是导致调用具有匹配参数的构造函数。请注意，任何构造函数初始化器都在构造函数的主体执行之前执行。</font>
                            </font>
                        </font>
                    </p>
                </section> <span aria-label="74" epub:type="pagebreak" id="Page_74" role="doc-pagebreak"
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"></span>
                <section data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"><span id="c03-sec-0039"
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"></span>
                    <h4 id="head-4-24" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                        data-immersive-translate-paragraph="1">Static Constructors<font
                            class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                            <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">静态构造函数</font>
                            </font>
                        </font>
                    </h4>
                    <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                        data-immersive-translate-paragraph="1">Static members of a class can be used before any instance
                        of this class is created (if any instance is created at all). To initialize static members, you
                        can create a static constructor. The static constructor has the same name as the class (similar
                        to an instance constructor), but the <code
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">static</code>
                        modifier is applied. This constructor cannot have an access modifier applied because it isn't
                        invoked from the code using the class. This constructor is automatically invoked before any
                        other member of this class is called or any instance is created:<font
                            class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">
                                    类的静态成员可以在该类的任何实例被创建之前使用（如果会创建任何实例的话）。要初始化静态成员，可以创建一个静态构造函数。静态构造函数与类名相同（类似于实例构造函数），但应用了
                                    <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">static</code>
                                    修饰符。这个构造函数不能应用访问修饰符，因为它不是从使用该类的代码中调用的。这个构造函数会在该类的任何其他成员被调用或任何实例被创建之前自动被调用：</font>
                            </font>
                        </font>
                    </p>
                    <pre id="c03-code-0047"><code>class MyClass</code>
<code>{</code>
<code>  static MyClass()</code>
<code>  {</code>
<code>    // initialization code</code>
<code>  }</code>
<code>  //…</code>
<code>}</code></pre>
                    <p id="c03-para-0105" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                        data-immersive-translate-paragraph="1">The .NET runtime makes no guarantees about when a static
                        constructor will be executed, so you should not place any code in it that relies on it being
                        executed at a particular time (for example, when an assembly is loaded). Nor is it possible to
                        predict in what order static constructors of different classes will execute. However, what is
                        guaranteed is that the static constructor will run at most once, and it will be invoked before
                        your code makes any reference to the class. In C#, the static constructor is usually executed
                        immediately before the first call to any member of the class.<font
                            class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">.NET
                                    运行时不保证静态构造函数何时执行，因此你不应该将其中的任何代码依赖于它在特定时间执行（例如，在程序集加载时）。也无法预测不同类的静态构造函数将按什么顺序执行。然而，保证的是静态构造函数最多执行一次，并且它将在你的代码引用类之前被调用。在
                                    C#中，静态构造函数通常在类中任何成员的第一次调用之前立即执行。</font>
                            </font>
                        </font>
                    </p>
                </section>
            </section>
            <section data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"><span id="c03-sec-0040"
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"></span>
                <h3 id="head-3-92" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">Local Functions <font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                        <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">局部函数</font>
                        </font>
                    </font>
                </h3>
                <p id="c03-para-0106" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">Methods with a <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">public</code> access
                    modifier can be invoked from outside of the class. Methods with a <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">private</code> access
                    modifier can be invoked from anywhere within the class (from other methods, property accessors,
                    constructors, and so on). To restrict this further, a <i
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">local function</i> can be
                    invoked only from within the method where the local function is declared. The local function has the
                    scope of the method and cannot be invoked from somewhere else.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">带有 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">public</code>
                                访问修饰符的方法可以从类外部调用。带有 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">private</code>
                                访问修饰符的方法可以从类的任何地方调用（从其他方法、属性访问器、构造函数等）。为了进一步限制，局部函数只能从声明该局部函数的方法内部调用。局部函数具有方法的范围，不能从其他地方调用。
                            </font>
                        </font>
                    </font>
                </p>
                <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">Within the method <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">IntroLocalFunctions</code>,
                    the local function <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Add</code> is defined.
                    Parameters and return types are implemented in the same way as a normal method. Similarly to a
                    normal method, a local function can be implemented by using curly brackets or with an
                    expression-bodied implementation as shown in the following code. Since C# 8, the local function can
                    have the <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">static</code>
                    modifier associated if the implementation doesn't access instance members defined with the class or
                    local variables of the method. With the <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">static</code> modifier,
                    the compiler makes sure this does not happen and can optimize the generated code. The local function
                    is invoked in the method itself; it cannot be invoked anywhere else in the class. Whether the local
                    function is declared before or after its use is just a matter of taste (code file <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">MethodSample/LocalFunctionsSample.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">在方法 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">IntroLocalFunctions</code>
                                中定义了局部函数 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Add</code>
                                。参数和返回类型与普通方法实现方式相同。与普通方法类似，局部函数可以使用大括号实现，也可以使用表达式主体实现，如下面的代码所示。自 C# 8
                                起，如果实现不访问类定义的实例成员或方法的局部变量，局部函数可以关联 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">static</code>
                                修饰符。使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">static</code>
                                修饰符时，编译器确保不会发生这种情况，并可以优化生成的代码。局部函数在方法本身中调用；它不能在类的其他任何地方调用。局部函数是在使用前声明还是在使用后声明只是个人喜好（代码文件
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">MethodSample/LocalFunctionsSample.cs</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c03-code-0048"><code>public static void IntroLocalFunctions()</code>
<code><b>{</b></code>
<code>  <b>static int Add(int x, int y) =&gt; x + y;</b></code>
<code> </code>
<code>  int result = Add(3, 7);</code>
<code>  Console.WriteLine("called the local function with this result: {result}");        </code>
<code>}</code></pre>
                <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">With the next code snippet, the local function <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Add</code> is declared
                    without the <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">static</code> modifier.
                    In the implementation, this function not only uses the variables specified with the arguments of the
                    function but also variable <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">z</code>, which is
                    specified in the outer scope of the local function, within the scope of the method. When accessing
                    the variable outside of its scope (known as <i
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">closure</i>), the
                    compiler creates a class where the data used within this function is passed in a constructor. Here,
                    the local function needs to be declared after the variables used within the local function. That's
                    why the local function is put at the end of the method <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">LocalFunctionWithClosure</code>
                    :<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">在下一个代码片段中，局部函数 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Add</code>
                                被声明而不带 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">static</code>
                                修饰符。在实现中，这个函数不仅使用函数参数指定的变量，还使用变量 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">z</code>
                                ，该变量在局部函数的外部作用域中、在方法的作用域内指定。当访问其作用域之外的变量（称为闭包）时，编译器会创建一个类，将在此函数中使用的数据通过构造函数传递。在这里，局部函数需要在使用局部函数内的变量之后声明。这就是为什么局部函数被放在方法
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">LocalFunctionWithClosure</code>
                                的末尾：</font>
                        </font>
                    </font>
                </p>
                <pre id="c03-code-0049"><code>public static void LocalFunctionWithClosure()</code>
<code>{</code>
<code>  int z = 3;<span aria-label="75" epub:type="pagebreak" id="Page_75" role="doc-pagebreak"></span></code>
<code> </code>
<code>  int result = Add(1, 2);</code>
<code>  Console.WriteLine("called the local function with this result: {result}");</code>
<code> </code>
<code>  <b>int Add(int x, int y) =&gt; x + y + z;</b></code>
<code>}</code></pre>
                <aside data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                    <div class="top hr" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                        <hr />
                    </div>
                    <section class="feature2" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                        <p id="c03-para-0110" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                            data-immersive-translate-paragraph="1"><b
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">NOTE</b> <i
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Local functions
                                can help with error handling when using deferred execution with the </i> <code
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">yield</code> <i
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"> statement. This
                                is shown in <a href="c09.xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Chapter
                                    9</a>, “Language Integrated Query.” With C# 9, local functions can have the </i>
                            <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">extern</code>
                            <i data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"> modifier. This is
                                shown for invoking native methods in <a href="c13.xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Chapter
                                    13</a>.</i>
                            <font class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">注意：在用 <code
                                            xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">yield</code>
                                        语句进行延迟执行时，局部函数有助于错误处理。这将在第 9 章“语言集成查询”中展示。从 C# 9 开始，局部函数可以有 <code
                                            xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">extern</code>
                                        修饰符。这将在第 13 章中展示如何调用原生方法。</font>
                                </font>
                            </font>
                        </p>
                        <div class="bottom hr" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                            <hr />
                        </div>
                    </section>
                </aside>
            </section>
            <section data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"><span id="c03-sec-0042"
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"></span>
                <h3 id="head-3-93" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">Generic Methods <font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                        <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">泛型方法 </font>
                        </font>
                    </font>
                </h3>
                <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">If you need implementations of methods that support multiple
                    types, you can implement generic methods. The method <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Swap&lt;T&gt;</code>
                    defines <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">T</code> as a
                    generic type that is used for two arguments and a local variable temp (code file <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">MeethodSample/GenericMethods.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">如果你需要支持多种类型的方法的实现，你可以实现泛型方法。方法
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Swap&lt;T&gt;</code>
                                定义 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">T</code>
                                为一个泛型类型，它用于两个参数和一个局部变量 temp（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">MeethodSample/GenericMethods.cs</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c03-code-0050"><code>class GenericMethods</code>
<code>{</code>
<code>  public static void Swap&lt;T&gt;(ref T x, ref T y)</code>
<code>  {</code>
<code>    T temp;</code>
<code>    temp = x;</code>
<code>    x = y;</code>
<code>    y = temp;</code>
<code>  }</code>
<code>}</code></pre>
                <aside data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                    <div class="top hr" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                        <hr />
                    </div>
                    <section class="feature2" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                        <p id="c03-para-0113" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                            data-immersive-translate-paragraph="1"><b
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">NOTE</b> <i
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">It's a convention
                                to use </i><code
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">T</code><i
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"> for the name of
                                the generic type. In case you need multiple generic types, you can use </i><code
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">T1</code><i
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">, </i><code
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">T2</code><i
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">, </i><code
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">T3</code><i
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">, and so on. For
                                specific generic types, you can also add a name—for example, </i><code
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">TKey</code><i
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"> and </i><code
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">TValue</code><i
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"> for generic
                                types representing the type of the key and the type of the value.</i>
                            <font class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">注意 使用 <code
                                            xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">T</code>
                                        作为泛型类型的名称是一种惯例。如果你需要多个泛型类型，可以使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">T1</code>
                                        、 <code xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">T2</code>
                                        、 <code xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">T3</code>
                                        等等。对于特定的泛型类型，你也可以添加一个名称——例如，使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">TKey</code>
                                        和 <code xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">TValue</code>
                                        表示代表键类型和值类型的泛型类型。</font>
                                </font>
                            </font>
                        </p>
                        <div class="bottom hr" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                            <hr />
                        </div>
                    </section>
                </aside>
                <aside data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                    <div class="top hr" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                        <hr />
                    </div>
                    <section class="feature2" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                        <p id="c03-para-0114" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                            data-immersive-translate-paragraph="1"><b
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">NOTE</b> <i
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">With generic
                                methods, you can also invoke members of the generic type other than members of the
                                object class if you define constraints and define that the generic type needs to
                                implement an interface or derive from a base class. This is explained in <a
                                    href="c04.xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Chapter 4</a>
                                where generic types are covered.</i>
                            <font class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">
                                        注意：通过泛型方法，如果你定义了约束并指定泛型类型需要实现一个接口或派生自一个基类，你还可以调用泛型类型中的成员而不仅仅是对象类的成员。这将在第 4
                                        章中介绍泛型类型时进行说明。</font>
                                </font>
                            </font>
                        </p>
                        <div class="bottom hr" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                            <hr />
                        </div>
                    </section>
                </aside>
            </section>
            <section data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"><span id="c03-sec-0045"
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"></span>
                <h3 id="head-3-94" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">Extension Methods <font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                        <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">扩展方法</font>
                        </font>
                    </font>
                </h3>
                <p id="c03-para-0115" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">With extension methods, you can create methods that extend
                    other types.<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">通过扩展方法，你可以创建扩展其他类型的方法。</font>
                        </font>
                    </font>
                </p>
                <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">The following code snippet defines the method <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">GetWordCount</code> that
                    is used to extend the <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">string</code> type. An
                    extension method is not defined by the name of the class but instead by using the <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">this</code> modifier with
                    the parameter. <span aria-label="76" epub:type="pagebreak" id="Page_76" role="doc-pagebreak"
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"></span>
                    <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">GetWordCount</code>
                    extends the string type because the parameter with the <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">this</code> modifier
                    (which needs to be the first parameter) is of type string. Extension methods need to be static and
                    declared in a static class (code file <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ExtensionMethods/StringExtensions.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">以下代码片段定义了用于扩展 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">string</code>
                                类型的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">GetWordCount</code>
                                方法。扩展方法不是通过类名来定义的，而是通过使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">this</code>
                                修饰符与参数一起使用来定义。 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">GetWordCount</code>
                                扩展了字符串类型，因为带有 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">this</code>
                                修饰符的参数（必须是第一个参数）是字符串类型。扩展方法必须是静态的，并且需要在静态类（代码文件 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ExtensionMethods/StringExtensions.cs</code>
                                ）中声明：</font>
                        </font>
                    </font>
                </p>
                <pre id="c03-code-0051"><code>public static class StringExtensions</code>
<code>{</code>
<code>  public static int GetWordCount(this string s) =&gt; s.Split().Length;           </code>
<code>}</code></pre>
                <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">To use this extension method, the namespace of the extension
                    class needs to be imported; then the method can be called in the same way as an instance method
                    (code file <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ExtensionMethods/Program.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">
                                要使用这个扩展方法，需要导入扩展类的命名空间；然后可以像调用实例方法一样调用该方法（代码文件 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ExtensionMethods/Program.cs</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c03-code-0052"><code>string fox = "the quick brown fox jumped over the lazy dogs";</code>
<code>int wordCount = <b>fox.GetWordCount();</b></code>
<code>Console.WriteLine($"{wordCount} words");</code>
<code>Console.ReadLine();</code></pre>
                <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">It might look like extension methods break object-oriented
                    rules in regard to inheritance and encapsulation because methods can be added to an existing type
                    without inheriting from it and without changing the type. However, you can only access public
                    members. Extension methods are really just “syntax sugar” because the compiler changes the
                    invocation of the method to call a static method that's passing the instance as the parameter, as
                    shown here:<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">
                                看起来扩展方法似乎违反了面向对象关于继承和封装的规则，因为可以在不继承该类型也不修改类型的情况下向现有类型添加方法。然而，你只能访问公共成员。扩展方法实际上只是“语法糖”，因为编译器会将方法的调用转换为调用一个将实例作为参数的静态方法，如下所示：
                            </font>
                        </font>
                    </font>
                </p>
                <pre id="c03-code-0053"><code>int wordCount = <b>StringExtensions.GetWordCount(fox);</b></code></pre>
                <p id="c03-para-0119" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">Why would you create extension methods instead of calling
                    static methods? The code can become a lot easier to read. Just check into the extension methods
                    implemented for LINQ (see <a href="c09.xhtml"
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Chapter 9</a>) or the
                    extension methods used to configure configuration and logging providers (see <a href="c15.xhtml"
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Chapter 15</a>,
                    “Dependency Injection and Configuration”).<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">
                                为什么你要创建扩展方法而不是调用静态方法？代码可以变得更容易阅读。只需查看为 LINQ 实现的扩展方法（见第 9 章）或用于配置配置和日志记录提供者的扩展方法（见第 15
                                章“依赖注入和配置”）。</font>
                        </font>
                    </font>
                </p>
            </section>
            <section data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"><span id="c03-sec-0046"
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"></span>
                <h3 id="head-3-95" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">Anonymous Types <font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                        <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">匿名类型</font>
                        </font>
                    </font>
                </h3>
                <p id="c03-para-0120" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1"><a href="c02.xhtml"
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Chapter 2</a> discusses
                    the <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">var</code> keyword
                    in reference to implicitly typed variables. When used with the <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">new</code> keyword, you
                    can create anonymous types. An <i
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">anonymous type</i> is
                    simply a nameless class that inherits from <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">object</code>. The
                    definition of the class is inferred from the initializer, just as with implicitly typed variables.
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">第 2 章讨论了关于隐式类型变量的 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">var</code>
                                关键字。当与 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">new</code>
                                关键字一起使用时，你可以创建匿名类型。匿名类型只是一个继承自 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">object</code>
                                的无名类。类的定义是从初始化器中推断出来的，就像隐式类型变量一样。</font>
                        </font>
                    </font>
                </p>
                <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">For example, if you need an object that contains a person's
                    first, middle, and last name, the declaration would look like this:<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">例如，如果你需要一个包含一个人的名、中名和姓的对象，声明将如下所示：
                            </font>
                        </font>
                    </font>
                </p>
                <pre id="c03-code-0054"><code>var captain = new</code>
<code>{</code>
<code>  FirstName = "James",</code>
<code>  MiddleName = "Tiberius",</code>
<code>  LastName = "Kirk"</code>
<code>};</code></pre>
                <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">This would produce an object with <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">FirstName</code>, <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">MiddleName</code>, and
                    <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">LastName</code>
                    read-only properties. If you were to create another object that looked like this:<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">这将生成一个具有 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">FirstName</code>
                                、 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">MiddleName</code>
                                和 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">LastName</code>
                                只读属性的对象。如果你要创建另一个看起来像这样的对象：</font>
                        </font>
                    </font>
                </p>
                <pre id="c03-code-0055"><code>var doctor = new</code>
<code>{</code>
<code>  FirstName = "Leonard",</code>
<code>  MiddleName = string.Empty,</code>
<code>  LastName = "McCoy"</code>
<code>};</code></pre>
                <p id="c03-para-0123" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">then the types of <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">captain</code> and <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">doctor</code> are the
                    same. You could set <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">captain = doctor</code>,
                    for example. This is possible only if all the properties match.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">那么 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">captain</code>
                                和 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">doctor</code>
                                的类型相同。你可以设置 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">captain = doctor</code>
                                ，例如。只有当所有属性匹配时才可能这样做。</font>
                        </font>
                    </font>
                </p>
                <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1"><span aria-label="77" epub:type="pagebreak" id="Page_77"
                        role="doc-pagebreak"
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"></span>The names for the
                    members of anonymous types can be inferred if the values that are being set come from another
                    object. This way, the initializer can be abbreviated. If you already have a class that contains the
                    properties <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">FirstName</code>, <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">MiddleName</code>, and
                    <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">LastName</code> and you
                    have an instance of that class with the instance name <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">person</code>, then the
                    <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">captain</code> object
                    could be initialized like this:<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">
                                如果设置值来自另一个对象，匿名类型的成员名称可以被推断。这样，初始化器可以简写。如果你已经有一个包含 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">FirstName</code>
                                、 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">MiddleName</code>
                                和 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">LastName</code>
                                属性的类，并且有一个该类的实例，实例名为 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">person</code>
                                ，那么 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">captain</code>
                                对象可以这样初始化：</font>
                        </font>
                    </font>
                </p>
                <pre id="c03-code-0056"><code>var captain = new</code>
<code>{</code>
<code>  person.FirstName,</code>
<code>  person.MiddleName,</code>
<code>  person.LastName</code>
<code>};</code></pre>
                <p id="c03-para-0125" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">The property names from the <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">person</code> object are
                    inferred in the new object named <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">captain</code>, so the
                    object named <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">captain</code> has <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">FirstName</code>, <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">MiddleName</code>, and
                    <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">LastName</code>
                    properties.<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">新对象 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">captain</code>
                                推断了 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">person</code>
                                对象的属性名称，所以对象 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">captain</code>
                                有 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">FirstName</code>
                                、 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">MiddleName</code>
                                和 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">LastName</code>
                                属性。</font>
                        </font>
                    </font>
                </p>
                <p id="c03-para-0126" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">The actual type name of anonymous types is unknown, which is
                    where the name comes from. The compiler “makes up” a name for the type, but only the compiler is
                    ever able to make use of it. Therefore, you can't and shouldn't plan on using any type reflection on
                    the new objects because you will not get consistent results.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">
                                匿名类型的实际类型名称是未知的，这也是其名称的来源。编译器为该类型“编造”一个名称，但只有编译器能使用它。因此，你不能也不应该计划在新对象上使用任何类型反射，因为你将不会得到一致的结果。
                            </font>
                        </font>
                    </font>
                </p>
            </section>
        </section>
        <section aria-labelledby="head-2-24" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
            <span id="c03-sec-0047" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"></span>
            <h2 id="head-2-24" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                data-immersive-translate-paragraph="1">RECORDS</h2>
            <p id="c03-para-0127" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                data-immersive-translate-paragraph="1">So far in this chapter, you've seen that records are reference
                types that support value semantics. This type allows reducing the code you need to write because the
                compiler automatically implements comparing records by value and gives some more features, which are
                explained in this section.<font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">
                            到目前为止，本章中你已经了解到记录是支持值语义的引用类型。这种类型可以减少你需要编写的代码量，因为编译器会自动通过值来比较记录，并提供一些更多功能，这些功能将在本节中解释。
                        </font>
                    </font>
                </font>
            </p>
            <section data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"><span id="c03-sec-0048"
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"></span>
                <h3 id="head-3-96" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">Immutable Types <font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                        <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">不可变类型</font>
                        </font>
                    </font>
                </h3>
                <p id="c03-para-0128" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">A main use case for records is to create immutable types
                    (although you can also create mutable types with records). An immutable type just contains members
                    where the state of the type cannot be changed. You can initialize such a type in a constructor or
                    with an object initializer, but you can't change any values afterward.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">
                                记录的主要用途是创建不可变类型（尽管你也可以用记录创建可变类型）。不可变类型仅包含成员，其状态不能被改变。你可以通过构造函数或对象初始化器来初始化这种类型，但之后无法再修改任何值。
                            </font>
                        </font>
                    </font>
                </p>
                <p id="c03-para-0129" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">Immutable types are useful with multithreading. When you're
                    using multiple threads to access the immutable object, you don't need to worry with synchronization
                    because the values cannot change.<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">
                                不可变类型在多线程环境中非常有用。当你使用多个线程访问不可变对象时，无需担心同步问题，因为值不会发生变化。</font>
                        </font>
                    </font>
                </p>
                <p id="c03-para-0130" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">An example of an immutable type is the <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">String</code> class. This
                    class does not define any member that is allowed to change its content. Methods such as <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ToUpper</code> (which
                    changes the string to uppercase) always return a new string, but the original string passed to the
                    constructor remains unchanged.<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">不可变类型的例子是 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">String</code>
                                类。这个类没有定义任何允许改变其内容的成员。像 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ToUpper</code>
                                （将字符串转换为大写）这样的方法总是返回一个新的字符串，但传入构造函数的原始字符串保持不变。</font>
                        </font>
                    </font>
                </p>
            </section>
            <section data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"><span id="c03-sec-0049"
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"></span>
                <h3 id="head-3-97" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">Nominal Records <font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                        <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">命名记录</font>
                        </font>
                    </font>
                </h3>
                <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">Records can be created in two kinds: nominal and positional
                    records. A nominal record looks like a class just using the <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">record</code> keyword
                    instead of the <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">class</code> keyword, as
                    shown with the type <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Book1</code>. Here,
                    init-only set accessors are used to forbid state changes after an instance has been created (code
                    file <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">RecordsSample/Program.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">记录可以创建为两种类型：命名记录和位置记录。命名记录看起来像使用
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">record</code>
                                关键字而不是 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">class</code>
                                关键字的一个类，如类型 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Book1</code>
                                所示。在这里，使用了仅初始化的设置访问器来禁止实例创建后状态的变化（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">RecordsSample/Program.cs</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c03-code-0057"><code>public record Book1</code>
<code>{</code>
<code>    public string Title { get; init; } = string.Empty;</code>
<code>    public string Publisher { get; init; } = string.Empty;</code>
<code>}</code></pre>
                <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">You can add constructors and all the other members you
                    learned about in this chapter. The compiler just creates a class with the record syntax. What's
                    different from classes is that the compiler creates some more functionality inside this class. The
                    compiler overrides the <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">GetHashCode</code> and
                    <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ToString</code> methods
                    of the base class <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">object</code>, creates
                    methods and operator overloads to compare different values for equality, and creates methods to
                    clone existing objects and create new ones where object initializers can be used to change some
                    property values.<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">
                                你可以添加构造函数和本章中学习到的其他所有成员。编译器只是使用记录语法创建一个类。与类不同的是，编译器在这个类内部创建了一些额外的功能。编译器会重写基类 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">object</code>
                                的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">GetHashCode</code>
                                和 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ToString</code>
                                方法，创建用于比较不同值是否相等的方法和运算符重载，并创建用于克隆现有对象和创建新对象的方法，其中可以使用对象初始化器来更改某些属性值。</font>
                        </font>
                    </font><span aria-label="78" epub:type="pagebreak" id="Page_78" role="doc-pagebreak"
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"></span></p>
                <aside data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                    <div class="top hr" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                        <hr />
                    </div>
                    <section class="feature2" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                        <p id="c03-para-0133" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                            data-immersive-translate-paragraph="1"><b
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">NOTE</b> <i
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">See <a
                                    href="c05.xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Chapter 5</a>
                                for information about operator overloads.</i>
                            <font class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">注意 请参阅第 5 章了解关于运算符重载的信息。
                                    </font>
                                </font>
                            </font>
                        </p>
                        <div class="bottom hr" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                            <hr />
                        </div>
                    </section>
                </aside>
            </section>
            <section data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"><span id="c03-sec-0051"
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"></span>
                <h3 id="head-3-98" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">Positional Records <font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                        <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">位置记录</font>
                        </font>
                    </font>
                </h3>
                <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">The second way to implement a record is to use the positional
                    record syntax. With this syntax, parentheses are used after the name of the record to specify the
                    members. This syntax has the name <i
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">primary constructor</i>.
                    The compiler creates a class from this code as well, with init-only set accessors for the types used
                    with the primary constructor and a constructor with the same parameters to initialize the properties
                    (code file <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">RecordsSample/Program.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">
                                实现记录的第二种方式是使用位置记录语法。使用这种语法时，在记录名称后面使用括号来指定成员。这种语法被称为主要构造器。编译器也会根据这段代码创建一个类，该类包含仅可设置的初始化访问器用于主要构造器中使用的类型，以及一个具有相同参数的构造器来初始化属性（代码文件
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">RecordsSample/Program.cs</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c03-code-0058"><code>public record Book2(string Title, string Publisher);</code></pre>
                <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">You can use curly brackets to add what you need to the
                    already existing implementation—for example, by adding overloaded constructors, methods, or any
                    other members you've seen earlier in this chapter:<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">
                                你可以使用花括号向已有的实现中添加所需内容——例如，通过添加重载构造器、方法或本章前面介绍过的任何其他成员：</font>
                        </font>
                    </font>
                </p>
                <pre id="c03-code-0059"><code>public record Book2(string Title, string Publisher)</code>
<code>{</code>
<code>  // add your members, overloads</code>
<code>}</code></pre>
                <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">As the compiler creates a constructor with parameters, you
                    can instantiate an object as you're used to—by passing the values to the constructor (code file
                    <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">RecordsSample/Program.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">
                                当编译器创建带参数的构造函数时，你可以像往常一样实例化对象——通过将值传递给构造函数（代码文件 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">RecordsSample/Program.cs</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c03-code-0060"><code>Book2 b2 = new("Professional C#", "Wrox Press");</code>
<code>Console.WriteLine(b2);</code></pre>
                <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">Because the compiler creates a <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ToString</code> method
                    that is implicitly invoked by passing the variable to the <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">WriteLine</code> method,
                    this is what's shown on the console: the name of the class followed by the property names with their
                    values in curly brackets:<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">因为编译器会创建一个 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ToString</code>
                                方法，该方法在将变量传递给 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">WriteLine</code>
                                方法时被隐式调用，所以控制台上显示的是：类名后跟属性名及其值，用花括号括起来：</font>
                        </font>
                    </font>
                </p>
                <pre id="c03-code-0061"><code>Book2 { Title = Professional C#, Publisher = Wrox Press }</code></pre>
                <p id="c03-para-0138" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">With positional records, the compiler creates the same
                    members as with nominal records and adds methods for deconstruction. Deconstruction is explained
                    later in this chapter in the section “Deconstruction.”<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">
                                使用位置记录时，编译器会创建与命名记录相同的成员，并添加用于解构的方法。解构将在本章的“解构”部分进行说明。</font>
                        </font>
                    </font>
                </p>
            </section>
            <section data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"><span id="c03-sec-0052"
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"></span>
                <h3 id="head-3-99" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">Equality Comparison with Records <font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">记录的相等比较</font>
                        </font>
                    </font>
                </h3>
                <p id="c03-para-0139" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">With classes, the default implementation for equality is to
                    compare the reference. Creating two new objects of the same type that are initialized to the same
                    values are different because they reference different objects in the heap. This is different with
                    records. With the equality implementation of records, two records are equal if their property values
                    are the same.<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">
                                对于类，默认的相等实现是比较引用。创建两个初始化为相同值的同类新对象是不同的，因为它们引用堆中的不同对象。这与记录不同。在记录的相等实现中，如果两个记录的属性值相同，则它们相等。
                            </font>
                        </font>
                    </font>
                </p>
                <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">In the following code snippet, two records that contain the
                    same values are created. The <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">object.ReferenceEquals</code>
                    method returns <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">false</code>, because
                    these are two different references. Using the equal operator <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">==</code> returns <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">true</code> because this
                    operator is implemented with the record type (code file <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">RecordsSample/Program.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">在以下代码片段中，创建了两个包含相同值的记录。 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">object.ReferenceEquals</code>
                                方法返回 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">false</code>
                                ，因为它们是两个不同的引用。使用相等运算符 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">==</code> 返回
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">true</code>
                                ，因为该运算符是使用记录类型实现的（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">RecordsSample/Program.cs</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c03-code-0062"><code>Book1 book1a = new() { Title = "Professional C#", Publisher = "Wrox Press" };</code>
<code>Book1 book1b = new() { Title = "Professional C#", Publisher = "Wrox Press" };</code>
<code>if (!object.ReferenceEquals(book1a, book1b)) </code>
<code>  Console.WriteLine("Two different references for equal records");</code>
<code> </code>
<code>if (book1a == book1b) </code>
<code>  Console.WriteLine("Both records have the same values");</code></pre>
                <p id="c03-para-0141" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1"><span aria-label="79" epub:type="pagebreak" id="Page_79"
                        role="doc-pagebreak"
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"></span>The record type
                    implements the <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">IEquality</code>
                    interface with the <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Equals</code> method, as
                    well as the equality <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">==</code> and the
                    inequality <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">!=</code>
                    operators.<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">记录类型实现了 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">IEquality</code>
                                接口和 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Equals</code>
                                方法，以及相等 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">==</code> 和不等
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">!=</code>
                                运算符。</font>
                        </font>
                    </font>
                </p>
            </section>
            <section data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"><span id="c03-sec-0053"
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"></span>
                <h3 id="head-3-100" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">With Expressions <font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                        <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">带表达式</font>
                        </font>
                    </font>
                </h3>
                <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">Records make it easy to create immutable types, but there's a
                    new feature with records for easily creating new record instances. The .NET Compiler Platform (also
                    known by the name Roslyn) is built with immutable objects and many <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">With</code> methods to
                    create new objects from existing ones. With the C# 9 enhancement, the <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">with</code> expressions,
                    there's a lot of simplification that can be used by the Roslyn team. The code created with the
                    record syntax includes a copy constructor and a Clone method with a hidden name where all the values
                    of the existing object are copied to a new instance that's returned from this method. The <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">with</code> expression
                    now makes use of this Clone method, and with the init-only set accessors, you can use object
                    initialization to set the values that should be different.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">
                                记录类型使得创建不可变类型变得容易，但记录类型有一个新特性可以轻松创建新的记录实例。.NET 编译器平台（也被称为 Roslyn）是构建在不可变对象和许多 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">With</code>
                                方法之上的，这些方法可以从现有对象创建新对象。随着 C# 9 的增强， <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">with</code>
                                表达式，Roslyn 团队可以使用很多简化。使用记录语法创建的代码包含一个拷贝构造函数和一个隐藏名称的 Clone 方法，该方法将现有对象的所有值复制到返回的新实例中。
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">with</code>
                                表达式现在利用了这个 Clone 方法，并且通过使用仅初始化的赋值访问器，你可以使用对象初始化来设置应该不同的值。</font>
                        </font>
                    </font>
                </p>
                <pre
                    id="c03-code-0063"><code>var aNewBook = book1a with { Title = "Professional C# and .NET - 2024" };</code></pre>
                <aside data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                    <div class="top hr" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                        <hr />
                    </div>
                    <section class="feature2" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                        <p id="c03-para-0144" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                            data-immersive-translate-paragraph="1"><b
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">NOTE</b> <i
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">See <a
                                    href="c04.xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Chapter 4</a>
                                for inheritance not only with classes but also with records.</i>
                            <font class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">注意 请参阅第 4 章
                                        了解不仅与类而且与记录的继承。</font>
                                </font>
                            </font>
                        </p>
                        <div class="bottom hr" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                            <hr />
                        </div>
                    </section>
                </aside>
            </section>
        </section>
        <section aria-labelledby="head-2-25" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
            <span id="c03-sec-0055" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"></span>
            <h2 id="head-2-25" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                data-immersive-translate-paragraph="1">STRUCTS<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                    <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">结构体</font>
                    </font>
                </font>
            </h2>
            <p id="c03-para-0145" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                data-immersive-translate-paragraph="1">So far, you have seen how classes and records offer a great way
                to encapsulate objects in your program. You have also seen how they are stored on the heap in a way that
                gives you much more flexibility in data lifetime but with a slight cost in performance. Objects stored
                in the heap require work from the garbage collector to remove the memory of the objects that are no
                longer needed. To reduce the work needed by the garbage collector, you can use the stack for smaller
                objects.<font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">
                            到目前为止，你已经看到了类和记录如何为程序中的对象提供了一种很好的封装方式。你还看到了它们如何在堆上存储，这种方式在数据生命周期上给了你更多的灵活性，但性能上略有损失。堆中存储的对象需要垃圾收集器的工作来删除不再需要的对象的内存。为了减少垃圾收集器的工作量，你可以使用栈来存储较小的对象。
                        </font>
                    </font>
                </font>
            </p>
            <p id="c03-para-0146" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                data-immersive-translate-paragraph="1"><a href="c02.xhtml"
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Chapter 2</a> discusses
                predefined value types such as <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">int</code> and <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">double</code>, which are
                represented as a struct type. You can create such structs on your own.<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">第 2 章讨论了预定义值类型，如 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">int</code> 和
                            <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">double</code>
                            ，它们表示为结构体类型。你可以自己创建这样的结构体。</font>
                    </font>
                </font>
            </p>
            <p id="c03-para-0147" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                data-immersive-translate-paragraph="1">Just by using the <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">struct</code> keyword instead
                of the <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">class</code>
                keyword, the type is by default stored in the stack instead of the heap.<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">仅通过使用 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">struct</code>
                            关键字代替 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">class</code>
                            关键字，类型默认存储在栈上而不是堆上。</font>
                    </font>
                </font>
            </p>
            <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                data-immersive-translate-paragraph="1">The following code snippet defines a struct called <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Dimensions</code>, which
                simply stores the length and width of an item. Suppose you're writing a furniture-arranging program that
                enables users to experiment with rearranging their furniture on the computer, and you want to store the
                dimensions of each item of furniture. All you have is two numbers, which you'll find convenient to treat
                as a pair rather than individually. There is no need for a lot of methods, or for you to be able to
                inherit from the class, and you certainly don't want to have the .NET runtime go to the trouble of
                bringing in the heap, with all the performance implications, just to store two <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">double</code>
                s (code file <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">StructsSample/Dimensions.cs</code>):
                <font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">以下代码片段定义了一个名为 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Dimensions</code>
                            的结构体，它简单地存储了物品的长度和宽度。假设你正在编写一个家具排列程序，允许用户在计算机上尝试重新排列他们的家具，并且你想存储每个家具的尺寸。你只有两个数字，发现将它们视为一对比单独处理更方便。不需要很多方法，也不需要你能够从类中继承，而且你当然不希望.NET
                            运行时为了存储两个 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">double</code>
                            而费事地引入堆，以及所有相关的性能影响（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">StructsSample/Dimensions.cs</code>
                            ）：</font>
                    </font>
                </font>
            </p>
            <pre id="c03-code-0064"><code>public <b>readonly struct</b> Dimensions</code>
<code>{</code>
<code>  public Dimensions(double length, double width)</code>
<code>  {</code>
<code>    Length = length;</code>
<code>    Width = width;</code>
<code>  }</code>
<code> </code>
<code>  public double Length { get; }</code>
<code>  public double Width { get; }</code>
<code>  //…</code>
<code>}</code></pre>
            <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"><span aria-label="80"
                    epub:type="pagebreak" id="Page_80" role="doc-pagebreak"
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"></span></p>
            <aside data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                <div class="top hr" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                    <hr />
                </div>
                <section class="feature2" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                    <p id="c03-para-0150" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                        data-immersive-translate-paragraph="1"><b
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">NOTE</b> <i
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">If the members of a
                            struct don't change any state (other than the constructors), the struct can be declared with
                            the</i> <code
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">readonly</code> <i
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">modifier. The
                            compiler will make sure you don't add any members that change state.</i>
                        <font class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">
                                    注意：如果结构体的成员不会改变任何状态（除了构造函数），可以使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">readonly</code>
                                    修饰符声明该结构体。编译器将确保你不会添加任何会改变状态的成员。</font>
                            </font>
                        </font>
                    </p>
                    <div class="bottom hr" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                        <hr />
                    </div>
                </section>
            </aside>
            <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                data-immersive-translate-paragraph="1">Defining members for structs is done in the same way as defining
                them for classes and records. You've already seen a constructor with the <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Dimensions</code> struct. The
                following code demonstrates adding the property <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Diagonal</code> invoking the
                <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Sqrt</code> method of the
                <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Math</code> class (code
                file <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">StructsSample/Dimensions.cs</code>):
                <font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">为结构体定义成员的方式与为类和记录定义成员的方式相同。你已经见过带
                            <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Dimensions</code>
                            的结构体构造函数。以下代码演示了如何添加 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Diagonal</code>
                            属性，调用 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Math</code> 类的
                            <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Sqrt</code>
                            方法（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">StructsSample/Dimensions.cs</code>
                            ）：</font>
                    </font>
                </font>
            </p>
            <pre id="c03-code-0065"><code>public struct Dimensions</code>
<code>{</code>
<code>  //…</code>
<code>  public double Diagonal =&gt; Math.Sqrt(Length * Length + Width * Width);</code>
<code>}</code></pre>
            <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                data-immersive-translate-paragraph="1">Structs make use of the previously discussed pass by value
                semantics, where values are copied. This is not the only difference with classes and records:<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">
                            结构体使用前面讨论的按值传递语义，其中值会被复制。这与类和记录的不同之处不仅于此：</font>
                    </font>
                </font>
            </p>
            <ul class="check" id="c03-list-0003" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                <li id="c03-li-0022" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">Structs do not support inheritance. You can implement
                    interfaces with structs but not derive from another struct.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">结构体不支持继承。你可以用结构体实现接口，但不能从另一个结构体派生。
                            </font>
                        </font>
                    </font>
                </li>
                <li id="c03-li-0023" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">Structs always have a default constructor. With a class, if
                    you define a constructor, the default constructor no longer gets generated. The struct type is
                    different than a class. A struct always has a default constructor, and you cannot create a custom
                    parameterless constructor.<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">
                                结构体总是有一个默认构造函数。对于类，如果你定义了构造函数，默认构造函数将不再生成。结构体类型与类不同。结构体总是有一个默认构造函数，你不能创建自定义的无参构造函数。
                            </font>
                        </font>
                    </font>
                </li>
                <li id="c03-li-0024" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">With a struct, you can specify how the fields are laid out in
                    memory. This is examined in <a href="c13.xhtml"
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Chapter 13</a>.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">使用结构体，你可以指定字段在内存中的布局。这将在第 13 章中讨论。
                            </font>
                        </font>
                    </font>
                </li>
                <li id="c03-li-0025" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">Structs are stored on the stack or inline (if they are part
                    of another object that is stored on the heap). When a struct is used as an object (for example,
                    passed to an object parameter or an object-based method is invoked), boxing occurs, and the value is
                    copied to the heap as well.<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">
                                结构体存储在栈上或内联（如果它们是存储在堆上的另一个对象的一部分）。当结构体作为对象使用时（例如，传递给对象参数或调用基于对象的方法），会发生装箱，值也会被复制到堆上。
                            </font>
                        </font>
                    </font>
                </li>
            </ul>
        </section>
        <section aria-labelledby="head-2-26" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
            <span id="c03-sec-0057" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"></span>
            <h2 id="head-2-26" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                data-immersive-translate-paragraph="1">ENUM TYPES<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                    <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">枚举类型</font>
                    </font>
                </font>
            </h2>
            <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                data-immersive-translate-paragraph="1">An enumeration is a value type that contains a list of named
                constants, such as the <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Color</code> type shown here.
                The enumeration type is defined by using the <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">enum</code> keyword:<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">枚举是一种值类型，它包含一个命名常量的列表，例如这里显示的 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Color</code>
                            类型。枚举类型使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">enum</code>
                            关键字定义：</font>
                    </font>
                </font>
            </p>
            <pre id="c03-code-0066"><code>public enum Color</code>
<code>{</code>
<code>  Red,</code>
<code>  Green,</code>
<code>  Blue</code>
<code>}</code></pre>
            <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                data-immersive-translate-paragraph="1">You can declare variables of <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">enum</code> types, such as
                the variable <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">c1</code>, and
                assign a value from the enumeration by setting one of the named constants prefixed with the name of the
                <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">enum</code> type (code file
                <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">EnumSample/Program.cs</code>):
                <font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">你可以声明 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">enum</code>
                            类型的变量，例如变量 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">c1</code> ，并通过设置以
                            <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">enum</code>
                            类型名称为前缀的命名常量之一，从枚举中分配一个值（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">EnumSample/Program.cs</code>
                            ）：</font>
                    </font>
                </font>
            </p>
            <pre id="c03-code-0067"><code>void ColorSamples()</code>
<code>{</code>
<code>  Color c1 = Color.Red;</code>
<code>  Console.WriteLine(c1);</code>
<code> </code>
<code>  //…</code>
<code>}</code></pre>
            <p id="c03-para-0155" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                data-immersive-translate-paragraph="1">When you run the program, the console output shows <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Red</code>, which is the
                constant value of the enumeration.<font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">当你运行程序时，控制台输出显示 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Red</code>
                            ，这是枚举的常量值。</font>
                    </font>
                </font>
            </p>
            <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                data-immersive-translate-paragraph="1"><span aria-label="81" epub:type="pagebreak" id="Page_81"
                    role="doc-pagebreak"
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"></span>By default, the type
                behind the enum type is an <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">int</code>. You can change
                the underlying type to other integral types (<code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">byte</code>, <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">short</code>, <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">int</code>, <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">long</code> with signed and
                unsigned variants). The values of the named constants are incremental values starting with 0, but you
                can change them to other values (code file <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">EnumSample/Color.cs</code>):
                <font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">默认情况下，枚举类型背后的类型是 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">int</code>
                            。你可以将底层类型更改为其他整数类型（ <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">byte</code> 、
                            <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">short</code> 、
                            <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">int</code> 、
                            <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">long</code>
                            ，包括有符号和无符号变体）。命名的常量的值从 0 开始递增，但你可以将它们更改为其他值（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">EnumSample/Color.cs</code>
                            ）：</font>
                    </font>
                </font>
            </p>
            <pre id="c03-code-0068"><code>public enum Color : short</code>
<code>{</code>
<code>  Red = 1,</code>
<code>  Green = 2,</code>
<code>  Blue = 3</code>
<code>}</code></pre>
            <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                data-immersive-translate-paragraph="1">You can change a number to an enumeration value and back using
                casts.<font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">你可以使用强制类型转换将一个数字转换为枚举值，反之亦然。</font>
                    </font>
                </font>
            </p>
            <pre id="c03-code-0069"><code>Color c2 = (Color)2;</code>
<code>short number = (short)c2;</code></pre>
            <p id="c03-para-0158" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                data-immersive-translate-paragraph="1">You can also use an enum type to assign multiple options to a
                variable and not just one of the enum constants. To make exclusive enum values, the numbers assigned to
                the values should each set a single different bit.<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">
                            你也可以使用枚举类型为变量分配多个选项，而不仅仅是一个枚举常量。要使枚举值互斥，分配给每个值的数字应该各自设置一个不同的位。</font>
                    </font>
                </font>
            </p>
            <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                data-immersive-translate-paragraph="1">The enum type <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">DaysOfWeek</code> defines
                different values for every day. Setting different bits can be done easily using hexadecimal values that
                are assigned using the <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">0x</code> prefix. The <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Flags</code> attribute is
                information for the compiler for creating a different string representation of the values—for example,
                setting the value <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">3</code>
                to a variable of <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">DaysOfWeek</code> results in
                <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Monday, Tuesday</code> when
                you use the <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Flags</code>
                attribute (code file <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">EnumSample/DaysOfWeek.cs</code>):
                <font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">枚举类型 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">DaysOfWeek</code>
                            定义了每一天的不同值。使用十六进制值并使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">0x</code>
                            前缀可以轻松设置不同的位。 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Flags</code>
                            属性是编译器用于创建值的不同字符串表示形式的信息—for 例如，将值 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">3</code> 设置为
                            <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">DaysOfWeek</code>
                            类型的变量时，当你使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Flags</code>
                            属性时，结果会是 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Monday, Tuesday</code>
                            （代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">EnumSample/DaysOfWeek.cs</code>
                            ）：</font>
                    </font>
                </font>
            </p>
            <pre id="c03-code-0070"><code>[Flags]</code>
<code>public enum DaysOfWeek</code>
<code>{</code>
<code>  Monday = 0x1,</code>
<code>  Tuesday = 0x2,</code>
<code>  Wednesday = 0x4,</code>
<code>  Thursday = 0x8,</code>
<code>  Friday = 0x10,</code>
<code>  Saturday = 0x20,</code>
<code>  Sunday = 0x40</code>
<code>}</code></pre>
            <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                data-immersive-translate-paragraph="1">With such an enum declaration, you can assign a variable multiple
                values using the logical OR operator (code file <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">EnumSample/Program.cs</code>):
                <font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">使用这样的枚举声明，你可以使用逻辑或运算符为变量赋多个值（代码文件
                            <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">EnumSample/Program.cs</code>
                            ）：</font>
                    </font>
                </font>
            </p>
            <pre id="c03-code-0071"><code>DaysOfWeek mondayAndWednesday = DaysOfWeek.Monday | DaysOfWeek.Wednesday;</code>
<code>Console.WriteLine(mondayAndWednesday);</code></pre>
            <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                data-immersive-translate-paragraph="1">When you run the program, the output is a string representation
                of the days:<font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">当你运行程序时，输出是日期的字符串表示：</font>
                    </font>
                </font>
            </p>
            <pre id="c03-code-0072"><code>Monday, Wednesday</code></pre>
            <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                data-immersive-translate-paragraph="1">When you set different bits, you also can combine single bits to
                cover multiple values, such as <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Weekend</code> with a value
                of <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">0x60</code>. The value
                <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">0x60</code> is created by
                combining <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Saturday</code>
                and <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Sunday</code> with the
                logical OR operator. <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Workday</code> is set to
                <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">0x1f</code> to combine all
                days from <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Monday</code> to
                <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Friday</code>, and <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">AllWeek</code> to combine
                <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Workday</code> and <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Weekend</code> with the
                logical OR operator (code file <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">EnumSample/DaysOfWeek.cs</code>):
                <font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">当你设置不同的位时，你也可以将单个位组合起来覆盖多个值，例如 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Weekend</code>
                            的值为 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">0x60</code> 。值
                            <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">0x60</code> 是通过将
                            <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Saturday</code> 和
                            <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Sunday</code>
                            使用逻辑 OR 运算符组合创建的。 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Workday</code>
                            被设置为 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">0x1f</code> 以组合从
                            <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Monday</code> 到
                            <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Friday</code>
                            的所有日期，而 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">AllWeek</code>
                            使用逻辑 OR 运算符组合 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Workday</code> 和
                            <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Weekend</code>
                            （代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">EnumSample/DaysOfWeek.cs</code>
                            ）：</font>
                    </font>
                </font>
            </p>
            <pre id="c03-code-0073"><code>[Flags]</code>
<code>public enum DaysOfWeek</code>
<code>{</code>
<code>  Monday = 0x1,</code>
<code>  Tuesday = 0x2,</code>
<code>  Wednesday = 0x4,</code>
<code>  Thursday = 0x8,</code>
<code>  Friday = 0x10,<span aria-label="82" epub:type="pagebreak" id="Page_82" role="doc-pagebreak"></span></code>
<code>  Saturday = 0x20,</code>
<code>  Sunday = 0x40,</code>
<code>  Weekend = Saturday | Sunday,</code>
<code>  Workday = 0x1f,</code>
<code>  AllWeek = Workday | Weekend</code>
<code>}</code></pre>
            <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                data-immersive-translate-paragraph="1">With this in place, you can assign <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">DaysOfWeek.Weekend</code>
                directly to a variable, but assigning the separate values <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">DaysOfWeek.Saturday</code>
                and <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">DaysOfWeek.Sunday</code>
                combined with the logical OR operator gives the same result. The output shown is the string
                representation of <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Weekend</code>
                :<font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">有了这个设置，你可以直接将 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">DaysOfWeek.Weekend</code>
                            分配给一个变量，但将单独的值 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">DaysOfWeek.Saturday</code>
                            和 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">DaysOfWeek.Sunday</code>
                            使用逻辑 OR 运算符组合起来也会得到相同的结果。显示的输出是 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Weekend</code>
                            的字符串表示：</font>
                    </font>
                </font>
            </p>
            <pre id="c03-code-0074"><code>DaysOfWeek weekend = DaysOfWeek.Saturday | DaysOfWeek.Sunday;</code>
<code>Console.WriteLine(weekend);</code></pre>
            <p id="c03-para-0164" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                data-immersive-translate-paragraph="1">When you're working with enumerations, the class <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Enum</code> is sometimes a
                big help for dynamically getting some information about enum types. <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Enum</code> offers methods to
                parse strings to get the corresponding enumeration constant and to get all the names and values of an
                enum type.<font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">在使用枚举时，类 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Enum</code>
                            有时能帮助动态获取一些关于枚举类型的信息。 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Enum</code>
                            提供了将字符串解析为对应枚举常量的方法，以及获取枚举类型所有名称和值的方法。</font>
                    </font>
                </font>
            </p>
            <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                data-immersive-translate-paragraph="1">The following code snippet uses a string to get the corresponding
                <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Color</code> value using
                <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Enum.TryParse</code> (code
                file <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">EnumSample/Program.cs</code>):
                <font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">以下代码片段使用字符串获取对应的 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Color</code> 值，使用
                            <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Enum.TryParse</code>
                            （代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">EnumSample/Program.cs</code>
                            ）：</font>
                    </font>
                </font>
            </p>
            <pre id="c03-code-0075"><code>if (Enum.TryParse&lt;Color&gt;("Red", out Color red))</code>
<code>{</code>
<code>  Console.WriteLine($"successfully parsed {red}");</code>
<code>}</code></pre>
            <aside data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                <div class="top hr" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                    <hr />
                </div>
                <section class="feature2" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                    <p id="c03-para-0167" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                        data-immersive-translate-paragraph="1"><b
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">NOTE</b> 
                        <code
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Enum.TryParse</code>
                        <i data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"> is a generic method
                            where </i> <code
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">T</code> <i
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"> is a generic
                            parameter type. The return value is a Boolean to return </i> <code
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">true</code> <i
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"> when parsing
                            succeeded. To return the parsed enum result, the </i> <code
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">out</code> <i
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"> keyword is used as a
                            modifier of the parameter. With the </i> <code
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">out</code> <i
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"> keyword, you can
                            specify to return multiple values from a method. This keyword is discussed in the next
                            section.</i>
                        <font class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">注意 <code
                                        xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Enum.TryParse</code>
                                    是一个通用方法，其中 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">T</code>
                                    是一个通用参数类型。返回值是一个布尔值，用于在解析成功时返回 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">true</code>
                                    。要返回解析的枚举结果，使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">out</code>
                                    关键字作为参数的修饰符。使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">out</code>
                                    关键字，你可以指定从方法返回多个值。这个关键字将在下一节讨论。</font>
                            </font>
                        </font>
                    </p>
                    <div class="bottom hr" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                        <hr />
                    </div>
                </section>
            </aside>
            <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                data-immersive-translate-paragraph="1">The <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Enum.GetNames</code> method
                returns a string array of all the names of the enumeration:<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1"> <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Enum.GetNames</code>
                            方法返回一个包含所有枚举名称的字符串数组：</font>
                    </font>
                </font>
            </p>
            <pre id="c03-code-0076"><code>foreach (var color in Enum.GetNames(typeof(Color)))</code>
<code>{</code>
<code>  Console.WriteLine(color);</code>
<code>}</code></pre>
            <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                data-immersive-translate-paragraph="1">When you run the application, this is the output:<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">运行应用程序时，输出如下：</font>
                    </font>
                </font>
            </p>
            <pre id="c03-code-0077"><code>Red</code>
<code>Green</code>
<code>Blue</code></pre>
            <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                data-immersive-translate-paragraph="1">To get all the values of the enumeration, you can use the method
                <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Enum.GetValues</code>. To
                get the integral value, it needs to be cast to the underlying type of the enumeration, which is done by
                the <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">foreach</code>
                statement:<font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">要获取枚举的所有值，可以使用方法 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Enum.GetValues</code>
                            。要获取整数值，需要将其转换为枚举的底层类型，这通过 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">foreach</code>
                            语句完成：</font>
                    </font>
                </font>
            </p>
            <pre id="c03-code-0078"><code>foreach (short color in Enum.GetValues(typeof(Color)))</code>
<code>{</code>
<code>  Console.WriteLine(color);</code>
<code>}</code></pre>
        </section> <span aria-label="83" epub:type="pagebreak" id="Page_83" role="doc-pagebreak"
            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"></span>
        <section aria-labelledby="head-2-27" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
            <span id="c03-sec-0059" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"></span>
            <h2 id="head-2-27" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                data-immersive-translate-paragraph="1">REF, IN, AND OUT<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">REF，IN，和 OUT</font>
                    </font>
                </font>
            </h2>
            <p id="c03-para-0171" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                data-immersive-translate-paragraph="1">A <i
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">value type</i> is passed by
                value; thus, the value of a variable is copied when assigned to another variable, such as when it's
                passed to a method. There's a way around that. If you use the <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ref</code> keyword, a value
                type is passed by reference. In this section, you learn about the parameter and return type modifiers
                <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ref</code>, <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">in</code>, and <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">out</code>.<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">
                            值类型按值传递；因此，当将一个变量的值赋给另一个变量时，例如传递给方法时，其值会被复制。有办法绕过这一点。如果你使用 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ref</code>
                            关键字，值类型将按引用传递。在本节中，你将学习关于参数和返回类型修饰符 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ref</code> 、
                            <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">in</code> 和 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">out</code> 。
                        </font>
                    </font>
                </font>
            </p>
            <section data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"><span id="c03-sec-0060"
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"></span>
                <h3 id="head-3-101" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">ref Parameters <font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                        <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">ref 参数 </font>
                        </font>
                    </font>
                </h3>
                <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">The following code snippet defines the method <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ChangeAValueType</code>,
                    where an <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">int</code> is
                    passed by reference. Remember, the <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">int</code> is declared as
                    struct, so this behavior is valid with custom structs as well. By default, the <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">int</code> would be
                    passed by value. Because of the <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ref</code> modifier, the
                    <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">int</code> is passed by
                    reference (using an address of the <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">int</code> variable).
                    Within the implementation, now the variable named <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">x</code> references the
                    same data on the stack as the variable <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">a</code> does. Changing
                    the value of <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">x</code>
                    also changes the value of <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">a</code>, so after the
                    invocation, the variable <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">a</code> contains the
                    value <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">2</code> (code
                    file <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">RefInOutSample/Program.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">以下代码片段定义了方法 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ChangeAValueType</code>
                                ，其中 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">int</code>
                                按引用传递。记住， <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">int</code>
                                被声明为 struct，因此这种行为对自定义 struct 也有效。默认情况下， <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">int</code>
                                会按值传递。由于 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ref</code>
                                修饰符， <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">int</code>
                                按引用传递（使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">int</code>
                                变量的地址）。在实现中，现在名为 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">x</code>
                                的变量引用了与 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">a</code>
                                变量相同的栈上的数据。改变 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">x</code>
                                的值也会改变 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">a</code>
                                的值，所以在调用后，变量 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">a</code> 包含值
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">2</code>
                                （代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">RefInOutSample/Program.cs</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c03-code-0079"><code>int a = 1;</code>
<code>ChangeAValueType(<b>ref a</b>);</code>
<code>Console.WriteLine($"the value of a changed to {a}");</code>
<code> </code>
<code>void ChangeAValueType(<b>ref int x</b>)</code>
<code>{</code>
<code>  x = 2;</code>
<code>}</code></pre>
                <p id="c03-para-0173" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">Passing a value type by reference requires the <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ref</code> keyword with
                    the method declaration and when calling the method. This is important information for the caller;
                    knowing the method receiving this value type can change the content.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">按引用传递值类型需要在方法声明和调用方法时使用 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ref</code>
                                关键字。这对调用者来说很重要；知道接收此值类型的方法可能会改变内容。</font>
                        </font>
                    </font>
                </p>
                <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">Now you might wonder if it could be useful to pass a
                    reference by using the <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ref</code> keyword.
                    Passing a reference allows the method to change the content anyway. Indeed, it can be useful, as the
                    following code snippet demonstrates. The method <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ChangingAReferenceByReference</code>
                    specifies the <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ref</code> modifier with
                    the argument of type <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">SomeData</code>, which is
                    a class. In the implementation, first the value of the <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Value</code> property is
                    changed to <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">2</code>.
                    After this, a new instance is created, which references an object with a <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Value</code> of <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">3</code>. If you try to
                    remove the <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ref</code>
                    keyword from the method declaration, as well as the invocation of this method, after the invocation
                    <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">data1.Value</code> has
                    the value <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">2</code>.
                    Without the <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ref</code>
                    keyword, the <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">data1</code> variable
                    references the object on the heap and the <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">data</code> variable at
                    the beginning of the method. After creating a new object, the <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">data</code> variable
                    references a new object on the heap, which then contains the value <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">3</code>. With the <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ref</code> keyword used
                    as in the sample, the <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">data</code> variable
                    references the <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">data1</code> variable;
                    it's a pointer to a pointer. This way, a new instance can be created within the <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ChangingAReferenceByRef</code>
                    method, and the variable <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">data1</code> references
                    this new object instead of the old one:<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">现在你可能会想，使用 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ref</code>
                                关键字传递引用是否会有用。传递引用允许方法任意修改内容。确实有用，以下代码片段就展示了这一点。方法 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ChangingAReferenceByReference</code>
                                指定了 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ref</code>
                                修饰符，其参数类型为 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">SomeData</code>
                                ，即一个类。在实现中，首先将 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Value</code>
                                属性的值改为 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">2</code>
                                。之后，创建了一个新实例，它引用了一个具有 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Value</code>
                                为 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">3</code>
                                的对象。如果你尝试从方法声明中移除 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ref</code>
                                关键字，以及调用这个方法，调用后 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">data1.Value</code>
                                的值为 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">2</code> 。没有
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ref</code>
                                关键字， <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">data1</code>
                                变量引用堆上的对象，而方法的开始处是 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">data</code>
                                变量。创建新对象后， <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">data</code>
                                变量引用堆上的新对象，其中包含值 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">3</code>
                                。使用示例中的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ref</code>
                                关键字， <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">data</code>
                                变量引用了 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">data1</code>
                                变量；它是一个指向指针的指针。这样，可以在 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ChangingAReferenceByRef</code>
                                方法内部创建一个新实例，而变量 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">data1</code>
                                引用这个新对象而不是旧对象：</font>
                        </font>
                    </font>
                </p>
                <pre id="c03-code-0080"><code>SomeData data1 = new() { Value = 1 };</code>
<code>ChangingAReferenceByRef(ref data1);</code>
<code>Console.WriteLine($"the new value of data1.Value is: {data1.Value}");</code>
<code> </code>
<code>void ChangingAReferenceByRef(ref SomeData data)</code>
<code>{</code>
<code>  data.Value = 2;</code>
<code>  data = new SomeData { Value = 3 };</code>
<code>}</code>
<code> </code>
<code>class SomeData</code>
<code>{</code>
<code>  public int Value { get; set; }</code>
<code>}</code></pre>
            </section> <span aria-label="84" epub:type="pagebreak" id="Page_84" role="doc-pagebreak"
                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"></span>
            <section data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"><span id="c03-sec-0061"
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"></span>
                <h3 id="head-3-102" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">in Parameters <font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                        <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">在参数中</font>
                        </font>
                    </font>
                </h3>
                <p id="c03-para-0175" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">If you want to avoid the overhead of copying a value type
                    when passing it to a method but don't want to change the value within the method, you can use the
                    <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">in</code> modifier.
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">
                                如果你希望在将值类型传递给方法时避免复制开销，但又不想在方法中修改值，可以使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">in</code>
                                修饰符。</font>
                        </font>
                    </font>
                </p>
                <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">For the next sample code, the <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">SomeValue</code> struct,
                    which contains four <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">int</code> values, is
                    defined (code file <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">RefInOutSample/Program.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">在下一个示例代码中，定义了一个包含四个 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">int</code> 值的
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">SomeValue</code>
                                结构体（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">RefInOutSample/Program.cs</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c03-code-0081"><code>struct SomeValue</code>
<code>{</code>
<code>  public SomeValue(int value1, int value2, int value3, int value4)</code>
<code>  {</code>
<code>    Value1 = value1;</code>
<code>    Value2 = value2;</code>
<code>    Value3 = value3;</code>
<code>    Value4 = value4;</code>
<code>  }</code>
<code>  public int Value1 { get; set; }</code>
<code>  public int Value2 { get; set; }</code>
<code>  public int Value3 { get; set; }</code>
<code>  public int Value4 { get; set; }</code>
<code>}</code></pre>
                <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">If you declare a method where the <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">SomeValue</code> struct
                    is passed as an argument, the four <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">int</code> values need to
                    be copied on method invocation. When you use the <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ref</code> keyword, you
                    don't need a copy, and you can pass a reference. However, with the <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ref</code> keyword, the
                    caller might not want the called method to make any change. To guarantee that changes are not
                    happening, you use the <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">in</code> modifier. With
                    this modifier, a pass by reference is happening, but the compiler does not allow change to any value
                    when the data variable is used. Data is now a read-only variable:<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">如果你声明一个方法，其中 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">SomeValue</code>
                                结构体作为参数传递，那么在方法调用时需要复制四个 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">int</code>
                                值。当你使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ref</code>
                                关键字时，不需要复制，可以直接传递引用。然而，使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ref</code>
                                关键字时，调用者可能不希望被调用的方法进行任何修改。为了保证不会发生修改，你使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">in</code>
                                修饰符。有了这个修饰符，进行的是引用传递，但编译器不允许在数据变量使用时修改任何值。数据现在是一个只读变量：</font>
                        </font>
                    </font>
                </p>
                <pre id="c03-code-0082"><code>void PassValueByReferenceReadonly(<b>in</b> SomeValue data)</code>
<code>{</code>
<code>  // data.Value1 = 4; - you cannot change a value, it's a read-only variable!</code>
<code>}</code></pre>
            </section>
            <section data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"><span id="c03-sec-0062"
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"></span>
                <h3 id="head-3-103" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">ref return <font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                        <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">ref 返回</font>
                        </font>
                    </font>
                </h3>
                <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">To avoid copying the value on return of a method, you can
                    declare the return type with the <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ref</code> keyword and
                    use <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">return ref</code>.
                    The <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Max</code> method
                    receives two <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">SomeValue</code> structs
                    with the parameters and returns the larger of these two. With the parameters, the values are not
                    copied using the <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ref</code> modifier, as
                    shown here:<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">为了避免在方法返回时复制值，你可以使用 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ref</code>
                                关键字声明返回类型，并使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">return ref</code>
                                。 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Max</code>
                                方法接收两个 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">SomeValue</code>
                                结构体作为参数，并返回这两个中的较大值。在参数中，使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ref</code>
                                修饰符不会复制值，如下所示：</font>
                        </font>
                    </font>
                </p>
                <pre id="c03-code-0083"><code><b>ref</b> SomeValue Max(ref SomeValue x, ref SomeValue y)</code>
<code>{</code>
<code>  int sumx = x.Value1 + x.Value2 + x.Value3 + x.Value4;</code>
<code>  int sumy = y.Value1 + y.Value2 + y.Value3 + y.Value4;</code>
<code> </code>
<code>  if (sumx&gt; sumy)</code>
<code>  {</code>
<code>    <b>return ref x;</b></code>
<code>  }</code>
<code>  else</code>
<code>  {</code>
<code>    <b>return ref y;</b></code>
<code>  }</code>
<code>}</code></pre>
                <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1"><span aria-label="85" epub:type="pagebreak" id="Page_85"
                        role="doc-pagebreak"
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"></span>Within the
                    implementation of the <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Max</code> method, you
                    can replace the <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">if</code>
                    /
                    <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">else</code> statement
                    with a <i data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">conditional ref
                        expression</i>. With this, the <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ref</code> keyword needs
                    to be used with the expression to compare <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">sumx</code> and <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">sumy</code>. Based on the
                    result, a <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ref</code> to
                    <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">x</code> or to <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">y</code> is written to a
                    <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ref</code> local, which
                    is then returned:<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">在 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Max</code>
                                方法的实现中，你可以用条件引用表达式替换 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">if</code> /
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">else</code>
                                语句。使用这种方式时，需要用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ref</code>
                                关键字与表达式一起比较 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">sumx</code> 和
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">sumy</code>
                                。根据结果，将 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ref</code> 到
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">x</code> 或到
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">y</code> 写入一个
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ref</code>
                                局部变量，然后返回：</font>
                        </font>
                    </font>
                </p>
                <pre id="c03-code-0084"><code>ref SomeValue Max(ref SomeValue x, ref SomeValue y)</code>
<code>{</code>
<code>  int sumx = x.Value1 + x.Value2 + x.Value3 + x.Value4;</code>
<code>  int sumy = y.Value1 + y.Value2 + y.Value3 + y.Value4;</code>
<code> </code>
<code>  <b>ref SomeValue result = ref (sumx &gt; sumy) ? ref x : ref y;</b></code>
<code>  <b>return ref result;</b></code>
<code>}</code></pre>
                <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">Whether the returned value should be copied or a reference
                    should be used is a decision from the caller. In the following code snippet, with the first
                    invocation of the <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Max</code> method, the
                    result is copied to the <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">bigger1</code> variable,
                    although the method is declared to return a <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ref</code>. There's not a
                    compiler error with the first version (contrary to the ref parameters). You will not have any issues
                    when the value is copied—other than the performance hit. With the second invocation, the <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ref</code> keyword is
                    used to invoke the method to get a <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ref return</code>. With
                    this invocation, the result needs to be written to a ref local. The third invocation writes the
                    result into a ref readonly local. With the <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Max</code> method,
                    there's no change needed. The <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">readonly</code> used here
                    is only to specify that the <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">bigger3</code> variable
                    will not be changed, and the compiler complains if properties are set to change its values:<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">
                                返回值是应该被复制还是使用引用，是由调用者决定的。在以下代码片段中，对于 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Max</code>
                                方法的第一次调用，结果被复制到 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">bigger1</code>
                                变量中，尽管该方法声明为返回 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ref</code>
                                。第一个版本没有编译错误（与 ref 参数不同）。当值被复制时——除了性能损失之外——你不会有任何问题。在第二次调用中，使用 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ref</code>
                                关键字来调用方法以获取 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ref return</code>
                                。对于这次调用，结果需要写入到一个 ref 局部变量。第三次调用将结果写入到一个 ref readonly 局部变量。对于 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Max</code>
                                方法，不需要做任何更改。这里使用的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">readonly</code>
                                只是为了指定 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">bigger3</code>
                                变量不会被改变，如果尝试设置属性来改变它的值，编译器会报错：</font>
                        </font>
                    </font>
                </p>
                <pre id="c03-code-0085"><code>SomeValue one = new SomeValue(1, 2, 3, 4);</code>
<code>SomeValue two = new SomeValue(5, 6, 7, 8);</code>
<code> </code>
<code><b>SomeValue bigger1 = Max(ref one, ref two);</b></code>
<code><b>ref SomeValue bigger2 = ref Max(ref one, ref two);</b></code>
<code><b>ref readonly SomeValue bigger3 = ref Max(ref one, ref two);</b></code></pre>
                <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">The <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Max</code> method doesn't
                    change any of its inputs. This allows using the <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">in</code> keyword with
                    the parameters as shown with the <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">MaxReadonly</code>
                    method. However, here the declaration of the return must be changed to <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ref readonly</code>. If
                    this change wouldn't be necessary, the caller of this method would be allowed to change one of the
                    inputs of the <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">MaxReadonly</code> method
                    after receiving the result:<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">方法 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Max</code>
                                不会改变任何输入。这允许使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">in</code>
                                关键字与参数，就像在方法 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">MaxReadonly</code>
                                中所示。然而，在这里必须将返回声明改为 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ref readonly</code>
                                。如果不需要这个更改，调用这个方法的调用者会在接收到结果后允许更改 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">MaxReadonly</code>
                                方法的一个输入：</font>
                        </font>
                    </font>
                </p>
                <pre id="c03-code-0086"><code><b>ref readonly</b> SomeValue MaxReadonly(<b>in SomeValue x, in SomeValue y</b>)</code>
<code>{</code>
<code>  int sumx = x.Value1 + x.Value2 + x.Value3 + x.Value4;</code>
<code>  int sumy = y.Value1 + y.Value2 + y.Value3 + y.Value4;</code>
<code> </code>
<code>  return ref (sumx&gt; sumy) ? ref x : ref y;</code>
<code>}</code></pre>
                <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">Now the caller is required to write the result to a <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ref readonly</code> or to
                    copy the result into a new local. With <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">bigger5</code>, <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">readonly</code> is not
                    required because the original value received is copied:<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">现在调用者需要将结果写入 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ref readonly</code>
                                ，或者将结果复制到一个新的局部变量中。使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">bigger5</code>
                                时，不需要 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">readonly</code>
                                ，因为接收到的原始值会被复制：</font>
                        </font>
                    </font>
                </p>
                <pre id="c03-code-0087"><code>ref readonly SomeValue bigger4 = ref MaxReadonly(in one, in two);</code>
<code>SomeValue bigger5 = MaxReadonly(in one, in two);</code></pre>
            </section>
            <section data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"><span id="c03-sec-0063"
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"></span>
                <h3 id="head-3-104" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">out Parameters <font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                        <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">输出参数</font>
                        </font>
                    </font>
                </h3>
                <p id="c03-para-0183" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">If a method should return multiple values, there are
                    different options. One option is to create a custom type. Another option is to use the <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ref</code> keyword with
                    parameters. Using the <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ref</code> keyword, the
                    parameter needs to be initialized before invoking the method. With the <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ref</code> keyword, data
                    is passed into and returned from the method. If the method should just return data, you can use the
                    <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">out</code> keyword.
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">
                                如果一个方法需要返回多个值，有多种选择。一种选择是创建自定义类型。另一种选择是使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ref</code>
                                关键字与参数。使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ref</code>
                                关键字时，参数需要在调用方法前初始化。使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ref</code>
                                关键字时，数据会被传入并从方法中返回。如果方法只需要返回数据，可以使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">out</code>
                                关键字。</font>
                        </font>
                    </font>
                </p>
                <p id="c03-para-0184" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">The <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">int.Parse</code> method
                    expects a <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">string</code>
                    to be passed and returns an <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">int</code>—if the parsing
                    succeeds. If the <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">string</code> cannot be
                    parsed to an <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">int</code>, an exception
                    is thrown. To avoid such exceptions, you can instead use the <span aria-label="86"
                        epub:type="pagebreak" id="Page_86" role="doc-pagebreak"
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"></span>
                    <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">int.TryParse</code>
                    method. This method returns a Boolean whether the parsing is successful or not. The result of the
                    parse operation is returned with an <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">out</code> parameter.
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1"> <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">int.Parse</code>
                                方法期望传入一个 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">string</code>
                                并返回一个 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">int</code>
                                ——如果解析成功。如果 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">string</code>
                                不能解析为 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">int</code>
                                ，则会抛出异常。为了避免此类异常，你可以使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">int.TryParse</code>
                                方法。该方法返回一个布尔值，表示解析是否成功。解析操作的结果会通过 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">out</code>
                                参数返回。</font>
                        </font>
                    </font>
                </p>
                <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">This is the declaration of the <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">TryParse</code> method
                    with the <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">int</code>
                    type:<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">这是带有 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">int</code>
                                类型的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">TryParse</code>
                                方法的声明：</font>
                        </font>
                    </font>
                </p>
                <pre id="c03-code-0088"><code>bool TryParse(string? s, out int result);</code></pre>
                <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">To invoke the <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">TryParse</code> method,
                    an <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">int</code> is passed
                    with the <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">out</code>
                    modifier. Using the <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">out</code> modifier, the
                    variable doesn't need to be declared before invoking the method and doesn't need to be initialized:
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">要调用 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">TryParse</code>
                                方法，需要传递一个 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">int</code>
                                ，并使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">out</code>
                                修饰符。使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">out</code>
                                修饰符时，在调用方法前无需声明变量，也无需初始化：</font>
                        </font>
                    </font>
                </p>
                <pre id="c03-code-0089"><code>Console.Write("Please enter a number: ");</code>
<code>string? input = Console.ReadLine();</code>
<code>if (int.TryParse(input, out int x))</code>
<code>{</code>
<code>  Console.WriteLine();</code>
<code>  Console.WriteLine($"read an int: {x}");</code>
<code>}</code></pre>
            </section>
            <section aria-labelledby="head-2-27a"
                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"><span id="c03-sec-0059a"
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"></span>
                <h2 id="head-2-27a" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">TUPLES<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                        <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">元组</font>
                        </font>
                    </font>
                </h2>
                <p id="c03-para-0188" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">With arrays, you can combine multiple objects of the same
                    type into one object. When you're using classes, structs, and records, you can combine multiple
                    objects into one object and add properties, methods, events, and all the different members of types.
                    Tuples enable you to combine multiple objects of different types into one without the complexity of
                    creating custom types.<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">
                                使用数组，你可以将多个相同类型的对象组合成一个对象。在使用类、结构体和记录时，你可以将多个对象组合成一个对象，并添加属性、方法、事件以及各种类型的成员。元组允许你将多个不同类型的对象组合成一个对象，而无需创建自定义类型的复杂性。
                            </font>
                        </font>
                    </font>
                </p>
                <p id="c03-para-0189" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">To better understand some advantages of tuples, let's take a
                    look at what a method can return. To return a result from a method that returns multiple results,
                    you need to either create a custom type where you can combine the different result types or use the
                    <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ref</code> or <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">out</code> keywords with
                    parameters. Using <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ref</code> and <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">out</code> has an
                    important restriction: you cannot use this with asynchronous methods. Creating custom types has its
                    advantages, but in some cases, this is not needed. You have a simpler path with tuples and can
                    return a tuple from a method. As of C# 7, tuples are integrated with the C# syntax.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">
                                为了更好地理解元组的某些优势，让我们看看方法可以返回什么。要从返回多个结果的方法中返回结果，你需要创建一个自定义类型，在其中可以组合不同的结果类型，或者使用 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ref</code> 或
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">out</code>
                                关键字与参数一起使用。使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ref</code> 和
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">out</code>
                                有一个重要的限制：你不能将其用于异步方法。创建自定义类型有其优势，但在某些情况下，这并非必需。元组提供了一个更简单的路径，你可以从方法中返回一个元组。自 C# 7
                                开始，元组已集成到 C# 语法中。</font>
                        </font>
                    </font>
                </p>
                <p id="c03-para-0190" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"><b
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                        data-immersive-translate-paragraph="1">Declaring and Initializing Tuples<font
                            class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">声明和初始化元组</font>
                            </font>
                        </font></b></p>
                <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">A tuple can be declared using parentheses and initialized
                    using a tuple literal that is created with parentheses as well. In the following code snippet, on
                    the left side, a tuple variable <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">tuple1</code> that
                    contains a <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">string</code>, an <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">int</code>, and a <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Book</code> is declared.
                    On the right side, a tuple literal is used to create a tuple with the string <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">magic</code>, the number
                    <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">42</code>, and a <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Book</code> object
                    initialized using the primary constructor of the <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Book</code> record. The
                    tuple can be accessed using the variable <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">tuple1</code> with the
                    members declared in the parentheses (<code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">AString</code>, <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Number</code>, and <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Book</code> in this
                    example; code file <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">TuplesSample/Program.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">
                                元组可以使用括号声明，并使用括号创建的元组字面量进行初始化。在以下代码片段中，左侧声明了一个包含 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">string</code>
                                、 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">int</code> 和
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Book</code>
                                的元组变量 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">tuple1</code>
                                。右侧使用元组字面量创建了一个包含字符串 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">magic</code>
                                、数字 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">42</code> 和使用
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Book</code>
                                记录的主构造器初始化的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Book</code>
                                对象的元组。可以使用变量 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">tuple1</code>
                                访问元组，其中括号中声明的成员（本例中的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">AString</code>
                                、 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Number</code>
                                和 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Book</code>
                                ；代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">TuplesSample/Program.cs</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c03-code-0090"><code>void IntroTuples()</code>
<code>{</code>
<code>  <b>(string AString, int Number, Book Book) tuple1 = </b></code>
<code>    <b>("magic", 42, new Book("Professional C#", "Wrox Press"));</b></code>
<code>    Console.WriteLine($"a string: {tuple1.AString}, " + </code>
<code>      $"number: {tuple1.Number}, " + </code>
<code>      $"book: {tuple1.Book}");</code>
<code>  //…</code>
<code>}</code></pre>
                <pre id="c03-code-0091"><code>public record Book(string Title, string Publisher);</code></pre>
                <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">When you run the application (the top-level statements invoke
                    <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">IntroTuples</code>),
                    the output shows the values of the tuple:<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">当你运行应用程序（顶层语句调用 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">IntroTuples</code>
                                ），输出显示了元组的值：</font>
                        </font>
                    </font>
                </p>
                <pre
                    id="c03-code-0092"><code>a string: magic, number: 42, book: Book { Title = Professional C#, Publisher = Wrox Press }</code></pre>
                <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"><span aria-label="87"
                        epub:type="pagebreak" id="Page_87" role="doc-pagebreak"
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"></span></p>
                <aside data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                    <div class="top hr" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                        <hr />
                    </div>
                    <section class="feature2" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                        <p id="c03-para-0194" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                            data-immersive-translate-paragraph="1"><b
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">NOTE</b> <i
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">There was some
                                discussion on naming tuples using camelCase or PascalCase. Microsoft doesn't give a
                                guideline on naming internal and private members, but with public APIs it was decided to
                                name tuple members using PascalCase. After all, the names you specify with the tuple are
                                public members, and these are usually PascalCase. See </i><code
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"><a href="https://github.com/dotnet/runtime/issues/27939">https://github.com/dotnet/runtime/issues/27939</a></code>
                            <i data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">if you are
                                interested in this discussion between different teams at Microsoft and the
                                community.</i>
                            <font class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">注意
                                        关于使用驼峰命名法（camelCase）或帕斯卡命名法（PascalCase）来命名元组的讨论。微软没有给出命名内部和私有成员的指南，但对于公共 API
                                        决定使用帕斯卡命名法来命名元组成员。毕竟，你通过元组指定的名称是公共成员，这些通常都是帕斯卡命名法。如果你对微软不同团队和社区之间的这种讨论感兴趣，请查看
                                        <code xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"><a href="https://github.com/dotnet/runtime/issues/27939">https://github.com/dotnet/runtime/issues/27939</a></code>
                                        。</font>
                                </font>
                            </font>
                        </p>
                        <div class="bottom hr" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                            <hr />
                        </div>
                    </section>
                </aside>
                <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">The tuple literal also can be assigned to a tuple variable
                    without declaring its members. This way the members of the tuple are accessed using the member names
                    of the <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ValueTuple</code> struct:
                    <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Item1</code>, <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Item2</code>, and <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Item3</code>
                    :<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">
                                元组字面量也可以直接赋值给元组变量，而无需声明其成员。这种方式下，通过 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ValueTuple</code>
                                结构体的成员名称： <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Item1</code>
                                、 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Item2</code>
                                和 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Item3</code>
                                来访问元组成员：</font>
                        </font>
                    </font>
                </p>
                <pre id="c03-code-0093"><code>var tuple2 = ("magic", 42, new Book("Professional C#", "Wrox Press"));</code>
<code>Console.WriteLine($"a string: {tuple2.Item1}, number: {tuple2.Item2}, " + </code>
<code>  $"book: {tuple2.Item3}");</code></pre>
                <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">You can assign names to the tuple fields in the tuple literal
                    by defining the name followed by a colon, which is the same syntax as with object literals:<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">
                                你可以在元组字面量中为元组字段指定名称，通过在字段名后跟一个冒号来定义，这与对象字面量的语法相同：</font>
                        </font>
                    </font>
                </p>
                <pre id="c03-code-0094"><code>var tuple3 = (AString: "magic", Number: 42, </code>
<code>  Book: new Book("Professional C#", "Wrox Press"));</code></pre>
                <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">With all this, names are just a convenience. You can assign
                    one tuple to another one when the types match; the names do not matter:<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">
                                有了这些，名称只是个便利。当类型匹配时，你可以将一个元组赋值给另一个元组；名称并不重要：</font>
                        </font>
                    </font>
                </p>
                <pre id="c03-code-0095"><code>(string S, int N, Book B) tuple4 = tuple3;</code></pre>
                <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">The name of the tuple members can also be inferred from the
                    source. With the variable <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">tuple5</code>, the second
                    member is a string with the title of the book. A name for this member is not assigned, but because
                    the property has the name <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Title</code>, <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Title</code> is
                    automatically taken for the tuple member name:<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">元组的成员名称也可以从源代码中推断出来。使用变量 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">tuple5</code>
                                时，第二个成员是一个包含书名的字符串。这个成员没有被分配名称，但由于属性名称为 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Title</code>
                                ， <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Title</code>
                                会自动被用作元组成员名称：</font>
                        </font>
                    </font>
                </p>
                <pre id="c03-code-0096"><code>Book book = new("Professional C#", "Wrox Press");</code>
<code>var tuple5 = (ANumber: 42, book.Title);</code>
<code>Console.WriteLine(tuple5.Title);</code></pre>
                <p id="c03-para-0199" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"><b
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                        data-immersive-translate-paragraph="1">Tuple Deconstruction<font
                            class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                            <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">元组解构</font>
                            </font>
                        </font></b></p>
                <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">Tuples can be deconstructed into variables. To do this, you
                    just need to remove the tuple variable from the previous code sample and define variable names in
                    parentheses. The variables that contain the values of the tuple parts can then be directly accessed.
                    In case some variables are not needed, you can use <i
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">discards</i>. Discards
                    are C# placeholder variables with the name _. Discards are meant to just ignore the results, as
                    shown with the second deconstruction in the following code snippet (code file <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">TuplesSample/Program.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">
                                元组可以解构到变量中。为此，你只需要从之前的代码示例中移除元组变量，并在括号中定义变量名。然后可以直接访问包含元组部分值的变量。如果某些变量不需要，你可以使用丢弃。丢弃是
                                C#中的占位符变量，名为_。丢弃的目的是忽略结果，如下面的代码片段中的第二个解构所示（代码文件 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">TuplesSample/Program.cs</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c03-code-0097"><code>void TuplesDeconstruction()</code>
<code>{</code>
<code>  var tuple1 = (AString: "magic", </code>
<code>    Number: 42, Book: new Book("Professional C#", "Wrox Press"));</code>
<code>  <b>(string aString, int number, Book book) = tuple1;</b></code>
<code> </code>
<code>  Console.WriteLine($"a string: {aString}, number: {number}, book: {book}");</code>
<code> </code>
<code>  <b>(_, _, var book1) = tuple1;</b></code>
<code>  Console.WriteLine(book1.Title);</code>
<code>}</code></pre>
                <p id="c03-para-0201" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"><span
                        aria-label="88" epub:type="pagebreak" id="Page_88" role="doc-pagebreak"
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"></span> <b
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                        data-immersive-translate-paragraph="1">Returning Tuples<font
                            class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                            <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">返回元组</font>
                            </font>
                        </font></b></p>
                <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">Let's get into a more useful example: a method returning a
                    tuple. The method <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Divide</code> from the
                    following code snippet receives two parameters and returns a tuple consisting of two <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">int</code> values. Tuple
                    results are created by putting the methods return group within parentheses (code file <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Tuples/Program.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">让我们来看一个更有用的例子：返回元组的方法。以下代码片段中的方法
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Divide</code>
                                接收两个参数，并返回一个包含两个 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">int</code>
                                值的元组。元组结果是通过将方法的返回组放在括号中来创建的（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Tuples/Program.cs</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c03-code-0098"><code><b>static (int result, int remainder) Divide(int dividend, int divisor)</b></code>
<code>{</code>
<code>  int result = dividend / divisor;</code>
<code>  int remainder = dividend % divisor;</code>
<code>  <b>return (result, remainder);</b></code>
<code>}</code></pre>
                <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">The result is deconstructed into the <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">result</code> and <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">remainder</code>
                    variables:<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">结果被分解到 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">result</code>
                                和 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">remainder</code>
                                变量中：</font>
                        </font>
                    </font>
                </p>
                <pre id="c03-code-0099"><code>private static void ReturningTuples()</code>
<code>{</code>
<code>  (int result, int remainder) = Divide(7, 2);</code>
<code>  Console.WriteLine($"7 / 2 - result: {result}, remainder: {remainder}");</code>
<code>}</code></pre>
                <aside data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                    <div class="top hr" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                        <hr />
                    </div>
                    <section class="feature2" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                        <p id="c03-para-0206" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                            data-immersive-translate-paragraph="1"><b
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">NOTE</b> <i
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">When you're using
                                tuples, you can avoid declaring method signatures with</i> <code
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">out</code><i
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"> parameters.</i>
                            <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">out</code> <i
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">parameters cannot
                                be used with</i> <code
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">async</code> <i
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">methods; this
                                restriction does not apply with tuples.</i>
                            <font class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">注意 当你使用元组时，可以避免声明带有 <code
                                            xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">out</code>
                                        参数的方法签名。 <code xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">out</code>
                                        参数不能与 <code xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">async</code>
                                        方法一起使用；这个限制在元组中不适用。</font>
                                </font>
                            </font>
                        </p>
                        <div class="bottom hr" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                            <hr />
                        </div>
                    </section>
                </aside>
            </section>
        </section>
        <section aria-labelledby="head-2-28" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
            <span id="c03-sec-0066" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"></span>
            <h2 id="head-2-28" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                data-immersive-translate-paragraph="1">VALUETUPLE<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                    <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">元组值</font>
                    </font>
                </font>
            </h2>
            <p id="c03-para-0207" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                data-immersive-translate-paragraph="1">When you're using the C# tuple syntax, the C# compiler creates
                <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ValueTuple</code>
                structures behind the scenes. .NET defines seven generic <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ValueTuple</code> structures
                for one to seven generic parameters and another one where the eighth parameter can be another tuple.
                Using a tuple literal results in an invocation of <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Tuple.Create</code>. The
                tuple structure defines public fields named <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Item1</code>, <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Item2</code>, <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Item3</code>, and so on to
                access all the items.<font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">当你使用 C# 元组语法时，C# 编译器会在后台创建 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ValueTuple</code>
                            结构。.NET 定义了七个用于一到七个泛型参数的泛型 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">ValueTuple</code>
                            结构，以及另一个第八个参数可以是另一个元组的结构。使用元组字面量会导致调用 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Tuple.Create</code>
                            。元组结构定义了名为 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Item1</code> 、
                            <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Item2</code> 、
                            <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Item3</code>
                            等公共字段来访问所有项。</font>
                    </font>
                </font>
            </p>
            <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                data-immersive-translate-paragraph="1">For the names of the elements, the compiler uses the attribute
                <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">TupleElementNames</code> to
                store the custom names of the tuple members. This information is read from the compiler to invoke the
                correct members.<font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">对于元素名称，编译器使用 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">TupleElementNames</code>
                            属性来存储元组成员的自定义名称。这些信息从编译器中读取以调用正确的成员。</font>
                    </font>
                </font>
            </p>
            <aside data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                <div class="top hr" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                    <hr />
                </div>
                <section class="feature2" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                    <p id="c03-para-0209" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                        data-immersive-translate-paragraph="1"><b
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">NOTE</b> <i
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Attributes are
                            covered in detail in <a href="c12.xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Chapter 12</a>,
                            “Reflection, Metadata, and Source Generators.”</i>
                        <font class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">注意：属性在第 12
                                    章“反射、元数据和源生成器”中详细讨论。</font>
                            </font>
                        </font>
                    </p>
                    <div class="bottom hr" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                        <hr />
                    </div>
                </section>
            </aside>
        </section>
        <section aria-labelledby="head-2-29" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
            <span id="c03-sec-0068" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"></span>
            <h2 id="head-2-29" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                data-immersive-translate-paragraph="1">DECONSTRUCTION<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                    <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">解构</font>
                    </font>
                </font>
            </h2>
            <p id="c03-para-0210" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                data-immersive-translate-paragraph="1">You've already seen deconstruction with tuples—writing tuples
                into simple variables. You also can do deconstruction with any custom type: deconstructing a class or
                struct into its parts.<font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">
                            你已经见过元组的解构——将元组写入简单变量。你也可以对任何自定义类型进行解构：将类或结构体解构为其组成部分。</font>
                    </font>
                </font>
            </p>
            <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                data-immersive-translate-paragraph="1">For example, you can deconstruct the previously shown <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Person</code> class into
                first name, last name, and age. In the sample code, the age returned from the deconstruction is ignored
                using discard (code file <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Classes/Program.cs</code>):
                <font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">例如，你可以将之前展示的 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Person</code>
                            类分解为名、姓和年龄。在示例代码中，通过弃用（discard）的方式忽略了从分解中返回的年龄（代码文件 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Classes/Program.cs</code>
                            ）：</font>
                    </font>
                </font>
            </p>
            <pre id="c03-code-0100"><code>//…</code>
<code>(var first, var last, _) = katharina;</code>
<code>Console.WriteLine($"{first} {last}");</code></pre>
            <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                data-immersive-translate-paragraph="1"><span aria-label="89" epub:type="pagebreak" id="Page_89"
                    role="doc-pagebreak"
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"></span>All you need to do is
                create a <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Deconstruct</code>
                method (also known by the name <i
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">deconstructor</i>) that fills
                the separate parts into parameters with the <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">out</code> modifier (code
                file <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Classes/Person.cs</code>):
                <font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">你只需要创建一个 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Deconstruct</code>
                            方法（也称为解构器），使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">out</code>
                            修饰符将各个部分填充到参数中（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Classes/Person.cs</code>
                            ）：</font>
                    </font>
                </font>
            </p>
            <pre id="c03-code-0101"><code>public class Person</code>
<code>{</code>
<code>  //…</code>
<code>  public void Deconstruct(out string firstName, out string lastName, </code>
<code>    out int age)</code>
<code>  {</code>
<code>    firstName = FirstName;</code>
<code>    lastName = LastName;</code>
<code>    age = Age;</code>
<code>  }</code>
<code>}</code></pre>
            <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                data-immersive-translate-paragraph="1">Deconstruction is implemented with the method name <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Deconstruct</code>. This
                method is always of type <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">void</code> and returns the
                parts with multiple <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">out</code> parameters.
                Instead of creating a member of a class, for deconstruction you can also create an extension method as
                shown here:<font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">解构是通过方法名 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Deconstruct</code>
                            实现的。这个方法总是 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">void</code>
                            类型，并使用多个 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">out</code>
                            参数返回各个部分。除了创建类的成员，你也可以像这里展示的那样创建一个扩展方法来进行解构。</font>
                    </font>
                </font>
            </p>
            <pre id="c03-code-0102"><code>public static class PersonExtensions</code>
<code>{</code>
<code>  public static void Deconstruct(this Person person, out string firstName, </code>
<code>    out string lastName, out int age)</code>
<code>  {</code>
<code>    firstName = person.FirstName;</code>
<code>    lastName = person.LastName;</code>
<code>    age = person.Age;</code>
<code>  }</code>
<code>}</code></pre>
            <aside data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                <div class="top hr" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                    <hr />
                </div>
                <section class="feature2" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                    <p id="c03-para-0215" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                        data-immersive-translate-paragraph="1"><b
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">NOTE</b> <i
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">With positional
                            records, the </i><code
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Deconstruct</code><i
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"> method is
                            implemented from the compiler. When you're defining a primary constructor, the compiler
                            knows about the ordering of the parameters for the </i><code
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Deconstruct</code><i
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"> method and can
                            create it automatically. With nominal records, you can create a custom implementation of the
                        </i><code
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Deconstruct</code><i
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"> method similar to
                            classes you've seen. In any case (with positional or nominal records, or with classes), you
                            can define overloads with different parameter types as needed.</i>
                        <font class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">注意：对于位置参数记录， <code
                                        xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Deconstruct</code>
                                    方法由编译器实现。当你定义主构造器时，编译器知道 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Deconstruct</code>
                                    方法的参数顺序，并可以自动创建它。对于命名记录，你可以像看到过的类一样，创建自定义的 <code
                                        xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Deconstruct</code>
                                    方法实现。无论使用位置参数记录、命名记录还是类，你都可以根据需要定义不同参数类型的重载。</font>
                            </font>
                        </font>
                    </p>
                    <div class="bottom hr" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                        <hr />
                    </div>
                </section>
            </aside>
        </section>
        <section aria-labelledby="head-2-30" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
            <span id="c03-sec-0070" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"></span>
            <h2 id="head-2-30" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                data-immersive-translate-paragraph="1">PATTERN MATCHING<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                    <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">模式匹配</font>
                    </font>
                </font>
            </h2>
            <p id="c03-para-0216" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                data-immersive-translate-paragraph="1"><a href="c02.xhtml"
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Chapter 2</a> covers basic
                functionality with pattern matching using the <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">is</code> operator and the
                <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">switch</code> statement.
                This can now be extended with some more features on pattern matching, such as using tuples and property
                patterns.<font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">第 2 章介绍了使用 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">is</code> 运算符和
                            <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">switch</code>
                            语句进行基本模式匹配的功能。现在可以在此基础上扩展一些模式匹配的新特性，例如使用元组和属性模式。</font>
                    </font>
                </font>
            </p>
            <section data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"><span id="c03-sec-0071"
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"></span>
                <h3 id="head-3-105" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">Pattern Matching with Tuples <font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">使用元组的模式匹配</font>
                        </font>
                    </font>
                </h3>
                <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">The previous chapter included a sample of simple pattern
                    matching with traffic lights. Now let's extend this sample with not just a simple flow from red to
                    green to amber to red… but to change to different states after amber depending on what the previous
                    light was. Pattern matching can be based on tuple values.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">
                                上一章包含了一个简单的交通灯模式匹配示例。现在让我们扩展这个示例，不仅包括从红色到绿色到黄色再到红色的简单流程，还要根据之前的灯光状态在黄色后切换到不同的状态。模式匹配可以基于元组值。
                            </font>
                        </font>
                    </font><span aria-label="90" epub:type="pagebreak" id="Page_90" role="doc-pagebreak"
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"></span></p>
                <aside data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                    <div class="top hr" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                        <hr />
                    </div>
                    <section class="feature2" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                        <p id="c03-para-0218" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                            data-immersive-translate-paragraph="1"><b
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">NOTE</b> <i
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">The traffic light
                                sequences are different in many countries worldwide. With a change from amber (or
                                yellow) to red in Canada and a few other countries, amber and red appear together to
                                indicate a change. In most European countries, changing from red to green, the red and
                                amber lights are displayed together for one, two, or three seconds. In Austria, China,
                                Russia, Israel, and more, the green light starts flashing at the end of the go phase. If
                                you are interested in the details, read </i><code
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"><a href="https://en.wikipedia.org/wiki/Traffic-light_signalling_and_operation">https://en.wikipedia.org/wiki/Traffic-light_signalling_and_operation</a></code><i
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">.</i>
                            <font class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">
                                        注意：全球许多国家的交通信号灯序列不同。在加拿大和一些其他国家，从黄灯（或琥珀色）变为红灯时，黄灯和红灯会同时亮起以表示变化。在大多数欧洲国家，从红灯变为绿灯时，红灯和黄灯会同时亮起一秒、两秒或三秒。在奥地利、中国、俄罗斯、以色列等地，绿灯在通行阶段结束时开始闪烁。如果你对细节感兴趣，请阅读
                                        <code xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"><a href="https://en.wikipedia.org/wiki/Traffic-light_signalling_and_operation">https://en.wikipedia.org/wiki/Traffic-light_signalling_and_operation</a></code>
                                        。</font>
                                </font>
                            </font>
                        </p>
                        <div class="bottom hr" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                            <hr />
                        </div>
                    </section>
                </aside>
                <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">The method <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">NextLightUsingTuples</code>
                    receives enum values for the current and previous traffic light in two parameters. The two
                    parameters are combined to a tuple with <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">(current, previous)</code>
                    to define the switch expression based on this tuple. With the switch expression, tuple patterns are
                    used. The first case matches when the current light has the value <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Red</code>. The value of
                    the previous light is ignored using a discard. The <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">NextLightUsingTuples</code>
                    method is declared to return a tuple with <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Current</code> and <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Previous</code>
                    properties. In the first match, a tuple that matches this return type is returned with <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">(Amber, current)</code>
                    to specify the new value <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Amber</code> for the
                    current light. In all the cases, the previous light is set from the current light that was received.
                    When the current light is <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Amber</code>, now the
                    tuple pattern results in different outcomes depending on the previous light. If the previous light
                    was <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Red</code>, the new
                    light returned is <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Green</code>, and vice
                    versa (code file <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">PatternMatchingSample/Program.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">方法 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">NextLightUsingTuples</code>
                                接收两个参数，分别代表当前和上一个交通信号灯的枚举值。这两个参数与 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">(current, previous)</code>
                                结合成一个元组，用于定义基于该元组的切换表达式。通过切换表达式，使用元组模式。第一个 case 在当前灯的值为 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Red</code>
                                时匹配。上一个灯的值通过丢弃被忽略。方法 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">NextLightUsingTuples</code>
                                被声明为返回一个具有 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Current</code>
                                和 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Previous</code>
                                属性的元组。在第一个匹配中，返回一个匹配此返回类型的元组，并使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">(Amber, current)</code>
                                指定当前灯的新值 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Amber</code>
                                。在所有情况下，上一个灯被设置为接收到的当前灯。当当前灯为 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Amber</code>
                                时，元组模式的结果取决于上一个灯。如果上一个灯是 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Red</code>
                                ，则返回的新灯是 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Green</code>
                                ，反之亦然（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">PatternMatchingSample/Program.cs</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c03-code-0103"><code>(TrafficLight Current, TrafficLight Previous) </code>
<code>  NextLightUsingTuples(TrafficLight current, TrafficLight previous) =&gt;</code>
<code>    (current, previous) switch</code>
<code>    {</code>
<code>      (Red, _) =&gt; (Amber, current),</code>
<code>      (Amber, Red) =&gt; (Green, current),</code>
<code>      (Green, _) =&gt; (Amber, current),</code>
<code>      (Amber, Green) =&gt; (Red, current),</code>
<code>      _ =&gt; throw new InvalidOperationException()</code>
<code>    };</code></pre>
                <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">With the following code snippet, the method <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">NextLightUsingTuples</code>
                    is invoked in a <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">for</code> loop. The
                    return value is deconstructed into <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">currentLight</code> and
                    <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">previousLight</code>
                    variables to write the current light information to the console and to invoke the <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">NextLightUsingTuples</code>
                    method in the next iteration:<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">通过以下代码片段，在 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">for</code>
                                循环中调用了 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">NextLightUsingTuples</code>
                                方法。返回值被分解到 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">currentLight</code>
                                和 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">previousLight</code>
                                变量中，用于将当前灯光信息写入控制台，并在下一次迭代中调用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">NextLightUsingTuples</code>
                                方法：</font>
                        </font>
                    </font>
                </p>
                <pre id="c03-code-0104"><code>var previousLight = Red;</code>
<code>var currentLight = Red;</code>
<code>for (int i = 0; i &lt; 10; i++)</code>
<code>{</code>
<code>  (currentLight, previousLight) = NextLightUsingTuples(currentLight, </code>
<code>    previousLight);</code>
<code>  Console.Write($"{currentLight} - ");</code>
<code>  await Task.Delay(1000);</code>
<code>}</code>
<code>Console.WriteLine();</code></pre>
                <aside data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                    <div class="top hr" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                        <hr />
                    </div>
                    <section class="feature2" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                        <p id="c03-para-0222" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                            data-immersive-translate-paragraph="1"><b
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">NOTE</b> <i
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">With the
                                statement </i> <code
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">await Task.Delay(1000);</code>
                            <i data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"> the application
                                just waits for one second before the next statement is invoked. With top-level
                                statements, you can directly add </i> <code
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">async</code> <i
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"> methods as
                                shown. In case you want to add this statement to a method, the method needs to have the
                                async modifier and it is best to return a </i> <code
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Task</code> <i
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">. This is covered
                                in detail in <a href="c11.xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Chapter
                                    11</a>, “Tasks and Asynchronous Programming.”</i>
                            <font class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">注意：使用语句 <code
                                            xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">await Task.Delay(1000);</code>
                                        ，应用程序会在下一个语句被调用前等待一秒钟。使用顶层语句，你可以直接像这样添加 <code
                                            xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">async</code>
                                        方法。如果你想把这条语句添加到方法中，这个方法需要有 async 修饰符，并且最好返回 <code
                                            xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Task</code>
                                        。这将在第 11 章“任务和异步编程”中详细说明。</font>
                                </font>
                            </font>
                        </p>
                        <div class="bottom hr" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                            <hr />
                        </div>
                    </section>
                </aside>
            </section> <span aria-label="91" epub:type="pagebreak" id="Page_91" role="doc-pagebreak"
                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"></span>
            <section data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"><span id="c03-sec-0074"
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"></span>
                <h3 id="head-3-106" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">Property Pattern <font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                        <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">属性模式</font>
                        </font>
                    </font>
                </h3>
                <p id="c03-para-0223" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">Let's extend the traffic light sample again. When you're
                    using tuples, additional values and types can be added to extend the functionality. However, at some
                    point this doesn't help with readability, and using classes or records is helpful.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">
                                让我们再次扩展交通灯示例。当你使用元组时，可以添加额外的值和类型来扩展功能。然而，在某个时刻这不再有助于可读性，使用类或记录会更有帮助。</font>
                        </font>
                    </font>
                </p>
                <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">One extension to the traffic light is having different
                    timings for the different light phases. Another extension is used in some countries: before the
                    light changes from the green to the amber light, another phase is introduced: the green light blinks
                    three times. To keep up with the different states, the record <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">TrafficLightState</code>
                    is introduced (code file <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">PatternMatchingSample/Program.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">
                                交通灯的一个扩展是为不同的灯相设置不同的时间。另一个扩展在一些国家使用：在灯从绿色变为琥珀色之前，引入另一个阶段：绿灯闪烁三次。为了跟上不同的状态，引入了记录 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">TrafficLightState</code>
                                （代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">PatternMatchingSample/Program.cs</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c03-code-0105"><code>public record TrafficLightState(TrafficLight CurrentLight, </code>
<code>  TrafficLight PreviousLight, int Milliseconds, int BlinkCount = 0);</code></pre>
                <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">The enum type <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">TrafficLight</code> is
                    extended to include <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">GreenBlink</code> and
                    <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">AmberBlink</code>
                    :<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">枚举类型 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">TrafficLight</code>
                                扩展以包含 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">GreenBlink</code>
                                和 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">AmberBlink</code>
                                :</font>
                        </font>
                    </font>
                </p>
                <pre id="c03-code-0106"><code>public enum TrafficLight</code>
<code>{</code>
<code>  Red,</code>
<code>  Amber,</code>
<code>  Green,</code>
<code>  GreenBlink,</code>
<code>  AmberBlink</code>
<code>}</code></pre>
                <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1">The new method <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">NextLightUsingRecords</code>
                    receives a parameter of type <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">TrafficLightState</code>
                    with the current light state and returns a <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">TrafficLightState</code>
                    with the new state. In the implementation, a <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">switch</code> expression
                    is used again. This time, the cases are selected using the <i
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">property pattern</i>. If
                    the property <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">CurrentLight</code> of
                    the variable <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">trafficLightState</code>
                    has the value <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">AmberBlink</code>, a new
                    <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">TrafficLightState</code>
                    with the current red light is returned. When the <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">CurrentLight</code> is
                    set to <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Amber</code>,
                    the <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">PreviousLight</code>
                    property is verified as well. Depending on the <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">PreviousLight</code>
                    value, different records are returned. Another pattern is used in this scenario—the <i
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">relational pattern</i>
                    that is new with C# 9. <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">BlinkCount: &lt; 3</code>
                    references the <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">BlinkCount</code>
                    property and verifies whether the value is smaller than <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">3</code>. If this is the
                    case, the returned <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">TrafficLightState</code>
                    is cloned from the previous state using the <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">with</code> expression,
                    and the <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">BlinkCount</code> is
                    incremented by <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">1</code>
                    :<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">新方法 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">NextLightUsingRecords</code>
                                接收一个类型为 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">TrafficLightState</code>
                                的参数，该参数包含当前灯光状态，并返回一个 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">TrafficLightState</code>
                                ，其中包含新状态。在实现中，再次使用了 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">switch</code>
                                表达式。这次，通过属性模式选择情况。如果变量 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">trafficLightState</code>
                                的属性 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">CurrentLight</code>
                                的值为 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">AmberBlink</code>
                                ，则返回一个当前为红灯的新 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">TrafficLightState</code>
                                。当 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">CurrentLight</code>
                                设置为 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Amber</code>
                                时，也会验证 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">PreviousLight</code>
                                属性。根据 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">PreviousLight</code>
                                的值，返回不同的记录。在这个场景中使用了另一种模式——关系模式，这是 C# 9 中引入的新模式。 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">BlinkCount: &lt; 3</code>
                                引用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">BlinkCount</code>
                                属性，并验证该值是否小于 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">3</code>
                                。如果是这种情况，返回的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">TrafficLightState</code>
                                使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">with</code>
                                表达式从先前状态进行克隆，并将 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">BlinkCount</code>
                                增加 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">1</code> ：
                            </font>
                        </font>
                    </font>
                </p>
                <pre id="c03-code-0107"><code>TrafficLightState NextLightUsingRecords(TrafficLightState trafficLightState) </code>
<code>  =&gt; trafficLightState switch</code>
<code>  {</code>
<code>    <b>{ CurrentLight: AmberBlink }</b> =&gt; </code>
<code>      new TrafficLightState(Red, trafficLightState.PreviousLight, 3000),</code>
<code>    <b>{ CurrentLight: Red }</b> =&gt; </code>
<code>      new TrafficLightState(Amber, trafficLightState.CurrentLight, 200),</code>
<code>    <b>{ CurrentLight: Amber, PreviousLight: Red}</b> =&gt; </code>
<code>      new TrafficLightState(Green, trafficLightState.CurrentLight, 2000),</code>
<code>    <b>{ CurrentLight: Green }</b> =&gt; </code>
<code>      new TrafficLightState(GreenBlink, trafficLightState.CurrentLight, </code>
<code>        100, 1),</code>
<code>    <b>{ CurrentLight: GreenBlink, BlinkCount: &lt; 3 }</b> =&gt; </code>
<code>      <b>trafficLightState with</b> </code>
<code>        <b>{ BlinkCount = trafficLightState.BlinkCount + 1 },</b></code>
<code>    <b>{ CurrentLight: GreenBlink }</b> =&gt; </code>
<code>      new TrafficLightState(Amber, trafficLightState.CurrentLight, 200),</code>
<code>    <b>{ CurrentLight: Amber, PreviousLight: GreenBlink }</b> =&gt; </code>
<code>      new TrafficLightState(Red, trafficLightState.CurrentLight, 3000),</code>
<code>    _ =&gt; throw new InvalidOperationException()</code>
<code>  };</code></pre>
                <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                    data-immersive-translate-paragraph="1"><span aria-label="92" epub:type="pagebreak" id="Page_92"
                        role="doc-pagebreak"
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"></span>The method <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">NextLightUsingRecords</code>
                    is invoked in a <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">for</code> loop similar
                    to the sample before. Now, an instance of <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">TrafficLightState</code>
                    is passed as an argument to the method <code
                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">NextLightUsingRecords</code>.
                    The new value is received from this method, and the current state is shown on the console:<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">方法 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">NextLightUsingRecords</code>
                                在一个与之前示例类似的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">for</code>
                                循环中被调用。现在， <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">TrafficLightState</code>
                                的一个实例作为参数传递给方法 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">NextLightUsingRecords</code>
                                。新值从这个方法中接收，当前状态在控制台上显示：</font>
                        </font>
                    </font>
                </p>
                <pre id="c03-code-0108"><code><b>TrafficLightState currentLightState = new(AmberBlink, AmberBlink, 2000);</b></code>
<code> </code>
<code>for (int i = 0; i &lt; 20; i++)</code>
<code>{</code>
<code>  <b>currentLightState = NextLightUsingRecords(currentLightState);</b></code>
<code>  Console.WriteLine($"{currentLightState.CurrentLight}, </code>
<code>    {currentLightState.Milliseconds}");</code>
<code>  await Task.Delay(currentLightState.Milliseconds);</code>
<code>}</code></pre>
            </section>
        </section>
        <section aria-labelledby="head-2-31" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
            <span id="c03-sec-0075" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"></span>
            <h2 id="head-2-31" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                data-immersive-translate-paragraph="1">PARTIAL TYPES<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                    <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">部分类型</font>
                    </font>
                </font>
            </h2>
            <p id="c03-para-0228" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                data-immersive-translate-paragraph="1">The <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">partial</code> keyword allows
                a type to span multiple files. Typically, a code generator of some type is generating part of a class,
                and having the class in multiple files can be beneficial. Let's assume you want to make some additions
                to the class that is automatically generated from a tool. If the tool reruns, your changes are lost. The
                <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">partial</code> keyword is
                helpful for splitting the class into two files and making your changes to the file that is not defined
                by the code generator.<font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1"> <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">partial</code>
                            关键字允许一个类型跨越多个文件。通常情况下，某种类型的代码生成器正在生成类的部分内容，而将类放在多个文件中可能是有益的。假设你想对由工具自动生成的类进行一些修改。如果工具重新运行，你的修改将会丢失。
                            <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">partial</code>
                            关键字有助于将类拆分到两个文件中，并让你修改由代码生成器未定义的文件。</font>
                    </font>
                </font>
            </p>
            <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                data-immersive-translate-paragraph="1">To use the <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">partial</code> keyword,
                simply place <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">partial</code>
                before <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">class</code>, <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">struct</code>, or <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">interface</code>. In the
                following example, the class <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">SampleClass</code> resides in
                two separate source files: <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">SampleClassAutogenerated.cs</code>
                and <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">SampleClass.cs</code>
                :<font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">要使用 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">partial</code>
                            关键字，只需在 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">partial</code> 、
                            <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">class</code> 或
                            <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">struct</code>
                            前面放置 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">partial</code>
                            。在以下示例中，类 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">SampleClass</code>
                            位于两个不同的源文件： <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">SampleClassAutogenerated.cs</code>
                            和 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">SampleClass.cs</code>
                            ：</font>
                    </font>
                </font>
            </p>
            <pre id="c03-code-0109"><code>//SampleClassAutogenerated.cs</code>
<code><b>partial</b> class SampleClass</code>
<code>{</code>
<code>  public void MethodOne() { }</code>
<code>}</code>
<code> </code>
<code>//SampleClass.cs</code>
<code>partial class SampleClass</code>
<code>{</code>
<code>  public void MethodTwo() { }</code>
<code>}</code></pre>
            <p id="c03-para-0230" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                data-immersive-translate-paragraph="1">When the project that contains the two source files is compiled,
                a single type called <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">SampleClass</code> will be
                created with two methods: <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">MethodOne</code> and <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">MethodTwo</code>.<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">当包含这两个源文件的项目被编译时，将创建一个名为 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">SampleClass</code>
                            的单一类型，该类型包含两个方法： <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">MethodOne</code>
                            和 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">MethodTwo</code>
                            。</font>
                    </font>
                </font>
            </p>
            <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                data-immersive-translate-paragraph="1">Nested partials are allowed as long as the <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">partial</code> keyword
                precedes the <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">class</code>
                keyword in the nested type. Attributes, XML comments, interfaces, generic-type parameter attributes, and
                members are combined when the partial types are compiled into the type. Given these two source files:
                <font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">嵌套的部分是允许的，只要在嵌套类型中 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">partial</code>
                            关键字位于 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">class</code>
                            关键字之前。当部分类型被编译成类型时，属性、XML 注释、接口、泛型类型参数属性和成员将被合并。给定这两个源文件：</font>
                    </font>
                </font>
            </p>
            <pre id="c03-code-0110"><code>// SampleClassAutogenerated.cs</code>
<code>[CustomAttribute]</code>
<code>partial class SampleClass: SampleBaseClass, ISampleClass</code>
<code>{</code>
<code>  public void MethodOne() { }</code>
<code>}</code>
<code> </code>
<code>// SampleClass.cs</code>
<code>[AnotherAttribute]</code>
<code>partial class SampleClass: IOtherSampleClass<span aria-label="93" epub:type="pagebreak" id="Page_93" role="doc-pagebreak"></span></code>
<code>{</code>
<code>  public void MethodTwo() { }</code>
<code>}</code></pre>
            <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                data-immersive-translate-paragraph="1">the equivalent source file would be as follows after the compile:
                <font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">编译后，等效的源文件如下：</font>
                    </font>
                </font>
            </p>
            <pre id="c03-code-0111"><code>[CustomAttribute]</code>
<code>[AnotherAttribute]</code>
<code>partial class SampleClass: SampleBaseClass, ISampleClass, IOtherSampleClass</code>
<code>{</code>
<code>  public void MethodOne() { }</code>
<code>  public void MethodTwo() { }</code>
<code>}</code></pre>
            <aside data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                <div class="top hr" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                    <hr />
                </div>
                <section class="feature2" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                    <p id="c03-para-0234" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                        data-immersive-translate-paragraph="1"><b
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">NOTE</b> <i
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Although it may be
                            tempting to create huge classes that span multiple files and possibly have different
                            developers working on different files but the same class, the </i> <code
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">partial</code> <i
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"> keyword was not
                            designed for this use. With such a scenario, it would be better to split the big class into
                            several smaller classes to have a class just for one purpose.</i>
                        <font class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">注意
                                    虽然创建跨越多个文件的大型类，并且可能由不同的开发者在不同的文件中处理同一个类可能很有吸引力，但 <code
                                        xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">partial</code>
                                    关键字并非为此用途而设计。在这种情况下，将大型类拆分为几个较小的类会更好，每个类只负责一个目的。</font>
                            </font>
                        </font>
                    </p>
                    <div class="bottom hr" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                        <hr />
                    </div>
                </section>
            </aside>
            <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                data-immersive-translate-paragraph="1">Partial classes can contain partial methods. This is extremely
                useful if generated code should invoke methods that might not exist at all. The programmer extending the
                partial class can decide to create a custom implementation of the partial method or do nothing. The
                following code snippet contains a partial class with the method <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">MethodOne</code> that invokes
                the method <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">APartialMethod</code>. The
                method <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">APartialMethod</code> is
                declared with the <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">partial</code> keyword; thus,
                it does not need any implementation. If there's not an implementation, the compiler removes the
                invocation of this method:<font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">
                            部分类可以包含部分方法。如果生成的代码需要调用可能根本不存在的的方法，这一点极其有用。扩展部分类的程序员可以选择创建自定义的部分方法实现，或者什么也不做。以下代码片段包含一个部分类，其中包含调用方法
                            <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">APartialMethod</code>
                            的方法 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">MethodOne</code>
                            。方法 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">APartialMethod</code>
                            使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">partial</code>
                            关键字声明；因此，它不需要任何实现。如果没有实现，编译器会移除对此方法的调用：</font>
                    </font>
                </font>
            </p>
            <pre id="c03-code-0112"><code>//SampleClassAutogenerated.cs</code>
<code>partial class SampleClass</code>
<code>{</code>
<code>  public void MethodOne()</code>
<code>  {</code>
<code>    APartialMethod();</code>
<code>  }</code>
<code>  public partial void APartialMethod();</code>
<code>}</code></pre>
            <p data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                data-immersive-translate-paragraph="1">An implementation of the partial method can be done within any
                other part of the partial class, as shown in the following code snippet. With this method in place, the
                compiler creates code within <code
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">MethodOne</code> to invoke
                this <code data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">APartialMethod</code>
                declared here:<font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">
                            部分方法的实现可以在部分类的任何其他部分完成，如下面的代码片段所示。有了这个方法，编译器会在 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">MethodOne</code>
                            中生成代码来调用这里声明的 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">APartialMethod</code>
                            ：</font>
                    </font>
                </font>
            </p>
            <pre id="c03-code-0113"><code>// SampleClass.cs</code>
<code>partial class SampleClass: IOtherSampleClass</code>
<code>{</code>
<code>  public void APartialMethod()</code>
<code>  {</code>
<code>    // implementation of APartialMethod</code>
<code>  }</code>
<code>}</code></pre>
            <aside data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                <div class="top hr" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                    <hr />
                </div>
                <section class="feature2" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                    <p id="c03-para-0238" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                        data-immersive-translate-paragraph="1"><b
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">NOTE</b> <i
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Prior to C# 9,
                            partial methods had to be declared </i> <code
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">void</code> <i
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">. This is no longer
                            necessary. However, with partial methods that do not return </i> <code
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">void</code> <i
                            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">, an implementation
                            is required. This is an extremely useful enhancement, such as when using code generators.
                            Code generators are covered in <a href="c12.xhtml"
                                data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Chapter
                                12</a>.</i>
                        <font class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">注意：在 C# 9 之前，部分方法必须声明为 <code
                                        xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">void</code>
                                    。这不再必要。然而，对于不返回 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">void</code>
                                    的部分方法，必须提供实现。这是一个非常有用的增强功能，例如在使用代码生成器时。代码生成器在第 12 章中介绍。</font>
                            </font>
                        </font>
                    </p>
                    <div class="bottom hr" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
                        <hr />
                    </div>
                </section>
            </aside>
        </section> <span aria-label="94" epub:type="pagebreak" id="Page_94" role="doc-pagebreak"
            data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"></span>
        <section aria-labelledby="head-2-32" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">
            <span id="c03-sec-0078" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"></span>
            <h2 id="head-2-32" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                data-immersive-translate-paragraph="1">SUMMARY<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                    <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">摘要</font>
                    </font>
                </font>
            </h2>
            <p id="c03-para-0239" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                data-immersive-translate-paragraph="1">This chapter examined C# syntax for creating custom types with
                classes, records, structs, and tuples. You've seen how to declare static and instance fields,
                properties, methods, and constructors, both with curly brackets and with expression-bodied members.<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">本章探讨了使用类、记录、结构和元组创建自定义类型的
                            C#语法。你学习了如何声明静态和实例字段、属性、方法和构造函数，包括使用大括号和表达式成员的方式。</font>
                    </font>
                </font>
            </p>
            <p id="c03-para-0240" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                data-immersive-translate-paragraph="1">In a continuation of <a href="c02.xhtml"
                    data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c">Chapter 2</a>, you've also
                seen more features with pattern matching, such as tuple, property, and relational patterns.<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">
                            在延续第二章的基础上，你还学习了更多模式匹配的功能，如元组模式、属性模式和关系模式。</font>
                    </font>
                </font>
            </p>
            <p id="c03-para-0241" data-immersive-translate-walked="fa9ae87f-7797-4ccc-86b6-355e1c5c894c"
                data-immersive-translate-paragraph="1">The next chapter extends the types with inheritance, adding
                interfaces, and using inheritance with classes, records, and interfaces.<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">下一章将通过继承扩展类型，添加接口，并使用类、记录和接口的继承。
                        </font>
                    </font>
                </font>
            </p>
        </section>
    </section>
</body>
<div id="immersive-translate-popup" style="all: initial"></div>

</html>