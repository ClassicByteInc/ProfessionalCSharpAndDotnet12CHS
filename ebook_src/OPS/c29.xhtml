<!-- 这行注释会存在于经过翻译的源文件中。除非您获得许可请不要删除这个注释。
    翻译由 ClassicByte Org 的 higashitani yume 完成
    使用工具 沉浸式翻译 智谱GLM模型
    您可以阅读这个源代码，也可以向他人分发此源代码，但是不得用于商业用途。
    您也可以自己将这些代码打包成epub分发给别人，但是不得用于商业用途。
    如果此源代码侵犯了您的权益，请联系我我将会删除侵权内容。
    您在阅读此源代码时，可能会看到一些英文内容，这些内容是原书的内容，可能是因为翻译不准确或者是因为原书的内容没有被翻译。
    如果您发现了错误，请联系我我会进行修正。
  -->
<!--This line of comments will exist in the translated source file. Do not delete this comment unless you have permission.
    Translation is done by ClassicByte Org's higashitani yume
    Usage Tools Immersive Translation Zhipu GLM Model
    You can read this source code or distribute it to others, but it may not be used for commercial purposes.
    You can also package these codes yourself into epub and distribute them to others, but they may not be used for commercial purposes.
    If this source code infringes your rights, please contact me and I will delete the infringing content.
    When you read this source code, you may see some English content, which is the content of the original book, which may be because the translation is inaccurate or because the content of the original book has not been translated.
    If you find an error, please contact me and I will correct it.
  -->
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops" xmlns:svg="http://www.w3.org/2000/svg" epub:prefix="index: http://www.index.com/" lang="en" xml:lang="en" imt-state="dual" imt-trans-position="after">
<head>
<title>《29 Windows Apps》 --- 29 Windows Apps</title>
<link href="WileyTemplate_v5.5.css" rel="stylesheet" type="text/css" />
<meta content="urn:uuid:e0000000-0000-0000-0000-000006715209" name="Adept.expected.resource" />
<style data-id="immersive-translate-input-injected-css">.immersive-translate-input {
  position: absolute;
  top: 0;
  right: 0;
  left: 0;
  bottom: 0;
  z-index: 2147483647;
  display: flex;
  justify-content: center;
  align-items: center;
}
.immersive-translate-attach-loading::after {
  content: " ";

  --loading-color: #f78fb6;
  width: 6px;
  height: 6px;
  border-radius: 50%;
  display: block;
  margin: 12px auto;
  position: relative;
  color: white;
  left: -100px;
  box-sizing: border-box;
  animation: immersiveTranslateShadowRolling 1.5s linear infinite;

  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-2000%, -50%);
  z-index: 100;
}

.immersive-translate-loading-spinner {
  vertical-align: middle !important;
  width: 10px !important;
  height: 10px !important;
  display: inline-block !important;
  margin: 0 4px !important;
  border: 2px rgba(221, 244, 255, 0.6) solid !important;
  border-top: 2px rgba(0, 0, 0, 0.375) solid !important;
  border-left: 2px rgba(0, 0, 0, 0.375) solid !important;
  border-radius: 50% !important;
  padding: 0 !important;
  -webkit-animation: immersive-translate-loading-animation 0.6s infinite linear !important;
  animation: immersive-translate-loading-animation 0.6s infinite linear !important;
}

@-webkit-keyframes immersive-translate-loading-animation {
  from {
    -webkit-transform: rotate(0deg);
  }

  to {
    -webkit-transform: rotate(359deg);
  }
}

@keyframes immersive-translate-loading-animation {
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(359deg);
  }
}

.immersive-translate-input-loading {
  --loading-color: #f78fb6;
  width: 6px;
  height: 6px;
  border-radius: 50%;
  display: block;
  margin: 12px auto;
  position: relative;
  color: white;
  left: -100px;
  box-sizing: border-box;
  animation: immersiveTranslateShadowRolling 1.5s linear infinite;
}

@keyframes immersiveTranslateShadowRolling {
  0% {
    box-shadow: 0px 0 rgba(255, 255, 255, 0), 0px 0 rgba(255, 255, 255, 0),
      0px 0 rgba(255, 255, 255, 0), 0px 0 rgba(255, 255, 255, 0);
  }

  12% {
    box-shadow: 100px 0 var(--loading-color), 0px 0 rgba(255, 255, 255, 0),
      0px 0 rgba(255, 255, 255, 0), 0px 0 rgba(255, 255, 255, 0);
  }

  25% {
    box-shadow: 110px 0 var(--loading-color), 100px 0 var(--loading-color),
      0px 0 rgba(255, 255, 255, 0), 0px 0 rgba(255, 255, 255, 0);
  }

  36% {
    box-shadow: 120px 0 var(--loading-color), 110px 0 var(--loading-color),
      100px 0 var(--loading-color), 0px 0 rgba(255, 255, 255, 0);
  }

  50% {
    box-shadow: 130px 0 var(--loading-color), 120px 0 var(--loading-color),
      110px 0 var(--loading-color), 100px 0 var(--loading-color);
  }

  62% {
    box-shadow: 200px 0 rgba(255, 255, 255, 0), 130px 0 var(--loading-color),
      120px 0 var(--loading-color), 110px 0 var(--loading-color);
  }

  75% {
    box-shadow: 200px 0 rgba(255, 255, 255, 0), 200px 0 rgba(255, 255, 255, 0),
      130px 0 var(--loading-color), 120px 0 var(--loading-color);
  }

  87% {
    box-shadow: 200px 0 rgba(255, 255, 255, 0), 200px 0 rgba(255, 255, 255, 0),
      200px 0 rgba(255, 255, 255, 0), 130px 0 var(--loading-color);
  }

  100% {
    box-shadow: 200px 0 rgba(255, 255, 255, 0), 200px 0 rgba(255, 255, 255, 0),
      200px 0 rgba(255, 255, 255, 0), 200px 0 rgba(255, 255, 255, 0);
  }
}

.immersive-translate-toast {
  display: flex;
  position: fixed;
  z-index: 2147483647;
  left: 0;
  right: 0;
  top: 1%;
  width: fit-content;
  padding: 12px 20px;
  margin: auto;
  overflow: auto;
  background: #fef6f9;
  box-shadow: 0px 4px 10px 0px rgba(0, 10, 30, 0.06);
  font-size: 15px;
  border-radius: 8px;
  color: #333;
}

.immersive-translate-toast-content {
  display: flex;
  flex-direction: row;
  align-items: center;
}

.immersive-translate-toast-hidden {
  margin: 0 20px 0 72px;
  text-decoration: underline;
  cursor: pointer;
}

.immersive-translate-toast-close {
  color: #666666;
  font-size: 20px;
  font-weight: bold;
  padding: 0 10px;
  cursor: pointer;
}

@media screen and (max-width: 768px) {
  .immersive-translate-toast {
    top: 0;
    padding: 12px 0px 0 10px;
  }
  .immersive-translate-toast-content {
    flex-direction: column;
    text-align: center;
  }
  .immersive-translate-toast-hidden {
    margin: 10px auto;
  }
}

.immersive-translate-modal {
  display: none;
  position: fixed;
  z-index: 2147483647;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  overflow: auto;
  background-color: rgb(0, 0, 0);
  background-color: rgba(0, 0, 0, 0.4);
  font-size: 15px;
}

.immersive-translate-modal-content {
  background-color: #fefefe;
  margin: 10% auto;
  padding: 40px 24px 24px;
  border: 1px solid #888;
  border-radius: 10px;
  width: 80%;
  max-width: 270px;
  font-family: system-ui, -apple-system, "Segoe UI", "Roboto", "Ubuntu",
    "Cantarell", "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji",
    "Segoe UI Symbol", "Noto Color Emoji";
  position: relative;
}

@media screen and (max-width: 768px) {
  .immersive-translate-modal-content {
    margin: 50% auto !important;
  }
}

.immersive-translate-modal .immersive-translate-modal-content-in-input {
  max-width: 500px;
}
.immersive-translate-modal-content-in-input .immersive-translate-modal-body {
  text-align: left;
  max-height: unset;
}

.immersive-translate-modal-title {
  text-align: center;
  font-size: 16px;
  font-weight: 700;
  color: #333333;
}

.immersive-translate-modal-body {
  text-align: center;
  font-size: 14px;
  font-weight: 400;
  color: #333333;
  word-break: break-all;
  margin-top: 24px;
}

@media screen and (max-width: 768px) {
  .immersive-translate-modal-body {
    max-height: 250px;
    overflow-y: auto;
  }
}

.immersive-translate-close {
  color: #666666;
  position: absolute;
  right: 16px;
  top: 16px;
  font-size: 20px;
  font-weight: bold;
}

.immersive-translate-close:hover,
.immersive-translate-close:focus {
  color: black;
  text-decoration: none;
  cursor: pointer;
}

.immersive-translate-modal-footer {
  display: flex;
  justify-content: center;
  flex-wrap: wrap;
  margin-top: 24px;
}

.immersive-translate-btn {
  width: fit-content;
  color: #fff;
  background-color: #ea4c89;
  border: none;
  font-size: 16px;
  margin: 0 8px;
  padding: 9px 30px;
  border-radius: 5px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: background-color 0.3s ease;
}

.immersive-translate-btn:hover {
  background-color: #f082ac;
}
.immersive-translate-btn:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}
.immersive-translate-btn:disabled:hover {
  background-color: #ea4c89;
}

.immersive-translate-cancel-btn {
  /* gray color */
  background-color: rgb(89, 107, 120);
}

.immersive-translate-cancel-btn:hover {
  background-color: hsl(205, 20%, 32%);
}

.immersive-translate-action-btn {
  background-color: transparent;
  color: #ea4c89;
  border: 1px solid #ea4c89;
}

.immersive-translate-btn svg {
  margin-right: 5px;
}

.immersive-translate-link {
  cursor: pointer;
  user-select: none;
  -webkit-user-drag: none;
  text-decoration: none;
  color: #007bff;
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0.1);
}

.immersive-translate-primary-link {
  cursor: pointer;
  user-select: none;
  -webkit-user-drag: none;
  text-decoration: none;
  color: #ea4c89;
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0.1);
}

.immersive-translate-modal input[type="radio"] {
  margin: 0 6px;
  cursor: pointer;
}

.immersive-translate-modal label {
  cursor: pointer;
}

.immersive-translate-close-action {
  position: absolute;
  top: 2px;
  right: 0px;
  cursor: pointer;
}

.imt-image-status {
  background-color: rgba(0, 0, 0, 0.5) !important;
  display: flex !important;
  flex-direction: column !important;
  align-items: center !important;
  justify-content: center !important;
  border-radius: 16px !important;
}
.imt-image-status img,
.imt-image-status svg,
.imt-img-loading {
  width: 28px !important;
  height: 28px !important;
  margin: 0 0 8px 0 !important;
  min-height: 28px !important;
  min-width: 28px !important;
  position: relative !important;
}
.imt-img-loading {
  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4CAMAAACfWMssAAAAtFBMVEUAAAD////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////oK74hAAAAPHRSTlMABBMIDyQXHwyBfFdDMSw+OjXCb+5RG51IvV/k0rOqlGRM6KKMhdvNyZBz9MaupmxpWyj437iYd/yJVNZeuUC7AAACt0lEQVRIx53T2XKiUBCA4QYOiyCbiAsuuGBcYtxiYtT3f6/pbqoYHVFO5r+iivpo6DpAWYpqeoFfr9f90DsYAuRSWkFnPO50OgR9PwiCUFcl2GEcx+N/YBh6pvKaefHlUgZd1zVe0NbYcQjGBfzrPE8Xz8aF+71D8gG6DHFPpc4a7xFiCDuhaWgKgGIJQ3d5IMGDrpS4S5KgpIm+en9f6PlAhKby4JwEIxlYJV9h5k5nee9GoxHJ2IDSNB0dwdad1NAxDJ/uXDHYmebdk4PdbkS58CIVHdYSUHTYYRWOJblWSyu2lmy3KNFVJNBhxcuGW4YBVCbYGRZwIooipHsNqjM4FbgOQqQqSKQQU9V8xmi1QlgHqQQ6DDBvRUVCDirs+EzGDGOQTCATgtYTnbCVLgsVgRE0T1QE0qHCFAht2z6dLvJQs3Lo2FQoDxWNUiBhaP4eRgwNkI+dAjVOA/kUrIDwf3CG8NfNOE0eiFotSuo+rBiq8tD9oY4Qzc6YJw99hl1wzpQvD7ef2M8QgnOGJfJw+EltQc+oX2yn907QB22WZcvlUpd143dqQu+8pCJZuGE4xCuPXJqqcs5sNpsI93Rmzym1k4Npk+oD1SH3/a3LOK/JpUBpWfqNySxWzCfNCUITuDG5dtuphrUJ1myeIE9bIsPiKrfqTai5WZxbhtNphYx6GEIHihyGFTI69lje/rxajdh0s0msZ0zYxyPLhYCb1CyHm9Qsd2H37Y3lugVwL9kNh8Ot8cha6fUNQ8nuXi5z9/ExsAO4zQrb/ev1yrCB7lGyQzgYDGuxq1toDN/JGvN+HyWNHKB7zEoK+PX11e12G431erGYzwmytAWU56fkMHY5JJnDRR2eZji3AwtIcrEV8Cojat/BdQ7XOwGV1e1hDjGGjXbdArm8uJZtCH5MbcctVX8A1WpqumJHwckAAAAASUVORK5CYII=");
  background-size: 28px 28px;
  animation: image-loading-rotate 1s linear infinite !important;
}

.imt-image-status span {
  color: var(--bg-2, #fff) !important;
  font-size: 14px !important;
  line-height: 14px !important;
  font-weight: 500 !important;
  font-family: "PingFang SC", Arial, sans-serif !important;
}

@keyframes image-loading-rotate {
  from {
    transform: rotate(360deg);
  }
  to {
    transform: rotate(0deg);
  }
}
</style><style data-id="immersive-translate-default-injected-css">:root {
  --immersive-translate-theme-underline-borderColor: #72ece9;
  --immersive-translate-theme-nativeUnderline-borderColor: #72ece9;
  --immersive-translate-theme-nativeDashed-borderColor: #72ece9;
  --immersive-translate-theme-nativeDotted-borderColor: #72ece9;
  --immersive-translate-theme-highlight-backgroundColor: #ffff00;
  --immersive-translate-theme-dashed-borderColor: #59c1bd;
  --immersive-translate-theme-blockquote-borderColor: #cc3355;
  --immersive-translate-theme-thinDashed-borderColor: #ff374f;
  --immersive-translate-theme-dashedBorder-borderColor: #94a3b8;
  --immersive-translate-theme-dashedBorder-borderRadius: 0;
  --immersive-translate-theme-solidBorder-borderColor: #94a3b8;
  --immersive-translate-theme-solidBorder-borderRadius: 0;
  --immersive-translate-theme-dotted-borderColor: #94a3b8;
  --immersive-translate-theme-wavy-borderColor: #72ece9;
  --immersive-translate-theme-dividingLine-borderColor: #94a3b8;
  --immersive-translate-theme-grey-textColor: #2f4f4f;
  --immersive-translate-theme-marker-backgroundColor: #fbda41;
  --immersive-translate-theme-marker-backgroundColor-rgb: 251, 218, 65;
  --immersive-translate-theme-marker2-backgroundColor: #ffff00;
  --immersive-translate-theme-background-backgroundColor: #dbafaf;
  --immersive-translate-theme-background-backgroundColor-rgb: 219, 175, 175;
  --immersive-translate-theme-background-backgroundOpacity: 12;
  --immersive-translate-theme-opacity-opacity: 10;
}

[imt-state="dual"] .immersive-translate-target-translation-pre-whitespace {
  white-space: pre-wrap !important;
}

[imt-state="dual"] .immersive-translate-pdf-target-container {
  position: absolute;
  background-color: #fff;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica,
    sans-serif;
  top: 0;
  width: 600px;
  height: 100%;
  z-index: 2;
  line-height: 1.3;
  font-size: 16px;
}
[imt-state="dual"] .immersive-translate-target-wrapper[dir="rtl"] {
  text-align: right;
}

[imt-state="dual"]
  .immersive-translate-pdf-target-container
  .immersive-translate-target-wrapper {
  color: rgb(0, 0, 0);
  white-space: normal;
  position: absolute;
}

[imt-state="dual"]
  .immersive-translate-pdf-target-container
  .immersive-translate-target-wrapper
  font {
  color: inherit;
  white-space: inherit;
  position: unset;
}

[imt-state="translation"] .immersive-translate-target-wrapper &gt; br {
  display: none;
}

[imt-state="translation"]
  .immersive-translate-target-translation-block-wrapper {
  margin: 0 !important;
}

[imt-state="dual"] .immersive-translate-target-translation-block-wrapper {
  margin: 8px 0 !important;
  display: inline-block;
}

[imt-trans-position="before"]
  .immersive-translate-target-translation-block-wrapper {
  display: block;
}

[imt-trans-position="before"]
  .immersive-translate-target-translation-block-wrapper {
  margin-top: 0 !important;
}

[imt-state="dual"] .immersive-translate-target-translation-pdf-block-wrapper {
  margin: 0 !important;
  display: inline-block;
}

[imt-state="dual"] .immersive-translate-target-translation-theme-grey-inner {
  color: var(--immersive-translate-theme-grey-textColor);
}

[imt-state="dual"]
  .immersive-translate-target-translation-theme-underline-inner {
  border-bottom: 1px solid
    var(--immersive-translate-theme-underline-borderColor) !important;
}

[imt-state="dual"]
  .immersive-translate-target-translation-theme-nativeUnderline-inner {
  text-decoration: underline !important;
  text-decoration-color: var(
    --immersive-translate-theme-nativeUnderline-borderColor
  ) !important;
}

[imt-state="dual"]
  .immersive-translate-target-translation-block-wrapper-theme-dashedBorder {
  border: 1px dashed var(--immersive-translate-theme-dashedBorder-borderColor) !important;
  border-radius: var(
    --immersive-translate-theme-dashedBorder-borderRadius
  ) !important;
  padding: 6px;
  margin-top: 2px;
  display: inline-block;
}

[imt-state="dual"]
  .immersive-translate-target-translation-inline-wrapper-theme-dashedBorder {
  border: 1px dashed var(--immersive-translate-theme-dashedBorder-borderColor) !important;
  border-radius: var(
    --immersive-translate-theme-dashedBorder-borderRadius
  ) !important;
  padding: 2px;
}

[imt-state="dual"]
  .immersive-translate-target-translation-block-wrapper-theme-solidBorder {
  border: 1px solid var(--immersive-translate-theme-solidBorder-borderColor) !important;
  border-radius: var(
    --immersive-translate-theme-solidBorder-borderRadius
  ) !important;
  padding: 6px;
  margin-top: 2px;
  display: inline-block;
}

[imt-state="dual"]
  .immersive-translate-target-translation-inline-wrapper-theme-solidBorder {
  border: 1px solid var(--immersive-translate-theme-solidBorder-borderColor) !important;
  border-radius: var(
    --immersive-translate-theme-solidBorder-borderRadius
  ) !important;
  padding: 2px;
}

[imt-state="dual"]
  .immersive-translate-target-translation-theme-nativeDashed-inner {
  text-decoration: underline !important;
  text-decoration-color: var(
    --immersive-translate-theme-nativeDashed-borderColor
  ) !important;
  text-decoration-style: dashed !important;
}

[imt-state="dual"]
  .immersive-translate-target-translation-theme-thinDashed-inner {
  border-bottom: 1px dashed
    var(--immersive-translate-theme-thinDashed-borderColor) !important;
}

[imt-state="dual"] .immersive-translate-target-translation-theme-dotted-inner {
  background-image: linear-gradient(
    to right,
    var(--immersive-translate-theme-dotted-borderColor) 30%,
    rgba(255, 255, 255, 0) 0%
  );
  background-position: bottom;
  background-size: 5px 1px;
  background-repeat: repeat-x;
  padding-bottom: 3px;
}

[imt-state="dual"]
  .immersive-translate-target-translation-theme-nativeDotted-inner {
  text-decoration: underline !important;
  text-decoration-color: var(
    --immersive-translate-theme-nativeDotted-borderColor
  ) !important;
  text-decoration-style: dotted !important;
}

[imt-state="dual"] .immersive-translate-target-translation-theme-wavy-inner {
  text-decoration: underline !important;
  text-decoration-color: var(
    --immersive-translate-theme-wavy-borderColor
  ) !important;
  text-decoration-style: wavy !important;
}

[imt-state="dual"] .immersive-translate-target-translation-theme-dashed-inner {
  background: linear-gradient(
      to right,
      var(--immersive-translate-theme-dashed-borderColor) 0%,
      var(--immersive-translate-theme-dashed-borderColor) 50%,
      transparent 50%,
      transparent 100%
    )
    repeat-x left bottom;
  background-size: 8px 2px;
  padding-bottom: 2px;
}

[imt-state="dual"]
  .immersive-translate-target-translation-block-wrapper-theme-dividingLine::before {
  content: "";
  display: block;
  max-width: 80px;
  width: 10%;
  border-top: 1px dashed
    var(--immersive-translate-theme-dividingLine-borderColor);
  padding-top: 8px;
}

[imt-state="dual"]
  .immersive-translate-target-translation-inline-wrapper-theme-dividingLine::before {
  content: "";
  border-left: 1px dashed
    var(--immersive-translate-theme-dividingLine-borderColor);
  max-height: 16px;
  height: 16px;
  padding-left: 8px;
}

[imt-state="dual"]
  .immersive-translate-target-translation-theme-highlight-inner {
  background: var(--immersive-translate-theme-highlight-backgroundColor);
  box-decoration-break: clone;
  -webkit-box-decoration-break: clone;
}

[imt-state="dual"]
  .immersive-translate-target-translation-block-wrapper-theme-marker {
  line-height: 1.5em;
}

[imt-state="dual"] .immersive-translate-target-translation-theme-marker2-inner {
  font-weight: bold;
  text-shadow: 10px 0px 3px
      var(--immersive-translate-theme-marker2-backgroundColor),
    16px 3px 9px var(--immersive-translate-theme-marker2-backgroundColor),
    2px 0px 6px var(--immersive-translate-theme-marker2-backgroundColor),
    -12px 0px 12px var(--immersive-translate-theme-marker2-backgroundColor) !important;
}

[imt-state="dual"] .immersive-translate-target-translation-theme-marker-inner {
  /* TODO: add more texture */
  background: linear-gradient(
    to right,
    rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.1),
    rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 3%,
    rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 35%,
    rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 70%,
    rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.8) 95%,
    rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.3)
  );
  box-decoration-break: clone;
  -webkit-box-decoration-break: clone;
}

[imt-state="dual"] .immersive-translate-target-translation-theme-weakening {
  opacity: 0.618 !important;
}

[imt-state="dual"] .immersive-translate-target-translation-theme-italic {
  font-style: italic !important;
}

[imt-state="dual"] .immersive-translate-target-translation-theme-bold {
  font-weight: bold !important;
}

[imt-state="dual"]
  .immersive-translate-target-translation-block-wrapper-theme-paper {
  margin: 8px 0;
  box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;
  padding: 16px 32px;
  display: inline-block;
}

[imt-state="dual"]
  .immersive-translate-target-translation-block-wrapper-theme-blockquote {
  border-left: 4px solid var(--immersive-translate-theme-blockquote-borderColor) !important;
  padding-left: 12px !important;
  margin-top: 4px;
  margin-bottom: 4px;
  padding-top: 4px;
  padding-bottom: 4px;
  display: inline-block;
}

[imt-state="dual"] .immersive-translate-target-translation-theme-mask-inner {
  filter: blur(5px) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

[data-immersive-translate-root-translation-theme="none"]
  .immersive-translate-target-translation-theme-mask-inner {
  filter: none !important;
}

[data-immersive-translate-root-translation-theme="mask"]
  .immersive-translate-target-inner {
  filter: blur(5px) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

/* opacity theme start */

[imt-state="dual"] .immersive-translate-target-translation-theme-opacity-inner {
  filter: opacity(
    calc(var(--immersive-translate-theme-opacity-opacity) * 1%)
  ) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

[data-immersive-translate-root-translation-theme="none"]
  .immersive-translate-target-translation-theme-opacity-inner {
  filter: none !important;
}
[data-immersive-translate-root-translation-theme="opacity"]
  .immersive-translate-target-inner,
[imt-state="dual"]
  .immersive-translate-target-translation-theme-opacity-inner:hover {
  filter: opacity(
    calc(var(--immersive-translate-theme-opacity-opacity) * 1%)
  ) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

[imt-state="dual"]
  .immersive-translate-target-translation-theme-opacity-inner:hover {
  filter: none !important;
}

[imt-state="dual"]
  .immersive-translate-target-translation-theme-mask-inner:hover {
  filter: none !important;
}
[data-immersive-translate-root-translation-theme="opacity"]
  .immersive-translate-target-inner:hover {
  filter: none !important;
}

[data-immersive-translate-root-translation-theme="mask"]
  .immersive-translate-target-inner:hover {
  filter: none !important;
}

/* opacity theme end */

/* background theme start */
[imt-state="dual"]
  .immersive-translate-target-translation-block-wrapper-theme-background {
  margin: 8px 0;
  background: rgba(
    var(--immersive-translate-theme-background-backgroundColor-rgb),
    calc(var(--immersive-translate-theme-background-backgroundOpacity) * 1%)
  );
  border-radius: 4px;
  box-shadow: unset !important;
  padding: 12px;
  display: inline-block;
}
[imt-state="dual"]
  .immersive-translate-target-translation-theme-background-inner {
  background: rgba(
    var(--immersive-translate-theme-background-backgroundColor-rgb),
    calc(var(--immersive-translate-theme-background-backgroundOpacity) * 1%)
  );
  padding-left: 6px;
  padding-right: 6px;
  box-decoration-break: clone;
  -webkit-box-decoration-break: clone;
}
[imt-state="dual"]
  .immersive-translate-target-translation-block-wrapper
  .immersive-translate-target-translation-theme-background-inner {
  background: unset;
  padding-left: unset;
  padding-right: unset;
}
/* background theme end */

/* vertical css , please remain it in the last one. */
.immersive-translate-target-translation-vertical-block-wrapper {
  margin: 0px 8px !important;
}

.immersive-translate-text {
  font-size: 15px !important;
}

.immersive-translate-error-toast {
  position: fixed;
  top: 5%;
  z-index: 99999999;
  left: 0;
  right: 0;
  margin: auto;
  max-width: 300px;
  padding: 16px;
  border-radius: 12px;
  background-color: rgba(0, 0, 0, 0.8);
  display: flex;
  flex-direction: row;
  justify-content: space-between;
}

@media all and (min-width: 750px) {
  .immersive-translate-error-toast {
    max-width: 400px;
  }
}

.immersive-translate-clickable-button {
  cursor: pointer;
}

.immersive-translate-help-button {
  cursor: pointer;
}

.immersive-translate-loading-text:before {
  content: "...";
}

/* dark mode for loading */

@media only screen and (prefers-color-scheme: dark) {
  .immersive-translate-loading {
    border: 2px rgba(255, 255, 255, 0.25) solid !important;
    border-top: 2px rgba(255, 255, 255, 1) solid !important;
  }
}

.immersive-translate-error-wrapper {
  position: relative;
  display: inline-flex;
  padding: 6px;
  margin: 0 12px;
  white-space: nowrap;
  font-size: 0.9em;
}
[lang="zh-CN"] .immersive-translate-error-wrapper {
  font-size: 0.75em;
}
[lang="zh-TW"] .immersive-translate-error-wrapper {
  font-size: 0.75em;
}

.immersive-translate-tooltip {
  position: relative;
  display: inline-flex;
  /* little indicater to indicate it's hoverable */
}

.immersive-translate-tooltip-content {
  /* here's the magic */
  position: absolute;
  z-index: 100000000000;

  left: 50%;
  bottom: 0;
  transform: translate(-50%, 110%);
  line-height: 1;
  /* and add a small left margin */

  /* basic styles */
  width: max-content;
  max-width: 250px;
  word-wrap: break-word;
  white-space: pre-line;
  padding: 10px;
  border-radius: 10px;
  background: #000c;
  color: #fff;
  text-align: center;
  font-size: 14px;
  display: none;
  /* hide by default */
}

.immersive-translate-tooltip:hover .immersive-translate-tooltip-content {
  display: inline-block;
}

.immersive-translate-tooltip:hover + .immersive-translate-tooltip-content {
  display: inline-block;
}

.immersive-translate-tooltip-content-table {
  left: unset !important;
  bottom: unset !important;
  transform: translate(-10%, 50%) !important;
}

.immersive-translate-tooltip:hover:before {
  display: inline-block;
}

.immersive-translate-loading-spinner {
  vertical-align: middle !important;
  width: 10px !important;
  height: 10px !important;
  display: inline-block !important;
  margin: 0 4px !important;
  border: 2px rgba(221, 244, 255, 0.6) solid !important;
  border-top: 2px rgba(0, 0, 0, 0.375) solid !important;
  border-left: 2px rgba(0, 0, 0, 0.375) solid !important;
  border-radius: 50% !important;
  padding: 0 !important;
  -webkit-animation: immersive-translate-loading-animation 0.6s infinite linear !important;
  animation: immersive-translate-loading-animation 0.6s infinite linear !important;
}

@-webkit-keyframes immersive-translate-loading-animation {
  from {
    -webkit-transform: rotate(0deg);
  }

  to {
    -webkit-transform: rotate(359deg);
  }
}

@keyframes immersive-translate-loading-animation {
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(359deg);
  }
}

.imt-image-status {
  background-color: rgba(0, 0, 0, 0.5);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  color: var(--bg-2, #fff);
  font-size: 14px;
}
</style><style data-id="immersive-translate-user-custom-style">:root {

.immersive-translate-target-inner { font-family: inherit; }


.immersive-translate-target-inner { font-family: inherit; }
}
</style><style data-id="immersive-translate-dynamic-injected-css">.immersive-translate-target-wrapper[dir='rtl'] {text-align: right;}
.immersive-translate-target-wrapper[dir='rtl'] [data-immersive-translate-class-bak*='block-wrapper'] {display:block;}
.immersive-translate-target-wrapper {word-break:break-word; user-select:text;}
[imt-state="translation"] .immersive-translate-target-wrapper[dir='rtl'] {display:inline-block;}
[dir='rtl'] .immersive-translate-target-wrapper:not([dir]) {text-align:left;}
[imt-state=dual] .immersive-translate-target-translation-block-wrapper-theme-dividingLine::before {display:block;}
[imt-trans-position=before] .immersive-translate-target-translation-block-wrapper {display:block!important;}
[imt-state][data-immersive-translate_rtl] .immersive-translate-target-wrapper {display:block!important;}
</style></head>
<body epub:type="bodymatter" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<section aria-labelledby="c29_1" epub:type="chapter" role="doc-chapter" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<header data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<h1 id="c29_1" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1"><span aria-label="819" epub:type="pagebreak" id="Page_819" role="doc-pagebreak" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span><span id="c29" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span><span class="chapterNumber" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">29</span><br /><span class="chapterTitle" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Windows Apps</span><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">29Windows 应用</font></font></font></h1>
</header>
<section aria-label="chapter opening" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><span id="c29-sec-0001" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span>
<aside data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<div class="top hr" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><hr /></div>
<section class="feature3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<h3 data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">WHAT'S IN THIS CHAPTER?<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">本章包含什么内容？</font></font></font></h3>
<ul class="check2" id="c29-list-0001" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<li id="c29-li-0001" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Introducing XAML<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">介绍 XAML</font></font></font></li>
<li id="c29-li-0002" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Working with controls<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用控件</font></font></font></li>
<li id="c29-li-0003" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Working with compiled data binding<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">处理编译后的数据绑定</font></font></font></li>
<li id="c29-li-0004" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Implementing navigation<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">实现导航</font></font></font></li>
<li id="c29-li-0005" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Using layout panels<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用布局面板</font></font></font></li>
</ul>
<div class="bottom hr" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><hr /></div>
</section>
</aside>
<aside data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<div class="top hr" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><hr /></div>
<section class="feature3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><span id="c29-fea-0001" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span>
<h3 id="head-2-255" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">CODE DOWNLOADS FOR THIS CHAPTER<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">本章代码下载</font></font></font></h3>
<section data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><span id="c29-sec-0003" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span>
<p id="c29-para-0003" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">The source code for this chapter is available on the book page at <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><a href="http://www.wiley.com">www.wiley.com</a></code>. Click the Downloads link. The code can also be found at <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><a href="https://github.com/ProfessionalCSharp/ProfessionalCSharp2021">https://github.com/ProfessionalCSharp/ProfessionalCSharp2021</a></code> in the directory <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">4_Apps/Windows</code>.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">本章的源代码可在书籍页面 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><a href="http://www.wiley.com">www.wiley.com</a></code> 上找到。点击下载链接。代码也可以在目录 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">4_Apps/Windows</code> 中的 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><a href="https://github.com/ProfessionalCSharp/ProfessionalCSharp2021">https://github.com/ProfessionalCSharp/ProfessionalCSharp2021</a></code> 找到。</font></font></font></p>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">The code for this chapter is divided into the following major examples:<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">本章的代码分为以下主要示例：</font></font></font></p>
<ul class="check" id="c29-list-0002" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<li id="c29-li-0006" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">XAMLIntro</li>
<li id="c29-li-0007" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">ControlsSamples<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">控件示例</font></font></font></li>
<li id="c29-li-0008" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">DataBindingSamples</li>
<li id="c29-li-0009" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">NavigationControls</li>
<li id="c29-li-0010" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">LayoutSamples</li>
</ul>
<p id="c29-para-0005" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">All the projects have nullable reference types enabled.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">所有项目都启用了可空引用类型。 </font></font></font></p>
</section>
<div class="bottom hr" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><hr /></div>
</section>
</aside>
</section>
<section aria-labelledby="head-2-256" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><span id="c29-sec-0004" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span>
<h2 id="head-2-256" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">INTRODUCING WINDOWS APPS<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">介绍 Windows 应用</font></font></font></h2>
<p id="c29-para-0006" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Many options are available for creating Windows applications. When the .NET Framework was first released in 2002, Windows Forms was <i data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">the</i> technology to create Windows applications. Since .NET Core 3.1, you can also create Windows Forms applications with the new .NET. The “old” .NET (.NET Framework 3.0) introduced Windows Presentation Foundation (WPF). With WPF, the user interface is created <span aria-label="820" epub:type="pagebreak" id="Page_820" role="doc-pagebreak" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span>with eXtensible Application Markup Language (XAML), an XML syntax that allows flexible scaling. Silverlight (code name WPF-E or WPF Everywhere) was a technology that brought XAML syntax to the browser, and the Windows phone with a slimmed-down version of .NET. This technology needed an add-in with the browser. For some years, Silverlight was also the technology to create applications for Windows phones. The last version of Silverlight had the goal for more desktop support with the ability to control Microsoft Office (after more features had been integrated with HTML 5). With this, the Universal Windows Platform (UWP) became the successor of Silverlight to create XAML-based applications for Windows.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">创建 Windows 应用程序有许多选项。当.NET Framework 于 2002 年首次发布时，Windows Forms 是创建 Windows 应用程序的技术。自.NET Core 3.1 以来，您也可以使用新的.NET 创建 Windows Forms 应用程序。“旧”的.NET（.NET Framework 3.0）引入了 Windows Presentation Foundation（WPF）。使用 WPF，用户界面是使用可扩展应用程序标记语言（XAML）创建的，这是一种允许灵活缩放的 XML 语法。Silverlight（代码名为 WPF-E 或 WPF Everywhere）是一种将 XAML 语法带到浏览器并带有.NET 精简版本的手机的技术。这项技术需要一个浏览器插件。在几年里，Silverlight 也是创建 Windows 手机应用程序的技术。Silverlight 的最后一个版本的目标是增强桌面支持，并能够控制 Microsoft Office（在更多功能与 HTML 5 集成后）。随着这一点，通用 Windows 平台（UWP）成为 Silverlight 的继任者，用于为 Windows 创建基于 XAML 的应用程序。</font></font></font></p>
<p id="c29-para-0007" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Compared to WPF, UWP offers modern XAML features not available with WPF. UWP applications run in a sandboxed environment where the user is in control of what the app can do. When installing UWP applications from the Microsoft Store, the user gets some guarantees about what the app might do and can uninstall the application again without keeping some files or registry keys on the system. With UWP, a slimmed-down version of .NET with the Windows Runtime (WinRT) is used.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">与 WPF 相比，UWP 提供了 WPF 所不具备的现代 XAML 功能。UWP 应用程序在沙盒环境中运行，用户可以控制应用程序能做什么。从 Microsoft Store 安装 UWP 应用程序时，用户会得到关于应用程序可能做什么的一些保证，并且可以再次卸载应用程序，而无需在系统上保留某些文件或注册表项。使用 UWP 时，会使用一个精简版的.NET，包含 Windows 运行时（WinRT）。</font></font></font></p>
<p id="c29-para-0008" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Now we have a new technology for the user interface. Modern XAML syntax is used with rich desktop applications, and the desktop applications can take advantage of the newest C# language features with the latest version of .NET: WinUI. The controls are separated from the Windows 10 version. Instead of waiting for new Windows 10 versions to be available with the users before using new UI controls, the UI controls are part of the library and can be used with older Windows 10 versions.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">现在我们有了新的用户界面技术。现代 XAML 语法用于丰富的桌面应用程序，并且桌面应用程序可以利用最新版本的.NET 中的 C#语言功能：WinUI。控件与 Windows 10 版本分离。不再需要等待新的 Windows 10 版本可用才能使用新的 UI 控件，UI 控件是库的一部分，并且可以与较旧的 Windows 10 版本一起使用。</font></font></font></p>
<p id="c29-para-0009" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">WinUI gives you different options to create applications: packaged desktop applications, desktop applications that are not packaged, and UWP applications. Packaged desktop applications make use of MSIX. MSIX is the Windows app package format for deploying Windows apps (<code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><a href="https://docs.microsoft.com">https://docs.microsoft.com</a></code> <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">windows/msix</code>). With packaged desktop applications, two projects are created: one with the application code and one to create the deployment package. Applications deployed using MSIX run in a lightweight app container. When you use MSIX, the application is isolated from other apps and can be fully uninstalled without having bits left on your system. A UWP app container, also known as <i data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">native container</i>, supports better battery life (by suspending applications when they are not used) and explicit security control. With a native container, the user grants permissions defining what the application is allowed to do. Within the Microsoft Store, you can add not only applications using a native container but also applications using MSIX app containers. With MSIX containers, some users complain that your app needs full permissions to run.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">WinUI 为你提供了多种创建应用程序的选项：打包桌面应用程序、未打包的桌面应用程序和 UWP 应用程序。打包桌面应用程序使用 MSIX。MSIX 是用于部署 Windows 应用程序的 Windows 应用包格式（ <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><a href="https://docs.microsoft.com">https://docs.microsoft.com</a></code> <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">windows/msix</code> ）。使用打包桌面应用程序时，会创建两个项目：一个包含应用程序代码，另一个用于创建部署包。使用 MSIX 部署的应用程序在轻量级应用容器中运行。当你使用 MSIX 时，应用程序与其他应用程序隔离，并且可以完全卸载，不会在系统上留下任何残留文件。UWP 应用容器（也称为原生容器）支持更好的电池寿命（通过在应用程序未使用时挂起它们）和显式安全控制。使用原生容器时，用户授予权限，定义应用程序被允许执行的操作。在 Microsoft Store 中，你可以添加使用原生容器和 MSIX 应用容器的应用程序。使用 MSIX 容器时，一些用户抱怨你的应用程序需要完全权限才能运行。</font></font></font></p>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">At the time of this writing, WinUI supports only packaged desktop applications, but the other application types are on the WinUI roadmap. See the WinUI 3.0 feature roadmap for the current state of WinUI: <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><a href="https://github.com/Microsoft/microsoft-ui-xaml/blob/master/docs/roadmap.md#winui-30-feature-roadmap">https://github.com/Microsoft/microsoft-ui-xaml/blob/master/docs/roadmap.md#winui-30-feature-roadmap</a></code>.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在撰写本文时，WinUI 仅支持打包的桌面应用程序，但其他类型的应用程序已列入 WinUI 的路线图。请参阅 WinUI 3.0 功能路线图了解 WinUI 的当前状态： <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><a href="https://github.com/Microsoft/microsoft-ui-xaml/blob/master/docs/roadmap.md#winui-30-feature-roadmap">https://github.com/Microsoft/microsoft-ui-xaml/blob/master/docs/roadmap.md#winui-30-feature-roadmap</a></code> 。</font></font></font></p>
<aside data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<div class="top hr" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><hr /></div>
<section class="feature2" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<p id="c29-para-0011" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1"><b data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NOTE</b> <i data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">The GitHub repo of the previous edition of this book (</i><code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><a href="https://github.com/ProfessionalCSharp/ProfessionalCSharp7">https://github.com/ProfessionalCSharp/ProfessionalCSharp7</a></code><i data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">) includes UWP samples using the ink control and the map control and some other UWP features. At the time of this writing, WinUI does not have support for ink and maps. With the fast updates of WinUI, make sure to check the readme file of the book samples for updates and see </i><code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><a href="https://github.com/ProfessionalCSharp/MoreSamples">https://github.com/ProfessionalCSharp/MoreSamples</a></code> <i data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">for additional samples with WinUI—for example, with the ink and map controls.</i><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">注意 上一版本书的 GitHub 仓库（ <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><a href="https://github.com/ProfessionalCSharp/ProfessionalCSharp7">https://github.com/ProfessionalCSharp/ProfessionalCSharp7</a></code> ）包含使用墨水控件和地图控件的 UWP 示例以及一些其他 UWP 功能。在撰写本文时，WinUI 尚不支持墨水和地图。由于 WinUI 更新迅速，请确保检查书籍示例的 README 文件以获取更新，并查看 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><a href="https://github.com/ProfessionalCSharp/MoreSamples">https://github.com/ProfessionalCSharp/MoreSamples</a></code> 获取使用 WinUI 的额外示例——例如，使用墨水和地图控件。</font></font></font></p>
<div class="bottom hr" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><hr /></div>
</section>
</aside>
<p id="c29-para-0012" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">This chapter and the following chapters provide information on creating Windows applications with WinUI. Nearly all the topics discussed are possible with other XAML-based technologies as well. Practically the same syntax can be used with UWP applications.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">本章及后续章节提供有关使用 WinUI 创建 Windows 应用程序的信息。讨论的几乎所有主题都可以使用其他基于 XAML 的技术实现。实际上，与 UWP 应用程序可以使用几乎相同的语法。</font></font></font></p>
<p id="c29-para-0013" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">When you compare WinUI with WPF, the XAML syntax looks nearly the same, but there are important differences. Besides having more modern controls with WinUI, controls have other properties (such as the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Header</code> property with the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TextBlock</code> element). WinUI offers compiled binding (in addition to the reflection-based binding that's also available with WPF). The class hierarchy of WinUI is simpler than the class hierarchy of WPF; <span aria-label="821" epub:type="pagebreak" id="Page_821" role="doc-pagebreak" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span>there are many similarities but with completely different implementations. Whereas WPF is developed with .NET, the WinUI controls have been built with C++.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">当你比较 WinUI 和 WPF 时，XAML 语法看起来几乎相同，但存在重要差异。除了 WinUI 拥有更现代的控件外，控件还具有其他属性（例如与元素相关的 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Header</code> 属性）。WinUI 提供编译式绑定（除了 WPF 也支持的基于反射的绑定）。WinUI 的类层次结构比 WPF 的类层次结构更简单；虽然有很多相似之处，但实现完全不同。而 WPF 是基于.NET 开发的，WinUI 控件则是用 C++构建的。</font></font></font></p>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Another user interface option that's making use of XAML is .NET Multi-Platform App UI (MAUI). This library is the successor of Xamarin.Forms. Here you have other controls and other control hierarchies offering renderers for Android and iOS.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">另一个使用 XAML 的用户界面选项是.NET 跨平台应用 UI（MAUI）。这个库是 Xamarin.Forms 的继任者。在这里，你拥有其他控件和不同的控件层次结构，为 Android 和 iOS 提供渲染器。</font></font></font></p>
<aside data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<div class="top hr" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><hr /></div>
<section class="feature2" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<p id="c29-para-0015" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1"><b data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NOTE</b> <i data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">The Project Reunion is a code name from Microsoft to combine all the desktop technologies under one umbrella. Instead of porting your existing C++/MFC and WPF applications to WinUI, you can use WinUI controls from all the desktop technologies and easily use new features in your existing applications.</i><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">注意：Project Reunion 是微软为将所有桌面技术整合到一个框架下的代号。与其将现有的 C++/MFC 和 WPF 应用程序移植到 WinUI，你可以使用所有桌面技术的 WinUI 控件，并轻松地在现有应用程序中使用新功能。</font></font></font></p>
<div class="bottom hr" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><hr /></div>
</section>
</aside>
<section data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><span id="c29-sec-0007" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span>
<h3 id="head-3-533" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Windows Runtime<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">Windows 运行时</font></font></font></h3>
<p id="c29-para-0016" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Before digging into the XAML syntax, you need to know about the Windows Runtime (WinRT). WinRT is the modern native API of the Windows platform, and WinUI (and UWP) applications make use of this runtime. It's built with C++ and a new generation of COM objects. Many applications available as part of the Windows operating system (for example, Calculator) are developed with C++ and XAML. You can check the source code of the Calculator at <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><a href="https://github.com/Microsoft/Calculator">https://github.com/Microsoft/Calculator</a></code> to see the XAML code and its C++ view models, and you can even add pull requests to enhance its functionality.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在深入 XAML 语法之前，你需要了解 Windows 运行时（WinRT）。WinRT 是 Windows 平台的现代原生 API，WinUI（和 UWP）应用程序使用这个运行时。它是用 C++和新一代 COM 对象构建的。许多作为 Windows 操作系统一部分提供的应用程序（例如计算器）都是用 C++和 XAML 开发的。你可以查看计算器的源代码（ <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><a href="https://github.com/Microsoft/Calculator">https://github.com/Microsoft/Calculator</a></code> ）来查看其 XAML 代码和 C++视图模型，甚至可以添加 pull 请求来增强其功能。</font></font></font></p>
<p id="c29-para-0017" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">To use WinRT from .NET applications, C#/WinRT offers projection support for C#. With the projection support, native details of WinRT APIs are hidden and mapped to .NET data types.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">要从.NET 应用程序中使用 WinRT，C#/WinRT 为 C#提供了投影支持。通过投影支持，WinRT API 的原生细节被隐藏并映射到.NET 数据类型。</font></font></font></p>
<p id="c29-para-0018" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">With .NET, metadata is extensible with custom attributes and can be accessed using reflection. (Read more about this in <a href="c12.xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Chapter 12</a>, “Reflection, Metadata, and Dynamic Programming.”) WinRT is using the same format for its metadata as .NET. Thus, you can open the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">.winmd</code> files (metadata files for WinRT) using the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ildasm</code> command line to see the API calls with their parameters. You can find the Windows metadata files in the directory <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">%ProgramFiles(x86)%\Windows Kits\10\References\</code>.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用.NET，元数据可以通过自定义属性进行扩展，并可以使用反射来访问。（更多内容请参阅第 12 章“反射、元数据和动态编程。”）WinRT 使用与.NET 相同的格式来存储其元数据。因此，你可以使用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ildasm</code> 命令行打开 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">.winmd</code> 文件（WinRT 的元数据文件）来查看 API 调用及其参数。你可以在目录 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">%ProgramFiles(x86)%\Windows Kits\10\References\</code> 中找到 Windows 元数据文件。</font></font></font></p>
<p id="c29-para-0019" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Language projection maps Windows Runtime types to .NET types. For example, in the file <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Windows.Foundation.FoundationContract.winmd</code>, you'll find the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">IIterable</code> and <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">IIterator</code> interfaces in the namespace <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Windows.Foundation.Collections</code>. These interfaces look similar to the .NET interfaces <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">IEnumerable</code> and <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">IEnumerator</code>. Indeed, they are automatically mapped with language projection.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">语言投影将 Windows 运行时类型映射到 .NET 类型。例如，在文件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Windows.Foundation.FoundationContract.winmd</code> 中，你会在命名空间 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Windows.Foundation.Collections</code> 中找到 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">IIterable</code> 和 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">IIterator</code> 接口。这些接口看起来与 .NET 接口 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">IEnumerable</code> 和 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">IEnumerator</code> 非常相似。实际上，它们通过语言投影自动映射。</font></font></font></p>
<p id="c29-para-0020" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Not all the interfaces of the contracts can be directly mapped. <a href="c18.xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Chapter 18</a>, “Files and Streams,” shows files and streams with the Windows Runtime from the namespace <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Windows.Storage.Streams</code>. To use the Windows streams with .NET streams, you can use extension methods such as <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">AsStream</code>, <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">AsStreamForRead</code>, and <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">AsStreamForWrite</code>.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">并非所有合约的接口都可以直接映射。第 18 章“文件和流”展示了来自命名空间 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Windows.Storage.Streams</code> 的 Windows 运行时文件和流。要使用 Windows 流与 .NET 流，你可以使用扩展方法，如 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">AsStream</code> 、 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">AsStreamForRead</code> 和 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">AsStreamForWrite</code> 。</font></font></font></p>
<p id="c29-para-0021" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">To use WinRT, all that needs to be configured with .NET 5 is to use the correct target framework moniker. Instead of using <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">net5.0</code> as the target framework (as you've done so far with .NET console and ASP.NET Core applications), the target framework moniker <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">net5.0-windows10.0.19041.0</code> is used with WinUI applications. 19041.0 specifies the Windows 10 build version to use the C#/WinRT projection and thus the APIs available. Be aware that a new projection layer is not available with every Windows 10 update. Windows 10 version 20H2 with build number 19042 and version 21H1 with build 19043 only include minor updates without new APIs; thus, no new projections are required.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">要使用 WinRT，所有需要配置的.NET 5 就是使用正确的目标框架标识符。与之前为.NET 控制台和 ASP.NET Core 应用程序使用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">net5.0</code> 作为目标框架不同，WinUI 应用程序使用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">net5.0-windows10.0.19041.0</code> 作为目标框架标识符。19041.0 指定了要使用的 Windows 10 版本，以便使用 C#/WinRT 投影，从而可以使用可用的 API。请注意，并非每个 Windows 10 更新都会提供新的投影层。Windows 10 版本 20H2（版本号为 19042）和版本 21H1（版本号为 19043）仅包含小更新，没有新的 API；因此，不需要新的投影。</font></font></font></p>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">The following project file snippet shows the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TargetFramework</code> configuration of the sample applications (project file <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">XAMLIntro/HelloWindows/HelloWindows.csproj</code>):<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">以下项目文件片段显示了示例应用程序的 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TargetFramework</code> 配置（项目文件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">XAMLIntro/HelloWindows/HelloWindows.csproj</code> ）：</font></font></font></p>
<pre id="c29-code-0001"><code>&lt;TargetFramework&gt;net5.0-windows10.0.19041.0&lt;/TargetFramework&gt;</code></pre>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><span aria-label="822" epub:type="pagebreak" id="Page_822" role="doc-pagebreak" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span></p>
<aside data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<div class="top hr" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><hr /></div>
<section class="feature2" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<p id="c29-para-0024" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1"><b data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NOTE</b> <i data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">See</i> <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><a href="https://docs.microsoft.com/windows/uwp/csharp-winrt/">https://docs.microsoft.com/windows/uwp/csharp-winrt/</a></code> <i data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">for more information about the projection layer C#/WinRT with information on how you can write your own projections for native libraries.</i><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">注意 请参考 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><a href="https://docs.microsoft.com/windows/uwp/csharp-winrt/">https://docs.microsoft.com/windows/uwp/csharp-winrt/</a></code> 获取有关投影层 C#/WinRT 的更多信息，其中包含如何为原生库编写自己的投影的信息。</font></font></font></p> 
<div class="bottom hr" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><hr /></div>
</section>
</aside>
</section>
<section data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><span id="c29-sec-0009" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span>
<h3 id="head-3-534" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Hello, Windows<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">你好，Windows</font></font></font></h3>
<p id="c29-para-0025" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Let's start creating a new Windows app with Visual Studio. Search for <i data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">WinUI desktop application with the templates</i>. Make sure to check this chapter's readme file for updates. After you input the name and location, the next question asked is the target and minimum version supported. With every newer platform version, you get more features from the Windows Runtime. However, you need to pay attention to the version of Windows 10 that your users have. They can't install and run your Windows 10 app if the platform version is not supported. With WinUI 3.0, the user interface components are independent of the version of the Windows runtime and supports Windows 10 back to version 1809, which has the build number 17763. Version 1809 was released in November 2018.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">让我们使用 Visual Studio 开始创建一个新的 Windows 应用。在模板中搜索 WinUI 桌面应用。请确保查看本章的 readme 文件以获取更新。输入名称和位置后，下一个问题是目标版本和支持的最小版本。随着每个更新的平台版本，您将获得更多 Windows 运行时的功能。但是，您需要关注您的用户拥有的 Windows 10 版本。如果平台版本不受支持，他们将无法安装和运行您的 Windows 10 应用。在 WinUI 3.0 中，用户界面组件独立于 Windows 运行时的版本，并支持 Windows 10 回退到版本 1809，该版本的构建号为 17763。版本 1809 于 2018 年 11 月发布。</font></font></font></p>
<p id="c29-para-0026" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">With the target version you select, you specify the API version that can be used by the app. With the minimum version, you specify the build version where the app can be installed and run. If you set the target and minimum version to different values, you need to write adaptive code if you use APIs that are not available in the minimum version.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">根据您选择的版本，您可以指定应用程序可使用的 API 版本。通过设置最低版本，您可以指定应用程序可以安装和运行的构建版本。如果您将目标和最低版本设置为不同的值，并且您使用在最低版本中不可用的 API，则需要编写自适应代码。</font></font></font></p>
</section>
<section data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><span id="c29-sec-0010" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span>
<h3 id="head-3-535" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Application Manifest<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">应用程序清单</font></font></font></h3>
<p id="c29-para-0027" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">You can change the build target and minimum version numbers with the project properties of the package project. Windows apps have another important configuration for the packaging: the file <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Package.appxmanifest</code>. Opening this file with Visual Studio opens the Package Manifest Editor.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">您可以通过包项目的项目属性更改构建目标和最低版本号。Windows 应用程序在打包方面还有另一个重要的配置：文件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Package.appxmanifest</code> 。使用 Visual Studio 打开此文件会打开包清单编辑器。</font></font></font></p>
<p id="c29-para-0028" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">With the Application settings (see <a href="#c29-fig-0001" id="R_c29-fig-0001" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Figure 29-1</a>), you can configure the display name of the application, the default language, supported rotations of the device, and automatic periodic tile updates.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">通过应用程序设置（见图 29-1），您可以配置应用程序的显示名称、默认语言、设备支持的方向以及自动周期性磁贴更新。</font></font></font></p>

<p id="c29-para-0029" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">On the Visual Assets tab, you can configure all the different icons of the application—tile images for different tile sizes, different device resolutions, a splash screen, and a package logo for the Windows Store.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在“视觉资源”选项卡中，您可以配置应用程序的所有不同图标——不同尺寸的磁贴图像、不同设备分辨率、启动画面以及用于 Windows 商店的包标志。</font></font></font></p>
<p id="c29-para-0030" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Settings in the Capabilities tab allow you to select the capabilities needed by the app. Examples of such capabilities are Internet, Microphone, Bluetooth, Webcam, and others that allow the application access to these resources (if the user agrees to grant access). This is important with UWP-style applications that use the native app container. Packaged WinUI applications use the MSIX environment and thus require more privileges.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">“功能”选项卡中的设置允许您选择应用程序所需的功能。此类功能的示例包括互联网、麦克风、蓝牙、网络摄像头以及其他允许应用程序访问这些资源的功能（如果用户同意授予权限）。这对于使用原生应用程序容器的 UWP 风格应用程序非常重要。打包的 WinUI 应用程序使用 MSIX 环境，因此需要更多权限。</font></font></font></p>
<p id="c29-para-0031" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">With the Declarations settings (see <a href="#c29-fig-0002" id="R_c29-fig-0002" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Figure 29-2</a>), you can add features of the application that Windows needs to know about. For example, when sharing data from one app, Windows shows the apps that accept the shared data. For this, the app needs to be registered as a <i data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">share target</i>. Besides using the application as share target, examples of when you need to specify declarations are when the app should be activatable via a protocol or a file type extension, when communication should be done between app services, or when the app should communicate via app services.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">通过声明设置（见图 29-2），您可以添加 Windows 需要了解的应用功能。例如，当从一个应用共享数据时，Windows 会显示接受共享数据的应用。为此，应用需要注册为共享目标。除了将应用用作共享目标外，需要指定声明的其他情况包括：当应用应通过协议或文件类型扩展激活时，当应在应用服务之间进行通信时，或当应用应通过应用服务进行通信时。</font></font></font></p>
<p id="c29-para-0032" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">The Content URIs tab allows for deep linking within the app. Here, you can specify URLs to open pages in the app. Finally, with the Packaging tab, you can configure the package name, version, and information about the publisher.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">内容 URI 选项卡允许在应用内进行深度链接。在此处，您可以指定用于打开应用内页面的 URL。最后，通过打包选项卡，您可以配置包名、版本和发布者信息。</font></font></font></p>
</section>
<section data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><span id="c29-sec-0011" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span>
<h3 id="head-3-536" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Application Startup<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">应用启动</font></font></font></h3>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">The entry point into the application, <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">HelloWindows.App</code>, is defined in the application manifest, as shown in the previous section. The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">App</code> class derives from the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Application</code> base class and invokes the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">InitializeComponent</code> method that's generated in the other part of the partial class to initialize the XAML code (code file <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">HelloWindows/App.xaml.cs</code>):<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">应用的入口点， <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">HelloWindows.App</code> ，在应用清单中定义，如前一节所示。 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">App</code> 类继承自 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Application</code> 基类，并调用在部分类其他部分生成的 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">InitializeComponent</code> 方法来初始化 XAML 代码（代码文件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">HelloWindows/App.xaml.cs</code> ）：</font></font></font></p>
<pre id="c29-code-0002"><code>sealed partial class App : Application</code>
<code>{<span aria-label="823" epub:type="pagebreak" id="Page_823" role="doc-pagebreak"></span></code>
<code>  public App()</code>
<code>  {</code>
<code>    this.InitializeComponent();</code>
<code>  }</code>
<code>  //…</code>
<code>}</code></pre>

<figure data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"> <img alt="Snapshot of the application tab of the website." class="center" src="images/c29f001.png" />
<figcaption data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><span class="figureLabel" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><a href="#R_c29-fig-0001" id="c29-fig-0001" role="doc-backlink" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><b data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">FIGURE 29-1<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">图 29-1</font></font></font></b></a></span></p></figcaption>
</figure>


<p id="c29-para-0034" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">With the XAML code specified in <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">App.xaml</code>, you can see that XAML control resources from <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Microsoft.UI.Xaml.Controls</code> are referenced. With this namespace, the default styles for the WinUI XAML controls are specified. How to customize the look of resources with resource dictionaries is covered in <a href="c31.xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Chapter 31</a>, “Styling Windows Apps.”<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">App.xaml</code> 中指定的 XAML 代码中，可以看到引用了来自 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Microsoft.UI.Xaml.Controls</code> 的 XAML 控件资源。通过这个命名空间，指定了 WinUI XAML 控件的默认样式。如何使用资源字典自定义资源的外观在第 31 章“样式 Windows 应用”中介绍。</font></font></font></p>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">With the C# <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">App</code> class, the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">OnLaunched</code> method is overridden. This method is invoked when the application is started. As you learned from the application manifest, there are different ways to start the application. When reading information from the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">LaunchActivatedEventArgs</code> parameter, you can find out how the application was started. The application can be started directly from the user or started when the user shares data from another application. With the default implementation, an instance of the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">MainWindow</code> is created, and the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Activate</code> method is invoked (code file <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">XAMLIntro/HelloWindows/App.xaml.cs)</code>
:<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用 C# <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">App</code> 类，重写了 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">OnLaunched</code> 方法。当应用程序启动时，会调用此方法。正如从应用程序清单中学到的，启动应用程序有不同方式。当从 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">LaunchActivatedEventArgs</code> 参数读取信息时，可以知道应用程序是如何启动的。应用程序可以直接由用户启动，或者当用户从另一个应用程序共享数据时启动。在默认实现中，会创建 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">MainWindow</code> 的实例，并调用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Activate</code> 方法（代码文件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">XAMLIntro/HelloWindows/App.xaml.cs)</code> ：</font></font></font></p>
<pre id="c29-code-0003"><code>protected override void OnLaunched(Microsoft.UI.Xaml.LaunchActivatedEventArgs args)</code>
<code>{</code>
<code>  m:window = new MainWindow();<span aria-label="824" epub:type="pagebreak" id="Page_824" role="doc-pagebreak"></span></code>
<code>  m:window.Activate();</code>
<code>}</code>
<code> </code>
<code>private Window? m:window;</code></pre>

<figure data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"> <img alt="Snapshot of the declaration tab of the website." class="center" src="images/c29f002.png" />
<figcaption data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><span class="figureLabel" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><a href="#R_c29-fig-0002" id="c29-fig-0002" role="doc-backlink" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><b data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">FIGURE 29-2<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">图 29-2</font></font></font></b></a></span></p></figcaption>
</figure>

</section>
<section data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><span id="c29-sec-0012" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span>
<h3 id="head-3-537" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Main Window<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">主窗口</font></font></font></h3>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Let's open the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">MainWindow.xaml</code> file. The user interface is defined using XAML, a language that extends XML with some functionality that's discussed in detail in the section “Introducing XAML.” As shown in the following code snippet, the root element is the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Window</code> that has some specialty with WinUI and is different from the other XAML elements. This class is not part of the hierarchy of the other XAML elements. The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Window</code> class doesn't have a base class and implements some interfaces important for WinRT. This means you don't have direct access to the properties available with all the framework elements. The custom class that's used in the code-behind is specified with the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">x:Class</code> attribute: this is the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">MainWindow</code> class. <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">MainWindow</code> derives from the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Window</code> class. The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">xmlns</code> attributes used are similar to the way the C# <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">using</code> directive is used to import namespaces. With <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">xmlns</code>, you open types to be used with the XAML file. Similar to the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">using</code> directive, you can create an alias. The alias <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">x</code> references types specified with <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><a href="http://schemas.microsoft.com/winfx/2006/xaml">http://schemas.microsoft.com/winfx/2006/xaml</a></code>. The alias is then used as a <span aria-label="825" epub:type="pagebreak" id="Page_825" role="doc-pagebreak" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span>prefix, as in <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">x:Name</code> to define a name for the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Button</code> element. The namespace that is opened by default and thus doesn't require a prefix when using the elements is <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><a href="http://schemas.microsoft.com/winfx/2006/xaml/presentation">http://schemas.microsoft.com/winfx/2006/xaml/presentation</a></code>. This is the namespace where the WinUI XAML controls are defined. You can open .NET namespaces and use .NET classes within XAML code by opening the .NET namespace with <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">using</code> as with <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">xmlns:local="using:HelloWindows"</code>. This way, with the local prefix, simple .NET classes can be used within the XAML code, as shown in the next section. In the following code snippet, the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">StackPanel</code> and <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Button</code> controls are added as child elements of the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Window</code> element. With the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">StackPanel</code>, the attributes <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Orientation</code>, <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">HorizontalAlignment</code>, and <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">VerticalAlignment</code> are set. Using this XML syntax, the corresponding properties of the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">StackPanel</code> class are set. With the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Button</code> control, the content is set to a simple string (which sets the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Content</code> property), and the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Click</code> attribute is set to the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">myButton_Click</code> event handler. <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Click</code> is an event in the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Button</code> control. Read <a href="c07.xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Chapter 7</a>, “Delegates, Lambdas, and Events,” for details on C# events (code file <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">XAMLIntro/HelloWindows/MainWindow.xaml</code>):<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">让我们打开 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">MainWindow.xaml</code> 文件。用户界面使用 XAML 定义，这是一种扩展了 XML 功能的语言，详细讨论见“介绍 XAML”部分。如以下代码片段所示，根元素是 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Window</code> ，它与 WinUI 有一些特殊之处，与其他 XAML 元素不同。这个类不属于其他 XAML 元素的层次结构。 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Window</code> 类没有基类，并实现了对 WinRT 很重要的某些接口。这意味着你无法直接访问所有框架元素提供的属性。代码后台使用的自定义类通过 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">x:Class</code> 属性指定：这就是 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">MainWindow</code> 类。 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">MainWindow</code> 继承自 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Window</code> 类。使用的 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">xmlns</code> 属性类似于 C#的 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">using</code> 指令导入命名空间的方式。通过 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">xmlns</code> ，你打开要在 XAML 文件中使用的类型。类似于 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">using</code> 指令，你可以创建别名。别名 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">x</code> 引用通过 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><a href="http://schemas.microsoft.com/winfx/2006/xaml">http://schemas.microsoft.com/winfx/2006/xaml</a></code> 指定的类型。然后使用别名作为前缀，如 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">x:Name</code> 来为 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Button</code> 元素定义名称。默认打开的命名空间在使用元素时不需要前缀，这就是 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><a href="http://schemas.microsoft.com/winfx/2006/xaml/presentation">http://schemas.microsoft.com/winfx/2006/xaml/presentation</a></code> 。 这是定义 WinUI XAML 控件的命名空间。您可以通过使用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">using</code> 打开.NET 命名空间，在 XAML 代码中使用.NET 类，就像使用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">xmlns:local="using:HelloWindows"</code> 一样。这样，通过本地前缀，简单的.NET 类可以在 XAML 代码中使用，如下一节所示。在以下代码片段中， <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">StackPanel</code> 和 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Button</code> 控件被添加为 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Window</code> 元素的子元素。使用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">StackPanel</code> ，设置了属性 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Orientation</code> 、 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">HorizontalAlignment</code> 和 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">VerticalAlignment</code> 。使用这种 XML 语法，设置了 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">StackPanel</code> 类的相应属性。使用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Button</code> 控件，内容被设置为简单的字符串（这设置了 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Content</code> 属性），并且 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Click</code> 属性被设置为 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">myButton_Click</code> 事件处理器。 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Click</code> 是 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Button</code> 控件中的一个事件。有关 C#事件的详细信息，请参阅第 7 章“委托、Lambda 表达式和事件”（代码文件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">XAMLIntro/HelloWindows/MainWindow.xaml</code> ）：</font></font></font></p>
<pre id="c29-code-0004"><code>&lt;Window</code>
<code>  x:Class="HelloWindows.MainWindow"</code>
<code>  xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"</code>
<code>  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"</code>
<code>  xmlns:local="using:HelloWindows"</code>
<code>  xmlns:d="http://schemas.microsoft.com/expression/blend/2008"</code>
<code>  xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"</code>
<code>  mc:Ignorable="d"&gt;</code>
<code> </code>
<code>  &lt;StackPanel Orientation="Horizontal" HorizontalAlignment="Center" </code>
<code>    VerticalAlignment="Center"&gt;</code>
<code>    &lt;Button x:Name="myButton" Click="myButton_Click"&gt;Click Me&lt;/Button&gt;</code>
<code>  &lt;/StackPanel&gt;</code>
<code>&lt;/Window&gt;</code></pre>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">In the code-behind file, the button can be accessed using the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">myButton</code> variable. The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">x:Name</code> attribute with the XAML file creates .NET variables. On clicking the button, the value of the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Content</code> property is changed with the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">myButton_Click</code> event handler (code file <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">XAMLIntro/HelloWindows/MainWindow.xaml.cs</code>):<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在代码隐藏文件中，可以使用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">myButton</code> 变量访问按钮。XAML 文件中的 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">x:Name</code> 属性创建了.NET 变量。点击按钮时，使用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">myButton_Click</code> 事件处理器更改 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Content</code> 属性的值（代码文件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">XAMLIntro/HelloWindows/MainWindow.xaml.cs</code> ）：</font></font></font></p>
<pre id="c29-code-0005"><code>using Microsoft.UI.Xaml;</code>
<code> </code>
<code>namespace HelloWindows</code>
<code>{</code>
<code>  public sealed partial class MainWindow : Window</code>
<code>  {</code>
<code>    public MainWindow()</code>
<code>    {</code>
<code>      this.InitializeComponent();</code>
<code>    }</code>
<code> </code>
<code>    private void myButton_Click(object sender, RoutedEventArgs e)</code>
<code>    {</code>
<code>      myButton.Content = "Clicked";</code>
<code>    }</code>
<code>  }</code>
<code>}</code></pre>
<p id="c29-para-0038" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">After building and deploying the application, you can run it and click the button to see its content changes. Deployment of the application is automatically done from Visual Studio on a build when the Deploy configuration is set in the Configuration Manager (Build ➪ Configuration Manager). If you don't deploy the app on build, you need to deploy it after build by using the Deploy option in the context menu when you select the project in Solution Explorer, or you can deploy all the projects in the solution with Visual Studio by selecting Build ➪ Deploy Solution.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在构建并部署应用程序后，您可以运行它并点击按钮查看其内容变化。当在配置管理器（构建➪配置管理器）中设置部署配置时，应用程序的部署会自动在构建时从 Visual Studio 完成。如果您在构建时不部署应用程序，则需要通过在解决方案资源管理器中选择项目时使用上下文菜单中的部署选项来在构建后部署，或者您可以通过选择构建➪部署解决方案来使用 Visual Studio 部署解决方案中的所有项目。</font></font></font></p>
</section>
</section>
<section aria-labelledby="head-2-257" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><span id="c29-sec-0013" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span>
<h2 id="head-2-257" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">INTRODUCING XAML<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">介绍 XAML</font></font></font></h2>
<p id="c29-para-0039" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1"><span aria-label="826" epub:type="pagebreak" id="Page_826" role="doc-pagebreak" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span>When creating web applications with ASP.NET Core, you need to know HTML, CSS, and JavaScript in addition to knowing C#. When you create Windows apps, you need to know XAML besides C#. XAML is not only used to create Windows apps; it's also used with Windows Presentation Foundation (WPF), Windows Workflow Foundation (WF), and cross-platform apps with Xamarin.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在用 ASP.NET Core 创建 Web 应用程序时，除了需要知道 C#之外，还需要了解 HTML、CSS 和 JavaScript。在创建 Windows 应用程序时，除了需要知道 C#之外，还需要了解 XAML。XAML 不仅用于创建 Windows 应用程序，还用于 Windows Presentation Foundation (WPF)、Windows Workflow Foundation (WF)以及使用 Xamarin 的跨平台应用程序。</font></font></font></p>
<p id="c29-para-0040" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Anything that can be done with XAML can also be done with C#. Every XAML element is represented with a class and thus can be accessed from C#. Why is there a need for XAML? XAML is typically used to describe objects and their properties, and this is possible in a deep hierarchy. For example, a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Page</code> contains a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Grid</code> control; the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Grid</code> control contains a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">StackPanel</code> and other controls; and the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">StackPanel</code> contains <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Button</code> and <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TextBox</code> controls. XAML makes it easy to describe such a hierarchy and assign properties of objects via XML attributes or elements.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">任何可以用 XAML 完成的事情也可以用 C#完成。每个 XAML 元素都用一个类表示，因此可以从 C#访问。为什么需要 XAML？XAML 通常用于描述对象及其属性，并且可以在深层层次结构中实现。例如，一个 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Page</code> 包含一个 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Grid</code> 控件； <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Grid</code> 控件包含一个 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">StackPanel</code> 和其他控件；而 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">StackPanel</code> 包含 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Button</code> 和 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TextBox</code> 控件。XAML 使得描述这种层次结构并通过 XML 属性或元素分配对象属性变得容易。</font></font></font></p>
<p id="c29-para-0041" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">XAML allows writing code in a declarative manner. Whereas C# is mainly an imperative programming language, XAML allows for declarative definitions. With an imperative programming language (like C#), the compiler compiles a C# <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">for</code> loop to a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">for</code> loop with the Intermediate Language (IL) code. With a declarative programming language, you declare <i data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">what</i> should be done, but not <i data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">how</i> it should be done.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">XAML 允许以声明式的方式编写代码。而 C#主要是一种命令式编程语言，XAML 允许进行声明式定义。在命令式编程语言（如 C#）中，编译器将 C# <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">for</code> 循环编译为带有中间语言（IL）代码的 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">for</code> 循环。在声明式编程语言中，你声明应该做什么，而不是应该怎么做。</font></font></font></p>
<p id="c29-para-0042" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">XAML is an XML syntax, but it defines several enhancements to XML. With these enhancements, XAML is still valid XML. The enhancements just have special meaning and special functionality. Examples for the enhancements are curly brackets within XML attributes. For XML, this is still just a string and thus valid XML. For XAML, this is a markup extension.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">XAML 是一种 XML 语法，但它对 XML 进行了多项增强。通过这些增强，XAML 仍然是有效的 XML。这些增强具有特殊含义和特殊功能。例如，XML 属性中的花括号就是增强的一个例子。对于 XML 来说，这仍然只是一个字符串，因此是有效的 XML。对于 XAML 来说，这是一个标记扩展。</font></font></font></p>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Before you can use XAML efficiently, you need to understand some important features of this programming language. These features are described in the following sections:<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在高效使用 XAML 之前，你需要了解这种编程语言的一些重要特性。这些特性将在以下章节中描述：</font></font></font></p>
<ul class="check" id="c29-list-0003" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<li id="c29-li-0011" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1"><b data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Dependency properties</b>—From the outside, dependency properties look like normal properties. However, they need less storage and implement change notification.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">依赖属性——从外部看，依赖属性看起来像普通属性。然而，它们需要更少的存储空间，并实现了变更通知。</font></font></font></li>
<li id="c29-li-0012" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1"><b data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Routed events</b>—From the outside, routed events look like normal .NET events. However, you use custom event implementation with add and remove accessors to allow bubbling and tunneling. Events can tunnel from outer controls to inner controls and bubble from inner controls to outer controls.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">路由事件——从外部看，路由事件看起来像普通的.NET 事件。然而，你使用自定义事件实现和添加/删除访问器来允许冒泡和隧道传递。事件可以从外部控件隧道传递到内部控件，也可以从内部控件冒泡传递到外部控件。</font></font></font></li>
<li id="c29-li-0013" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1"><b data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Attached properties</b>—With attached properties, it is possible to add properties to other controls. For example, the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Button</code> control doesn't have a property to position it within a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Grid</code> control in a specific row and column. With XAML, it looks like it has such a property.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">附加属性—通过附加属性，可以向其他控件添加属性。例如， <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Button</code> 控件没有用于在特定行和列中定位 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Grid</code> 控件的属性。使用 XAML，它看起来像是有这样的属性。</font></font></font></li>
<li id="c29-li-0014" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1"><b data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Markup extensions</b>—Writing XML attributes requires less coding compared to XML elements. However, XML attributes can only be strings; you can write much more powerful syntax with XML elements. To reduce the amount of code that needs to be written, markup extensions allow writing powerful syntax within attributes.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">标记扩展—与 XML 元素相比，编写 XML 属性需要更少的代码。然而，XML 属性只能是字符串；你可以使用 XML 元素编写更强大的语法。为了减少需要编写的代码量，标记扩展允许在属性中编写强大的语法。</font></font></font></li>
</ul>
<section data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><span id="c29-sec-0014" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span>
<h3 id="head-3-538" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Mapping Elements to Classes<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">映射元素到类</font></font></font></h3>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Behind every XAML element there's a class with properties, methods, and events. You can create UI elements either with C# code or using XAML. Let's get into an example. With the following code snippet, a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">StackPanel</code> is defined that contains a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Button</code> control. With XML attributes, the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Button</code> has the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Content</code> property and the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Click</code> event assigned. The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Content</code> property just contains a simple string, whereas the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Click</code> event references the address of the method <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">OnButtonClick</code>. The XML attribute <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">x:Name</code> is used to declare a name to the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Button</code> control that can be used both from XAML and from the C# code-behind file (code file <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">XAMLIntro/Intro/MainWindow.xaml</code>):<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">每个 XAML 元素背后都有一个具有属性、方法和事件的类。你可以使用 C# 代码或使用 XAML 创建 UI 元素。让我们来看一个示例。在以下代码片段中，定义了一个 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">StackPanel</code> ，其中包含一个 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Button</code> 控件。使用 XML 属性， <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Button</code> 具有第 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Content</code> 属性和第 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Click</code> 事件。第 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Content</code> 属性只包含一个简单的字符串，而第 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Click</code> 事件引用了方法 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">OnButtonClick</code> 的地址。XML 属性 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">x:Name</code> 用于为 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Button</code> 控件声明一个名称，该名称既可以在 XAML 中使用，也可以在 C# 代码文件（代码文件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">XAMLIntro/Intro/MainWindow.xaml</code> ）中使用：</font></font></font></p>
<pre id="c29-code-0006"><code>&lt;StackPanel x:Name="stackPanel1"&gt;</code>
<code>  &lt;Button Content="Click Me!" x:Name="button1" Click="OnButtonClick" /&gt;</code>
<code>  &lt;!-- … --&gt;</code>
<code>&lt;/StackPanel&gt;</code></pre>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1"><span aria-label="827" epub:type="pagebreak" id="Page_827" role="doc-pagebreak" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span>On top of the page, you can see the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Window</code> element with the XML attribute <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">x:Class</code>. This defines the name of the class where the XAML compiler generates partial code. With the code-behind file in Visual Studio, you can see the part of this class that you can modify (code file <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">XAMLIntro/Intro/MainWindow.xaml</code>):<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在页面顶部，你可以看到带有 XML 属性 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">x:Class</code> 的 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Window</code> 元素。这定义了 XAML 编译器生成部分代码的类名。在 Visual Studio 中的代码隐藏文件里，你可以看到可以修改的该类的部分（代码文件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">XAMLIntro/Intro/MainWindow.xaml</code> ）：</font></font></font></p>
<pre id="c29-code-0007"><code>&lt;Window</code>
<code>  x:Class="XAMLIntro.MainWindow"</code>
<code>  &lt;!-- … --&gt;</code>
<code>&lt;/Window&gt;</code></pre>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">The code-behind file contains part of the class <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">MainWindow</code> (the part that is not generated by the XAML compiler). In the constructor, the method <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">InitializeComponent</code> is invoked. The implementation of <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">InitializeComponent</code> is created by the XAML compiler. This method loads the XAML file and converts it to an object as specified with the root element in the XAML file. The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">OnButtonClick</code> method is a handler for the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Click</code> event of the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Button</code> that was previously created in XAML code. The implementation just opens up a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">MessageDialog</code> (code file <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">XAMLIntro/Intro/MainWindow.xaml.cs</code>):<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">代码隐藏文件包含 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">MainWindow</code> 类的部分（由 XAML 编译器未生成的部分）。在构造函数中调用了方法 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">InitializeComponent</code> 。 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">InitializeComponent</code> 的实现是由 XAML 编译器创建的。这个方法加载 XAML 文件，并将其转换为对象，就像 XAML 文件中根元素指定的那样。方法 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">OnButtonClick</code> 是先前在 XAML 代码中创建的 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Button</code> 的 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Click</code> 事件的处理程序。实现只是打开一个 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">MessageDialog</code> （代码文件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">XAMLIntro/Intro/MainWindow.xaml.cs</code> ）：</font></font></font></p>
<pre id="c29-code-0008"><code>public sealed partial class MainWindow : Window</code>
<code>{</code>
<code>  public MainPage()</code>
<code>  {</code>
<code>    this.InitializeComponent();</code>
<code>  }</code>
<code> </code>
<code>  private async void OnButtonClick(object sender, RoutedEventArgs e)</code>
<code>  {</code>
<code>    await new MessageDialog("button 1 clicked").ShowAsync();</code>
<code>  }</code>
<code>}</code></pre>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Now let's create a new object from the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Button</code> class from C# code and add it to the existing <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">StackPanel</code>. In the following code snippet, the constructor of the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">MainPage</code> was modified to create a new <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Button</code>, set the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Content</code> property, and assign a lambda expression to the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Click</code> event. Finally, the newly created button is added to the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Children</code> of the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">StackPanel</code> (code file <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">XAMLIntro/Intro/MainWindow.xaml.cs</code>):<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">现在让我们从 C#代码中的 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Button</code> 类创建一个新对象，并将其添加到现有的 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">StackPanel</code> 中。在以下代码片段中， <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">MainPage</code> 的构造函数被修改为创建一个新的 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Button</code> ，设置 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Content</code> 属性，并将一个 lambda 表达式分配给 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Click</code> 事件。最后，新创建的按钮被添加到 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">StackPanel</code> 的 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Children</code> 中（代码文件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">XAMLIntro/Intro/MainWindow.xaml.cs</code> ）：</font></font></font></p>
<pre id="c29-code-0009"><code>public MainWindow()</code>
<code>{</code>
<code>  this.InitializeComponent();</code>
<code>  <b>Button button2 = new()</b></code>
<code>  <b>{</b></code>
<code>    <b>Content = "created dynamically"</b></code>
<code>  <b>};</b></code>
<code>  <b>button2.Click += async (sender, e) =&gt; </b></code>
<code>    <b>await new MessageDialog("button 2 clicked").ShowAsync();</b></code>
<code>  <b>stackPanel1.Children.Add(button2);</b></code>
<code>}</code></pre>
<p id="c29-para-0048" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">As you've seen, XAML is just another way to deal with objects, properties, and events. The next sections show you the advantages of XAML for user interfaces.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">正如你所见，XAML 只是处理对象、属性和事件的一种方式。接下来的章节将向你展示 XAML 在用户界面方面的优势。</font></font></font></p>
</section>
<section data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><span id="c29-sec-0015" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span>
<h3 id="head-3-539" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Using Custom .NET Classes with XAML<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用自定义 .NET 类与 XAML </font></font></font></h3>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">To use custom .NET classes within XAML code, you can use a simple plain old CLR object (POCO) class; there are no special requirements on the class definition. You just have to add the .NET namespace to the XAML declaration. To demonstrate this, a simple <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Person</code> class with the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">FirstName</code> and <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">LastName</code> properties is defined as shown here (code file <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">XAMLIntro/DataLib/Person.cs</code>):<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">要在 XAML 代码中使用自定义 .NET 类，您可以使用一个简单的普通旧 CLR 对象（POCO）类；类定义没有特殊要求。您只需在 XAML 声明中添加 .NET 命名空间。为了演示这一点，这里定义了一个包含 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">FirstName</code> 和 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">LastName</code> 属性的简单 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Person</code> 类（代码文件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">XAMLIntro/DataLib/Person.cs</code> ）：</font></font></font></p>
<pre id="c29-code-0010"><code>public class Person</code>
<code>{<span aria-label="828" epub:type="pagebreak" id="Page_828" role="doc-pagebreak"></span></code>
<code>  public string? FirstName { get; set; }</code>
<code>  public string? LastName { get; set; }</code>
<code>  public override string ToString() =&gt; $"{FirstName} {LastName}";</code>
<code>}</code></pre>
<p id="c29-para-0050" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">In XAML, an XML namespace alias named <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">datalib</code> is defined that maps to the .NET namespace <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DataLib</code> in the assembly <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DataLib</code>. With this alias in place, it's now possible to use all classes from this namespace by using the alias as a prefix for the elements.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在 XAML 中，定义了一个名为 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">datalib</code> 的 XML 命名空间别名，它映射到程序集 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DataLib</code> 中的 .NET 命名空间 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DataLib</code> 。有了这个别名，现在可以通过将别名作为元素的前缀来使用该命名空间中的所有类。</font></font></font></p>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">In the XAML code, you add a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ListBox</code> that contains items of type <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Person</code>. When you use XAML attributes, you set the values of the properties <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">FirstName</code> and <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">LastName</code>. When you run the application, the output of the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ToString</code> method is shown inside the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ListBox</code> (code file XAMLIntro/Intro/
<code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">MainWindow.xaml</code>):<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在 XAML 代码中，您添加一个 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ListBox</code> ，其中包含类型为 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Person</code> 的项。当您使用 XAML 属性时，您设置 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">FirstName</code> 和 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">LastName</code> 属性的值。当您运行应用程序时， <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ToString</code> 方法的输出显示在 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ListBox</code> 中（代码文件 XAMLIntro/Intro/ <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">MainWindow.xaml</code> ）。</font></font></font></p>
<pre id="c29-code-0011"><code>&lt;Window x:Class="XamlIntro.MainWindow"</code>
<code>  xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"</code>
<code>  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"</code>
<code>  xmlns:local="using:XAMLIntro"</code>
<code>  <b>xmlns:datalib="using:DataLib"</b></code>
<code>  xmlns:d="http://schemas.microsoft.com/expression/blend/2008"</code>
<code>  xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"</code>
<code>  mc:Ignorable="d"&gt;</code>
<code> </code>
<code>  &lt;StackPanel x:Name="stackPanel1"&gt;</code>
<code>    &lt;Button Content="Click Me!" x:Name="button1" Click="OnButtonClick"&gt;       </code>
<code>    &lt;ListBox&gt;</code>
<code>      <b>&lt;datalib:Person FirstName="Stephanie" LastName="Nagel" /&gt;</b></code>
<code>      <b>&lt;datalib:Person FirstName="Matthias" LastName="Nagel" /&gt;</b></code>
<code>      <b>&lt;datalib:Person FirstName="Katharina" LastName="Nagel" /&gt;</b></code>
<code>    &lt;/ListBox&gt;</code>
<code>  &lt;/StackPanel&gt;</code>
<code>&lt;/Window&gt;</code></pre>
<aside data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<div class="top hr" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><hr /></div>
<section class="feature2" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<p id="c29-para-0053" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1"><b data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NOTE</b> <i data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">WPF and Xamarin use</i> <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">clr-namespace</code> <i data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">instead of</i> <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">using</code> <i data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">within the alias declaration. The reason is that XAML with WinUI and UWP is neither based on nor restricted to .NET. You can use native C++ with XAML as well, and thus</i> <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">clr</code> <i data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">(Common Language Runtime) would not be a good fit.</i><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">注意 WPF 和 Xamarin 在别名声明中使用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">clr-namespace</code> 而不是 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">using</code> 。原因是包含 WinUI 和 UWP 的 XAML 既不基于也不受.NET 的限制。你可以使用原生 C++与 XAML 一起使用，因此 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">clr</code> （公共语言运行时）并不合适。</font></font></font></p> 
<div class="bottom hr" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><hr /></div>
</section>
</aside>
</section>
<section data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><span id="c29-sec-0017" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span>
<h3 id="head-3-540" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Setting Properties as Attributes<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">将属性设置为属性</font></font></font></h3>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">With the previous XAML samples, properties of classes have been set by using XML attributes. To set properties from XAML, you can use XML attributes as long as the property type can be represented as a string or there is a conversion from a string to the property type. The following code snippet sets the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Content</code> and <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Background</code> properties of the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Button</code> element with XML attributes:<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在之前的 XAML 示例中，通过使用 XML 属性来设置类的属性。要从 XAML 设置属性，只要属性类型可以表示为字符串，或者存在从字符串到属性类型的转换，你就可以使用 XML 属性。以下代码片段使用 XML 属性来设置 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Content</code> 元素的 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Background</code> 和 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Button</code> 属性：</font></font></font></p>
<pre id="c29-code-0012"><code>&lt;Button Content="Click Me!" Background="LightGoldenrodYellow" /&gt;</code></pre>
<p id="c29-para-0055" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">With the previous code snippet, the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Content</code> property is of type <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">object</code> and thus accepts a string. The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Background</code> property is of type <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Brush</code>. A string is converted to a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">SolidColorBrush</code> type that derives from <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Brush</code>.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在之前的代码片段中， <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Content</code> 属性的类型是 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">object</code> ，因此接受字符串。 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Background</code> 属性的类型是 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Brush</code> 。一个字符串被转换为继承自 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Brush</code> 的 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">SolidColorBrush</code> 类型。</font></font></font></p>
</section>
<section data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><span id="c29-sec-0018" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span>
<h3 id="head-3-541" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Using Properties as Elements<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用属性作为元素</font></font></font></h3>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1"><span aria-label="829" epub:type="pagebreak" id="Page_829" role="doc-pagebreak" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span>It's also always possible to use the element syntax to supply the value for properties. You can set the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Background</code> property of the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Button</code> class with the child element <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Button.Background</code>. The following code snippet defines the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Button</code> with the same result as shown earlier with attributes:<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">也可以始终使用元素语法来为属性提供值。你可以使用子元素 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Button.Background</code> 来设置 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Button</code> 类的 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Background</code> 属性。以下代码片段定义了 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Button</code> ，与前面使用属性得到的结果相同：</font></font></font></p>
<pre id="c29-code-0013"><code>&lt;Button&gt;</code>
<code>  Click Me!</code>
<code>  <b>&lt;Button.Background&gt;</b></code>
<code>    <b>&lt;SolidColorBrush Color="LightGoldenrodYellow" /&gt;</b></code>
<code>  <b>&lt;/Button.Background&gt;</b></code>
<code>&lt;/Button&gt;</code></pre>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Using elements instead of attributes allows you to apply more complex brushes to the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Background</code> property, such as a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">LinearGradientBrush</code>, as shown in the following example (code file <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">XAMLIntro/Intro/MainWindow.xaml</code>):<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用元素而不是属性，允许你将更复杂的画刷应用于 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Background</code> 属性，例如 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">LinearGradientBrush</code> ，如下面的示例所示（代码文件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">XAMLIntro/Intro/MainWindow.xaml</code> ）：</font></font></font></p>
<pre id="c29-code-0014"><code>&lt;Button x:Name="button1" Click="OnButtonClick"&gt;</code>
<code>  Click Me!</code>
<code>  &lt;Button.Background&gt;</code>
<code>    &lt;LinearGradientBrush StartPoint="0.5,0.0" EndPoint="0.5, 1.0"&gt;</code>
<code>      &lt;GradientStop Offset="0" Color="Yellow" /&gt;</code>
<code>      &lt;GradientStop Offset="0.3" Color="Orange" /&gt;</code>
<code>      &lt;GradientStop Offset="0.7" Color="Red" /&gt;</code>
<code>      &lt;GradientStop Offset="1" Color="DarkRed" /&gt;</code>
<code>    &lt;/LinearGradientBrush&gt;</code>
<code>  &lt;/Button.Background&gt;</code>
<code>&lt;/Button&gt;</code></pre>
<aside data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<div class="top hr" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><hr /></div>
<section class="feature2" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<p id="c29-para-0059" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1"><b data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NOTE</b> <i data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">When you set the content in the sample, neither the</i> <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Content</code> <i data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">attribute nor a</i> <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Button.Content</code> <i data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">element is used to write the content; instead, the content is written directly as a child value to the</i> <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Button</code> <i data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">element. That's possible because with a base class of the</i> <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Button</code> <i data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">class (</i><code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ContentControl</code><i data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">), the </i><code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ContentProperty</code> <i data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">attribute is applied with</i> <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">[ContentProperty("Content")]</code>. <i data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">This attribute marks the</i> <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Content</code> <i data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">property as a</i> <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ContentProperty</code>. <i data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">This way the direct child of the XAML element is applied to the</i> <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Content</code> <i data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">property.</i><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">注意 当你在示例中设置内容时，既不使用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Content</code> 属性，也不使用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Button.Content</code> 元素来写入内容；相反，内容直接作为子值写入到 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Button</code> 元素中。这是可能的，因为对于 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Button</code> 类的基类（ <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ContentControl</code> ）， <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ContentProperty</code> 属性使用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">[ContentProperty("Content")]</code> 应用。这个属性将 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Content</code> 属性标记为 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ContentProperty</code> 。这样 XAML 元素的直接子元素被应用于 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Content</code> 属性。</font></font></font></p> 
<div class="bottom hr" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><hr /></div>
</section>
</aside>
</section>
<section data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><span id="c29-sec-0020" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span>
<h3 id="head-3-542" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Dependency Properties<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">依赖属性</font></font></font></h3>
<p id="c29-para-0060" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">XAML uses dependency properties for data binding, animations, property change notification, styling, and so forth. What's the reason for dependency properties? Let's assume you create a class with 100 properties of type <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">int</code>, and this class is instantiated 100 times on a single form. How much memory is needed? Because an <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">int</code> has a size of 4 bytes, the result is 4 × 100 × 100 = 40,000 bytes. Did you already have a look at the properties of a XAML element? Because of the huge inheritance hierarchy, a XAML element defines hundreds of properties. The property types are not simple <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">int</code> types; instead, they're a lot more complex. I think you can imagine that such properties could consume a huge amount of memory. However, you usually change only the values of a few of these properties, and most of the properties keep their default values that are common for all instances. This dilemma is solved with dependency properties. With dependency properties, object memory is not allocated for every property and every instance. Instead, the dependency property system manages a dictionary of all properties and allocates memory only if a value is changed. Otherwise, the default value is shared between all instances.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">XAML 使用依赖属性进行数据绑定、动画、属性变更通知、样式设置等。依赖属性为何存在？假设你创建了一个包含 100 个 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">int</code> 类型属性的类，并在单个表单中实例化该类 100 次。需要多少内存？由于 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">int</code> 的大小为 4 字节，结果是 4 × 100 × 100 = 40,000 字节。你是否已经查看过 XAML 元素的属性？由于巨大的继承层次结构，一个 XAML 元素定义了数百个属性。属性类型不是简单的 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">int</code> 类型，而是更为复杂。我想你可以想象这些属性会消耗大量内存。然而，你通常只更改其中少数几个属性值，而大多数属性保持所有实例的默认值。这个困境通过依赖属性得到解决。使用依赖属性时，不会为每个属性和每个实例分配对象内存。相反，依赖属性系统管理一个属性字典，并且只有在值变更时才分配内存。 否则，默认值将在所有实例之间共享。</font></font></font></p>
<p id="c29-para-0061" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1"><span aria-label="830" epub:type="pagebreak" id="Page_830" role="doc-pagebreak" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span>Dependency properties also have built-in support for change notification. With normal properties, you need to implement the interface <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">INotifyPropertyChanged</code> for change notification. How the interface <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">INotifyPropertyChanged</code> can be implemented is explained later in this chapter in the section “Working with Data Binding.” Such a change mechanism is built-in with dependency properties. For data binding, the property of the UI element that is bound to the source of a .NET property must be a dependency property. Now, let's get into the details of dependency properties.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">依赖属性也具有内置的变更通知支持。对于普通属性，你需要实现 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">INotifyPropertyChanged</code> 接口以进行变更通知。如何实现 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">INotifyPropertyChanged</code> 接口将在本章的“使用数据绑定”部分中解释。这种变更机制是依赖属性的内置功能。对于数据绑定，绑定到 .NET 属性源 UI 元素的属性必须是依赖属性。现在，让我们深入了解依赖属性。</font></font></font></p>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">From the outside, a dependency property looks like a normal .NET property. However, with a normal .NET property, you usually also define the data member that is accessed by the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">get</code> and <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">set</code> accessors of the property:<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">从外部看，依赖属性看起来像普通的 .NET 属性。然而，对于普通的 .NET 属性，你通常还需要定义被 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">get</code> 和 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">set</code> 访问器访问的数据成员：</font></font></font></p>
<pre id="c29-code-0015"><code>private int _value;</code>
<code>public int Value</code>
<code>{</code>
<code>  get =&gt; _value;</code>
<code>  Set =&gt; _value = value;</code>
<code>}</code></pre>
<p id="c29-para-0063" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Similar to normal properties, a dependency property has <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">get</code> and <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">set</code> accessors, but doesn't declare a data member. With dependency properties, the accessors invoke the methods <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">GetValue</code> and <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">SetValue</code> of the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DependencyObject</code>. This stipulates a requirement for dependency objects that they must be implemented in a class that derives from <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DependencyObject</code> from the namespace <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Microsoft.UI.Xaml</code>.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">类似于普通属性，依赖属性有 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">get</code> 和 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">set</code> 访问器，但不会声明数据成员。对于依赖属性，访问器调用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DependencyObject</code> 的 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">GetValue</code> 和 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">SetValue</code> 方法。这规定了一个要求：依赖对象必须在从 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Microsoft.UI.Xaml</code> 命名空间继承自 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DependencyObject</code> 的类中实现。</font></font></font></p>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">With a dependency property, the data member is kept inside an internal collection that is managed by the base class and allocates data only if the value changes. With unchanged values, the data can be shared between different instances or base classes. The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">GetValue</code> and <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">SetValue</code> methods require a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DependencyProperty</code> argument. This argument is defined by a static member of the class that has the same name as the property appended to the term <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Property</code>. With the property <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Value</code>, the static member has the name <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ValueProperty</code>. <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DependencyProperty.Register</code> is a helper method that registers the property in the dependency property system. The following code snippet uses the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Register</code> method with four arguments to define the name of the property, the type of the property, the type of the owner—that is, the class <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">MyDependencyObject</code>
—and the default value with the help of <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">PropertyMetadata</code> (code file <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">XAMLIntro/DependencyObjectSample/MyDependencyObject.cs</code>):<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">通过依赖属性，数据成员被保存在由基类管理的内部集合中，并且仅在值发生变化时分配数据。对于未更改的值，数据可以在不同的实例或基类之间共享。 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">GetValue</code> 和 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">SetValue</code> 方法需要一个 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DependencyProperty</code> 参数。该参数由具有与属性名称追加 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Property</code> 后相同名称的类的静态成员定义。对于属性 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Value</code> ，静态成员的名称为 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ValueProperty</code> 。 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DependencyProperty.Register</code> 是一个辅助方法，用于在依赖属性系统中注册属性。以下代码片段使用具有四个参数的 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Register</code> 方法来定义属性的名称、属性的类型、所有者的类型——即类 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">MyDependencyObject</code> ——以及使用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">PropertyMetadata</code> 辅助方法定义的默认值（代码文件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">XAMLIntro/DependencyObjectSample/MyDependencyObject.cs</code> ）：</font></font></font></p>
<pre id="c29-code-0016"><code>public class MyDependencyObject: DependencyObject</code>
<code>{</code>
<code>  public int Value</code>
<code>  {</code>
<code>    get =&gt; (int)GetValue(ValueProperty);</code>
<code>    set =&gt; SetValue(ValueProperty, value);</code>
<code>  }</code>
<code> </code>
<code>  public static readonly DependencyProperty ValueProperty =</code>
<code>    DependencyProperty.Register("Value", typeof(int),</code>
<code>      typeof(MyDependencyObject), new PropertyMetadata(0));</code>
<code>}</code></pre>
</section>
<section data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><span id="c29-sec-0021" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span>
<h3 id="head-3-543" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Creating a Dependency Property<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">创建依赖属性</font></font></font></h3>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">This section looks at an example that defines not one but three dependency properties. The class <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">MyDependencyObject</code> defines the dependency properties <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Value</code>, <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Minimum</code>, and <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Maximum</code>. All of these properties are dependency properties that are registered with the method <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DependencyProperty.Register</code>. The methods <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">GetValue</code> and <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">SetValue</code> are members of the base class <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DependencyObject</code>. For the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Minimum</code> and <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Maximum</code> properties, default values are defined that can be set with the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DependencyProperty.Register</code> method and a fourth argument to set the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">PropertyMetadata</code>. When you use a constructor with one parameter, <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">PropertyMetadata</code>, the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Minimum</code> property is set to <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">0</code>, and the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Maximum</code> property is set to <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">100</code> (code file <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">XAMLIntro/DependencyObjectSample/MyDependencyObject.cs</code>):<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">本节将探讨一个示例，该示例定义了三个而非一个依赖属性。类 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">MyDependencyObject</code> 定义了依赖属性 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Value</code> 、 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Minimum</code> 和 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Maximum</code> 。这些属性都是通过方法 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DependencyProperty.Register</code> 注册的依赖属性。方法 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">GetValue</code> 和 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">SetValue</code> 是基类 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DependencyObject</code> 的成员。对于 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Minimum</code> 和 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Maximum</code> 属性，定义了默认值，可以通过 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DependencyProperty.Register</code> 方法和一个用于设置 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">PropertyMetadata</code> 的第四个参数来设置。当你使用一个参数的构造函数时， <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">PropertyMetadata</code> ， <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Minimum</code> 属性被设置为 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">0</code> ，而 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Maximum</code> 属性被设置为 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">100</code> （代码文件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">XAMLIntro/DependencyObjectSample/MyDependencyObject.cs</code> ）：</font></font></font></p>
<pre id="c29-code-0017"><code>public class MyDependencyObject: DependencyObject</code>
<code>{<span aria-label="831" epub:type="pagebreak" id="Page_831" role="doc-pagebreak"></span></code>
<code>  public int Value</code>
<code>  {</code>
<code>    get =&gt; (int)GetValue(ValueProperty);</code>
<code>    set =&gt; SetValue(ValueProperty, value);</code>
<code>  }</code>
<code> </code>
<code>  public static readonly DependencyProperty ValueProperty =</code>
<code>    DependencyProperty.Register(nameof(Value), typeof(int),</code>
<code>      typeof(MyDependencyObject));</code>
<code> </code>
<code>  public int Minimum</code>
<code>  {</code>
<code>    get =&gt; (int)GetValue(MinimumProperty);</code>
<code>    set =&gt; SetValue(MinimumProperty, value);</code>
<code>  }</code>
<code> </code>
<code>  public static readonly DependencyProperty MinimumProperty =</code>
<code>    DependencyProperty.Register(nameof(Minimum), typeof(int),</code>
<code>      typeof(MyDependencyObject), new PropertyMetadata(0));</code>
<code> </code>
<code>  public int Maximum</code>
<code>  {</code>
<code>    get =&gt; (int)GetValue(MaximumProperty); </code>
<code>    set =&gt; SetValue(MaximumProperty, value);</code>
<code>  }</code>
<code> </code>
<code>  public static readonly DependencyProperty MaximumProperty =</code>
<code>    DependencyProperty.Register(nameof(Maximum), typeof(int),</code>
<code>      typeof(MyDependencyObject), new PropertyMetadata(100));</code>
<code>}</code></pre>
<aside data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<div class="top hr" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><hr /></div>
<section class="feature2" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<p id="c29-para-0067" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1"><b data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NOTE</b> <i data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Within the implementation of the</i> <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">get</code> <i data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">and</i> <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">set</code> <i data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">property accessors, you should not do anything other than invoke the</i> <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">GetValue</code> <i data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">and</i> <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">SetValue</code> <i data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">methods. When you use the dependency properties, the property values can be accessed from the outside with the</i> <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">GetValue</code> <i data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">and</i> <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">SetValue</code> <i data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">methods, which is also done from WinUI; therefore, the strongly typed property accessors might not be invoked at all. They are just here for convenience, so you can use the normal property syntax from your custom code.</i><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">注意 在 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">get</code> 和 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">set</code> 属性访问器的实现中，除了调用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">GetValue</code> 和 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">SetValue</code> 方法外，你不应该做任何其他操作。当你使用依赖属性时，可以通过 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">GetValue</code> 和 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">SetValue</code> 方法从外部访问属性值，WinUI 也是这样做的；因此，强类型属性访问器可能根本不会被调用。它们只是为了方便，这样你就可以在自定义代码中使用普通的属性语法。</font></font></font></p> 
<div class="bottom hr" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><hr /></div>
</section>
</aside>
</section>
<section data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><span id="c29-sec-0023" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span>
<h3 id="head-3-544" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Value Changed Callbacks and Events<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">值更改回调和事件</font></font></font></h3>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">To get some information on value changes, dependency properties also support value changed callbacks. You can add a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DependencyPropertyChanged</code> event handler to the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DependencyProperty.Register</code> method that is invoked when the property value changes. In the sample code, the handler method <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">OnValueChanged</code> is assigned to the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">PropertyChangedCallback</code> of the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">PropertyMetadata</code> object. In the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">OnValueChanged</code> method, you can access the old and new values of the property with the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DependencyPropertyChangedEventArgs</code> argument (code file <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">XAMLIntro/DependencyObjectSample/MyDependencyObject.cs</code>):<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">要获取有关值变化的某些信息，依赖属性也支持值更改回调。您可以将 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DependencyPropertyChanged</code> 事件处理程序添加到 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DependencyProperty.Register</code> 方法中，该方法在属性值更改时被调用。在示例代码中，处理程序方法 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">OnValueChanged</code> 被分配给 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">PropertyMetadata</code> 对象的 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">PropertyChangedCallback</code> 。在 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">OnValueChanged</code> 方法中，您可以使用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DependencyPropertyChangedEventArgs</code> 参数访问属性的旧值和新值（代码文件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">XAMLIntro/DependencyObjectSample/MyDependencyObject.cs</code> ）：</font></font></font></p>
<pre id="c29-code-0018"><code>public class MyDependencyObject: DependencyObject</code>
<code>{</code>
<code>  public int Value</code>
<code>  {<span aria-label="832" epub:type="pagebreak" id="Page_832" role="doc-pagebreak"></span></code>
<code>    get =&gt; (int)GetValue(ValueProperty);</code>
<code>    set =&gt; SetValue(ValueProperty, value);</code>
<code>  }</code>
<code> </code>
<code>  public static readonly DependencyProperty ValueProperty =</code>
<code>    DependencyProperty.Register(nameof(Value), typeof(int),</code>
<code>      typeof(MyDependencyObject),</code>
<code>      new PropertyMetadata(0, OnValueChanged, CoerceValue));</code>
<code> </code>
<code>  <b>private static void OnValueChanged(DependencyObject obj,</b></code>
<code>    <b>DependencyPropertyChangedEventArgs e)</b></code>
<code>  <b>{</b></code>
<code>    <b>int oldValue = (int)e.OldValue;</b></code>
<code>    <b>int newValue = (int)e.NewValue;</b></code>
<code>    <b>//…</b></code>
<code>  <b>}</b></code>
<code>} </code></pre>
</section>
<section data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><span id="c29-sec-0024" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span>
<h3 id="head-3-545" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Routed Events<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">路由事件 </font></font></font></h3>
<p id="c29-para-0069" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1"><a href="c07.xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Chapter 7</a> covers the .NET event model. With default implemented events, when an event is fired, the handler directly connected to the event is invoked. When you use UI technologies, there are different requirements for event handling. With some events, it should be possible to create a handler with a container control and react to events coming from children controls. Such an implementation is possible by creating a custom implementation for .NET events, as shown in <a href="c07.xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Chapter 7</a> with <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">add</code> and <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">remove</code> accessors.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">第 7 章介绍了 .NET 事件模型。对于默认实现的事件，当事件被触发时，直接连接到该事件的处理程序会被调用。当您使用 UI 技术时，对事件处理有不同的要求。对于某些事件，应该能够使用容器控件创建处理程序，并对来自子控件的事件做出反应。这种实现可以通过为 .NET 事件创建自定义实现来实现，如第 7 章中的 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">add</code> 和 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">remove</code> 访问器所示。</font></font></font></p>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">WinUI offers routed events. The sample app defines a UI consisting of a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CheckBox</code> that, if selected, stops the routing; a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Button</code> control with the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Tapped</code> event set to the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">OnTappedButton</code> handler method; and a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Grid</code> with the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Tapped</code> event set to the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">OnTappedGrid</code> handler. The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Tapped</code> event is one of the routed events with WinUI. This event can be fired with the mouse, touch, and pen devices (code file <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">XAMLIntro/RoutedEvents/MainWindow.xaml</code>):<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">WinUI 提供了路由事件。示例应用程序定义了一个 UI，包括一个 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CheckBox</code> ，如果被选中，则停止路由；一个 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Button</code> 控件，其 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Tapped</code> 事件设置为 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">OnTappedButton</code> 处理器方法；以及一个 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Grid</code> ，其 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Tapped</code> 事件设置为 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">OnTappedGrid</code> 处理器。 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Tapped</code> 事件是 WinUI 的一个路由事件。该事件可以通过鼠标、触摸和笔设备触发（代码文件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">XAMLIntro/RoutedEvents/MainWindow.xaml</code> ）：</font></font></font></p>
<pre id="c29-code-0019"><code>&lt;Grid <b>Tapped="OnTappedGrid"&gt;</b></code>
<code>  &lt;Grid.RowDefinitions&gt;</code>
<code>    &lt;RowDefinition Height="auto" /&gt;</code>
<code>    &lt;RowDefinition Height="auto" /&gt;</code>
<code>    &lt;RowDefinition /&gt;</code>
<code>  &lt;/Grid.RowDefinitions&gt;</code>
<code>  &lt;StackPanel Grid.Row="0" Orientation="Horizontal"&gt;</code>
<code>    &lt;CheckBox x:Name="CheckStopRouting"&gt;Stop Routing&lt;/CheckBox&gt;</code>
<code>    &lt;Button Click="OnCleanStatus"&gt;Clean Status&lt;/Button&gt;</code>
<code>  &lt;/StackPanel&gt;</code>
<code>  &lt;Button Grid.Row="1" <b>Tapped="OnTappedButton"</b>&gt;Tap me!&lt;/Button&gt;</code>
<code>  &lt;TextBlock Grid.Row="2" Margin="20" x:Name="textStatus" /&gt;</code>
<code>&lt;/Grid&gt; </code></pre>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">OnTappedXX</code> handler methods write status information to a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TextBlock</code> to show the handler method as well as the control that was the original source of the event (code file <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">XAMLIntro/RoutedEvents/MainWindow.xaml.cs</code>):<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">OnTappedXX</code> 处理器方法将状态信息写入 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TextBlock</code> ，以显示处理器方法以及事件的原始来源控件（代码文件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">XAMLIntro/RoutedEvents/MainWindow.xaml.cs</code> ）：</font></font></font></p>
<pre id="c29-code-0020"><code>private void OnTappedButton(object sender, TappedRoutedEventArgs e)</code>
<code>{</code>
<code>  ShowStatus(nameof(OnTappedButton), e);</code>
<code>  e.Handled = CheckStopRouting.IsChecked == true;</code>
<code>}</code>
<code> </code>
<code>private void OnTappedGrid(object sender, TappedRoutedEventArgs e)<span aria-label="833" epub:type="pagebreak" id="Page_833" role="doc-pagebreak"></span></code>
<code>{</code>
<code>  ShowStatus(nameof(OnTappedGrid), e);</code>
<code>  e.Handled = CheckStopRouting.IsChecked == true;</code>
<code>}</code>
<code> </code>
<code>private void ShowStatus(string status, RoutedEventArgs e)</code>
<code>{</code>
<code>  textStatus.Text += $"{status} {e.OriginalSource.GetType().Name}";</code>
<code>  textStatus.Text += "\r\n";</code>
<code>}</code>
<code> </code>
<code>private void OnCleanStatus(object sender, RoutedEventArgs e)</code>
<code>{</code>
<code>  textStatus.Text = string.Empty;</code>
<code>}</code></pre>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">When you run the application and click outside the button but within the grid, you see the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">OnTappedGrid</code> event handled with the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Grid</code> control as the originating source:<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">运行应用程序并在按钮外但网格内点击，你会看到 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">OnTappedGrid</code> 事件由 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Grid</code> 控件作为来源处理：</font></font></font></p>
<pre id="c29-code-0021"><code>OnTappedGrid Grid</code></pre>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Click in the middle of the button to see that the event is routed. The first handler that is invoked is <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">OnTappedButton</code> followed by <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">OnTappedGrid</code>
:<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">点击按钮中间，可以看到事件被路由。首先被调用的处理器是 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">OnTappedButton</code> ，然后是 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">OnTappedGrid</code> ：</font></font></font></p>
<pre id="c29-code-0022"><code>OnTappedButton TextBlock</code>
<code>OnTappedGrid TextBlock</code></pre>
<p id="c29-para-0074" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">What's also interesting is that the event source is not the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Button</code> but a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TextBlock</code>. The reason is that the button is styled using a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TextBlock</code> to contain the button text. If you click other positions within the button, you can also see <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Grid</code> or <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ContentPresenter</code> as the originating event source. The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Grid</code> and <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ContentPresenter</code> are other controls the button is created from.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">同样有趣的是，事件源不是 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Button</code> 而是 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TextBlock</code> 。原因是按钮使用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TextBlock</code> 样式来包含按钮文本。如果你点击按钮内的其他位置，你也可以看到 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Grid</code> 或 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ContentPresenter</code> 作为事件源。 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Grid</code> 和 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ContentPresenter</code> 是按钮创建的其他控件。</font></font></font></p>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">If you select the check box <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CheckStopRouting</code> before clicking the button, you can see that the event is no longer routed because the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Handled</code> property of the event arguments is set to <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">true</code>
:<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果你在点击按钮前选中复选框 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CheckStopRouting</code> ，你会发现事件不再被路由，因为事件参数的 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Handled</code> 属性被设置为 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">true</code> ：</font></font></font></p>
<pre id="c29-code-0023"><code>OnTappedButton TextBlock</code></pre>
<p id="c29-para-0076" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Within the Microsoft API documentation of the events, you can see whether an event type is routing within the remarks section of the documentation. With WinUI applications, tapped, drag and drop, key up and key down, pointer, focus, and manipulation events are routed events.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在 Microsoft 事件 API 文档中，你可以在文档的备注部分看到是否某个事件类型是路由事件。对于 WinUI 应用，tapped、拖放、keyup、keydown、pointer、focus 和 manipulation 事件都是路由事件。</font></font></font></p>
</section>
<section data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><span id="c29-sec-0025" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span>
<h3 id="head-3-546" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Attached Properties<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">附加属性</font></font></font></h3>
<p id="c29-para-0077" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Whereas dependency properties are properties available with a specific type, with an attached property, you can define properties for other types. Some container controls define attached properties for their children; for example, if the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">RelativePanel</code> control is used, a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Below</code> property is available for its children. The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Grid</code> control defines <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Row</code> and <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Column</code> properties.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">而依赖属性是特定类型可用的属性，而附加属性则可以定义其他类型的属性。某些容器控件为其子项定义附加属性；例如，如果使用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">RelativePanel</code> 控件，其子项可用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Below</code> 属性。 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Grid</code> 控件定义了 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Row</code> 和 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Column</code> 属性。</font></font></font></p>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">The following code snippet demonstrates how this looks in XAML. The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Button</code> class doesn't have the property <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Grid.Row</code>, but it's attached from the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Grid</code>
:<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">以下代码片段展示了在 XAML 中如何呈现。 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Button</code> 类没有 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Grid.Row</code> 属性，但它从 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Grid</code> 附加了这个属性：</font></font></font></p>
<pre id="c29-code-0024"><code>&lt;Grid&gt;</code>
<code>  &lt;Grid.RowDefinitions&gt;</code>
<code>    &lt;RowDefinition /&gt;</code>
<code>    &lt;RowDefinition /&gt;</code>
<code>  &lt;/Grid.RowDefinitions&gt;</code>
<code>  &lt;Button Content="First" <b>Grid.Row="0"</b> Background="Yellow" /&gt;</code>
<code>  &lt;Button Content="Second" <b>Grid.Row="1"</b> Background="Blue" /&gt;</code>
<code>&lt;/Grid&gt;</code></pre>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1"><span aria-label="834" epub:type="pagebreak" id="Page_834" role="doc-pagebreak" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span>Attached properties are defined similarly to dependency properties, as shown in the next example. The class that defines the attached properties must derive from the base class <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DependencyObject</code> and define a normal property, where the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">get</code> and <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">set</code> accessors invoke the methods <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">GetValue</code> and <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">SetValue</code> of the base class. This is where the similarities end. Instead of invoking the method <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Register</code> with the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DependencyProperty</code> class, now <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">RegisterAttached</code> is invoked, which registers an attached property that is available with every element (code file <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">XAMLIntro/AttachedProperty/MyAttachedProperyProvider.cs</code>):<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">附加属性与依赖属性类似地定义，如下一个示例所示。定义附加属性的类必须继承基础类 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DependencyObject</code> 并定义一个普通属性，其中 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">get</code> 和 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">set</code> 访问器调用基础类的方法 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">GetValue</code> 和 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">SetValue</code> 。相似之处到此结束。不再使用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DependencyProperty</code> 类调用方法 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Register</code> ，而是调用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">RegisterAttached</code> ，这会注册一个对所有元素都可用的附加属性（代码文件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">XAMLIntro/AttachedProperty/MyAttachedProperyProvider.cs</code> ）：</font></font></font></p>
<pre id="c29-code-0025"><code>public class MyAttachedPropertyProvider: DependencyObject</code>
<code>{</code>
<code>  public static readonly DependencyProperty MySampleProperty =</code>
<code>    DependencyProperty.RegisterAttached</code>
<code>      "MySample", </code>
<code>      typeof(string),</code>
<code>      typeof(MyAttachedPropertyProvider), </code>
<code>      new PropertyMetadata(string.Empty));</code>
<code> </code>
<code>  public static void SetMySample(UIElement element, string value) =&gt;</code>
<code>    element.SetValue(MySampleProperty, value);</code>
<code> </code>
<code>  public static int GetMyProperty(UIElement element) =&gt;</code>
<code>    (string)element.GetValue(MySampleProperty);</code>
<code>}</code></pre>
<aside data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<div class="top hr" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><hr /></div>
<section class="feature2" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<p id="c29-para-0081" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1"><b data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NOTE</b> <i data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">You might assume that</i> <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Grid.Row</code> <i data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">can be added only to elements within a</i> <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Grid</code><i data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">. That's not the case. Attached properties can be added to any element. However, no one would use this property value. The</i> <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Grid</code> <i data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">is aware of this property and reads it from its children elements to arrange them. It doesn't read it from children of children.</i><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">注意 你可能以为 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Grid.Row</code> 只能添加到 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Grid</code> 内的元素中。情况并非如此。附加属性可以添加到任何元素上。然而，没有人会使用这个属性值。 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Grid</code> 意识到这个属性，并从其子元素中读取它来排列它们。它不会从子元素的子元素中读取。</font></font></font></p> 
<div class="bottom hr" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><hr /></div>
</section>
</aside>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">In the XAML code, the attached property can now be attached to any elements. The second <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Button</code> control, named <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">button2</code>, has the property <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">MyAttachedPropertyProvider.MySample</code> attached to it, and the value <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">42</code> assigned (code file <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">XAMLIntro/AttachedProperty/MainWindow.xaml</code>):<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在 XAML 代码中，附加属性现在可以附加到任何元素上。第二个 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Button</code> 控件，名为 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">button2</code> ，附加了 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">MyAttachedPropertyProvider.MySample</code> 属性，并分配了值 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">42</code> （代码文件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">XAMLIntro/AttachedProperty/MainWindow.xaml</code> ）：</font></font></font></p>
<pre id="c29-code-0026"><code>&lt;Grid x:Name="grid1"&gt;</code>
<code>  &lt;Grid.RowDefinitions&gt;</code>
<code>    &lt;RowDefinition Height="Auto"/&gt;</code>
<code>    &lt;RowDefinition Height="Auto"/&gt;</code>
<code>    &lt;RowDefinition Height="*"/&gt;</code>
<code>  &lt;/Grid.RowDefinitions&gt;</code>
<code>  <b>&lt;Button Grid.Row="0" x:Name="button1" Content="Button 1" /&gt;</b></code>
<code>  <b>&lt;Button Grid.Row="1" x:Name="button2" Content="Button 2"</b></code>
<code>    <b>local:MyAttachedPropertyProvider.MySample="42" /&gt;</b></code>
<code>  &lt;ListBox Grid.Row=<b>"2"</b> x:Name=<b>"list1"</b> /&gt;</code>
<code>&lt;/Grid&gt;</code></pre>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">When doing the same in code-behind, it is necessary to invoke the static method <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">SetMyProperty</code> of the class <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">MyAttachedPropertyProvider</code>. It's not possible to extend the class <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Button</code> with a property. The method <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">SetProperty</code> gets a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">UIElement</code> instance that should be extended by the property and the value. In the following code snippet, the property is attached to <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">button1</code>, and the value is set to <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">sample value</code> (code file <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">XAMLIntro/AttachedProperty/MainWindow.xaml.cs</code>):<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在代码隐藏中执行相同操作时，需要调用类 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">MyAttachedPropertyProvider</code> 的静态方法 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">SetMyProperty</code> 。无法通过属性扩展类 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Button</code> 。方法 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">SetProperty</code> 获取一个 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">UIElement</code> 实例，该实例应通过属性和值进行扩展。在以下代码片段中，属性附加到 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">button1</code> ，值设置为 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">sample value</code> （代码文件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">XAMLIntro/AttachedProperty/MainWindow.xaml.cs</code> ）：</font></font></font></p>
<pre id="c29-code-0027"><code>public MainWindow()</code>
<code>{</code>
<code>  InitializeComponent();<span aria-label="835" epub:type="pagebreak" id="Page_835" role="doc-pagebreak"></span></code>
<code>  <b>MyAttachedPropertyProvider.SetMySample(button1, "sample value");</b></code>
<code>  <b>//…</b></code>
<code>} </code></pre>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">To read attached properties that are assigned to elements, you can use the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">VisualTreeHelper</code> to iterate every element in the hierarchy and try to read its attached properties. The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">VisualTreeHelper</code> is used to read the visual tree of the elements during runtime. The method <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">GetChildrenCount</code> returns the count of the child elements. To access a child, you can use the method <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">GetChild</code> and pass the index for an element with the second argument. This method then returns the element. The implementation of the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">GetChildren</code> method returns elements only if they are of type <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">FrameworkElement</code> (or derived therefrom) and if the predicate passed with the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Func</code> argument returns <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">true</code> (code file <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">XAMLIntro/AttachedProperty/MainWindow.xaml.cs</code>):<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">要读取分配给元素的附加属性，您可以使用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">VisualTreeHelper</code> 来迭代层次结构中的每个元素并尝试读取其附加属性。 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">VisualTreeHelper</code> 用于在运行时读取元素的可视树。方法 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">GetChildrenCount</code> 返回子元素的数量。要访问子元素，您可以使用方法 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">GetChild</code> 并将元素的索引作为第二个参数传递。然后此方法返回该元素。 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">GetChildren</code> 方法的实现仅当元素类型为 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">FrameworkElement</code> （或从此类型派生）并且使用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Func</code> 参数传递的谓词返回 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">true</code> 时才返回元素（代码文件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">XAMLIntro/AttachedProperty/MainWindow.xaml.cs</code> ）：</font></font></font></p>
<pre id="c29-code-0028"><code>private IEnumerable&lt;FrameworkElement&gt; GetChildren(FrameworkElement element,</code>
<code>  Func&lt;FrameworkElement, bool&gt; pred)</code>
<code>{</code>
<code>  int childrenCount = <b>VisualTreeHelper.GetChildrenCount(rootElement);</b></code>
<code>  for (int i = 0; i &lt; childrenCount; i++)</code>
<code>  {</code>
<code>    var child = <b>VisualTreeHelper.GetChild(rootElement, i)</b> as FrameworkElement;</code>
<code>    if (child != null &amp;&amp; pred(child))</code>
<code>    {</code>
<code>      yield return child;</code>
<code>    }</code>
<code>  }</code>
<code>}</code></pre>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">The method <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">GetChildren</code> is now used from within the constructor of the page to add all elements with an attached property to the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ListBox</code> control (code file <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">XAMLIntro/AttachedProperty/MainPage.xaml.cs</code>):<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">现在，该方法 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">GetChildren</code> 从页面构造函数内部使用，将所有具有附加属性的元素添加到 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ListBox</code> 控件中（代码文件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">XAMLIntro/AttachedProperty/MainPage.xaml.cs</code> ）：</font></font></font></p>
<pre id="c29-code-0029"><code>public MainWindow()</code>
<code>{</code>
<code>  InitializeComponent();</code>
<code>  MyAttachedPropertyProvider.SetMySample(button1, "sample value");</code>
<code>  foreach (var item in <b>GetChildren(grid1, e =&gt;</b></code>
<code>    <b>MyAttachedPropertyProvider.GetMySample(e) != string.Empty))</b></code>
<code>  {</code>
<code>    list1.Items.Add(</code>
<code>      $"{item.Name}: {<b>MyAttachedPropertyProvider.GetMySample(item)</b>}");</code>
<code>  }</code>
<code>}</code></pre>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">When you run the application, you see the two button controls in the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ListBox</code> with these values:<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">运行应用程序时，您会在 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ListBox</code> 中看到两个按钮控件，它们具有这些值：</font></font></font></p>
<pre id="c29-code-0030"><code>button1: sample value</code>
<code>button2: 42</code></pre>
<aside data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<div class="top hr" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><hr /></div>
<section class="feature2" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<p id="c29-para-0088" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1"><b data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NOTE</b> <i data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Later in this chapter in the section “Implementing Layout Panels,” you can see attached properties with many container controls, such as</i> <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Canvas</code> <i data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">,</i> <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Grid</code> <i data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">, and</i> <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">RelativePanel</code> <i data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">.</i><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">注意：在本章后面的“实现布局面板”部分，您可以看到具有许多容器控件的附加属性，例如 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Canvas</code> 、 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Grid</code> 和 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">RelativePanel</code> 。</font></font></font></p> 
<div class="bottom hr" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><hr /></div>
</section>
</aside>
</section>
<section data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><span id="c29-sec-0028" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span>
<h3 id="head-3-547" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Markup Extensions<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">标记扩展</font></font></font></h3>
<p id="c29-para-0089" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">With markup extensions, you can extend XAML with either element or attribute syntax. If an XML attribute contains curly brackets, that's a sign of a markup extension. Often markup extensions with attributes are used as shorthand notation instead of using elements.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用标记扩展，你可以通过元素或属性语法扩展 XAML。如果一个 XML 属性包含大括号，那就是一个标记扩展的标志。通常带有属性的标记扩展被用作简写符号，而不是使用元素。</font></font></font></p>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1"><span aria-label="836" epub:type="pagebreak" id="Page_836" role="doc-pagebreak" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span>One example of such a markup extension is <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">StaticResourceExtension</code>, which finds resources. Here's a resource of a linear gradient brush with the key <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">gradientBrush1</code> (code file <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">XAMLIntro/MarkupExtensions/MainWindow.xaml</code>):<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">一个这样的标记扩展的例子是 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">StaticResourceExtension</code> ，它用于查找资源。这里有一个线性渐变笔刷的资源，其键为 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">gradientBrush1</code> （代码文件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">XAMLIntro/MarkupExtensions/MainWindow.xaml</code> ）：</font></font></font></p>
<pre id="c29-code-0031"><code>&lt;StackPanel.Resources&gt;</code>
<code>  &lt;LinearGradientBrush x:Key="gradientBrush1" StartPoint="0.5,0.0"  </code>
<code>    EndPoint="0.5, 1.0"&gt;</code>
<code>    &lt;GradientStop Offset="0" Color="Yellow" /&gt;</code>
<code>    &lt;GradientStop Offset="0.3" Color="Orange" /&gt;</code>
<code>    &lt;GradientStop Offset="0.7" Color="Red" /&gt;</code>
<code>    &lt;GradientStop Offset="1" Color="DarkRed" /&gt;</code>
<code>  &lt;/LinearGradientBrush&gt;</code>
<code>&lt;/StackPanel.Resources&gt;</code></pre>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">This resource can be referenced by using the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">StaticResourceExtension</code> with attribute syntax to set the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Background</code> property of a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Button</code>. Attribute syntax is defined by curly brackets and the name of the extension class without the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Extension</code> suffix:<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">这个资源可以通过使用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">StaticResourceExtension</code> 的属性语法来引用，以设置 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Button</code> 的 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Background</code> 属性。属性语法由大括号和扩展类名（不带 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Extension</code> 后缀）定义：</font></font></font></p>
<pre id="c29-code-0032"><code>&lt;Button Content="Test" <b>Background="{StaticResource gradientBrush1}"</b> /&gt;</code></pre>
<p id="c29-para-0092" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Windows apps do not support all the markup extensions that have been available with WPF, but there are some. <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">StaticResource</code> and <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ThemeResource</code> are discussed in <a href="c31.xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Chapter 31</a>, and the binding markup extensions <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Binding</code> and <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">x:Bind</code> are discussed later in this chapter in the section “Working with Data Binding.”<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">Windows 应用不支持所有 WPF 中可用的标记扩展，但也有一些。 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">StaticResource</code> 和 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ThemeResource</code> 在第三十一章中讨论，绑定标记扩展 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Binding</code> 和 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">x:Bind</code> 在本章稍后的“使用数据绑定”部分讨论。</font></font></font></p>
</section>
<section data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><span id="c29-sec-0029" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span>
<h3 id="head-3-548" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Custom Markup Extensions<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">自定义标记扩展</font></font></font></h3>
<p id="c29-para-0093" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Custom markup extensions allow you to add your own features within the curly brackets in XAML code. You can create custom binding, condition-based evaluation, or a simple calculator, as shown in the next sample.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">自定义标记扩展允许你在 XAML 代码的大括号中添加自己的功能。你可以创建自定义绑定、基于条件的评估或一个简单的计算器，如下一个示例所示。</font></font></font></p>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Calculator</code> markup extension enables you to calculate two values using add, subtract, multiply, and divide operations. A markup extension is really simple: the class name contains the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Extension</code> postfix, and it derives from the base class <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">MarkupExtension</code> and overrides the method <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ProvideValue</code>. With <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ProvideValue</code>, the markup extension returns the value or object that is assigned to the property where the markup is defined. The type of the returned value is defined by the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">MarkupExtensionReturnType</code> attribute. The following code snippet shows the implementation of the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Calculator</code> markup extension. This extension defines three properties that can be set: properties for <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">X</code>, <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Y</code>, and the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Operation</code> that should be applied to <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">X</code> and <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Y</code>. The operation is defined using an enum. In the implementation of the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ProvideValue</code> method, an operation is applied to <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">X</code> and <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Y</code>, and the result is returned (code file <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CustomMarkupExtension/CalculatorExtension.cs</code>):<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Calculator</code> 扩展标记允许你使用加、减、乘、除运算来计算两个值。扩展标记非常简单：类名包含 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Extension</code> 后缀，并且它继承自基础类 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">MarkupExtension</code> 并重写了方法 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ProvideValue</code> 。通过 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ProvideValue</code> ，扩展标记返回分配给定义标记的属性中的值或对象。返回值的类型由 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">MarkupExtensionReturnType</code> 属性定义。以下代码片段展示了 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Calculator</code> 扩展标记的实现。这个扩展定义了三个可设置的属性：用于 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">X</code> 、 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Y</code> 以及应用于 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">X</code> 和 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Y</code> 的 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Operation</code> 。运算使用枚举定义。在 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ProvideValue</code> 方法的实现中，对 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">X</code> 和 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Y</code> 应用运算，并返回结果（代码文件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CustomMarkupExtension/CalculatorExtension.cs</code> ）：</font></font></font></p>
<pre id="c29-code-0033"><code>public enum Operation</code>
<code>{</code>
<code>  Add,</code>
<code>  Subtract,</code>
<code>  Multiply,</code>
<code>  Divide</code>
<code>}</code>
<code> </code>
<code><b>[MarkupExtensionReturnType(ReturnType = typeof(string))]</b></code>
<code><b>public class CalculatorExtension : MarkupExtension</b></code>
<code>{</code>
<code>  public double X { get; set; }</code>
<code>  public double Y { get; set; }</code>
<code>  public Operation Operation { get; set; }</code>
<code> </code>
<code>  <b>protected override object ProvideValue() =&gt;</b></code>
<code>    (Operation switch</code>
<code>    {<span aria-label="837" epub:type="pagebreak" id="Page_837" role="doc-pagebreak"></span></code>
<code>      Operation.Add =&gt; X + Y,</code>
<code>      Operation.Subtract =&gt; X - Y,</code>
<code>      Operation.Multiply =&gt; X * Y,</code>
<code>      Operation.Divide =&gt; X / Y,</code>
<code>      _ =&gt; throw new InvalidOperationException()</code>
<code>    }).ToString();</code>
<code>}</code></pre>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Now, the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Calculator</code> markup extension can be used with the XML attribute syntax. Here, the markup extension is initialized for setting the properties. The return string is applied to the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Text</code> property of a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TextBlock</code> (code file <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">XAMLIntro/CustomMarkupExtension/MainWindow.xaml</code>):<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">现在，可以使用 XML 属性语法来使用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Calculator</code> 扩展标记。这里，扩展标记用于设置属性。返回的字符串应用于 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TextBlock</code> 的 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Text</code> 属性（代码文件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">XAMLIntro/CustomMarkupExtension/MainWindow.xaml</code> ）。</font></font></font></p>
<pre id="c29-code-0034"><code>&lt;TextBlock <b>Text="{local:Calculator Operation=Add, X=38, Y=4}"</b> /&gt;</code></pre>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Using the markup extension syntax, the name <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Extension</code> is not used. This postfix is automatically applied. This is, of course, different if the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CalculatorExtension</code> class is just used to instantiate it as child of the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Text</code> property and set the properties of the extension (code file <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">XAMLIntro/CustomMarkupExtension/MainWindow.xaml</code>):<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用标记扩展语法，名称 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Extension</code> 不会被使用。这个后缀会自动应用。当然，如果 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CalculatorExtension</code> 类只是作为 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Text</code> 属性的子项来实例化它并设置扩展的属性（代码文件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">XAMLIntro/CustomMarkupExtension/MainWindow.xaml</code> ），情况就不同了：</font></font></font></p>
<pre id="c29-code-0035"><code>&lt;TextBlock&gt;</code>
<code>  &lt;TextBlock.Text&gt;</code>
<code>    <b>&lt;local:CalculatorExtension Operation="Multiply" X="7" Y="6" /&gt;</b></code>
<code>  &lt;/TextBlock.Text&gt;</code>
<code>&lt;/TextBlock&gt;</code></pre>
<p id="c29-para-0097" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">When you run the application, the value 42 is returned from both operations used.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">运行应用程序时，这两个操作都会返回值 42。</font></font></font></p>
</section>
</section>
<section aria-labelledby="head-2-258" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><span id="c29-sec-0030" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span>
<h2 id="head-2-258" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">WORKING WITH CONTROLS<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">与控件一起工作</font></font></font></h2>
<p id="c29-para-0098" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Because of the many controls available for Windows apps, it's good to know some specific base classes within the hierarchy of UI controls. Knowing these makes it easier to work with the WinUI controls and helps you understand what you can do with these types.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">由于 Windows 应用程序提供了许多控件，了解 UI 控件层次结构中的一些特定基础类会很有帮助。了解这些可以更轻松地使用 WinUI 控件，并帮助你理解可以用这些类型做什么。</font></font></font></p>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Let's get into the hierarchy of the UI classes with Windows apps.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">让我们深入了解 Windows 应用中 UI 类的层次结构。</font></font></font></p>
<ul class="check" id="c29-list-0004" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<li id="c29-li-0015" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1"><b data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><b>DependencyObject</b></code>
</b>—This class is on top of the hierarchy for the Windows Runtime XAML elements. Every class that derives from <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DependencyObject</code> can have dependency properties. You've already seen dependency properties with the introduction to XAML in this chapter.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><b>DependencyObject</b></code> —这是 Windows 运行时 XAML 元素的层次结构顶层的类。所有从 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DependencyObject</code> 派生的类都可以有依赖属性。在本章介绍 XAML 时，你已经见过依赖属性了。</font></font></font></li>
<li id="c29-li-0016" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1"><b data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><b>UIElement</b></code>
</b>—This is the base class for elements with visual appearance. This class offers functionality for user interaction, such as pointer events (<code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">PointerPressed</code>, <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">PointerMoved</code>, and so on), key handling events (<code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">KeyDown</code>, <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">KeyUp</code>), focus events (<code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">GotFocus</code>, <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">LostFocus</code>), pointer captures (<code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CapturePointer</code>, <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">PointerCanceled</code>, and so on), and drag and drop (<code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DragOver</code>, <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Drop</code>, and so on). This class also offers the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Lights</code> property, a special feature for the fluent design, to highlight elements with a light effect. The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">KeyboardAccelerators</code> property allows setting a key combination for fast access via the keyboard. This is often used from menus.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><b>UIElement</b></code> —这是具有视觉外观元素的基类。此类提供了用户交互的功能，例如指针事件（ <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">PointerPressed</code> 、 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">PointerMoved</code> 等）、键盘处理事件（ <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">KeyDown</code> 、 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">KeyUp</code> ）、焦点事件（ <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">GotFocus</code> 、 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">LostFocus</code> ）、指针捕获（ <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CapturePointer</code> 、 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">PointerCanceled</code> 等）以及拖放（ <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DragOver</code> 、 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Drop</code> 等）。此类还提供了 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Lights</code> 属性，这是流畅设计的一个特殊功能，用于以浅色效果突出显示元素。 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">KeyboardAccelerators</code> 属性允许通过键盘设置快捷键组合。这通常用于菜单中。</font></font></font></li>
<li id="c29-li-0017" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1"><b data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><b>FrameworkElement</b></code>
</b>—The class <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">FrameworkElement</code> derives from <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">UIElement</code> and adds more features. Classes deriving from <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">FrameworkElement</code> can participate in the layout system. The properties <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">MinWidth</code>, <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">MinHeight</code>, <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Height</code>, and <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Width</code> are defined by the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">FrameworkElement</code> class. Lifetime events are defined by <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">FrameworkElement</code> as well: <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Loaded</code>, <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">SizeChanged</code>, and <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Unloaded</code> are some of these events. Data binding features are another group of functionalities defined by the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">FrameworkElement</code> class. This class defines the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DataContext</code>, <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DataContextChanged</code>, <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">SetBinding</code>, and <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">GetBindingExpression</code> APIs.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><b>FrameworkElement</b></code> —类 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">FrameworkElement</code> 继承自 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">UIElement</code> 并增加了更多功能。继承自 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">FrameworkElement</code> 的类可以参与布局系统。属性 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">MinWidth</code> 、 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">MinHeight</code> 、 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Height</code> 和 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Width</code> 由 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">FrameworkElement</code> 类定义。生命周期事件同样由 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">FrameworkElement</code> 定义： <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Loaded</code> 、 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">SizeChanged</code> 和 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Unloaded</code> 是其中的一些事件。数据绑定功能是 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">FrameworkElement</code> 类定义的另一组功能。该类定义了 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DataContext</code> 、 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DataContextChanged</code> 、 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">SetBinding</code> 和 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">GetBindingExpression</code> API。</font></font></font></li>
<li id="c29-li-0018" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1"><b data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><b>Control</b></code>
</b>—The class <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Control</code> derives from <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">FrameworkElement</code> and is the base class for UI controls—for example, <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TextBox</code>, <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Hub</code>, <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DatePicker</code>, <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">SearchBox</code>, <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">UserControl</code>, and others. Controls typically have a default style with a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ControlTemplate</code> that is assigned to the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Template</code> property. The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Control</code> class <span aria-label="838" epub:type="pagebreak" id="Page_838" role="doc-pagebreak" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span>defines overridable <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">OnXX</code> methods for the events defined by the base class <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">UIElement</code>. Some examples of these methods are <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">OnDrop</code> that can be used with drag and drop, <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">OnKeyDown</code> that is invoked before the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">KeyDown</code> event occurs, and <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">OnPointerPressed</code> that is invoked before the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">PointerPressed</code> event occurs. Controls define a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TabIndex</code>
; properties for the foreground, background, and the border (<code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Foreground</code>, <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Background</code>, <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">BorderBrush</code>, <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">BorderThickness</code>); and properties to enable it and use keyboard tabs to access it (<code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">IsTabStop</code>, <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TabIndex</code>).<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><b>Control</b></code> —类 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Control</code> 继承自 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">FrameworkElement</code> 并是 UI 控件的基类——例如 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TextBox</code> 、 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Hub</code> 、 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DatePicker</code> 、 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">SearchBox</code> 、 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">UserControl</code> 及其他。控件通常有一个默认样式，其 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ControlTemplate</code> 被分配给 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Template</code> 属性。 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Control</code> 类为基类 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">UIElement</code> 定义的默认事件定义了可重写的 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">OnXX</code> 方法。这些方法的例子包括 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">OnDrop</code> ，可用于拖放操作； <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">OnKeyDown</code> ，在 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">KeyDown</code> 事件发生前被调用；以及 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">OnPointerPressed</code> ，在 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">PointerPressed</code> 事件发生前被调用。控件定义了一个 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TabIndex</code> ；前景、背景和边框（ <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Foreground</code> 、 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Background</code> 、 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">BorderBrush</code> 、 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">BorderThickness</code> ）的属性；以及启用它并使用键盘制表符访问它的属性（ <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">IsTabStop</code> 、 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TabIndex</code> ）。</font></font></font></li>
<li id="c29-li-0019" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1"><b data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><b>ContentControl</b></code>
</b>—The class <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ContentControl</code> derives from <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Control</code> and enables you to have any content as a child of the control. Examples of <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ContentControl</code> are <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">AppBar</code>, <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Frame</code>, <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ButtonBase</code>, <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">GroupItem</code>, and <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ToolTip</code> controls. The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ContentControl</code> defines the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Content</code> property where any content can be assigned, a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ContentTemplate</code> property to assign a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DataTemplate</code>, a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ContentTemplateSelector</code> to dynamically assign a data template, and the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ContentTransitions</code> property for simple animations.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><b>ContentControl</b></code> —类 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ContentControl</code> 继承自 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Control</code> ，允许将任何内容作为其子元素。 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ContentControl</code> 类型的示例包括 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">AppBar</code> 、 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Frame</code> 、 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ButtonBase</code> 、 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">GroupItem</code> 和 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ToolTip</code> 控件。 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ContentControl</code> 定义了 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Content</code> 属性，任何内容都可以分配到此属性，一个 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ContentTemplate</code> 属性用于分配 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DataTemplate</code> ，一个 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ContentTemplateSelector</code> 用于动态分配数据模板，以及用于简单动画的 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ContentTransitions</code> 属性。</font></font></font></li>
<li id="c29-li-0020" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1"><b data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><b>ItemsControl</b></code>
</b>—Contrary to the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ContentControl</code>, which can have only one content, the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ItemsControl</code> can view a content list. While the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ContentControl</code> defines the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Content</code> property to list its child item, the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ItemsControl</code> defines this with the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Items</code> property. Both <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ContentControl</code> and <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ItemsControl</code> derive from the base class <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Control</code>. The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ItemsControl</code> can display a fixed number of items or items that are bound through a list. Controls that derive from <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ItemsControl</code> are <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ListView</code>, <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">GridView</code>, <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ListBox</code>, <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Pivot</code>, and <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Selector</code>.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><b>ItemsControl</b></code> —与 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ContentControl</code> 不同，后者只能有一个内容， <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ItemsControl</code> 可以查看内容列表。 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ContentControl</code> 定义了用于列出其子项的 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Content</code> 属性，而 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ItemsControl</code> 通过 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Items</code> 属性定义此功能。 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ContentControl</code> 和 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ItemsControl</code> 都继承自基础类 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Control</code> 。 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ItemsControl</code> 可以显示固定数量的项或通过列表绑定的项。继承自 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ItemsControl</code> 的控件包括 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ListView</code> 、 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">GridView</code> 、 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ListBox</code> 、 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Pivot</code> 和 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Selector</code> 。</font></font></font></li>
<li id="c29-li-0021" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1"><b data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><b>Panel</b></code>
</b>—Another class that can serve as a container of items is the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Panel</code> class. This class derives from the base class <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">FrameworkElement</code>. Panels are used to position and arrange child objects. Examples of classes that derive from <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Panel</code> are <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Canvas</code>, <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Grid</code>, <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">StackPanel</code>, <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">VariableSizedWrapGrid</code>, <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">VirtualizingPanel</code>, <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ItemsStackPanel</code>, <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ItemsWrapGrid</code>, and <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">RelativePanel</code>. Panel controls are discussed later in the section “Implementing Layout Panels.”<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><b>Panel</b></code> —另一个可以作为项容器的类是 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Panel</code> 类。该类继承自基础类 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">FrameworkElement</code> 。面板用于定位和排列子对象。继承自 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Panel</code> 的类示例包括 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Canvas</code> 、 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Grid</code> 、 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">StackPanel</code> 、 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">VariableSizedWrapGrid</code> 、 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">VirtualizingPanel</code> 、 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ItemsStackPanel</code> 、 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ItemsWrapGrid</code> 和 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">RelativePanel</code> 。面板控件将在“实现布局面板”一节中讨论。</font></font></font></li>
<li id="c29-li-0022" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1"><b data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><b>RangeBase</b></code>
</b>—This class derives from the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Control</code> class and is the base class for <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ProgressBar</code>, <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ScrollBar</code>, and <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Slider</code>. <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">RangeBase</code> defines the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Value</code> property for the current value, <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Minimum</code> and <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Maximum</code> properties, and a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ValueChanged</code> event handler.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><b>RangeBase</b></code> —这个类继承自 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Control</code> 类，是 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ProgressBar</code> 、 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ScrollBar</code> 和 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Slider</code> 的基类。 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">RangeBase</code> 定义了当前值的 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Value</code> 属性、 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Minimum</code> 和 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Maximum</code> 属性，以及一个 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ValueChanged</code> 事件处理器。</font></font></font></li>
<li id="c29-li-0023" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1"><b data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><b>FlyoutBase</b></code>
</b>—This class directly derives from <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DependencyObject</code> and enables you to show user interfaces on top of other elements—in other words, they “fly out.”<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><b>FlyoutBase</b></code> —这个类直接继承自 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DependencyObject</code> ，并允许你在其他元素上方显示用户界面——换句话说，它们“飞出”。</font></font></font></li>
</ul>
<aside data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<div class="top hr" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><hr /></div>
<section class="feature2" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<p id="c29-para-0100" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1"><b data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NOTE</b> <i data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Control templates are covered in detail in <a href="c31.xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Chapter 31</a>.</i><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">注意：控件模板在第 31 章中有详细说明。</font></font></font></p>
<div class="bottom hr" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><hr /></div>
</section>
</aside>
<p id="c29-para-0101" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Now that we've gone through the main categories and the hierarchy of the types, let's get into the details.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">既然我们已经了解了主要类别和类型的层次结构，让我们深入探讨细节。</font></font></font></p>
<section data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><span id="c29-sec-0032" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span>
<h3 id="head-3-549" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">FrameworkElement -Derived UI Elements<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">FrameworkElement -派生 UI 元素</font></font></font></h3>
<p id="c29-para-0102" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Some elements aren't really controls, but they're still UI elements that are classes that derive from <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">FrameworkElement</code>. These classes don't allow a custom look by specifying a template. The following table presents the different categories of these classes and the description of their functionality:<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">有些元素并非真正的控件，但它们仍然是派生自 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">FrameworkElement</code> 的 UI 元素，这些类通过指定模板不允许自定义外观。下表展示了这些类的不同类别及其功能描述：</font></font></font></p>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><span aria-label="839" epub:type="pagebreak" id="Page_839" role="doc-pagebreak" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span></p>
<table border="1" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<thead data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<tr data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<th class="left bgcolor2">CLASS</th>
<th class="left bgcolor2">DESCRIPTION</th> </tr> </thead>
<tbody data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<tr data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Border</code><br data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" /><code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Viewbox</code><br data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" /><code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ContentPresenter</code><br data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" /><code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ItemsPresenter</code>
</td>
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Presenters are classes that are not interactive, but they still offer a visual appearance.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">呈现器（Presenters）是那些非交互式但提供视觉外观的类。</font></font></font><br data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" /> The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Border</code> class defines a border around a single control (which can be a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Grid</code> containing several other controls).<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Border</code> 类定义了围绕单个控件（该控件可以是包含多个其他控件的 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Grid</code> ）的边框。</font></font></font><br data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" /> The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Viewbox</code> enables you to stretch and scale the child element.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Viewbox</code> 允许你拉伸和缩放子元素。</font></font></font><br data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" /> The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ContentPresenter</code> is used within a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ControlTemplate</code>. It defines where the content of the control will be displayed.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ContentPresenter</code> 用于 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ControlTemplate</code> 内部。它定义了控件内容的显示位置。</font></font></font><br data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" /> An <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ItemsPresenter</code> is used to define the position of items within an <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ItemsControl</code>. Control and item templates are discussed in <a href="c31.xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Chapter 31</a>.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ItemsPresenter</code> 用于定义 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ItemsControl</code> 内部项目的位置。控件和项目模板在第 31 章中讨论。</font></font></font></td> </tr>
<tr data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TextBlock RichTextBlock</code></td>
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TextBlock</code> and <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">RichTextBlock</code> controls are used to display text. Text input is not possible with these controls; they are just used for display. The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TextBlock</code> control not only allows assigning simple text but also allows more complex text elements such as paragraphs and inline elements. The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">RichTextBlock</code> supports overflow as well. Be aware that the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">RichTextBlock</code> doesn't support working with rich text format (RTF). You need to use the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">RichEditBox</code> instead.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TextBlock</code> 和 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">RichTextBlock</code> 控件用于显示文本。这些控件不支持文本输入；它们仅用于显示。 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TextBlock</code> 控件不仅允许分配简单文本，还允许更复杂的文本元素，如段落和内联元素。 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">RichTextBlock</code> 支持溢出。请注意， <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">RichTextBlock</code> 不支持处理富文本格式（RTF）。你需要使用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">RichEditBox</code> 代替。</font></font></font></td> </tr>
<tr data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Ellipse</code><br data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" /><code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Polygon</code><br data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" /><code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Polyline</code><br data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" /><code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Path</code><br data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" /><code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Rectangle</code>
</td>
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Shape</code> class derives from <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">FrameworkElement</code>. <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Shape</code> itself is a base class for <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Ellipse</code>, <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Polygon</code>, <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Polyline</code>, <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Path</code>, <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Rectangle</code>, and others. These classes are used to draw vectors to the screen. These classes are shown in <a href="c31.xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Chapter 31</a>.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Shape</code> 类派生于 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">FrameworkElement</code> 。 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Shape</code> 本身是 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Ellipse</code> 、 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Polygon</code> 、 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Polyline</code> 、 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Path</code> 、 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Rectangle</code> 等类的基类。这些类用于在屏幕上绘制矢量。这些类在第三十一章中介绍。</font></font></font></td> </tr>
<tr data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Panel</code></td>
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Panel</code> class derives from <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">FrameworkElement</code>. Panels are used to organize the UI elements on the screen. The different panels available that derive from the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Panel</code> class are discussed later in this chapter in the section “Implementing Layout Panels.”<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Panel</code> 类派生于 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">FrameworkElement</code> 。面板用于在屏幕上组织 UI 元素。本章后面“实现布局面板”一节将讨论派生于 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Panel</code> 类的不同面板。</font></font></font></td> </tr>
<tr data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Image</code></td>
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Image</code> control is used to display images. This control supports displaying images of these formats: JPEG, PNG, BMP, GIF, TIFF, JPEG XR, ICO, and SVG.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Image</code> 控件用于显示图像。该控件支持显示以下格式的图像：JPEG、PNG、BMP、GIF、TIFF、JPEG XR、ICO 和 SVG。</font></font></font></td> </tr>
<tr data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ParallaxView</code></td>
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ParallaxView</code> is a control that creates a parallax effect while scrolling.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ParallaxView</code> 是一个在滚动时创建视差效果的控件。</font></font></font></td> </tr>
<tr data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">WebView2</code></td>
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">WebView2</code> control uses the Chrome-based Microsoft Edge browser to display web pages with the WinUI application. If the browser is not installed on the client system, it can be distributed with the app using the WebView2 runtime (see <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><a href="https://developer.microsoft.com/microsoft-edge/webview2/">https://developer.microsoft.com/microsoft-edge/webview2/</a></code>).<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">WebView2</code> 控件使用基于 Chrome 的 Microsoft Edge 浏览器来显示 WinUI 应用中的网页。如果客户端系统未安装浏览器，可以使用 WebView2 运行时与应用程序一起分发（参见 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><a href="https://developer.microsoft.com/microsoft-edge/webview2/">https://developer.microsoft.com/microsoft-edge/webview2/</a></code> ）。</font></font></font><span aria-label="840" epub:type="pagebreak" id="Page_840" role="doc-pagebreak" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span></td> </tr> </tbody> </table>
<section data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><span id="c29-sec-0033" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span>
<h4 id="head-4-62" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Presenters<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">演示者</font></font></font></h4>
<p id="c29-para-0109" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">With the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">PresentersPage</code>, some of the presenters controls are used—
<code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Border</code> and <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Viewbox</code>. The border is used to group two <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TextBox</code> elements. Because the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Border</code> element can contain only one child, a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">StackPanel</code> is used within the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Border</code> element. The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Border</code> specifies a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Background</code>, a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">BorderBrush</code>, and a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">BorderThickness</code>.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">PresentersPage</code> 时，部分演示者控件被使用—— <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Border</code> 和 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Viewbox</code> 。边框用于组合两个 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TextBox</code> 元素。因为 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Border</code> 元素只能包含一个子元素，所以在 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Border</code> 元素内部使用了 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">StackPanel</code> 。 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Border</code> 指定了一个 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Background</code> 、一个 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">BorderBrush</code> 和一个 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">BorderThickness</code> 。</font></font></font></p>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">The two <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Viewbox</code> controls in the following code snippet are used to stretch a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Button</code> control. The first <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Viewbox</code> makes a stretch of mode <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Fill</code> to completely fill the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Button</code> within the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Viewbox</code>, whereas the second <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Viewbox</code> makes a stretch of mode <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Uniform</code>. With <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Uniform</code>, the aspect ratio is maintained (code file <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ControlsSamples/Views/PresentersPage.xaml</code>):<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">以下代码片段中的两个 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Viewbox</code> 控件用于拉伸一个 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Button</code> 控件。第一个 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Viewbox</code> 控件使拉伸模式为 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Fill</code> ，以完全填充 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Viewbox</code> 内的 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Button</code> ，而第二个 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Viewbox</code> 控件使拉伸模式为 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Uniform</code> 。使用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Uniform</code> 时，宽高比保持不变（代码文件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ControlsSamples/Views/PresentersPage.xaml</code> ）：</font></font></font></p>
<pre id="c29-code-0036"><code>&lt;Border Background="LightSeaGreen" BorderBrush="DarkGreen" BorderThickness="12" </code>
<code>  Margin="12" Padding="8"&gt;</code>
<code>  &lt;StackPanel Orientation="Vertical"&gt;</code>
<code>    &lt;TextBox Header="Title" x:Name="Title" FontSize="34" /&gt;</code>
<code>    &lt;TextBox Header="Publisher" x:Name="Publisher" FontSize="34" /&gt;</code>
<code>  &lt;/StackPanel&gt;</code>
<code>&lt;/Border&gt;</code>
<code>&lt;Viewbox Grid.Row="1" Stretch="Fill" StretchDirection="Both"&gt;</code>
<code>  &lt;Button Margin="4" FontSize="14"&gt;Button with fill stretch&lt;/Button&gt;</code>
<code>&lt;/Viewbox&gt;</code>
<code>&lt;Viewbox Grid.Row="2" Stretch="Uniform" StretchDirection="Both"&gt;</code>
<code>  &lt;Button Margin="4" FontSize="14"&gt;Button with uniform stretch&lt;/Button&gt;</code>
<code>&lt;/Viewbox&gt;</code></pre>
<p id="c29-para-0111" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1"><a href="#c29-fig-0003" id="R_c29-fig-0003" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Figure 29-3</a> shows the presenters page from the running app. Here you can see how the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TextBox</code> controls are surrounded, and the buttons are shown in the two different <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Viewbox</code> configurations.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">图 29-3 显示了正在运行的应用程序的主讲人页面。在这里，你可以看到 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TextBox</code> 控件是如何被包围的，以及按钮以两种不同的 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Viewbox</code> 配置显示。</font></font></font></p>

<aside data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<div class="top hr" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><hr /></div>
<section class="feature2" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<p id="c29-para-0113" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1"><b data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NOTE</b> <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Control</code> <i data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">-derived classes have an implicit border that you can customize with the</i> <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">BorderThickness</code> <i data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">and</i> <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">BorderBrush</code> <i data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">properties.</i><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">注意 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Control</code> -派生类有一个隐式边框，你可以使用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">BorderThickness</code> 和 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">BorderBrush</code> 属性来自定义它。</font></font></font></p> 
<div class="bottom hr" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><hr /></div>
</section>
</aside>
</section>
</section>
<section data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><span id="c29-sec-0035" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span>
<h3 id="head-3-550" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Control-Derived Controls<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">控件派生控件</font></font></font></h3>
<p id="c29-para-0114" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Controls that directly derive from the base class <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Control</code> belong to this category. The following table describes some of these controls:<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">直接从基础类 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Control</code> 派生出来的控件属于这个类别。下表描述了一些这些控件：</font></font></font></p>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><span aria-label="841" epub:type="pagebreak" id="Page_841" role="doc-pagebreak" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span></p>
<table border="1" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<thead data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<tr data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<th class="left bgcolor2">CONTROL</th>
<th class="left bgcolor2">DESCRIPTION</th> </tr> </thead>
<tbody data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<tr data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TextBox</code></td>
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">This control is used to display simple, unformatted text. This control can be used for user input. The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Text</code> property contains the user input. <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">PlaceholderText</code> enables you to give the user information about what to enter in the input field. Usually, some information about the input text is shown nearby. This can be done directly using the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Header</code> property.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">这个控件用于显示简单、未格式化的文本。这个控件可用于用户输入。 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Text</code> 属性包含用户输入。 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">PlaceholderText</code> 使您能够向用户提供有关输入字段中应输入内容的信息。通常，输入文本的一些信息会显示在附近。这可以直接使用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Header</code> 属性完成。</font></font></font></td> </tr>
<tr data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">RichEditBox</code></td>
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Contrary to the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TextBox</code> control, the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">RichEditBox</code> allows formatted text, hyperlinks, and images. The Text Object Model (TOM) is used from the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Document</code> property. You can use Microsoft Word to create RTF files that can be read into the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">RichEditBox</code>.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">与 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TextBox</code> 控件不同， <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">RichEditBox</code> 允许格式化文本、超链接和图像。从 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Document</code> 属性使用文本对象模型 (TOM)。您可以使用 Microsoft Word 创建 RTF 文件，这些文件可以被读入 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">RichEditBox</code> 。</font></font></font></td> </tr>
<tr data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">PasswordBox</code></td>
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">This control is used to enter a password. It has specific properties for password input, such as <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">PasswordChar</code> to define the character that should be displayed as the user enters the password. The password entered can be retrieved using the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Password</code> property. This control also has <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Header</code> and <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">PlaceholderText</code> properties similar to the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TextBox</code> control.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">这个控件用于输入密码。它具有特定的密码输入属性，例如 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">PasswordChar</code> 来定义用户输入密码时应显示的字符。输入的密码可以使用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Password</code> 属性检索。这个控件还具有与 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TextBox</code> 控件类似的 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Header</code> 和 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">PlaceholderText</code> 属性。</font></font></font></td> </tr>
<tr data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ProgressRing</code></td>
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">This control indicates that an operation is ongoing. It's displayed as a ring-shaped “spinner.” Another control to display an ongoing operation is the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ProgressBar</code>, but this one belongs to the range controls.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">这个控件表示操作正在进行中。它显示为一个环形的“旋转器”。另一个用于显示进行中操作的控件是 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ProgressBar</code> ，但这个属于范围控件。</font></font></font></td> </tr>
<tr data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DatePicker</code> <br data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" /> <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CalendarDatePicker</code> <br data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" /> <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CalendarView</code> </td>
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DatePicker</code> and <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CalendarDatePicker</code> controls are used to allow the user to select a date. The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DatePicker</code> is useful for date selection where the user knows the date, and showing a calendar is not helpful. The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CalendarDatePicker</code> uses the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CalendarView</code> internally. If a calendar should be visible all the time or you need to select multiple dates, you can use the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CalendarView</code>. Be aware there's also a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DatePickerFlyout</code> (a control that derives from <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Flyout</code>) that allows the user to select a date in a new opened window.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DatePicker</code> 和 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CalendarDatePicker</code> 控件用于允许用户选择日期。 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DatePicker</code> 在用户已知日期且显示日历无帮助时有用。 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CalendarDatePicker</code> 内部使用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CalendarView</code> 。如果需要始终显示日历或选择多个日期，可以使用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CalendarView</code> 。请注意，还有一个 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DatePickerFlyout</code> （一个继承自 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Flyout</code> 的控件），允许用户在新打开的窗口中选择日期。</font></font></font></td> </tr>
<tr data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TimePicker</code></td>
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TimePicker</code> allows the user to enter a time. As with to the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DatePicker</code>, you can use a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TimePickerFlyout</code> with the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TimePicker</code>.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TimePicker</code> 允许用户输入时间。与 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DatePicker</code> 类似，您可以使用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TimePickerFlyout</code> 与 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TimePicker</code> 一起使用。</font></font></font></td> </tr>
<tr data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">AppBarSeparator</code></td>
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1"><code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">AppBarSeparator</code> controls can be used as separators within a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CommandBar</code>.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">AppBarSeparator</code> 控件可用作 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CommandBar</code> 内部的分隔符。</font></font></font></td> </tr>
<tr data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ColorPicker</code></td>
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ColorPicker</code> allows the user to select a color.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ColorPicker</code> 允许用户选择颜色。</font></font></font></td> </tr>
<tr data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Hub</code> <br data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" /> <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">HubSection</code> </td>
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Hub</code> control allows grouping content in a panning view. The content within this control is defined in multiple <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">HubSection</code> controls. The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Hub</code> control is used with many apps to lay out the main view of the app with “Hero” images. This control is discussed later in the section “Implementing Navigation.”<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Hub</code> 控件允许在滚动视图中分组内容。此控件内的内容定义在多个 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">HubSection</code> 控件中。 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Hub</code> 控件用于许多应用程序，以“英雄”图像布局应用程序的主视图。此控件在“实现导航”部分后面讨论。</font></font></font></td> </tr>
<tr data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">UserControl</code></td>
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">UserControl</code> is a control that can be used for reuse, and to simplify the XAML code with pages. User controls can be added to pages, and you'll use user controls in this and the next chapters.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">UserControl</code> 是一个可用于重用，并通过页面简化 XAML 代码的控件。用户控件可以添加到页面中，你将在本章和下一章中使用用户控件。</font></font></font></td> </tr>
<tr data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Page</code></td>
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Page</code> class derives from <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">UserControl</code>, thus it is also a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">UserControl</code>. Pages are used to navigate within a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Frame</code>. Navigation is discussed later in the section “Implementing Navigation,” and in <a href="c30.xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Chapter 30</a>, “Patterns with XAML Apps,” with the MVVM pattern.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Page</code> 类派生自 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">UserControl</code> ，因此它也是一个 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">UserControl</code> 。页面用于在 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Frame</code> 内导航。导航在“实现导航”部分后面以及在第 30 章“XAML 应用程序的模式”中与 MVVM 模式一起讨论。</font></font></font></td> </tr>
<tr data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">PersonPicture</code></td>
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1"><code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">PersonPicture</code> is used to show the avatar image of a person. This control is used with the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ContactManager</code> and <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Contact</code> APIs.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">PersonPicture</code> 用于显示一个人的头像图像。此控件与 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ContactManager</code> 和 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Contact</code> API 一起使用。</font></font></font></td> </tr>
<tr data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">RatingControl</code></td>
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1"><code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">RatingControl</code> is used to enter a star rating by the user.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">RatingControl</code> 用于输入用户星级评分。</font></font></font></td> </tr>
<tr data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">SemanticZoom</code></td>
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">SemanticZoom control</code> defines two views: one zoom-out view and one zoom-in view. This allows the user to quickly navigate into a large data set—for example, to display first characters in the zoom-out view. In the zoom-in view, the user is positioned at the data objects with the selected letter.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">SemanticZoom control</code> 定义了两种视图：一种缩放视图和一种放大视图。这允许用户快速导航到大型数据集中——例如，在缩放视图中显示首字母。在放大视图中，用户定位到带有选定字母的数据对象。</font></font></font></td> </tr>
<tr data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">SplitView</code></td>
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">SplitView</code> control has a pane and a content area. The pane can be opened and closed. When opening the pane, the content can be either partially behind the pane or moved to the right. The opened pane can be small (compact) or wide. The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">SplitView</code> is used within the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NavigationView</code> control.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">SplitView</code> 控件包含一个面板和内容区域。面板可以打开和关闭。打开面板时，内容可以部分位于面板后面或移动到右侧。打开的面板可以是小的（紧凑的）或宽的。 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">SplitView</code> 是在 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NavigationView</code> 控件内部使用的。</font></font></font></td> </tr>
<tr data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TwoPaneView</code></td>
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TwoPaneView</code> control helps with displays of two areas, such as list and details. With dual-screen devices, the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TwoPaneView</code> can split the user interface cleanly on the two screens. See <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><a href="https://docs.microsoft.com/dual-screen/introduction">https://docs.microsoft.com/dual-screen/introduction</a></code> for dual-screen devices.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TwoPaneView</code> 控件用于显示两个区域，例如列表和详细信息。在双屏设备上， <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TwoPaneView</code> 可以在两个屏幕上清晰地分割用户界面。有关双屏设备的详细信息，请参阅 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><a href="https://docs.microsoft.com/dual-screen/introduction">https://docs.microsoft.com/dual-screen/introduction</a></code> 。</font></font></font></td> </tr>
<tr data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TreeView</code></td>
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TreeView</code> control shows a hierarchical list of nested items. See the sample from <a href="c22.xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Chapter 22</a>, “Localization,” that displays a tree of nested cultures using the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TreeView</code> control.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TreeView</code> 控件显示嵌套项的层次结构列表。请参阅第 22 章“本地化”中的示例，该示例使用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TreeView</code> 控件显示嵌套文化的树状结构。</font></font></font></td> </tr>
<tr data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">MenuBar</code> <br data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" /> <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">MenuBarItem</code> </td>
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1"><code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">MenuBar</code> is a new container to display menus in a horizontal row. <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">MenuBar</code> controls contain <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">MenuBarItem</code> controls that in turn contain <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">MenuFlyoutItem</code> controls.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">MenuBar</code> 是一个新容器，用于在水平行中显示菜单。 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">MenuBar</code> 控件包含 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">MenuBarItem</code> 控件，而 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">MenuBarItem</code> 控件又包含 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">MenuFlyoutItem</code> 控件。</font></font></font><span aria-label="842" epub:type="pagebreak" id="Page_842" role="doc-pagebreak" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span><span aria-label="843" epub:type="pagebreak" id="Page_843" role="doc-pagebreak" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span></td> </tr> </tbody> </table> 

<figure data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"> <img alt="Snapshot showing the views of selecting title and publisher." class="center" src="images/c29f003.png" />
<figcaption data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><span class="figureLabel" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><a href="#R_c29-fig-0003" id="c29-fig-0003" role="doc-backlink" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><b data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">FIGURE 29-3<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">图 29-3</font></font></font></b></a></span></p></figcaption>
</figure>

<section data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><span id="c29-sec-0036" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span>
<h4 id="head-4-63" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Using a TextBox<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用 TextBox</font></font></font></h4>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">The first sample with <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Control</code>
-derived controls shows several <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TextBox</code> controls. With the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TextBox</code> class, you can specify the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">InputScope</code> property to a value of a large list of options such as <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">EmailNameOrAddress</code>, <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CurrencyAmountAndSymbol</code>, or <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Formula</code>. In case the app is used in tablet mode with an on-screen keyboard, the keyboard is adjusted to a different layout and shows keys as needed by the input field. The last <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TextBox</code> in the sample code shows a multiline <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TextBox</code>. To allow the user to press the Return key, the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">AcceptsReturn</code> property is set. Also, the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TextWrapping</code> property is set to wrap the text if it doesn't fit on one line. The height of the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TextBox</code> is set to 150. In case the entered text doesn't fit with this size, a scrollbar is shown by using the attached property <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ScrollViewer.VerticalScrollBarVisibility</code> (code file <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ControlsSamples/Views/TextPage.xaml</code>):<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">第一个使用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Control</code> 派生控件的示例展示了几个 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TextBox</code> 控件。通过 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TextBox</code> 类，你可以将 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">InputScope</code> 属性指定为多种选项值，如 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">EmailNameOrAddress</code> 、 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CurrencyAmountAndSymbol</code> 或 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Formula</code> 。如果应用在平板模式下使用屏幕键盘，键盘会调整为不同的布局，并根据输入字段的需要显示按键。示例代码中的最后一个 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TextBox</code> 展示了一个多行 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TextBox</code> 。为了允许用户按下回车键， <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">AcceptsReturn</code> 属性被设置。此外， <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TextWrapping</code> 属性被设置为如果文本不适合一行就换行显示。 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TextBox</code> 的高度被设置为 150。如果输入的文本不适合这个大小，会通过附加属性 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ScrollViewer.VerticalScrollBarVisibility</code> （代码文件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ControlsSamples/Views/TextPage.xaml</code> ）显示滚动条：</font></font></font></p>
<pre id="c29-code-0037"><code>&lt;TextBox Header="Email" InputScope="EmailNameOrAddress"&gt;&lt;/TextBox&gt;</code>
<code>&lt;TextBox Header="Currency" InputScope="CurrencyAmountAndSymbol"&gt;&lt;/TextBox&gt;</code>
<code>&lt;TextBox Header="Alpha Numeric" InputScope="AlphanumericFullWidth"&gt;&lt;/TextBox&gt;</code>
<code>&lt;TextBox Header="Formula" InputScope="Formula"&gt;&lt;/TextBox&gt;</code>
<code>&lt;TextBox Header="Month" InputScope="DateMonthNumber"&gt;&lt;/TextBox&gt;</code>
<code>&lt;TextBox Header="Multiline" AcceptsReturn="True" TextWrapping="Wrap" </code>
<code>  Height="150" ScrollViewer.VerticalScrollBarVisibility="Auto" /&gt;</code></pre>
<p id="c29-para-0124" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1"><a href="#c29-fig-0004" id="R_c29-fig-0004" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Figure 29-4</a> shows the result of the multiline <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TextBox</code> with multiple lines that wrap and a scrollbar.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">图 29-4 展示了多行 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TextBox</code> 的结果，文本自动换行并带有滚动条。</font></font></font></p>
<figure data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"> <img alt="Snapshot of a window titled, multiline." class="center" src="images/c29f004.png" />
<figcaption data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><span class="figureLabel" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><a href="#R_c29-fig-0004" id="c29-fig-0004" role="doc-backlink" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><b data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">FIGURE 29-4<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">图 29-4</font></font></font></b></a></span></p></figcaption>
</figure>
</section>
<section data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><span id="c29-sec-0037" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span>
<h4 id="head-4-64" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Selecting a Date<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">选择日期</font></font></font></h4>
<p id="c29-para-0125" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">For selecting a date, multiple options are available. Let's look at the different options and at the special features of the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CalendarView</code> control.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">要选择日期，有多种选项可供使用。让我们看看不同的选项以及 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CalendarView</code> 控件的特殊功能。</font></font></font></p>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">With the following code snippet, the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CalendarView</code> is configured to allow multiple days to be selected. The first day of the week is set to Monday, the minimum day is set to the bound property <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">MinDate</code>, and the events <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CalendarViewDayItemChanging</code> and <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">SelectedDatesChanged</code> are assigned to event handlers (code file <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ControlsSamples/Views/DateSelectionPage.xaml</code>):<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">通过以下代码片段， <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CalendarView</code> 被配置为允许选择多个日期。一周的第一天被设置为星期一，最小日期被设置为边界属性 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">MinDate</code> ，事件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CalendarViewDayItemChanging</code> 和 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">SelectedDatesChanged</code> 被分配给事件处理程序（代码文件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ControlsSamples/Views/DateSelectionPage.xaml</code> ）：</font></font></font></p>
<pre id="c29-code-0038"><code>&lt;CalendarView x:Name="CalendarView1" Margin="12" HorizontalAlignment="Center"   </code>
<code>  SelectionMode="Multiple" </code>
<code>  FirstDayOfWeek="Monday"</code>
<code>  MinDate="{x:Bind MinDate, Mode=OneTime}"</code>
<code>  CalendarViewDayItemChanging="OnDayItemChanging" </code>
<code>  SelectedDatesChanged="OnDatesChanged" /&gt;</code></pre>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">With the code-behind, the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">MinDate</code> property is set to a predefined day. The user cannot use the calendar to go to a day before that (code file <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ControlsSamples/Views/DateSelectionPage.xaml.cs</code>):<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">通过后台代码， <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">MinDate</code> 属性被设置为预定义的日期。用户无法使用日历选择该日期之前的日期（代码文件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ControlsSamples/Views/DateSelectionPage.xaml.cs</code> ）：</font></font></font></p>
<pre id="c29-code-0039"><code>public DateTimeOffset MinDate { get; } = </code>
<code>  DateTimeOffset.Parse("1/1/1965, new CultureInfo("en-US"));</code></pre>
<p id="c29-para-0128" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">With the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">OnDayItemChanging</code> event handler, some days should be marked special. Days before today should be blocked out from a selection, and based on actual bookings, the day should be marked with colored lines.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">OnDayItemChanging</code> 事件处理器，某些日期应标记为特殊。今天之前的日期应从选择中排除，并根据实际预订情况，用彩色线条标记该日期。</font></font></font></p>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">To get the bookings, the method <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">GetBookings</code> is defined to return sample data. With a real app, you could get the data from a web API or a database. The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">GetBookings</code> method just returns bookings for a number of days from now (<code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">2, 3, 5…</code>) and the number of bookings in a day (<code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">1, 4, 3…</code>) by returning a tuple (code file <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ControlsSamples/Views/DateSelectionPage.xaml.cs</code>):<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">要获取预订信息，定义了 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">GetBookings</code> 方法来返回示例数据。在真实应用中，可以从网络 API 或数据库获取数据。 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">GetBookings</code> 方法返回从今天起若干天（ <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">2, 3, 5…</code> ）的预订信息以及每天预订数量（ <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">1, 4, 3…</code> ），通过返回元组（代码文件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ControlsSamples/Views/DateSelectionPage.xaml.cs</code> ）：</font></font></font></p>
<pre id="c29-code-0040"><code>private IEnumerable&lt;(DateTimeOffset day, int bookings)&gt; GetBookings()</code>
<code>{</code>
<code>  int[] bookingDays = { 2, 3, 5, 8, 12, 13, 18, 21, 23, 27 };<span aria-label="844" epub:type="pagebreak" id="Page_844" role="doc-pagebreak"></span></code>
<code>  int[] bookingsPerDay = { 1, 4, 3, 6, 4, 5, 1, 3, 1, 1 };</code>
<code> </code>
<code>  for (int i = 0; i &lt; 10; i++)</code>
<code>  {</code>
<code>    yield return (DateTimeOffset.Now.Date.AddDays(bookingDays[i]), </code>
<code>      bookingsPerDay[i]);</code>
<code>  }</code>
<code>} </code></pre>
<p id="c29-para-0130" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">OnDayItemChanging</code> method is invoked when the items of the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CalendarView</code> are displayed. Every displayed day invokes this method. The method <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">OnDayItemChanging</code> is implemented using local functions. The main block of this method contains a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">switch</code> statement to invoke different methods based on the data binding phases. The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CalendarView</code> control supports multiple phases to allow adapting the user interface in different iterations. The first phase is fast; after this phase, some information can already be displayed to the user. Every next phase follows later. With later phases, information might be retrieved from a web API, and this information will be updated as the data is available.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">当 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CalendarView</code> 的项目被显示时，会调用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">OnDayItemChanging</code> 方法。每个显示的日期都会调用此方法。 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">OnDayItemChanging</code> 方法使用本地函数实现。该方法的主块包含一个 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">switch</code> 语句，根据数据绑定阶段调用不同的方法。 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CalendarView</code> 控件支持多个阶段，以允许在不同迭代中调整用户界面。第一阶段速度快；在此阶段后，某些信息可以显示给用户。后续阶段依次进行。在后续阶段中，信息可能从网络 API 获取，并且随着数据的可用性，这些信息将被更新。</font></font></font></p>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">In the implementation of <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">OnDayItemChanging</code>, in the first phase, the local function <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">RegisterUpdateCallback</code> is invoked to register the next call to the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">OnDayItemChanging</code> event handler. In the second phase, the dates are blacked out with the local function <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">SetBlackoutDates</code>. In the third phase, the bookings are retrieved (code file <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ControlsSamples/Views/DateSelectionPage.xaml.cs</code>):<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">OnDayItemChanging</code> 的实现中，第一阶段，本地函数 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">RegisterUpdateCallback</code> 被调用以注册对 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">OnDayItemChanging</code> 事件处理器的下一次调用。第二阶段，使用本地函数 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">SetBlackoutDates</code> 将日期划黑。第三阶段，检索预订（代码文件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ControlsSamples/Views/DateSelectionPage.xaml.cs</code> ）：</font></font></font></p>
<pre id="c29-code-0041"><code>private void OnDayItemChanging(CalendarView sender, </code>
<code>  CalendarViewDayItemChangingEventArgs args)</code>
<code>{</code>
<code>  switch (args.Phase)</code>
<code>  {</code>
<code>    case 0:</code>
<code>      RegisterUpdateCallback();</code>
<code>      break;</code>
<code>    case 1:</code>
<code>      SetBlackoutDates();</code>
<code>      break;</code>
<code>    case 2:</code>
<code>      SetBookings();</code>
<code>      break;</code>
<code>    default:</code>
<code>      break;</code>
<code>  }</code>
<code> </code>
<code>  // local functions…</code>
<code>}</code></pre>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">The local function <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">RegisterUpdateCallback</code> invokes the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">RegisterUpdateCallback</code> of the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CalendarViewDayItemChangingEventArgs</code> argument passing the event handler method, so this method is invoked again (code file <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ControlsSamples/Views/DateSelectionPage.xaml.cs</code>):<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">本地函数 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">RegisterUpdateCallback</code> 调用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CalendarViewDayItemChangingEventArgs</code> 参数的 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">RegisterUpdateCallback</code> ，传递事件处理器方法，因此该方法再次被调用（代码文件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ControlsSamples/Views/DateSelectionPage.xaml.cs</code> ）：</font></font></font></p>
<pre id="c29-code-0042"><code>void RegisterUpdateCallback() =&gt; args.RegisterUpdateCallback(OnDayItemChanging);</code></pre>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">The local function <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">SetBlackoutDates</code> blacks out the dates before today, as well as all Saturdays and Sundays. The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CalendarViewDayItem</code> that is returned from the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">args.Item</code> property defines an <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">IsBlackout</code> property (code file <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ControlsSamples/Views/DateSelectionPage.xaml.cs</code>):<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">本地函数 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">SetBlackoutDates</code> 将今天之前的日期以及所有周六和周日划黑。从 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">args.Item</code> 属性返回的 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CalendarViewDayItem</code> 定义了一个 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">IsBlackout</code> 属性（代码文件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ControlsSamples/Views/DateSelectionPage.xaml.cs</code> ）：</font></font></font></p>
<pre id="c29-code-0043"><code>async void SetBlackoutDates()</code>
<code>{</code>
<code>  RegisterUpdateCallback();</code>
<code>  CalendarViewDayItem item = args.Item;</code>
<code> <span aria-label="845" epub:type="pagebreak" id="Page_845" role="doc-pagebreak"></span></code>
<code>  await Task.Delay(500); // simulate a delay for an API call</code>
<code>  if (item.Date &lt; DateTimeOffset.Now || item.Date.DayOfWeek == DayOfWeek.Saturday || </code>
<code>      item.Date.DayOfWeek == DayOfWeek.Sunday)</code>
<code>  {</code>
<code>    <b>args.Item.IsBlackout = true;</b></code>
<code>  }</code>
<code>}</code></pre>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Finally, the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">SetBookings</code> method retrieves the information about the bookings. The received date found in the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CalendarViewDayItem</code> is checked if it is also found in the bookings. If it is, a list of red or green colors (depending on the weekday) is added to the day item by invoking <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">SetDensityColors</code>. Finally, the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">RegisterUpdateCallback</code> local function is invoked once again; otherwise, only the first day shown would be invoked with the third phase (code file <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ControlsSamples/Views/DateSelectionPage.xaml.cs</code>):<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">最后， <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">SetBookings</code> 方法检索预订信息。在 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CalendarViewDayItem</code> 中收到的日期会检查是否也出现在预订中。如果是，会通过调用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">SetDensityColors</code> 向日项添加红色或绿色列表（取决于星期几）。最后，再次调用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">RegisterUpdateCallback</code> 本地函数；否则，第三阶段只会调用显示的第一天（代码文件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ControlsSamples/Views/DateSelectionPage.xaml.cs</code> ）：</font></font></font></p>
<pre id="c29-code-0044"><code>void SetBookings()</code>
<code>{</code>
<code>  CalendarViewDayItem item = args.Item;</code>
<code>  await Task.Delay(3000); // simulate a delay for an API call </code>
<code>  var bookings = GetBookings().ToList();</code>
<code> </code>
<code>  var booking = bookings.SingleOrDefault(b =&gt; b.day.Date == item.Date.Date);</code>
<code>  if (booking.bookings&gt; 0)</code>
<code>  {</code>
<code>    List&lt;Color&gt; colors = new();</code>
<code>    for (int i = 0; i &lt; booking.bookings; i++)</code>
<code>    {</code>
<code>      if (item.Date.DayOfWeek == DayOfWeek.Saturday || </code>
<code>          item.Date.DayOfWeek == DayOfWeek.Sunday)</code>
<code>      {</code>
<code>        colors.Add(Colors.Red);</code>
<code>      }</code>
<code>      else</code>
<code>      {</code>
<code>        colors.Add(Colors.Green);</code>
<code>      }</code>
<code>    }</code>
<code> </code>
<code>    <b>item.SetDensityColors(colors);</b></code>
<code>  }</code>
<code>}</code></pre>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">When a user selects a date, the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">OnDatesChanged</code> method is invoked. With this method, all the dates selected are received in the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CalendarViewSelectedDatesChangedEventArgs</code>. The selected dates are written to the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">currentDatesSelected</code> list, and the deselected dates are removed from the list again. Using a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">string.Join</code>, all the selected dates are shown with the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">MessageDialog</code> (code file <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ControlsSamples/Views/DateSelectionPage.xaml.cs</code>):<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">当用户选择一个日期时，会调用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">OnDatesChanged</code> 方法。通过这个方法，所有选中的日期都会在 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CalendarViewSelectedDatesChangedEventArgs</code> 中接收。选中的日期被写入 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">currentDatesSelected</code> 列表，未选中的日期则从列表中再次移除。使用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">string.Join</code> ，所有选中的日期会以 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">MessageDialog</code> （代码文件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ControlsSamples/Views/DateSelectionPage.xaml.cs</code> ）的形式显示：</font></font></font></p>
<pre id="c29-code-0045"><code>private List&lt;DateTimeOffset&gt; currentDatesSelected = new List&lt;DateTimeOffset&gt;();</code>
<code> </code>
<code>private async void OnDatesChanged(CalendarView sender, </code>
<code>  CalendarViewSelectedDatesChangedEventArgs args)</code>
<code>{</code>
<code>  currentDatesSelected.AddRange(<b>args.AddedDates</b>);</code>
<code>  <b>args.RemovedDates.</b>ToList().ForEach(date =&gt; </code>
<code>    currentDatesSelected.Remove(date));</code>
<code> <span aria-label="846" epub:type="pagebreak" id="Page_846" role="doc-pagebreak"></span></code>
<code>  string selectedDates = string.Join(", ", </code>
<code>    currentDatesSelected.Select(d =&gt; d.ToString("d")));</code>
<code> </code>
<code>  await new MessageDialog($"dates selected: {selectedDates}").ShowAsync();</code>
<code>}</code></pre>
<p id="c29-para-0136" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">When you run the app, you can see the calendar, as shown in <a href="#c29-fig-0005" id="R_c29-fig-0005" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Figure 29-5</a>; the previous days as well as Saturday/Sunday are blocked, and the information about bookings is shown with color lines.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">运行应用程序时，可以看到日历，如图 29-5 所示；过去的日期以及周六/周日被锁定，预订信息以彩色线条显示。</font></font></font></p>
<p id="c29-para-0137" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">When you click the month of the calendar, a complete year is shown. When you click the year on top, an epoch is visible (see <a href="#c29-fig-0006" id="R_c29-fig-0006" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Figure 29-6</a>). This makes it easy to select dates far in the future.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">点击日历的月份，会显示完整的一年。点击顶部的年份，会显示一个纪元（见图 29-6）。这使得选择未来的日期变得容易。</font></font></font></p>
<figure data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"> <img alt="Snapshot of calendar for the month of April 20 21." class="center" src="images/c29f005.png" />
<figcaption data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><span class="figureLabel" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><a href="#R_c29-fig-0005" id="c29-fig-0005" role="doc-backlink" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><b data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">FIGURE 29-5<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">图 29-5</font></font></font></b></a></span></p></figcaption>
</figure>
<figure data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"> <img alt="Snapshot shows a list of years from 20 20 to 20 29." class="center" src="images/c29f006.png" />
<figcaption data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><span class="figureLabel" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><a href="#R_c29-fig-0006" id="c29-fig-0006" role="doc-backlink" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><b data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">FIGURE 29-6<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">图 29-6</font></font></font></b></a></span></p></figcaption>
</figure>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">When using a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CalendarDatePicker</code>, you don't have as many features as with the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CalendarView</code>, but it doesn't occupy the space of the screen unless the user opens it to select a date. A <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CalendarDatePicker</code> defines the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DateChanged</code> event; you can select only a single day (code file <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ControlsSamples/Views/DateSelectionPage.xaml</code>):<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CalendarDatePicker</code> 时，功能不如 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CalendarView</code> 多，但它不会占用屏幕空间，除非用户打开它来选择日期。 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CalendarDatePicker</code> 定义了 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DateChanged</code> 事件；你只能选择单日（代码文件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ControlsSamples/Views/DateSelectionPage.xaml</code> ）：</font></font></font></p>
<pre id="c29-code-0046"><code>&lt;CalendarDatePicker x:Name="CalendarDatePicker1" Grid.Row="0" Grid.Column="1" </code>
<code>  DateChanged="OnDateChanged" Margin="12" /&gt;</code></pre>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">With the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">OnDateChanged</code> event handler, the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CalendarDatePickerDateChangedEventArgs</code> object are received that contain a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NewDate</code> property (code file <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DateSelectionSample/MainPage.xaml.cs</code>):<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">OnDateChanged</code> 事件处理器时，会接收到 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CalendarDatePickerDateChangedEventArgs</code> 对象，其中包含 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NewDate</code> 属性（代码文件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DateSelectionSample/MainPage.xaml.cs</code> ）：</font></font></font></p>
<pre id="c29-code-0047"><code>private async void OnDateChanged(CalendarDatePicker sender, </code>
<code>  CalendarDatePickerDateChangedEventArgs args)</code>
<code>{</code>
<code>  await new MessageDialog($"date changed to {args.NewDate}").ShowAsync();</code>
<code>}</code></pre>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">The XAML code for the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DatePicker</code> is similar. It doesn't just show a calendar to select the date but has a completely different view (code file <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ControlsSamples/Views/DateSelectionPage.xaml</code>):<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DatePicker</code> 的 XAML 代码类似。它不仅显示日历来选择日期，而且有完全不同的视图（代码文件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ControlsSamples/Views/DateSelectionPage.xaml</code> ）：</font></font></font></p>
<pre id="c29-code-0048"><code>&lt;DatePicker DateChanged="OnDateChanged1" x:Name="DatePicker1" Grid.Row="1" </code>
<code>  Margin="12" /&gt;</code></pre>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">The event handler for the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DatePicker</code> receives object and <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DatePickerValueChangedEventArgs</code> arguments (code file <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ControlsSamples/Views/DateSelectionPage.xaml</code>):<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DatePicker</code> 的事件处理器接收对象和 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DatePickerValueChangedEventArgs</code> 参数（代码文件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ControlsSamples/Views/DateSelectionPage.xaml</code> ）：</font></font></font></p>
<pre id="c29-code-0049"><code>private async void OnDateChanged1(object sender, </code>
<code>  DatePickerValueChangedEventArgs e)<span aria-label="847" epub:type="pagebreak" id="Page_847" role="doc-pagebreak"></span></code>
<code>{</code>
<code>  await new MessageDialog($"date changed to {e.NewDate}").ShowAsync();</code>
<code>}</code></pre>
<p id="c29-para-0142" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1"><a href="#c29-fig-0007" id="R_c29-fig-0007" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Figure 29-7</a> shows the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DatePicker</code> when it's open. If the user knows the date without checking a calendar (for example, a birthday), it is a lot faster than scrolling through the years, the months, and the days.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">图 29-7 显示了日历展开时的状态。如果用户无需查看日历就能知道日期（例如生日），那么这种方式比逐年、逐月、逐日滚动要快得多。</font></font></font></p>
<figure data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"> <img alt="Snapshot of choosing the date 21st of April 20 21." class="center" src="images/c29f007.png" />
<figcaption data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><span class="figureLabel" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><a href="#R_c29-fig-0007" id="c29-fig-0007" role="doc-backlink" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><b data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">FIGURE 29-7<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">图 29-7</font></font></font></b></a></span></p></figcaption>
</figure>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">The last option for selecting a date is a flyout. Flyouts can be used with other controls. Here, a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Button</code> control is used, and the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Flyout</code> property of the button defines to use the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DatePickerFlyout</code>
:<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">选择日期的最后一个选项是弹出式菜单。弹出式菜单可以与其他控件配合使用。这里使用了日历控件，按钮的 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Flyout</code> 属性定义了使用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DatePickerFlyout</code> ：</font></font></font></p>
<pre id="c29-code-0050"><code>&lt;Button Content="Select a Date" Grid.Row="1" Grid.Column="1" Margin="12"&gt;</code>
<code><b>  &lt;Button.Flyout&gt;</b></code>
<code><b>    &lt;DatePickerFlyout x:Name="DatePickerFlyout1" DatePicked="OnDatePicked" /&gt;</b></code>
<code><b>  &lt;/Button.Flyout&gt;</b></code>
<code>&lt;/Button&gt;</code></pre>
</section>
</section>
<section data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><span id="c29-sec-0038" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span>
<h3 id="head-3-551" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Range Controls<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">范围控件</font></font></font></h3>
<p id="c29-para-0144" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Range controls such as <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ScrollBar</code>, <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ProgressBar</code>, and <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Slider</code> derive from the common class RangeBase
<code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">, as described in the following table</code>.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">范围控件如 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ScrollBar</code> 、 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ProgressBar</code> 和 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Slider</code> 都继承自通用类 RangeBase <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">, as described in the following table</code> 。</font></font></font></p>
<table border="1" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<thead data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<tr data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<th class="left bgcolor2">CONTROL</th>
<th class="left bgcolor2">DESCRIPTION</th> </tr> </thead>
<tbody data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<tr data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ScrollBar</code></td>
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">This control contains a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Thumb</code> that enables the user to select a value. A scrollbar can be used, for example, if a document doesn't fit on the screen. Some controls contain scrollbars that are displayed if the content is too big.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">这个控件包含一个 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Thumb</code> ，允许用户选择一个值。例如，如果文档不适合屏幕，可以使用滚动条。一些控件包含滚动条，当内容太大时会显示出来。</font></font></font></td> </tr>
<tr data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ProgressBar</code></td>
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">This control indicates the progress of a lengthy operation.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">这个控件指示一个长时间操作的进度。</font></font></font></td> </tr>
<tr data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Slider</code></td>
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">This control enables users to select a range of values by moving a thumb.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">这个控件允许用户通过移动滑块来选择一个值范围。</font></font></font><span aria-label="848" epub:type="pagebreak" id="Page_848" role="doc-pagebreak" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span></td> </tr> </tbody> </table>
<section data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><span id="c29-sec-0039" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span>
<h4 id="head-4-65" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Progress Bar<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">进度条</font></font></font></h4>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">The sample application shows two <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ProgressBar</code> controls. The second control has the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">IsIndeterminate</code> property set to <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">True</code>. In case you don't know how long an activity takes, it's a good idea to use this property. If you think you know how long the action takes, you can set the current status value in the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ProgressBar</code> without setting the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">IsIndeterminate</code> mode; the default is <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">False</code> (code file <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ControlsSamples/Views/RangeControlsPage.xaml</code>):<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">示例应用程序展示了两个 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ProgressBar</code> 控件。第二个控件的 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">IsIndeterminate</code> 属性被设置为 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">True</code> 。如果你不知道一个活动需要多长时间，使用这个属性是个好主意。如果你认为你知道这个操作需要多长时间，你可以在 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ProgressBar</code> 中设置当前状态值，而无需设置 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">IsIndeterminate</code> 模式；默认是 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">False</code> （代码文件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ControlsSamples/Views/RangeControlsPage.xaml</code> ）：</font></font></font></p>
<pre id="c29-code-0051"><code>&lt;<b>ProgressBar</b> x:Name="progressBar1" Grid.Row="0" Margin="12" /&gt;</code>
<code>&lt;<b>ProgressBar IsIndeterminate="True"</b> Grid.Row="1" Margin="12" /&gt;</code></pre>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">On loading of the page, the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ShowProgress</code> method is invoked. Here, the current value of the first <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ProgressBar</code> is set using a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DispatcherTimer</code>. The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DispatcherTimer</code> is configured to fire every second, and every second the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Value</code> property of the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ProgressBar</code> gets incremented (code file <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ControlsSamples/Views/RangeControlsPage.xaml.cs</code>):<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">页面加载时，会调用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ShowProgress</code> 方法。在这里，使用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DispatcherTimer</code> 设置第一个 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ProgressBar</code> 的当前值。 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DispatcherTimer</code> 被配置为每秒触发一次，每秒 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ProgressBar</code> 的 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Value</code> 属性都会递增（代码文件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ControlsSamples/Views/RangeControlsPage.xaml.cs</code> ）：</font></font></font></p>
<pre id="c29-code-0052"><code>private void ShowProgress()</code>
<code>{</code>
<code>  DispatcherTimer timer = new();</code>
<code>  timer.Interval = TimeSpan.FromSeconds(1);</code>
<code>  int i = 0;</code>
<code>  timer.Tick += (sender, e) =&gt; <b>progressBar1.Value = i++ % 100;</b></code>
<code>  timer.Start();</code>
<code>}</code></pre>
<aside data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<div class="top hr" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><hr /></div>
<section class="feature2" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<p id="c29-para-0149" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1"><b data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NOTE</b> <i data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">The</i> <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DispatcherTimer</code> <i data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">class is explained in <a href="c17.xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Chapter 17</a>, “Parallel Programming.”</i><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">注意 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DispatcherTimer</code> 类在“并行编程”章节（第 17 章）中有解释。</font></font></font></p> 
<div class="bottom hr" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><hr /></div>
</section>
</aside>
<p id="c29-para-0150" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">When you run the application, you can see two active <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ProgressBar</code> controls. With the first one, you can see the status with an increasing value, whereas the second one shows progress with a bar that continuously moves (see <a href="#c29-fig-0008" id="R_c29-fig-0008" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Figure 29-8</a>).<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">运行应用程序时，你可以看到两个活跃的 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ProgressBar</code> 控件。第一个控件显示的状态值会不断增加，而第二个控件则显示一个不断移动的进度条（见图 29-8）。</font></font></font></p>
<figure data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"> <img alt="Snapshot of progress bar controls." class="center" src="images/c29f008.png" />
<figcaption data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><span class="figureLabel" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><a href="#R_c29-fig-0008" id="c29-fig-0008" role="doc-backlink" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><b data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">FIGURE 29-8<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">图 29-8</font></font></font></b></a></span></p></figcaption>
</figure>
</section>
<section data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><span id="c29-sec-0041" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span>
<h4 id="head-4-66" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Slider<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">滑块</font></font></font></h4>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">With the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Slider</code> control, you can specify <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Minimum</code> and <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Maximum</code> values and use the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Value</code> property to assign the current value. The code sample uses a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TextBox</code> to display the current value of the slider (code file <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ControlsSamples/Views/RangeControlsPage.xaml</code>):<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Slider</code> 控件，您可以指定 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Minimum</code> 和 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Maximum</code> 值，并使用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Value</code> 属性来分配当前值。代码示例使用一个 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TextBox</code> 来显示滑块的当前值（代码文件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ControlsSamples/Views/RangeControlsPage.xaml</code> ）：</font></font></font></p>
<pre id="c29-code-0053"><code><b>&lt;Slider x:Name="slider" Minimum="10" Maximum="140" Value="60" </b></code>
<code>  Grid.Row="2" Margin="12" /&gt;</code>
<code>&lt;TextBox Header="Slider Value" IsReadOnly="True" </code>
<code>  Text="{x:Bind slider.Value, Mode=OneWay}" Grid.Row="3" Margin="12" /&gt;</code></pre>
<p id="c29-para-0152" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">In <a href="#c29-fig-0009" id="R_c29-fig-0009" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Figure 29-9</a>, you can see the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Slider</code> and the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TextBox</code>
; notice how they correlate as the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TextBox</code> shows the actual value of the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Slider</code>.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在图 29-9 中，您可以看到 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Slider</code> 和 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TextBox</code> ；注意它们如何关联，因为 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TextBox</code> 显示了 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Slider</code> 的实际值。</font></font></font><span aria-label="849" epub:type="pagebreak" id="Page_849" role="doc-pagebreak" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span></p>
<figure data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"> <img alt="Snapshot of slider value." class="center" src="images/c29f009.png" />
<figcaption data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><span class="figureLabel" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><a href="#R_c29-fig-0009" id="c29-fig-0009" role="doc-backlink" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><b data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">FIGURE 29-9<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">图 29-9</font></font></font></b></a></span></p></figcaption>
</figure>
</section>
</section>
<section data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><span id="c29-sec-0042" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span>
<h3 id="head-3-552" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Content Controls<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">内容控件</font></font></font></h3>
<p id="c29-para-0153" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">A <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ContentControl</code> has a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Content</code> property and allows adding any single piece of content. Multiple content objects are not allowed as a direct child in the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Content</code> property, but you can add, for example, a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">StackPanel</code>, which can have multiple controls as children.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ContentControl</code> 具有一个 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Content</code> 属性，并允许添加任何单个内容。多个内容对象不允许作为 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Content</code> 属性的直接子元素，但你可以添加，例如一个 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">StackPanel</code> ，它可以是多个控件的父级。</font></font></font></p>
<table border="1" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<thead data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<tr data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<th class="left bgcolor2">CONTROL</th>
<th class="left bgcolor2">DESCRIPTION</th> </tr> </thead>
<tbody data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<tr data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ScrollViewer</code></td>
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1"><code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ScrollViewer</code> is a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ContentControl</code> that can contain a single item and offers horizontal and vertical scrollbars. You can also use <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ScrollViewer</code> with attached properties as has been shown previously with the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ParallaxViewSample</code>.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ScrollViewer</code> 是一个 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ContentControl</code> ，可以包含单个项目，并提供水平和垂直滚动条。你也可以使用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ScrollViewer</code> 并附加属性，如前面用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ParallaxViewSample</code> 所展示的。</font></font></font></td> </tr>
<tr data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Frame</code></td>
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Frame</code> control is used for navigation between pages. This control is discussed later in the section “Implementing Navigation.”<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Frame</code> 控件用于页面之间的导航。这个控件在“实现导航”部分将进行讨论。</font></font></font></td> </tr>
<tr data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">SelectorItem</code> <br data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" /> <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ComboBoxItem</code> <br data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" /> <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">FlipViewItem</code> <br data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" /> <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">GridViewItem</code> <br data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" /> <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ListBoxItem</code> <br data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" /> <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ListViewItem</code> <br data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" /> <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">GroupItemPivotItem</code> </td>
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">These controls are <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ContentControl</code> objects that belong as items to an <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ItemsControl</code>. For example, the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ComboBox</code> control contains <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ComboBoxItem</code> objects, the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ListBox</code> control contains <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ListBoxItem</code> objects, and the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Pivot</code> control contains <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">PivotItem</code> objects. <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">GroupItem</code> objects are typically not used directly; they're used when you use an <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ItemsControl</code>
-derived control with a grouping configuration.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">这些控件是 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ContentControl</code> 对象，它们应作为项目属于一个 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ItemsControl</code> 。例如， <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ComboBox</code> 控件包含 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ComboBoxItem</code> 对象， <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ListBox</code> 控件包含 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ListBoxItem</code> 对象，而 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Pivot</code> 控件包含 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">PivotItem</code> 对象。 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">GroupItem</code> 对象通常不直接使用；它们在使用具有分组配置的 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ItemsControl</code> 派生控件时使用。</font></font></font></td> </tr>
<tr data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ToolTip</code></td>
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ToolTip</code> gives a pop-up window when the user hovers over a control to show a tooltip. Tooltips can be configured using the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ToolTipService.ToolTip</code> attached property. The tooltip can be more than text; it is a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ContentControl</code>.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">当用户将鼠标悬停在控件上时， <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ToolTip</code> 会弹出一个窗口显示提示信息。提示信息可以使用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ToolTipService.ToolTip</code> 附加属性进行配置。提示信息可以不仅仅是文本；它是一个 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ContentControl</code> 。</font></font></font></td> </tr>
<tr data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TeachingTip</code></td>
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TeachingTip</code> is meant to give the user tips on how to do the work more effectively. By analyzing telemetry information and using machine learning, the application can learn what the users are doing and which features they might miss and should know about. This control supports rich content.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TeachingTip</code> 的目的是向用户提供如何更有效地完成工作的提示。通过分析遥测信息和使用机器学习，应用程序可以了解用户正在做什么以及他们可能错过并应该了解哪些功能。此控件支持丰富内容。</font></font></font></td> </tr>
<tr data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CommandBar</code></td>
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">With the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CommandBar</code>, you can arrange <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">AppBarButton</code> controls and controls that belong to the command elements (such as <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">AppBarSeparator</code>). The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CommandBar</code> offers some layout features for these controls. With Windows 8, the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">AppBar</code> was used instead of the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CommandBar</code>
—that's why the buttons have these names. Now the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CommandBar</code> derives from the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">AppBar</code>. However, you can also use other controls to lay out your commands if the layout from the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CommandBar</code> doesn't fit your requirements.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CommandBar</code> ，你可以排列 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">AppBarButton</code> 控件以及属于命令元素的控件（例如 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">AppBarSeparator</code> ）。 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CommandBar</code> 为这些控件提供了一些布局功能。在 Windows 8 中，使用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">AppBar</code> 代替了 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CommandBar</code> ——这就是按钮有这些名称的原因。现在 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CommandBar</code> 源自于 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">AppBar</code> 。然而，如果 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CommandBar</code> 的布局不符合你的要求，你也可以使用其他控件来布局你的命令。</font></font></font></td> </tr>
<tr data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ContentDialog</code></td>
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Using the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ContentDialog</code> opens a dialog box. You can customize this control with any XAML controls you need for your dialog.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ContentDialog</code> 会打开一个对话框。你可以用任何你需要的 XAML 控件来定制这个控件。</font></font></font></td> </tr>
<tr data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">SwipeControl</code></td>
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">SwipeControl</code> allows contextual commands through touch interactions—for example, to open specific actions for items as the user swipes to the left or to the right.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">SwipeControl</code> 通过触摸交互允许上下文命令——例如，当用户向左或向右滑动时，为项目打开特定操作。</font></font></font></td> </tr> </tbody> </table>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><span aria-label="850" epub:type="pagebreak" id="Page_850" role="doc-pagebreak" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span></p>
<aside data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<div class="top hr" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><hr /></div>
<section class="feature2" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<p id="c29-para-0162" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1"><b data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NOTE</b> <i data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">See the next section, which includes a sample to fill the content of a</i> <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ContentControl</code> <i data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">—with a</i> <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Button</code> <i data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">, which itself is a</i> <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ContentControl</code> <i data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">.</i><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">注意：参见下一节，其中包含一个示例，用于填充 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ContentControl</code> 的内容——一个 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Button</code> ，它本身是一个 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ContentControl</code> 。</font></font></font></p> 
<div class="bottom hr" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><hr /></div>
</section>
</aside>
</section>
<section data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><span id="c29-sec-0044" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span>
<h3 id="head-3-553" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Buttons<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">按钮</font></font></font></h3>
<p id="c29-para-0163" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Button classes form a hierarchy. The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ButtonBase</code> class derives from <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ContentControl</code>
; thus, a button has a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Content</code> property and can contain any single content. The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ButtonBase</code> class also defines a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Command</code> property; thus, all buttons can have a command associated. The following table compares the different buttons.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">按钮类形成一个层次结构。 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ButtonBase</code> 类继承自 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ContentControl</code> ；因此，按钮具有 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Content</code> 属性，并且可以包含任何单个内容。 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ButtonBase</code> 类还定义了 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Command</code> 属性；因此，所有按钮都可以关联一个命令。下表比较了不同类型的按钮。</font></font></font></p>
<table border="1" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<thead data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<tr data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<th class="left bgcolor2">CONTROL</th>
<th class="left bgcolor2">DESCRIPTION</th> </tr> </thead>
<tbody data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<tr data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Button</code></td>
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Button</code> class is the most commonly used button. This class derives from <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ButtonBase</code> (as all the other buttons do as well). <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ButtonBase</code> is the base class of all buttons.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Button</code> 类是最常用的按钮。这个类继承自 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ButtonBase</code> （所有其他按钮也都继承自这个类）。 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ButtonBase</code> 是所有按钮的基类。</font></font></font></td> </tr>
<tr data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DropDownButton</code></td>
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DropDownButton</code> shows a chevron to indicate that a menu can be opened. With the content of the button, a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">MenuFlyout</code> is usually used to display menus.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DropDownButton</code> 类显示一个向下的箭头（chevron）来表示可以打开一个菜单。按钮的内容通常使用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">MenuFlyout</code> 来显示菜单。</font></font></font></td> </tr>
<tr data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">HyperlinkButton</code></td>
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">HyperlinkButton</code> appears as a link. You can open web pages in the browser, open other apps, or navigate to other pages.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">HyperlinkButton</code> 显示为链接。您可以在浏览器中打开网页、打开其他应用或导航到其他页面。</font></font></font></td> </tr>
<tr data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">RepeatButton</code></td>
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">RepeatButton</code> is a button where the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Click</code> event continuously fires while the user presses the button. With the normal <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Button</code>, the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Click</code> event fires only once.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">RepeatButton</code> 是一个按钮，当用户按下按钮时， <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Click</code> 事件会持续触发。而普通的 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Button</code> ， <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Click</code> 事件只触发一次。</font></font></font></td> </tr>
<tr data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">AppBarButton</code></td>
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">AppBarButton</code> is used to activate commands in the app. You can add this button to the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CommandBar</code> and use an icon and a label to display information for the user.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">AppBarButton</code> 用于在应用中激活命令。您可以将此按钮添加到 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CommandBar</code> ，并使用图标和标签向用户显示信息。</font></font></font></td> </tr>
<tr data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">AppBarToggleButton</code> <br data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" /> <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CheckBox</code> <br data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" /> <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">RadioButton</code> </td>
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1"><code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CheckBox</code>, <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">RadioButton</code>, and <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">AppBarToggleButton</code> derive from the base class <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ToggleButton</code>. A <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ToggleButton</code> can have three states: <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Checked</code>, <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Unchecked</code>, and <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Indeterminate</code> represented by <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">bool?</code>. The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">AppBarToggleButton</code> is a toggle button for the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CommandBar</code>.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CheckBox</code> 、 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">RadioButton</code> 和 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">AppBarToggleButton</code> 都继承自基础类 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ToggleButton</code> 。一个 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ToggleButton</code> 可以有三个状态： <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Checked</code> 、 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Unchecked</code> 和 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Indeterminate</code> ，分别由 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">bool?</code> 表示。 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">AppBarToggleButton</code> 是 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CommandBar</code> 的切换按钮。</font></font></font></td> </tr> </tbody> </table>
<section data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><span id="c29-sec-0045" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span>
<h4 id="head-4-67" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Replacing the Content of the Button<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">替换按钮内容</font></font></font></h4>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">A button is a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ContentControl</code> and can have any content. The following sample adds a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Grid</code> control to the button that contains an <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Ellipse</code> and a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TextBlock</code>. The button also defines a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Click</code> event, to demonstrate it looks different, but it acts the same (code file <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ControlsSample/Views/ButtonsPage.xaml</code>):<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">按钮是一个 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ContentControl</code> ，可以包含任何内容。以下示例向按钮添加了一个 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Grid</code> 控件，该控件包含一个 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Ellipse</code> 和一个 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TextBlock</code> 。按钮还定义了一个 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Click</code> 事件，以演示它看起来不同，但行为相同（代码文件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ControlsSample/Views/ButtonsPage.xaml</code> ）：</font></font></font></p>
<pre id="c29-code-0054"><span aria-label="851" epub:type="pagebreak" id="Page_851" role="doc-pagebreak"></span>
<code>&lt;Button Margin="12" Click="OnButtonClick"&gt;</code>
<code>  &lt;Grid&gt;</code>
<code>    &lt;Ellipse Width="200" Height="90" Fill="red" /&gt;</code>
<code>    &lt;TextBlock HorizontalAlignment="Center" VerticalAlignment="Center" </code>
<code>      Text="Click Me!" FontSize="24" /&gt;</code>
<code>  &lt;/Grid&gt;</code>
<code>&lt;/Button&gt;</code></pre>
<p id="c29-para-0169" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">In <a href="#c29-fig-0010" id="R_c29-fig-0010" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Figure 29-10</a>, you can see the new look of the button. The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Content</code> property replaces the foreground, but the button still has the default background.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在图 29-10 中，你可以看到按钮的新外观。 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Content</code> 属性替换了前景，但按钮仍然具有默认背景。</font></font></font></p>
<figure data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"> <img alt="Snapshot of a button labeled, click me." class="center" src="images/c29f010.png" />
<figcaption data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><span class="figureLabel" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><a href="#R_c29-fig-0010" id="c29-fig-0010" role="doc-backlink" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><b data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">FIGURE 29-10<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">图 29-10</font></font></font></b></a></span></p></figcaption>
</figure>
<aside data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<div class="top hr" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><hr /></div>
<section class="feature2" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<p id="c29-para-0171" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1"><b data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NOTE</b> <i data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">To replace the complete look of the button, including the background, and to make the button something other than a rectangle, you need to create a</i> <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ControlTemplate</code> <i data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">for the button. How you do this is explained in <a href="c31.xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Chapter 31</a>.</i><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">注意 要完全替换按钮的外观，包括背景，并使按钮成为矩形以外的形状，你需要为按钮创建一个 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ControlTemplate</code> 。如何做到这一点将在第 31 章中解释。</font></font></font></p> 
<div class="bottom hr" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><hr /></div>
</section>
</aside>
</section>
<section data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><span id="c29-sec-0047" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span>
<h4 id="head-4-68" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Linking with the HyperlinkButton<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">与 HyperlinkButton 的链接</font></font></font></h4>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">With the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">HyperlinkButton</code> control, you can easily activate other apps. You can set the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NavigateUri</code> property to a URL, and clicking the button opens the default browser to open the web page.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用控件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">HyperlinkButton</code> ，您可以轻松激活其他应用程序。您可以将属性 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NavigateUri</code> 设置为 URL，点击按钮将打开默认浏览器以打开网页。</font></font></font></p>
<pre id="c29-code-0055"><code>&lt;HyperlinkButton NavigateUri="https://csharp.christiannagel.com" </code>
<code>  Content="C# Infos" Grid.Column="1" </code>
<code>  Style="{StaticResource TextBlockButtonStyle}" FontSize="24" /&gt;</code></pre>
<p id="c29-para-0173" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">HyperlinkButton</code> by default looks like a link in the browser. With the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">HyperlinkButton</code>, you can either set the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NavigateUri</code> or define a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Click</code> event, but you can't do both. As an action to a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Click</code> event, you can, for example, programmatically navigate to another page. Navigation is explained later in the section “Implementing Navigation.”<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">HyperlinkButton</code> 默认在浏览器中看起来像链接。通过 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">HyperlinkButton</code> ，你可以设置 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NavigateUri</code> 或定义 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Click</code> 事件，但不能同时进行。作为对 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Click</code> 事件的动作，例如，你可以编程导航到另一个页面。导航在“实现导航”部分后面解释。</font></font></font></p>
<p id="c29-para-0174" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">You not only can assign <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">http://</code> or <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">https://</code> values to the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NavigateUri</code> property but also use <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ms-appx://</code> to activate other apps.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">你不仅可以为 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NavigateUri</code> 属性分配 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">http://</code> 或 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">https://</code> 值，还可以使用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ms-appx://</code> 激活其他应用程序。</font></font></font></p>
</section>
</section>
<section data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><span id="c29-sec-0048" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span>
<h3 id="head-3-554" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Items Controls<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">项目控件</font></font></font></h3>
<p id="c29-para-0175" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Contrary to a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ContentControl</code>, an <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ItemsControl</code> can contain a list of items. With an <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ItemsControl</code>, you can either define items with the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Items</code> property or fill it using data binding and the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ItemsSource</code> property. You cannot use both. The following table describes the different Items controls.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">与 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ContentControl</code> 不同， <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ItemsControl</code> 可以包含项目列表。通过 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ItemsControl</code> ，你可以使用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Items</code> 属性定义项目，或使用数据绑定和 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ItemsSource</code> 属性填充。你不能同时使用这两种方法。下表描述了不同的项目控件。</font></font></font></p>
<table border="1" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<thead data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<tr data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<th class="left bgcolor2">CONTROL</th>
<th class="left bgcolor2">DESCRIPTION</th> </tr> </thead>
<tbody data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<tr data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ItemsControl</code></td>
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ItemsControl</code> is the base class for all other items controls, and you can also use it directly to display a list of items.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ItemsControl</code> 是所有其他项控件的基础类，你也可以直接使用它来显示一个项列表。</font></font></font></td> </tr>
<tr data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Pivot</code></td>
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Pivot</code> control is a control for creating a tab-like behavior for the application. Read the section “Implementing Navigation” for more information on this control.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Pivot</code> 控件用于为应用程序创建类似标签的行为。有关此控件的更多信息，请参阅“实现导航”部分。</font></font></font></td> </tr>
<tr data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">AutoSuggestBox</code></td>
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">AutoSuggestBox</code> replaces the previous <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">SearchBox</code>. With the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">AutoSuggestBox</code>, the user can enter text, and the control offers auto-completion.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">AutoSuggestBox</code> 替换了之前的 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">SearchBox</code> 。使用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">AutoSuggestBox</code> ，用户可以输入文本，并且该控件提供自动完成功能。</font></font></font></td> </tr>
<tr data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ListBox</code> <br data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" /> <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ComboBox</code> <br data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" /> <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">FlipView</code> </td>
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1"><code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ListBox</code>, <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ComboBox</code>, and <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">FlipView</code> are three item controls that derive from the base class <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Selector</code>. <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Selector</code> derives from <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ItemsControl</code> and adds the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">SelectedItem</code> and <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">SelectedValue</code> properties to make it possible to select an item from the collection. The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ListBox</code> shows a list the user can select from. The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ComboBox</code> combines a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TextBox</code> and a drop-down list to allow the selection of a list while using less screen space. The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">FlipView</code> control allows using touch interaction to flip through a list of items while only one item is shown.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ListBox</code> 、 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ComboBox</code> 和 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">FlipView</code> 是从基础类 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Selector</code> 派生的三个项控件。 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Selector</code> 派生于 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ItemsControl</code> 并添加了 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">SelectedItem</code> 和 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">SelectedValue</code> 属性，使其能够从集合中选择一个项。 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ListBox</code> 显示一个用户可以选择的列表。 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ComboBox</code> 结合了一个 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TextBox</code> 和一个下拉列表，以在占用更少屏幕空间的同时选择列表。 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">FlipView</code> 控件允许使用触摸交互来浏览项列表，同时只显示一个项。</font></font></font></td> </tr>
<tr data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ListView</code> <br data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" /> <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">GridView</code> </td>
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1"><code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ListView</code> and <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">GridView</code> derive from the base class <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ListViewBase</code>, which derives from <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Selector</code>
—so these are the most powerful selectors. <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ListViewBase</code> offers additional dragging and dropping of items and reordering of items, adds a header and a footer, and allows selecting multiple items. The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ListView</code> displays items vertically (but you can also create a template to have the list horizontally). The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">GridView</code> displays items with rows and columns.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ListView</code> 和 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">GridView</code> 源自基础类 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ListViewBase</code> ，而 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ListViewBase</code> 又源自 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Selector</code> —因此这些是最强大的选择器。 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ListViewBase</code> 提供了额外的拖放项目和重新排序项目功能，添加了页眉和页脚，并允许选择多个项目。 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ListView</code> 垂直显示项目（但你也可以创建一个模板来水平显示列表）。 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">GridView</code> 以行列形式显示项目。</font></font></font></td> </tr> </tbody> </table>
<p id="c29-para-0176" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><span aria-label="852" epub:type="pagebreak" id="Page_852" role="doc-pagebreak" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span></p>
</section>
<section data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><span id="c29-sec-0049" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span>
<h3 id="head-3-555" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Flyouts<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">弹出窗口 </font></font></font></h3>
<p id="c29-para-0182" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Flyouts are used to open a window above other UI elements—for example, a context menu. All flyouts derive from the base class <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">FlyoutBase</code>. The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">FlyoutBase</code> class defines a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Placement</code> property that allows defining where the flyout should be positioned. It can be centered in the screen or positioned around the target element. The following table describes the flyouts.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">弹出窗口用于在其它 UI 元素上方打开窗口，例如上下文菜单。所有弹出窗口都源自基础类 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">FlyoutBase</code> 。 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">FlyoutBase</code> 类定义了一个 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Placement</code> 属性，允许定义弹出窗口的位置。它可以在屏幕中央显示，或围绕目标元素定位。下表描述了弹出窗口。</font></font></font></p>
<table border="1" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<thead data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<tr data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<th class="left bgcolor2">CONTROL</th>
<th class="left bgcolor2">DESCRIPTION</th> </tr> </thead>
<tbody data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<tr data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">MenuFlyout</code></td>
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">MenuFlyout</code> control is used to display a list of menu items.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">MenuFlyout</code> 控件用于显示菜单项列表。</font></font></font></td> </tr>
<tr data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Flyout</code></td>
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Flyout</code> control can contain one item that you can customize with XAML elements.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Flyout</code> 控件可以包含一个项目，您可以使用 XAML 元素对其进行自定义。</font></font></font></td> </tr>
<tr data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CommandBarFlyout</code></td>
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">
<code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CommandBarFlyout</code> is a specialized flyout that defines the layout for controls within app bars. <font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CommandBarFlyout</code> 是一个特殊的弹出窗口，用于定义应用栏内控件的布局。</font></font></font></td> </tr> </tbody> </table>
<p id="c29-para-0185" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">A different category of flyouts are flyouts of the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">MenuBar</code> control. <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">MenuFlyoutItem</code>, <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">MenuFlyoutSubItem</code>, and <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">MenuFlyoutSeparator</code> derive from the base class <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">MenuFlyoutItemBase</code>.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">另一类弹出窗口是 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">MenuBar</code> 控件的弹出窗口。 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">MenuFlyoutItem</code> 、 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">MenuFlyoutSubItem</code> 和 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">MenuFlyoutSeparator</code> 派生自基础类 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">MenuFlyoutItemBase</code> 。</font></font></font></p>
</section>
</section>
<section aria-labelledby="head-2-259" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><span id="c29-sec-0050" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span>
<h2 id="head-2-259" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">WORKING WITH DATA BINDING<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">处理数据绑定</font></font></font></h2>
<p id="c29-para-0186" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Data binding is an extremely important concept with XAML-based apps. Data binding gets data from .NET objects to the UI or the other way around. Simple objects can be bound to UI elements, a list of objects, and XAML elements. With data binding, the target can be any dependency property of a XAML element, and every property of a CLR object can be the source. Because XAML elements also offer .NET properties, every XAML element can be the source as well. <a href="#c29-fig-0011" id="R_c29-fig-0011" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Figure 29-11</a> shows the connection between the source and the target. The binding defines the connection.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">数据绑定是基于 XAML 的应用程序的一个极其重要的概念。数据绑定可以将数据从 .NET 对象传递到 UI，或者反过来。简单对象可以绑定到 UI 元素、对象列表和 XAML 元素。通过数据绑定，目标可以是 XAML 元素的任何依赖属性，CLR 对象的每个属性都可以是源。由于 XAML 元素也提供了 .NET 属性，因此每个 XAML 元素也可以作为源。图 29-11 显示了源和目标之间的连接。绑定定义了这种连接。</font></font></font></p>

<p id="c29-para-0187" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Binding supports several binding modes between the target and source. With <i data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">one-way</i> binding, the source information goes to the target, but if the user changes information in the user interface, the source is not updated. For updates to the source, <i data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">two-way</i> binding is required.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">绑定在目标和源之间支持多种绑定模式。通过单向绑定，源信息会传递到目标，但如果用户在用户界面中更改信息，源不会更新。要更新源，需要双向绑定。</font></font></font></p>
<figure data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"> <img alt="Schematic illustration of the working concept of data binding." class="center" src="images/c29f011.png" />
<figcaption data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><span class="figureLabel" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><a href="#R_c29-fig-0011" id="c29-fig-0011" role="doc-backlink" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><b data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">FIGURE 29-11<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">图 29-11</font></font></font></b></a></span></p></figcaption>
</figure>
<p id="c29-para-0188" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1"><span aria-label="853" epub:type="pagebreak" id="Page_853" role="doc-pagebreak" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span>The following table shows the binding modes and their requirements:<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">下面的表格显示了绑定模式和它们的要求：</font></font></font></p>
<table border="1" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<thead data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<tr data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<th class="left bgcolor2" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">BINDING MODE<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">绑定模式</font></font></font></th>
<th class="left bgcolor2">DESCRIPTION</th> </tr> </thead>
<tbody data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<tr data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">One-time<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">一次性</font></font></font></td>
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Binding goes from the source to the target and occurs only once when the application is started or the data context changes. Here, you get a snapshot of the data.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">绑定从源到目标，仅在应用程序启动或数据上下文更改时发生一次。在这里，您将获得数据的快照。</font></font></font></td> </tr>
<tr data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">One-way<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">单向</font></font></font></td>
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Binding goes from the source to the target. This is useful for read-only data because it is not possible to change the data from the user interface. To get updates to the user interface, the source must implement the interface <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">INotifyPropertyChanged</code>.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">绑定从源到目标。这对于只读数据很有用，因为无法从用户界面更改数据。要获取用户界面的更新，源必须实现接口 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">INotifyPropertyChanged</code> 。</font></font></font></td> </tr>
<tr data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Two-way<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">双向</font></font></font></td>
<td class="left bgcolor3" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">The user can make changes to the data from the UI. Binding occurs in both directions—from the source to the target and from the target to the source. The source needs to implement read/write properties so that changes can be updated from the UI to the source.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">用户可以从 UI 更改数据。绑定发生在两个方向——从源到目标和从目标到源。源需要实现读写属性，以便可以从 UI 更新到源。</font></font></font></td> </tr> </tbody> </table>
<aside data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<div class="top hr" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><hr /></div>
<section class="feature2" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<p id="c29-para-0190" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1"><b data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NOTE</b> <i data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">WinUI supports two binding types: reflection-based binding using the</i> <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Binding</code> <i data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">markup extension and compiled binding using the</i> <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">x:Bind</code> <i data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">markup extension. Be aware that the defaults with the binding modes differ between these binding types, so it's best to always specify the binding mode. This section has the main focus on the compiled binding.</i><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">注意 WinUI 支持两种绑定类型：使用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Binding</code> 标记扩展的基于反射的绑定和使用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">x:Bind</code> 标记扩展的编译绑定。请注意，这些绑定类型在绑定模式上的默认值有所不同，因此最好始终指定绑定模式。本节主要关注编译绑定。</font></font></font></p> 
<div class="bottom hr" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><hr /></div>
</section>
</aside>
<p id="c29-para-0191" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Data binding involves many facets besides the binding modes. This section provides binding to simple .NET objects and binding to lists. Using change notifications, the UI is updated with changes in the bound objects. This section also describes dynamically selecting data templates.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">数据绑定除了绑定模式之外还涉及许多方面。本节提供对简单 .NET 对象的绑定和对列表的绑定。通过使用更改通知，UI 会根据绑定对象的更改进行更新。本节还描述了动态选择数据模板。</font></font></font></p>
<p id="c29-para-0192" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Let's start with the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DataBindingSamples</code> sample application. The app shows a list of books and allows the user to select a book to see the book details.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">让我们从 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DataBindingSamples</code> 示例应用程序开始。该应用程序显示一个书籍列表，并允许用户选择一本书以查看书籍详情。</font></font></font></p>
<section data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><span id="c29-sec-0052" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span>
<h3 id="head-3-556" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Change Notification with INotifyPropertyChanged<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用 INotifyPropertyChanged 的更改通知</font></font></font></h3>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">First, the model is created. To get updates to the user interface when property values change, the interface <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">INotifyPropertyChanged</code> needs to be implemented. For reusing this implementation, the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ObservableObject</code> class is created that implements this interface. The interface defines the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">PropertyChanged</code> event handler. This event is fired from the method <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">OnPropertyChanged</code>. The method <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">SetProperty</code> is used to change a property value and to fire the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">PropertyChanged</code> event. If the value to be set is not different from the current value, no event is fired, and the method just returns <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">false</code>. With different values, the property is set to the new value, and the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">PropertyChanged</code> event is fired. This method makes use of the caller information feature from C# using the <span aria-label="854" epub:type="pagebreak" id="Page_854" role="doc-pagebreak" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span>attribute <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CallerMemberName</code>. When you define the parameter <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">propertyName</code> as an optional parameter with this attribute, the C# compiler passes the name of the property with this parameter, so it's not necessary to add a hard-coded string to the code (code file <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DataBindingSamples/Models/ObservableObject.cs</code>):<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">首先创建模型。为了在属性值变化时获取用户界面的更新，需要实现接口 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">INotifyPropertyChanged</code> 。为了重用这个实现，创建了类 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ObservableObject</code> ，该类实现了这个接口。接口定义了事件处理器 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">PropertyChanged</code> 。这个事件从方法 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">OnPropertyChanged</code> 触发。方法 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">SetProperty</code> 用于更改属性值并触发事件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">PropertyChanged</code> 。如果设置的值与当前值相同，则不会触发事件，方法仅返回 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">false</code> 。如果值不同，则将属性设置为新值并触发事件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">PropertyChanged</code> 。此方法利用了 C#的调用者信息功能，通过属性 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CallerMemberName</code> 实现。当你将参数 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">propertyName</code> 定义为带此属性的可选参数时，C#编译器会通过此参数传递属性名称，因此无需在代码中添加硬编码的字符串（代码文件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DataBindingSamples/Models/ObservableObject.cs</code> ）：</font></font></font></p>
<pre id="c29-code-0056"><code>public abstract class ObservableObject : <b>INotifyPropertyChanged</b></code>
<code>{</code>
<code>  <b>public event PropertyChangedEventHandler? PropertyChanged;</b></code>
<code> </code>
<code>  <b>public virtual bool SetProperty&lt;T&gt;(ref T item, T value, </b></code>
<code>    <b>[CallerMemberName] string? propertyName = null)</b></code>
<code>  {</code>
<code>    if (EqualityComparer&lt;T&gt;.Default.Equals(item, value)) return false;</code>
<code>    item = value;   </code>
<code>    OnPropertyChanged(propertyName);</code>
<code>    return true;</code>
<code>  }</code>
<code> </code>
<code>  <b>protected virtual void OnPropertyChanged(string propertyName) =&gt;</b></code>
<code>    <b>PropertyChanged?.Invoke(this, new PropertyChangedEventArgs(propertyName));</b></code>
<code>}</code></pre>
<aside data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<div class="top hr" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><hr /></div>
<section class="feature2" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<p id="c29-para-0195" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1"><b data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NOTE</b> <i data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Caller information is covered in <a href="c10.xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Chapter 10</a>, “Errors and Exceptions.” The implementation of</i> <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">INotifyPropertyChanged</code> <i data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">is covered in more detail in <a href="c30.xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Chapter 30</a>, “Patterns with XAML Apps.”</i><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">注意：调用信息在第 10 章“错误和异常”中介绍。 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">INotifyPropertyChanged</code> 的实现细节在第 30 章“XAML 应用程序中的模式”中详细介绍。</font></font></font></p> 
<div class="bottom hr" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><hr /></div>
</section>
</aside>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Book</code> class derives from the base class <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ObservableObject</code> and implements the properties <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">BookId</code>, <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Title</code>, <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Publisher</code>, and <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Authors</code>. The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">BookId</code> property is read-only; <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Title</code> and <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Publisher</code> make use of the change notification implementation from the base class; and the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Authors</code> property is a read-only property to return a list of authors (code file <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DataBindingSamples/Models/Book.cs</code>):<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Book</code> 类继承自基础类 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ObservableObject</code> 并实现了 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">BookId</code> 、 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Title</code> 、 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Publisher</code> 和 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Authors</code> 属性。 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">BookId</code> 属性是只读的； <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Title</code> 和 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Publisher</code> 使用了基础类中的变更通知实现；而 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Authors</code> 属性是一个只读属性，用于返回作者列表（代码文件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DataBindingSamples/Models/Book.cs</code> ）：</font></font></font></p>
<pre id="c29-code-0057"><code>public class Book : ObservableObject</code>
<code>{</code>
<code>  public Book(int id, string title, string publisher, params string[] authors)</code>
<code>  {</code>
<code>    BookId = id;</code>
<code>    _title = title;</code>
<code>    _publisher = publisher;</code>
<code>    Authors = authors;</code>
<code>  }</code>
<code> </code>
<code>  public int BookId { get; }</code>
<code> </code>
<code>  private string _title;</code>
<code>  public string Title</code>
<code>  {</code>
<code>    get =&gt; _title;</code>
<code>    set =&gt; SetProperty(ref _title, value);</code>
<code>  }</code>
<code> </code>
<code>  private string __publisher;</code>
<code>  public string Publisher</code>
<code>  {<span aria-label="855" epub:type="pagebreak" id="Page_855" role="doc-pagebreak"></span></code>
<code>    get =&gt; _publisher;</code>
<code>    set =&gt; SetProperty(ref _publisher, value);</code>
<code>  }</code>
<code> </code>
<code>  public IEnumerable&lt;string&gt; Authors { get; }</code>
<code> </code>
<code>  public override string ToString() =&gt; Title;</code>
<code>}</code></pre>
</section>
<section data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><span id="c29-sec-0054" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span>
<h3 id="head-3-557" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Creating a List of Books<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">创建书籍列表</font></font></font></h3>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">The method <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">GetSampleBooks</code> returns a list of books that should be shown using the constructor of the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Book</code> class (code file <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DataBindingSamples/Services/SampleBooksService.cs</code>):<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">方法 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">GetSampleBooks</code> 返回一个应使用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Book</code> 类构造函数显示的书籍列表（代码文件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DataBindingSamples/Services/SampleBooksService.cs</code> ）：</font></font></font></p>
<pre id="c29-code-0058"><code>public class SampleBooksService</code>
<code>{</code>
<code>  private List&lt;Book&gt; _books = new()</code>
<code>  {</code>
<code>    new(1, "Professional C# and .NET - 2021 Edition", "Wrox Press", "Christian Nagel"),</code>
<code>    new(2, "Professional C# 7 and .NET Core 2", "Wrox Press", "Christian Nagel"),</code>
<code>    new(3, "Professional C# 6 and .NET Core 1.0", "Wrox Press", "Christian Nagel"),</code>
<code>    new(4, "Professional C# 5.0 and .NET 4.5.1", "Wrox Press", "Christian Nagel", </code>
<code>      "Jay Glynn", "Morgan Skinner"),</code>
<code>    new(5, "Enterprise Services with the .NET Framework", "AWL", "Christian Nagel")</code>
<code>  };</code>
<code>  public IEnumerable&lt;Book&gt; GetSampleBooks() =&gt; _books;</code>
<code>}</code></pre>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Now, the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">BooksService</code> class offers the methods <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">RefreshBooks</code>, <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">GetBook</code>, and <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">AddBook</code>, and the property <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Books</code>. <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">This property</code> returns an <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ObservableCollection&lt;Book&gt;</code> object. <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ObservableCollection</code> is a generic class offering change notification by implementing the interface <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">INotifyCollectionChanged</code> (code file <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DataBindingSamples/Services/BooksService.cs</code>):<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">现在， <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">BooksService</code> 类提供了 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">RefreshBooks</code> 、 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">GetBook</code> 和 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">AddBook</code> 方法，以及 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Books</code> 属性。 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">This property</code> 返回一个 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ObservableCollection&lt;Book&gt;</code> 对象。 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ObservableCollection</code> 是一个泛型类，通过实现接口 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">INotifyCollectionChanged</code> （代码文件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DataBindingSamples/Services/BooksService.cs</code> ）提供变更通知：</font></font></font></p>
<pre id="c29-code-0059"><code>public class BooksService </code>
<code>{</code>
<code>  private ObservableCollection&lt;Book&gt; _books = new();</code>
<code> </code>
<code>  public void RefreshBooks()</code>
<code>  {</code>
<code>    _books.Clear();</code>
<code>    SampleBooksService sampleBooksService = new();</code>
<code>    var books = sampleBooksService.GetSampleBooks();</code>
<code>    foreach (var book in books)</code>
<code>    {</code>
<code>      _books.Add(book);</code>
<code>    }    </code>
<code>  }</code>
<code> </code>
<code>  public Book? GetBook(int bookId) =&gt;</code>
<code>    _books.SingleOrDefault(b =&gt; b.BookId == bookId);</code>
<code> </code>
<code>  public void AddBook(Book book) =&gt; _books.Add(book);</code>
<code> </code>
<code>  public ObservableCollection&lt;Book&gt; Books =&gt; _books;</code>
<code>}</code></pre>
</section>
<section data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><span id="c29-sec-0055" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span>
<h3 id="head-3-558" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">List Binding<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">列表绑定</font></font></font></h3>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1"><span aria-label="856" epub:type="pagebreak" id="Page_856" role="doc-pagebreak" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span>Now you're ready to display a list of books. Any <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ItemsSource</code>
-derived control can be used to assign the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ItemsSource</code> property to binding to a list. The following code snippet uses the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ListView</code> control to bind the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ItemsSource</code> to the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Books</code> property. With the markup extension <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">x:Bind</code>, this first name specified is the source for the binding. The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Mode</code> parameter defines the binding mode. With <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">OneWay</code>, WinUI makes use of change notification to update the user interface when the source changes:<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">现在你可以显示一个书籍列表了。任何继承自 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ItemsSource</code> 的控件都可以用来将 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ItemsSource</code> 属性绑定到列表。以下代码片段使用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ListView</code> 控件将 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ItemsSource</code> 绑定到 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Books</code> 属性。使用标记扩展 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">x:Bind</code> 时，第一个指定的名称是绑定的源。 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Mode</code> 参数定义了绑定模式。使用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">OneWay</code> 时，WinUI 会利用变更通知在源变化时更新用户界面：</font></font></font></p>
<pre id="c29-code-0060"><code>&lt;ListView <b>ItemsSource="{x:Bind Books, Mode=OneWay}"</b> /&gt;</code></pre>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">With the code-behind file, the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Books</code> property is specified to reference the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Books</code> property of the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">BooksService</code> (code file <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DataBindingSamples/MainPage.xaml.cs</code>):<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">通过代码隐藏文件， <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Books</code> 属性被指定以引用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">BooksService</code> 的 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Books</code> 属性（代码文件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DataBindingSamples/MainPage.xaml.cs</code> ）：</font></font></font></p>
<pre id="c29-code-0061"><code>public sealed partial class MainWindow : Window</code>
<code>{</code>
<code>  private BooksService _booksService = new();</code>
<code>  public MainPage()</code>
<code>  {</code>
<code>    this.InitializeComponent();</code>
<code>  }</code>
<code> </code>
<code>  public ObservableCollection&lt;Book&gt; Books =&gt; _booksService.Books;</code>
<code>  //…</code>
<code>}</code></pre>
</section>
<section data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><span id="c29-sec-0056" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span>
<h3 id="head-3-559" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Binding Events to Methods<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">将事件绑定到方法</font></font></font></h3>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Without invoking the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">RefreshBooks</code> method from the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">BooksService</code>, the list stays empty. With the resources, two <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">XamlUICommand</code>
s are defined that specify labels, icons, and keys. The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ExecuteRequested</code> properties binds to the methods <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">RefreshBooks</code> and <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">AddBooks</code> that are defined with the code-behind file (code file <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DataBindingSamples/MainWindow.xaml</code>):<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果不从 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">BooksService</code> 调用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">RefreshBooks</code> 方法，列表将保持为空。使用资源时，定义了两个 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">XamlUICommand</code> ，它们指定了标签、图标和键。 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ExecuteRequested</code> 属性绑定到代码隐藏文件（代码文件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DataBindingSamples/MainWindow.xaml</code> ）中定义的 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">RefreshBooks</code> 和 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">AddBooks</code> 方法：</font></font></font></p>
<pre id="c29-code-0062"><code>&lt;Grid.Resources&gt;</code>
<code>  &lt;XamlUICommand x:Name="RefreshBooksCommand" Label="Refresh" Description="Refresh books" </code>
<code>    <b>ExecuteRequested="{x:Bind RefreshBooks}"&gt;</b></code>
<code>    &lt;XamlUICommand.IconSource&gt;</code>
<code>      &lt;SymbolIconSource Symbol="List" /&gt;</code>
<code>    &lt;/XamlUICommand.IconSource&gt;</code>
<code>    &lt;XamlUICommand.KeyboardAccelerators&gt;</code>
<code>      &lt;KeyboardAccelerator Key="R" Modifiers="Control" /&gt;</code>
<code>    &lt;/XamlUICommand.KeyboardAccelerators&gt;</code>
<code>  &lt;/XamlUICommand&gt;</code>
<code>  &lt;XamlUICommand x:Name="AddBookCommand" Label="Add Book" Description="Add a book" </code>
<code>    <b>ExecuteRequested="{x:Bind AddBook}"&gt;</b></code>
<code>    &lt;XamlUICommand.IconSource&gt;</code>
<code>      &lt;SymbolIconSource Symbol="Add" /&gt;</code>
<code>    &lt;/XamlUICommand.IconSource&gt;</code>
<code>    &lt;XamlUICommand.KeyboardAccelerators&gt;</code>
<code>      &lt;KeyboardAccelerator Key="A" Modifiers="Control" /&gt;</code>
<code>    &lt;/XamlUICommand.KeyboardAccelerators&gt;            </code>
<code>  &lt;/XamlUICommand&gt;</code>
<code>  &lt;!-- … --&gt;</code>
<code>&lt;/Grid.Resources&gt;</code></pre>
<p id="c29-para-0202" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">StandardUICommand</code> class defines a predefined set of commands, such as <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Cut</code>, <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Copy</code>, <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Paste</code>, <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Open Close</code>, <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Play</code>, and a few others. With these commands you don't need to declare your own with <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">XamlUICommand</code>.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">StandardUICommand</code> 类定义了一组预定义的命令，例如 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Cut</code> 、 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Copy</code> 、 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Paste</code> 、 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Open Close</code> 、 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Play</code> 以及其他一些命令。有了这些命令，你就不需要用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">XamlUICommand</code> 声明自己的命令了。</font></font></font></p>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1"><span aria-label="857" epub:type="pagebreak" id="Page_857" role="doc-pagebreak" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span>For the user interface, a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CommandBar</code> is created that lists two <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">AppBarButton</code> controls. With the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">AppBarButton</code> controls, the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Command</code> property references commands using the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">StaticResource</code> markup extension (code file <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DataBindingSamples/MainWindow.xaml</code>):<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">对于用户界面，创建了一个 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CommandBar</code> 控件，该控件列出了两个 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">AppBarButton</code> 控件。使用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">AppBarButton</code> 控件时， <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Command</code> 属性通过 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">StaticResource</code> 标记扩展引用命令（代码文件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DataBindingSamples/MainWindow.xaml</code> ）：</font></font></font></p>
<pre id="c29-code-0063"><code>&lt;CommandBar Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="2"&gt;</code>
<code>  &lt;AppBarButton Command="{StaticResource RefreshBooksCommand}"/&gt;</code>
<code>  &lt;AppBarButton Command="{StaticResource AddBookCommand}"/&gt;</code>
<code>&lt;/CommandBar&gt;</code></pre>
<p id="c29-para-0204" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">AppBarButton</code> control defines <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Label</code> and <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Icon</code> properties and a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Click</code> event handler. As the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Command</code> property is specified, the values don't need to be specified.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">AppBarButton</code> 控件定义了 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Label</code> 和 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Icon</code> 属性以及一个 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Click</code> 事件处理器。由于指定了 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Command</code> 属性，因此无需指定值。</font></font></font></p>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Binding events to methods is possible if the method either has no arguments or has arguments as specified by the delegate type of the event. With the following code snippet, the methods <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">OnRefreshBooks</code> and <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">OnAddBook</code> are declared to return <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">void</code> without arguments (code file <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DataBindingSamples/MainWindow.xaml.cs</code>):<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果方法没有参数或参数类型与事件委托类型指定一致，则可以将事件绑定到方法。通过以下代码片段，声明了返回 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">void</code> 的 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">OnRefreshBooks</code> 和 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">OnAddBook</code> 方法，且不带参数（代码文件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DataBindingSamples/MainWindow.xaml.cs</code> ）：</font></font></font></p>
<pre id="c29-code-0064"><code>public void RefreshBooks() =&gt; _booksService.RefreshBooks();</code>
<code> </code>
<code>public void AddBook() =&gt;</code>
<code>  _booksService.AddBook(new Book(GetNextBookId(),</code>
<code>    $"Professional C# and .NET - {GetNextYear()} Edition", "Wrox Press"));</code>
<code> </code>
<code>private int GetNextBookId() =&gt; Books.Select(b =&gt; b.BookId).Max() + 1;</code>
<code>private int _year = 2021;</code>
<code>private int GetNextYear() =&gt; _year += 3;</code></pre>
<aside data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<div class="top hr" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><hr /></div>
<section class="feature2" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<p id="c29-para-0207" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1"><b data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NOTE</b> <i data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Binding to methods is possible only with the</i> <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">x:Bind</code> <i data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">markup extension, not with the traditional</i> <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Binding</code> <i data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">markup extension.</i><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">注意：仅能使用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">x:Bind</code> 标记扩展绑定到方法，不能使用传统的 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Binding</code> 标记扩展。</font></font></font></p> 
<div class="bottom hr" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><hr /></div>
</section>
</aside>
</section>
<section data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><span id="c29-sec-0058" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span>
<h3 id="head-3-560" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Using Data Templates and the Data Template Selector<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用数据模板和数据模板选择器</font></font></font></h3>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">For creating a different look of the items, you can create a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DataTemplate</code>. The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DataTemplate</code> can be referenced using the key that is specified with the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">x:Key</code> attribute. When you use the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">x:DataType</code> attribute, you can use compiled binding within the data template. Compiled binding requires the type it binds to at compile time. To bind to the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Title</code> property, the type is defined with the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Book</code> class (code file <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DataBindingSamples/MainWindow.xaml</code>):<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">要创建不同样式的项目，您可以创建一个 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DataTemplate</code> 。可以使用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">x:Key</code> 属性中指定的键来引用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DataTemplate</code> 。当您使用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">x:DataType</code> 属性时，可以在数据模板中使用编译绑定。编译绑定需要在编译时指定其绑定的类型。要绑定到 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Title</code> 属性，类型是用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Book</code> 类定义的（代码文件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DataBindingSamples/MainWindow.xaml</code> ）：</font></font></font></p>
<pre id="c29-code-0065"><code>&lt;Page.Resources&gt;</code>
<code>  &lt;!-- … --&gt;</code>
<code>  &lt;DataTemplate <b>x:DataType="models:Book" x:Key="WroxTemplate"&gt;</b></code>
<code>   &lt;Border Background="Red" Margin="4" Padding="4" BorderThickness="2" </code>
<code>     BorderBrush="DarkRed"&gt;</code>
<code>     &lt;TextBlock <b>Text="{x:Bind Title, Mode=OneWay}"</b> Foreground="White" </code>
<code>       Width="300" /&gt;</code>
<code>    &lt;/Border&gt;</code>
<code>  &lt;/DataTemplate&gt;</code>
<code>  &lt;!-- … --&gt;</code>
<code>&lt;/Page.Resources&gt;</code></pre>
<p id="c29-para-0209" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Data templates that should be used for items in an <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ItemsControl</code> can be referenced using the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ItemTemplate</code> property of an <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ItemsControl</code>. Instead of just using one <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DataTemplate</code> for all the items in the list, now a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DataTemplateSelector</code> will be used to choose the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DataTemplate</code> dynamically based on the name of the publisher.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">用于 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ItemsControl</code> 中项目的数据模板可以通过 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ItemsControl</code> 的 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ItemTemplate</code> 属性进行引用。现在不再为列表中的所有项目使用同一个 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DataTemplate</code> ，而是使用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DataTemplateSelector</code> 动态地根据发布者的名称选择 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DataTemplate</code> 。</font></font></font></p>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">BookDataTemplateSelector</code> derives from the base class <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DataTemplateSelector</code>. A data template selector needs to override the method <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">SelectTemplateCore</code> and return the selected <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DataTemplate</code>. With the <span aria-label="858" epub:type="pagebreak" id="Page_858" role="doc-pagebreak" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span>implementation of the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">BookTemplateSelector</code>, two properties are specified: the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">WroxTemplate</code> and the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DefaultTemplate</code>. In the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">SelectTemplateCore</code> method, <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Book</code> objects are received. You can use pattern matching using properties with the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">switch</code> expression so that if the publisher is Wrox Press, the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">WroxTemplate</code> is returned. In other cases, the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DefaultTemplate</code> is returned. You can extend the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">switch</code> expression with more publishers (code file <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DataBindingSamples/Utilities/BookTemplateSelector.cs</code>):<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">BookDataTemplateSelector</code> 继承自基础类 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DataTemplateSelector</code> 。数据模板选择器需要重写 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">SelectTemplateCore</code> 方法并返回选择的 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DataTemplate</code> 。通过 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">BookTemplateSelector</code> 的实现，指定了两个属性： <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">WroxTemplate</code> 和 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DefaultTemplate</code> 。在 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">SelectTemplateCore</code> 方法中接收 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Book</code> 对象。您可以使用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">switch</code> 表达式进行模式匹配，以便如果发布者是 Wrox Press，则返回 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">WroxTemplate</code> 。在其他情况下，返回 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DefaultTemplate</code> 。您可以扩展 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">switch</code> 表达式以支持更多发布者（代码文件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DataBindingSamples/Utilities/BookTemplateSelector.cs</code> ）：</font></font></font></p>
<pre id="c29-code-0066"><code>public class BookTemplateSelector : <b>DataTemplateSelector</b></code>
<code>{</code>
<code>  public DataTemplate? WroxTemplate { get; set; }</code>
<code>  public DataTemplate? DefaultTemplate { get; set; }</code>
<code> </code>
<code>  <b>protected override DataTemplate? SelectTemplateCore(object item) =&gt;</b></code>
<code>    <b>item switch</b></code>
<code>    <b>{</b></code>
<code>      <b>Book { Publisher: "Wrox Press"} =&gt; WroxTemplate,</b></code>
<code>      <b>Book =&gt; DefaultTemplate,</b></code>
<code>      <b>_ =&gt; null</b></code>
<code>    <b>};</b></code>
<code>}</code></pre>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Next, the data template selector needs to be instantiated and initialized. You do this in the XAML code. Here, the properties <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">WroxTemplate</code> and <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DefaultTemplate</code> are assigned to reference the previously created <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DataTemplate</code> templates (code file <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DataBindingSamples/MainWindow.xaml</code>):<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">接下来，数据模板选择器需要被实例化和初始化。您在 XAML 代码中完成此操作。这里，将 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">WroxTemplate</code> 和 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DefaultTemplate</code> 属性分配为引用先前创建的 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DataTemplate</code> 模板（代码文件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DataBindingSamples/MainWindow.xaml</code> ）：</font></font></font></p>
<pre id="c29-code-0067"><code>&lt;Page.Resources&gt;</code>
<code>  &lt;!-- … --&gt;</code>
<code>  &lt;DataTemplate x:DataType="models:Book" x:Key="WroxTemplate"&gt;</code>
<code>    &lt;Border Background="Red" Margin="4" Padding="4" BorderThickness="2" </code>
<code>      BorderBrush="DarkRed"&gt;</code>
<code>      &lt;TextBlock Text="{x:Bind Title, Mode=OneWay}" Foreground="White"  </code>
<code>        Width="300" /&gt;</code>
<code>    &lt;/Border&gt;</code>
<code>  &lt;/DataTemplate&gt;</code>
<code>  &lt;DataTemplate x:DataType="models:Book" x:Key="DefaultTemplate"&gt;</code>
<code>    &lt;Border Background="LightBlue" Margin="4" Padding="4" BorderThickness="2"  </code>
<code>      BorderBrush="DarkBlue"&gt;</code>
<code>      &lt;TextBlock Text="{x:Bind Title, Mode=OneWay}" Foreground="Black" </code>
<code>        Width="300" /&gt;</code>
<code>    &lt;/Border&gt;</code>
<code>  &lt;/DataTemplate&gt;</code>
<code>  <b>&lt;utils:BookTemplateSelector x:Key="BookTemplateSelector"</b> </code>
<code>    <b>WroxTemplate="{StaticResource WroxTemplate}" </b></code>
<code>    <b>DefaultTemplate="{StaticResource DefaultTemplate}" /&gt;</b></code>
<code>&lt;/Page.Resources&gt;</code></pre>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">To use the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">BookTemplateSelector</code> with the items in the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ListView</code>, the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ItemTemplateSelector</code> property references the template using the key and the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">StaticResource</code> markup extension:<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">要使用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">BookTemplateSelector</code> 与 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ListView</code> 中的项目， <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ItemTemplateSelector</code> 属性使用键引用模板，并使用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">StaticResource</code> 标记扩展：</font></font></font></p>
<pre id="c29-code-0068"><code>&lt;ListView ItemsSource="{x:Bind Books, Mode=OneWay}" </code>
<code>  <b>ItemTemplateSelector="{StaticResource BookTemplateSelector}" </b></code>
<code>  Grid.Row="1" /&gt;</code></pre>
</section>
<section data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><span id="c29-sec-0059" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span>
<h3 id="head-3-561" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Show Lists and Details<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">显示列表和详情 </font></font></font></h3>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">To define the user interface with a list and a detail view, you use the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TwoPaneView</code> control. The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TwoPaneView</code> defines <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Pane1</code> and <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Pane2</code> properties. The content of <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Pane1</code> is the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ListView</code>, and the content of <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Pane2</code> is the user control that's defined next. Depending on the available size, <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TwoPaneView</code> defines a wide and tall configuration. <span aria-label="859" epub:type="pagebreak" id="Page_859" role="doc-pagebreak" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span>As specified, with the wide configuration, the panes will be shown left-right; with a tall configuration, they are shown top-bottom (code file <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DataBindingSamples/MainWindow.xaml</code>):<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">要使用列表和详情视图定义用户界面，你使用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TwoPaneView</code> 控件。 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TwoPaneView</code> 定义了 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Pane1</code> 和 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Pane2</code> 属性。 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Pane1</code> 的内容是 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ListView</code> ， <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Pane2</code> 的内容是接下来定义的用户控件。根据可用大小， <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TwoPaneView</code> 定义了宽和高配置。如指定，在宽配置下，窗格将左右显示；在高配置下，它们将上下显示（代码文件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DataBindingSamples/MainWindow.xaml</code> ）：</font></font></font></p>
<pre id="c29-code-0069"><code>&lt;TwoPaneView WideModeConfiguration="LeftRight" TallModeConfiguration="TopBottom" </code>
<code>  Grid.Row="1"&gt;</code>
<code>  &lt;TwoPaneView.Pane1&gt;</code>
<code>    &lt;!-- ListView definition --&gt;</code>
<code>  &lt;/TwoPaneView.Pane1&gt;</code>
<code>  &lt;TwoPaneView.Pane2&gt;</code>
<code>    &lt;views:BookUserControl x:Name="CurrentBook" Margin="4" /&gt;</code>
<code>  &lt;/TwoPaneView.Pane2&gt;</code>
<code>&lt;/TwoPaneView&gt;</code></pre>
</section>
<section data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><span id="c29-sec-0060" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span>
<h3 id="head-3-562" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Binding Simple Objects<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">绑定简单对象</font></font></font></h3>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Instead of just binding a list, the single book should be displayed in the second pane of the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TwoViewPane</code>. Compiled binding is used to bind to the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">BookId</code>, <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Title</code>, and <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Publisher</code> properties of the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Book</code> property (code file <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DataBindingSamples/Views/BookUserControl.xaml</code>):<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">不仅限于绑定列表，单个书籍应在 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TwoViewPane</code> 的第二个窗格中显示。使用编译绑定来绑定到 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Book</code> 属性的 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">BookId</code> 、 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Title</code> 和 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Publisher</code> 属性（代码文件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DataBindingSamples/Views/BookUserControl.xaml</code> ）：</font></font></font></p>
<pre id="c29-code-0070"><code>&lt;UserControl</code>
<code>    x:Class="DataBindingSamples.Views.BookUserControl"</code>
<code>    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"</code>
<code>    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"</code>
<code>    xmlns:local="using:DataBindingSamples.Views"</code>
<code>    xmlns:conv="using:DataBindingSamples.Converters"</code>
<code>    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"</code>
<code>    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"</code>
<code>    mc:Ignorable="d"</code>
<code>    d:DesignHeight="300"</code>
<code>    d:DesignWidth="400"&gt;</code>
<code>    &lt;!-- … --&gt;</code>
<code>    &lt;StackPanel Orientation="Vertical" Grid.Row="1"&gt;</code>
<code>      &lt;TextBox Header="BookId" IsReadOnly="True" </code>
<code>        <b>Text="{x:Bind Book.BookId, Mode=OneWay}" /&gt;</b></code>
<code>      &lt;TextBox Header="Title" <b>Text="{x:Bind Book.Title, Mode=TwoWay}" /&gt;</b></code>
<code>      &lt;TextBox Header="Publisher" </code>
<code>        <b>Text="{x:Bind Book.Publisher, Mode=TwoWay}" /&gt;</b></code>
<code>      &lt;!-- … --&gt;</code>
<code>    &lt;/StackPanel&gt;</code>
<code>  &lt;/Grid&gt;</code>
<code>&lt;/UserControl&gt;</code></pre>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">In the code-behind file, the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Book</code> property is defined as a dependency property. Change notification is needed for making updates when the values change; that's why a dependency property is used. It would also be possible to implement <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">INotifyPropertyChanged</code>, but because dependency properties are already available from the base class <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DependencyObject</code>, dependency properties can be used easily (code file <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DataBindingSamples/Views/BookUserControl.xaml.cs</code>):<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在代码隐藏文件中， <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Book</code> 属性被定义为依赖属性。当值变化时需要变更通知来更新；这就是使用依赖属性的原因。也可以实现 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">INotifyPropertyChanged</code> ，但由于依赖属性从基类 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DependencyObject</code> 就已经可用，所以可以轻松使用依赖属性（代码文件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DataBindingSamples/Views/BookUserControl.xaml.cs</code> ）：</font></font></font></p>
<pre id="c29-code-0071"><code>public Book Book</code>
<code>{</code>
<code>  get =&gt; (Book)GetValue(BookProperty);</code>
<code>  set =&gt; SetValue(BookProperty, value);</code>
<code>}</code>
<code> </code>
<code>public static readonly DependencyProperty BookProperty =</code>
<code>  DependencyProperty.Register("Book", typeof(Book), typeof(BookUserControl), </code>
<code>    new PropertyMetadata(null));</code></pre>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1"><span aria-label="860" epub:type="pagebreak" id="Page_860" role="doc-pagebreak" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span>The previous section showed the user control being referenced in the second pane of the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TwoViewPane</code>. What's missing is the binding in the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ListView</code> to show the currently selected item in the user control. As shown in the following code snippet, with the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ListView</code>, the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">SelectedItem</code> property binds to the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Book</code> property of the user control. This time, <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TwoWay</code> binding is needed to update the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">UserControl</code> from the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ListView</code> (code file <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DataBindingSamples/MainWindow.xaml</code>):<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">上一节展示了用户控件在 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TwoViewPane</code> 的第二个窗格中被引用。缺少的是在 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ListView</code> 中的绑定，以显示用户控件中当前选中的项。如以下代码片段所示，使用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ListView</code> ， <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">SelectedItem</code> 属性绑定到用户控件的 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Book</code> 属性。这次需要 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TwoWay</code> 绑定来从 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ListView</code> 更新 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">UserControl</code> （代码文件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DataBindingSamples/MainWindow.xaml</code> ）：</font></font></font></p>
<pre id="c29-code-0072"><code>&lt;ListView x:Name="BooksList" ItemsSource="{x:Bind Books, Mode=OneWay}" </code>
<code>  ItemTemplateSelector="{StaticResource BookTemplateSelector}" </code>
<code>  <b>SelectedItem="{x:Bind CurrentBook.Book, Mode=TwoWay}" /&gt;</b></code></pre>
<aside data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<div class="top hr" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><hr /></div>
<section class="feature2" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<p id="c29-para-0218" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1"><b data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NOTE</b> <i data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">It would be also possible to create the binding the other way around—to bind the</i> <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">BookUserControl</code> <i data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">to the</i> <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ListView</code><i data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">. This way,</i> <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">OneWay</code> <i data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">binding would be enough—to take the updated values from the</i> <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ListView</code> <i data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">to the</i> <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">BookUserControl</code><i data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">. However, here the XAML compiler complains because it can't assign an</i> <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">object</code> <i data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">(coming from the</i> <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ListView</code><i data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">) to the strongly typed</i> <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Book</code> <i data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">property of the</i> <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">BookUserControl</code><i data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">. You could resolve this by creating a value converter as discussed next.</i><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">注意 也可以反过来创建绑定——将 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">BookUserControl</code> 绑定到 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ListView</code> 。这样，只需要 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">OneWay</code> 绑定就足够了——从 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ListView</code> 获取更新值到 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">BookUserControl</code> 。然而，在这里 XAML 编译器会报错，因为它不能将来自 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ListView</code> 的 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">object</code> 分配给 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">BookUserControl</code> 的强类型 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Book</code> 属性。你可以通过创建值转换器来解决此问题，如下一节所述。</font></font></font></p> 
<div class="bottom hr" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><hr /></div>
</section>
</aside>
</section>
<section data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><span id="c29-sec-0062" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span>
<h3 id="head-3-563" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Value Conversion<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">值转换 </font></font></font></h3>
<p id="c29-para-0219" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">So far, the authors haven't been displayed in the user control. The reason is that the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Authors</code> property is a list. You can define an <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ItemsControl</code> in the user control to display the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Authors</code> property. However, to display a simple comma-separated list of authors, it would be okay to use the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TextBlock</code>. You just need a converter to convert <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">IEnumerable&lt;string&gt;</code>
—the type of the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Authors</code> property to a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">string</code>.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">到目前为止，作者信息尚未在用户控件中显示。原因是 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Authors</code> 属性是一个列表。您可以在用户控件中定义一个 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ItemsControl</code> 来显示 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Authors</code> 属性。但是，要显示一个简单的以逗号分隔的作者列表，使用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TextBlock</code> 是可以的。您只需要一个转换器来将 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">IEnumerable&lt;string&gt;</code> （ <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Authors</code> 属性的类型）转换为 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">string</code> 。</font></font></font></p>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">A value converter is an implementation of the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">IValueConverter</code> interface. This interface defines the methods <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Convert</code> and <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ConvertBack</code>. With two-way binding, both methods need to be implemented. Using one-way binding, the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Convert</code> method is enough. The class <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CollectionToStringConverter</code> implements the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Convert</code> method by using the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">string.Join</code> method to create a single string. A value converter also receives an object <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">parameter</code> that you can specify when using the value converter. Here, this parameter is used as a string separator (code file <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DataBindingSamples/Converters/CollectionToStringConverter.cs</code>):<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">值转换器是 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">IValueConverter</code> 接口的一个实现。这个接口定义了 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Convert</code> 和 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ConvertBack</code> 两个方法。在双向绑定中，两个方法都需要实现。在单向绑定中，只需要实现 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Convert</code> 方法。类 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CollectionToStringConverter</code> 通过使用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">string.Join</code> 方法来创建一个字符串，从而实现了 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Convert</code> 方法。值转换器还会接收一个对象 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">parameter</code> ，你可以在使用值转换器时指定这个参数。在这里，这个参数被用作字符串分隔符（代码文件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DataBindingSamples/Converters/CollectionToStringConverter.cs</code> ）：</font></font></font></p>
<pre id="c29-code-0073"><code>public class CollectionToStringConverter : <b>IValueConverter</b></code>
<code>{</code>
<code><b>  public object Convert(object value, Type targetType, object parameter, </b></code>
<code>    <b>string language)</b></code>
<code>  {</code>
<code>    IEnumerable&lt;string&gt; names = (IEnumerable&lt;string&gt;)value;</code>
<code>    return string.Join(parameter?.ToString() ?? ", ", names);</code>
<code>  }</code>
<code> </code>
<code>  public object <b>ConvertBack</b>(object value, Type targetType, object parameter, </code>
<code>    string language)</code>
<code>  {</code>
<code>    throw new NotImplementedException();</code>
<code>  }</code>
<code>}</code></pre>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">With the user control, the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CollectionToStringConverter</code> is instantiated in the resources section (code file <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DataBindingSamples/Views/BookUserControl.xaml</code>):<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在使用用户控件时， <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CollectionToStringConverter</code> 在资源部分进行实例化（代码文件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DataBindingSamples/Views/BookUserControl.xaml</code> ）：</font></font></font></p>
<pre id="c29-code-0074"><code>&lt;UserControl.Resources&gt;</code>
<code>  &lt;conv:CollectionToStringConverter x:Key="CollectionToStringConverter" /&gt;</code>
<code>&lt;/UserControl.Resources&gt;</code></pre>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1"><span aria-label="861" epub:type="pagebreak" id="Page_861" role="doc-pagebreak" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span>The converter can now be referenced from within the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">x:Bind</code> markup extension using the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Converter</code> property. The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ConverterParameter</code> property specifies the string separator that is used within the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">string.Join</code> method earlier (code file <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DataBindingSamples/Views/BookUserControl.xaml</code>):<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">现在可以通过 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Converter</code> 属性在 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">x:Bind</code> 标记扩展中引用这个转换器。 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ConverterParameter</code> 属性指定了在之前 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">string.Join</code> 方法中使用的字符串分隔符（代码文件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DataBindingSamples/Views/BookUserControl.xaml</code> ）：</font></font></font></p>
<pre id="c29-code-0075"><code>&lt;TextBox Header="Authors" IsReadOnly="True" </code>
<code>  <b>Text="{x:Bind Book.Authors, Mode=OneWay,</b> </code>
<code>    <b>Converter={StaticResource CollectionToStringConverter},</b> </code>
<code>    <b>ConverterParameter='; '}" /&gt;</b></code></pre>
<p id="c29-para-0223" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">When you run the app, the authors are now displayed, as shown in <a href="#c29-fig-0012" id="R_c29-fig-0012" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Figure 29-12</a>.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">当你运行应用程序时，作者现在会显示出来，如图 29-12 所示。</font></font></font></p>
<figure data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"> <img alt="Snapshot of choosing enterprise services with the .net framework." class="center" src="images/c29f012.png" />
<figcaption data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><span class="figureLabel" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><a href="#R_c29-fig-0012" id="c29-fig-0012" role="doc-backlink" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><b data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">FIGURE 29-12<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">图 29-12</font></font></font></b></a></span></p></figcaption>
</figure>
</section>
</section>
<section aria-labelledby="head-2-260" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><span id="c29-sec-0063" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span>
<h2 id="head-2-260" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">IMPLEMENTING NAVIGATION<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">实现导航</font></font></font></h2>
<p id="c29-para-0224" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">If your application is composed of multiple pages, you need the ability to navigate between these pages. There are different application structures to navigate, such as using a hamburger button (see <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><a href="https://blog.placeit.net/history-of-the-hamburger-icon/">https://blog.placeit.net/history-of-the-hamburger-icon/</a></code> for the origins and uses of this icon with three horizontal bars) to navigate to different root pages or to use different tabs and replace tab items.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果你的应用由多个页面组成，你需要具备在这些页面之间进行导航的能力。有不同类型的导航结构，例如使用汉堡按钮（见图 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><a href="https://blog.placeit.net/history-of-the-hamburger-icon/">https://blog.placeit.net/history-of-the-hamburger-icon/</a></code> ，了解该带有三条水平线的图标起源和用途）导航到不同的根页面，或者使用不同的标签页并替换标签项。</font></font></font></p>
<p id="c29-para-0225" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">If you need to provide a way for the user to navigate, the heart of the navigation is the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Frame</code> class. The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Frame</code> class enables the user to navigate to specific pages using the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Navigate</code> method and optionally pass parameters. The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Frame</code> class keeps a stack of the pages to which the user has navigated, which makes it possible to go back, go forward, limit the number of pages in the stack, and more.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果你需要为用户提供导航方式，导航的核心是 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Frame</code> 类。 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Frame</code> 类使用户能够通过 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Navigate</code> 方法导航到特定页面，并可选择传递参数。 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Frame</code> 类维护一个用户已导航页面的堆栈，这使得可以返回、前进、限制堆栈中的页面数量等。</font></font></font></p>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">In addition, you have different options for the main navigation of your application. In this section, you create a Windows application and use different pages to show the features of the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Hub</code>, <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TabView</code>, and <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NavigationView</code> controls. The sample application uses a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CommandBar</code> with <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">AppBarButton</code> controls and a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Frame</code>. In the code-behind file, the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Navigate</code> method of the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Frame</code> class is invoked. The parameter of this method requires the type of the page to navigate to (code file <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NavigationControls/MainWindow.xaml.cs</code>):<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此外，您还可以为应用程序的主导航提供不同的选项。在本节中，您将创建一个 Windows 应用程序，并使用不同的页面来展示 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Hub</code> 、 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TabView</code> 和 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NavigationView</code> 控件的功能。示例应用程序使用一个 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CommandBar</code> ，包含 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">AppBarButton</code> 控件和一个 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Frame</code> 。在代码隐藏文件中，调用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Frame</code> 类的 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Navigate</code> 方法。此方法的参数需要指定要导航的页面类型（代码文件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NavigationControls/MainWindow.xaml.cs</code> ）：</font></font></font></p>
<pre id="c29-code-0076"><code>private void OnNavigate(XamlUICommand sender, ExecuteRequestedEventArgs args)</code>
<code>{</code>
<code>  Type pageType = args.Parameter switch</code>
<code>  {</code>
<code>    "Hub" =&gt; typeof(HubPage),</code>
<code>    "Tab" =&gt; typeof(TabViewPage),</code>
<code>    "Navigation" =&gt; typeof(NavigationViewPage),<span aria-label="862" epub:type="pagebreak" id="Page_862" role="doc-pagebreak"></span></code>
<code>    _ =&gt; throw new InvalidOperationException()</code>
<code>  };</code>
<code> </code>
<code>  <b>MainFrame.Navigate(pageType);</b></code>
<code>}</code></pre>
<p id="c29-para-0227" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Frame</code> class keeps a stack of pages that have been visited. The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">GoBack</code> method makes it possible to navigate back within this stack (if the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CanGoBack</code> property returns true), and the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">GoForward</code> method enables you to go forward one page after a back navigation. The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Frame</code> class also offers several events for navigation, such as <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Navigating</code>, <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Navigated</code>, <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NavigationFailed</code>, and <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NavigationStopped</code>.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Frame</code> 类维护一个已访问页面的堆栈。 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">GoBack</code> 方法允许您在这个堆栈中向后导航（如果 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CanGoBack</code> 属性返回 true），而 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">GoForward</code> 方法则允许您在向后导航后向前移动一页。 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Frame</code> 类还提供了几个用于导航的事件，例如 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Navigating</code> 、 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Navigated</code> 、 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NavigationFailed</code> 和 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NavigationStopped</code> 。</font></font></font></p>
<p id="c29-para-0228" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Page</code> class defines methods that can be used on navigation. The method <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">OnNavigatedTo</code> is invoked when the page is navigated to. Within this page you can read how the navigation was done (<code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NavigationMode</code> property). You can also access parameters that are passed with the navigation. The method <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">OnNavigatingFrom</code> is the first method that is invoked when you navigate away from the page. Here, the navigation can be cancelled. The method <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">OnNavigatedFrom</code> is finally invoked when you navigate away from this page. Here, you should do some cleanup of resources that have been allocated with the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">OnNavigatedTo</code> method.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Page</code> 类定义了可在导航中使用的函数。当页面被导航到时，会调用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">OnNavigatedTo</code> 函数。在此页面中，您可以阅读导航是如何进行的（ <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NavigationMode</code> 属性）。您还可以访问与导航一起传递的参数。当您离开页面时， <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">OnNavigatingFrom</code> 函数是第一个被调用的函数。在这里，可以取消导航。当您离开此页面时，最终会调用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">OnNavigatedFrom</code> 函数。在这里，您应该清理使用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">OnNavigatedTo</code> 函数分配的资源。</font></font></font></p>
<p id="c29-para-0229" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Let's get into the functionality of the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Hub</code>, <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TabView</code>, and <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NavigationView</code>.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">让我们深入了解 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Hub</code> 、 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TabView</code> 和 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NavigationView</code> 的功能。</font></font></font></p>
<section data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><span id="c29-sec-0064" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span>
<h3 id="head-3-564" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Hub</h3>
<p id="c29-para-0230" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">You can also allow the user to navigate between content within a single page using the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Hub</code> control. An example of when you might use this is if you want to show an image as an entry point (also known as a <i data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">hero</i> image) for the app and more information is shown as the user scrolls.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">您还可以使用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Hub</code> 控件允许用户在单个页面内的内容之间进行导航。当您可能需要使用此控件的一个示例是，如果您想将图像作为应用的入口点（也称为英雄图像）显示，并且随着用户滚动，显示更多信息。</font></font></font></p>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">With the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Hub</code> control, you can define multiple sections. Each section has a header and content. You can also make the header clickable—for example, to navigate to a detail page. The following code sample defines a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Hub</code> control where you can click the headers of sections 2 and 3. When you click the section header, the method assigned with the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">SectionHeaderClick</code> event of the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Hub</code> control is invoked. Each section consists of a header and some content. The content of the section is defined by a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DataTemplate</code> (code file <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NavigationControls/Views/HubPage.xaml</code>):<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Hub</code> 控件，您可以定义多个区域。每个区域都有一个标题和内容。您还可以使标题可点击——例如，用于导航到详情页面。以下代码示例定义了一个 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Hub</code> 控件，您可以通过点击第 2 个和第 3 个区域的标题来操作。当您点击区域标题时，分配给 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Hub</code> 控件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">SectionHeaderClick</code> 事件的 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Hub</code> 方法将被调用。每个区域由一个标题和一些内容组成。区域的内容由 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">DataTemplate</code> （代码文件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NavigationControls/Views/HubPage.xaml</code> ）定义：</font></font></font></p>
<pre id="c29-code-0077"><code>&lt;Hub SectionHeaderClick="{x:Bind OnHeaderClick}"&gt;</code>
<code>  &lt;Hub.Header&gt;</code>
<code>    &lt;StackPanel Orientation="Horizontal"&gt;</code>
<code>      &lt;TextBlock&gt;Hub Header&lt;/TextBlock&gt;</code>
<code>      &lt;TextBlock Text="{x:Bind Info, Mode=TwoWay}" /&gt;</code>
<code>    &lt;/StackPanel&gt;</code>
<code>  &lt;/Hub.Header&gt;</code>
<code>  &lt;HubSection Width="400" Background="LightBlue" Tag="Section 1"&gt;</code>
<code>    &lt;HubSection.Header&gt;</code>
<code>      &lt;TextBlock&gt;Section 1 Header&lt;/TextBlock&gt;</code>
<code>    &lt;/HubSection.Header&gt;</code>
<code>    &lt;DataTemplate&gt;</code>
<code>      &lt;TextBlock&gt;Section 1&lt;/TextBlock&gt;</code>
<code>    &lt;/DataTemplate&gt;</code>
<code>  &lt;/HubSection&gt;</code>
<code>  &lt;HubSection Width="300" Background="LightGreen" IsHeaderInteractive="True"</code>
<code>    Tag="Section 2"&gt;</code>
<code>    &lt;HubSection.Header&gt;</code>
<code>      &lt;TextBlock&gt;Section 2 Header&lt;/TextBlock&gt;</code>
<code>    &lt;/HubSection.Header&gt;</code>
<code>    &lt;DataTemplate&gt;</code>
<code>      &lt;TextBlock&gt;Section 2&lt;/TextBlock&gt;</code>
<code>    &lt;/DataTemplate&gt;</code>
<code>  &lt;/HubSection&gt;<span aria-label="863" epub:type="pagebreak" id="Page_863" role="doc-pagebreak"></span></code>
<code>  &lt;HubSection Width="300" Background="LightGoldenrodYellow"</code>
<code>    IsHeaderInteractive="True" Tag="Section 3"&gt;</code>
<code>    &lt;HubSection.Header&gt;</code>
<code>      &lt;TextBlock&gt;Section 3 Header&lt;/TextBlock&gt;</code>
<code>    &lt;/HubSection.Header&gt;</code>
<code>    &lt;DataTemplate&gt;</code>
<code>      &lt;TextBlock&gt;Section 3&lt;/TextBlock&gt;</code>
<code>    &lt;/DataTemplate&gt;</code>
<code>  &lt;/HubSection&gt;</code>
<code>&lt;/Hub&gt;</code></pre>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">When you click the header section, the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Info</code> dependency property is assigned the value of the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Tag</code> property. The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Info</code> property in turn is bound within the header of the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Hub</code> control (code file <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NavigationControls/Views/HubPage.xaml.cs</code>):<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">当你点击头部区域时， <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Info</code> 依赖属性被赋予 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Tag</code> 属性的值。 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Info</code> 属性反过来在 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Hub</code> 控件的头部中进行绑定（代码文件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NavigationControls/Views/HubPage.xaml.cs</code> ）：</font></font></font></p>
<pre id="c29-code-0078"><code>public void OnHeaderClick(object sender, HubSectionHeaderClickEventArgs e)</code>
<code>{</code>
<code>  Info = e.Section.Tag as string;</code>
<code>}</code>
<code> </code>
<code>public string Info</code>
<code>{</code>
<code>  get =&gt; (string)GetValue(InfoProperty);</code>
<code>  set =&gt; SetValue(InfoProperty, value);</code>
<code>}</code>
<code> </code>
<code>public static readonly DependencyProperty InfoProperty =</code>
<code>  DependencyProperty.Register("Info", typeof(string), typeof(HubPage),</code>
<code>    new PropertyMetadata(string.Empty));</code></pre>
<p id="c29-para-0233" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">When you run the app, you can see multiple hub sections (see <a href="#c29-fig-0013" id="R_c29-fig-0013" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Figure 29-13</a>) with a See More link in sections 2 and 3 because with these sections’ <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">IsHeaderInteractive</code> is set to <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">true</code>. Of course, you can create a custom header template to have a different look for the header.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">当你运行该应用时，可以看到多个中心区域（见图 29-13），因为第 2 区和第 3 区的 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">IsHeaderInteractive</code> 被设置为 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">true</code> ，所以这两个区域中都有"查看更多"链接。当然，你可以创建一个自定义的页头模板，以使页头呈现不同的外观。</font></font></font><span aria-label="864" epub:type="pagebreak" id="Page_864" role="doc-pagebreak" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span></p>
<figure data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"> <img alt="Snapshot of header details of hub." class="center" src="images/c29f013.png" />
<figcaption data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><span class="figureLabel" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><a href="#R_c29-fig-0013" id="c29-fig-0013" role="doc-backlink" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><b data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">FIGURE 29-13<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">图 29-13</font></font></font></b></a></span></p></figcaption>
</figure>
</section>
<section data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><span id="c29-sec-0065" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span>
<h3 id="head-3-565" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1"><?span Start text-decoration:underline"?>TabView</h3>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TabView</code> control enables you to show multiple tabs, like Visual Studio does for open files. You can define the tabs statically or dynamically. With the next sample application, tabs will be added dynamically from the C# code, and the XAML file just defines a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TabView</code> without contained tabs. The methods <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">OnTabAdd</code> and <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">OnTabClose</code> are invoked on adding and closing tables by setting the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">AddTabButtonClick</code> and <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TabCloseRequested</code> events (code file <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NavigationControls/Views/TabViewPage.xaml</code>):<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TabView</code> 控件可让你显示多个选项卡，就像 Visual Studio 对打开的文件那样。你可以静态或动态定义选项卡。在下一个示例应用程序中，选项卡将动态地从 C# 代码中添加，而 XAML 文件仅定义一个 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TabView</code> 而不包含选项卡。通过设置 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">AddTabButtonClick</code> 和 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TabCloseRequested</code> 事件（代码文件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NavigationControls/Views/TabViewPage.xaml</code> ），在添加和关闭选项卡时调用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">OnTabAdd</code> 和 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">OnTabClose</code> 方法：</font></font></font></p>
<pre id="c29-code-0079"><code>&lt;TabView x:Name="tabView" AddTabButtonClick="OnAddTab" TabCloseRequested="OnTabClose" /&gt;</code></pre>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">With the code-behind, on loading of the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TabViewPage</code>, three new tabs are created by invoking the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CreateNewTab</code> method. <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CreateNewTab</code> creates a new <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TabViewItem</code>, a new <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Frame</code> object that's specified as the content of the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TabViewItem</code>, and it navigates to the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TabPage</code> using passing an argument to the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Navigate</code> method that's used as a parameter with the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TabPage</code>. When you add a new tab, the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">OnTabAdd</code> method is invoked, which in turn creates a new tab with <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CreateNewTab</code>. <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">OnTabClose</code> closes the tab (code file <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NavigationControls/ Views/TabViewPage.xaml.cs</code>):<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">通过代码隐藏，在加载 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TabViewPage</code> 时，通过调用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CreateNewTab</code> 方法创建三个新的选项卡。 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CreateNewTab</code> 创建一个新的 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TabViewItem</code> ，一个新的 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Frame</code> 对象，该对象被指定为 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TabViewItem</code> 的内容，并使用传递给 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Navigate</code> 方法的参数导航到 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TabPage</code> ，该参数与 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TabPage</code> 配合使用。当你添加一个新选项卡时， <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">OnTabAdd</code> 方法被调用，该方法反过来使用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CreateNewTab</code> 创建一个新的选项卡。 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">OnTabClose</code> 关闭选项卡（代码文件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NavigationControls/ Views/TabViewPage.xaml.cs</code> ）：</font></font></font></p>
<pre id="c29-code-0080"><code>public sealed partial class TabViewPage : Page</code>
<code>{</code>
<code>  public TabViewPage()</code>
<code>  {</code>
<code>    this.InitializeComponent();</code>
<code>    this.Loaded += OnLoaded;</code>
<code>  }</code>
<code> </code>
<code>  private int _tabNumber = 0;</code>
<code>  private void OnLoaded(object sender, RoutedEventArgs e)</code>
<code>  {</code>
<code>    for (int i = 1; i &lt; 4; i++)</code>
<code>    {</code>
<code>      tabView.TabItems.Add(CreateNewTab(i));</code>
<code>      _tabNumber = i;</code>
<code>    }</code>
<code>  }</code>
<code> </code>
<code>  private TabViewItem CreateNewTab(int index)</code>
<code>  {</code>
<code>    TabViewItem newItem = new() </code>
<code>    { </code>
<code>      Header = $"Header {index}", </code>
<code>      Tag = $"Tag{index}", </code>
<code>      IconSource = new SymbolIconSource() { Symbol = Symbol.Document } </code>
<code>    };</code>
<code>    Frame frame = new();</code>
<code>    frame.Navigate(typeof(TabPage), $"Content {index}");</code>
<code>    newItem.Content = frame;</code>
<code>    return newItem;</code>
<code>  }</code>
<code> </code>
<code>  private void OnTabAdd(TabView sender, object args)</code>
<code>  {</code>
<code>    var newTabItem = CreateNewTab(++_tabNumber);</code>
<code>    tabView.TabItems.Add(newTabItem);</code>
<code>  }</code>
<code> <span aria-label="865" epub:type="pagebreak" id="Page_865" role="doc-pagebreak"></span></code>
<code>  private void OnTabClose(TabView sender, TabViewTabCloseRequestedEventArgs args)</code>
<code>  {</code>
<code>    tabView.TabItems.Remove(args.Tab);</code>
<code>  }</code>
<code>}</code></pre>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">With the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TabPage</code> class, the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">OnNavigatedTo</code> method is overridden to receive the parameter passed with the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Parameter</code> property of the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NavigationEventArgs</code> object (code file <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NavigationControls/Views/TabPage.xaml.cs</code>):<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TabPage</code> 类， <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">OnNavigatedTo</code> 方法被重写以接收通过 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Parameter</code> 属性传递给 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NavigationEventArgs</code> 对象的参数（代码文件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NavigationControls/Views/TabPage.xaml.cs</code> ）：</font></font></font></p>
<pre id="c29-code-0081"><code><b>protected override void OnNavigatedTo(NavigationEventArgs e)</b></code>
<code>{</code>
<code>  Text = e.Parameter?.ToString() ?? "No parameter";</code>
<code>}</code></pre>
<p id="c29-para-0237" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">When you run the application, you can see the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TabView</code> control with tabs that can be dynamically opened and closed (see <a href="#c29-fig-0014" id="R_c29-fig-0014" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Figure 29-14</a>).<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">运行应用程序时，您可以看到带有可动态打开和关闭选项卡的 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TabView</code> 控件（见图 29-14）。</font></font></font></p>
<figure data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"> <img alt="Snapshot of choosing header 2 tab." class="center" src="images/c29f014.png" />
<figcaption data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><span class="figureLabel" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><a href="#R_c29-fig-0014" id="c29-fig-0014" role="doc-backlink" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><b data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">FIGURE 29-14<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">图 29-14</font></font></font></b></a></span></p></figcaption>
</figure>
</section>
<section data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><span id="c29-sec-0066" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span>
<h3 id="head-3-566" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1"><?span Start text-decoration:underline"?>NavigationView</h3>
<p id="c29-para-0238" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Windows 10 apps often use the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">SplitView</code> control with a hamburger button. The hamburger button is used to open a list of menus. The menus are shown either just with an icon or with an icon and text if more space is available. For arranging the space for the content and the menus, the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">SplitView</code> control comes into play. The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">SplitView</code> offers space for a pane and content where the pane usually contains menu items. The pane can have a small and a large size, which can be configured depending on the available screen sizes.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">Windows 10 应用经常使用带汉堡按钮的 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">SplitView</code> 控件。汉堡按钮用于打开菜单列表。如果空间允许，菜单会显示图标或图标和文本。为了安排内容和菜单的空间， <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">SplitView</code> 控件发挥作用。 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">SplitView</code> 控件为面板和内容提供空间，面板通常包含菜单项。面板可以有小和大两种尺寸，可以根据可用屏幕尺寸进行配置。</font></font></font></p>
<p id="c29-para-0239" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NavigationView</code> control combines the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">SplitView</code>, menus for typically vertical arrangement, and a hamburger button in one control.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NavigationView</code> 控件将 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">SplitView</code> （通常垂直排列的菜单）和汉堡按钮结合在一个控件中。</font></font></font></p>
<p id="c29-para-0240" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Let's get into the features of the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NavigationView</code> and start with the following code snippet. <a href="#c29-fig-0015" id="R_c29-fig-0015" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Figure 29-15</a> highlights the different parts of the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NavigationView</code>. The first part defined in the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NavigationView</code> is the list of <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">MenuItems</code>. This list contains <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NavigationViewItem</code> objects. Each of these items contains an <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Icon</code>, a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Content</code>, and a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Tag</code>. The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Tag</code> can be used programmatically to use this information for navigation. With some of these items, a predefined icon is used. The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NavigationViewItem</code> tagged with <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">home</code> makes use of a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">FontIcon</code> with the Unicode number E10F. To separate menu items, you can use the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NavigationViewItemSeparator</code>. With the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NavigationViewItemHeader</code>, you can specify a header content for a group of items. Pay attention not to cut this content when the pane is in compact mode. With the code snippet, the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NavigationViewItemHeader</code> is hidden if the pane is not fully open (code file <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NavigationControls/Views/NavigationViewPage.xaml</code>):<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">让我们深入了解 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NavigationView</code> 的功能，并从以下代码片段开始。图 29-15 突出了 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NavigationView</code> 的不同部分。在 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NavigationView</code> 中定义的第一部分是 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">MenuItems</code> 的列表。此列表包含 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NavigationViewItem</code> 对象。每个这些项目都包含一个 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Icon</code> 、一个 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Content</code> 和一个 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Tag</code> 。 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Tag</code> 可以用于编程以使用此信息进行导航。对于其中的一些项目，使用预定义的图标。带有 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">home</code> 标签的 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NavigationViewItem</code> 使用了 Unicode 编号为 E10F 的 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">FontIcon</code> 。要分隔菜单项，您可以使用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NavigationViewItemSeparator</code> 。使用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NavigationViewItemHeader</code> ，您可以为一组项目指定一个标题内容。注意在窗格处于紧凑模式时不要截断此内容。在代码片段中，如果窗格未完全打开， <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NavigationViewItemHeader</code> 将被隐藏（代码文件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NavigationControls/Views/NavigationViewPage.xaml</code> ）：</font></font></font></p>

<pre id="c29-code-0082"><code>&lt;NavigationView x:Name="NavigationView1" </code>
<code>  Background="{ThemeResource ApplicationPageBackgroundThemeBrush}"&gt;</code>
<code>  &lt;NavigationView.MenuItems&gt;</code>
<code>    &lt;NavigationViewItem Content="Home" Tag="home"&gt;</code>
<span aria-label="866" epub:type="pagebreak" id="Page_866" role="doc-pagebreak"></span><code>      &lt;NavigationViewItem.Icon&gt;</code>
<code>        &lt;FontIcon Glyph=""/&gt;</code>
<code>      &lt;/NavigationViewItem.Icon&gt;</code>
<code>    &lt;/NavigationViewItem&gt;</code>
<code>    &lt;NavigationViewItemSeparator/&gt;</code>
<code>    &lt;NavigationViewItemHeader Content="Main Tools" </code>
<code>      Visibility="{x:Bind NavigationView1.IsPaneOpen, Mode=OneWay}"/&gt;</code>
<code>    &lt;NavigationViewItem Icon="AllApps" Content="Apps" Tag="apps"/&gt;</code>
<code>    &lt;NavigationViewItem Icon="Video" Content="Games" Tag="games"/&gt;</code>
<code>    &lt;NavigationViewItem Icon="Audio" Content="Music" Tag="music"/&gt;</code>
<code>  &lt;/NavigationView.MenuItems&gt;</code>
<code> </code>
<code>  &lt;!-- … --&gt;</code>
<code>  </code>
<code>&lt;/NavigationView&gt;</code> </pre>

<figure data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"> <img alt="Snapshot of back button, hamburger button, auto suggest box, and menu items." class="center" src="images/c29f015.png" />
<figcaption data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><span class="figureLabel" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><a href="#R_c29-fig-0015" id="c29-fig-0015" role="doc-backlink" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><b data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">FIGURE 29-15<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">图 29-15</font></font></font></b></a></span></p></figcaption>
</figure>

<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">AutoSuggestBox</code> property of the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NavigationView</code> allows adding an <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">AutoSuggestBox</code> control to the navigation. This is shown on top of the menu items (code file <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NavigationControls/Views/NavigationViewPage.xaml</code>):<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NavigationView</code> 的 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">AutoSuggestBox</code> 属性允许将 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">AutoSuggestBox</code> 控件添加到导航中。这显示在菜单项的顶部（代码文件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NavigationControls/Views/NavigationViewPage.xaml</code> ）：</font></font></font></p>
<pre id="c29-code-0083"><code>&lt;NavigationView.AutoSuggestBox&gt;</code>
<code>  &lt;AutoSuggestBox x:Name="autoSuggest" QueryIcon="Find"/&gt;</code>
<code>&lt;/NavigationView.AutoSuggestBox&gt;</code></pre>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">With the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">HeaderTemplate</code>, the top of the app can be customized. The code snippet defines a header template with a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Grid</code>, a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TextBlock</code>, and a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CommandBar</code> (code file <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NavigationControls/Views/NavigationViewPage.xaml</code>):<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">HeaderTemplate</code> ，可以自定义应用的顶部。代码片段定义了一个包含 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Grid</code> 、 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TextBlock</code> 和 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">CommandBar</code> （代码文件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NavigationControls/Views/NavigationViewPage.xaml</code> ）的头部模板：</font></font></font></p>
<pre id="c29-code-0084"><code>&lt;NavigationView.HeaderTemplate&gt;</code>
<code>  &lt;DataTemplate&gt;</code>
<code>    &lt;Grid Margin="8,8,0,0"&gt;</code>
<code>      &lt;Grid.ColumnDefinitions&gt;<span aria-label="867" epub:type="pagebreak" id="Page_867" role="doc-pagebreak"></span></code>
<code>        &lt;ColumnDefinition Width="Auto"/&gt;</code>
<code>        &lt;ColumnDefinition/&gt;</code>
<code>      &lt;/Grid.ColumnDefinitions&gt;</code>
<code>      &lt;TextBlock Style="{StaticResource TitleTextBlockStyle}"</code>
<code>        FontSize="28"</code>
<code>        VerticalAlignment="Center"</code>
<code>        Text="Welcome"/&gt;</code>
<code>      &lt;CommandBar Grid.Column="1" </code>
<code>        DefaultLabelPosition="Right"</code>
<code>        Background="{ThemeResource SystemControlBackgroundAltHighBrush}"&gt;</code>
<code>        &lt;AppBarButton Label="Refresh" Icon="Refresh"/&gt;</code>
<code>        &lt;AppBarButton Label="Import" Icon="Import"/&gt;</code>
<code>      &lt;/CommandBar&gt;</code>
<code>    &lt;/Grid&gt;</code>
<code>  &lt;/DataTemplate&gt;</code>
<code>&lt;/NavigationView.HeaderTemplate&gt;</code></pre>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">PaneFooter</code> defines the lower part in the pane. Below the footer, by default a menu item for the Settings is shown; this menu, which is used by many apps, is included by default (code file <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NavigationControls/Views/NavigationViewPage.xaml</code>):<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">PaneFooter</code> 定义了窗格的下半部分。默认情况下，在页脚下方显示一个设置菜单项；这个被许多应用使用的菜单默认包含（代码文件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NavigationControls/Views/NavigationViewPage.xaml</code> ）：</font></font></font></p>
<pre id="c29-code-0085"><code>&lt;NavigationView.PaneFooter&gt;</code>
<code>  &lt;HyperlinkButton x:Name="MoreInfoBtn"</code>
<code>    Content="More info"</code>
<code>    Margin="12,0"/&gt;</code>
<code>&lt;/NavigationView.PaneFooter&gt;</code></pre>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Finally, the content of the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NavigationPane</code> is covered by a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Frame</code> control. This control is used to navigate to pages. The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NavigationPane</code> surrounds the page content (code file <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NavigationControls/Views/NavigationViewPage.xaml</code>):<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">最后， <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NavigationPane</code> 的内容被一个 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Frame</code> 控件覆盖。这个控件用于导航到页面。 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NavigationPane</code> 包围了页面内容（代码文件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NavigationControls/Views/NavigationViewPage.xaml</code> ）：</font></font></font></p>
<pre id="c29-code-0086"><code>&lt;Frame x:Name="ContentFrame" Margin="24"&gt;</code>
<code>  &lt;Frame.ContentTransitions&gt;</code>
<code>    &lt;TransitionCollection&gt;</code>
<code>      &lt;NavigationThemeTransition/&gt;</code>
<code>    &lt;/TransitionCollection&gt;</code>
<code>  &lt;/Frame.ContentTransitions&gt;</code>
<code>&lt;/Frame&gt;</code>
<code> </code></pre>
</section>
</section>
<section aria-labelledby="head-2-261" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><span id="c29-sec-0067" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span>
<h2 id="head-2-261" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">IMPLEMENTING LAYOUT PANELS<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">实现布局面板</font></font></font></h2>
<p id="c29-para-0245" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NavigationView</code> control discussed in the previous section is an important control to organize the layout of the user interface. With many new Windows 10 apps, you can see this control used for the main layout. There are several other controls that define a layout. This section demonstrates the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">VariableSizedWrapGrid</code> for arranging multiple items in a grid that automatically wraps, the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">RelativePanel</code> for arranging items relative to each other or relative to a parent, and adaptive triggers for rearranging the layout depending on the window size.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">上一节讨论的 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NavigationView</code> 控件是组织用户界面布局的重要控件。在许多新的 Windows 10 应用中，你可以看到这个控件用于主布局。还有其他几个控件定义布局。本节演示了 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">VariableSizedWrapGrid</code> 用于在网格中自动换行排列多个项， <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">RelativePanel</code> 用于相对于彼此或相对于父项排列项，以及自适应触发器用于根据窗口大小重新排列布局。</font></font></font></p>
<p id="c29-para-0246" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Canvas</code> panel enables you to explicitly position controls. This panel is great for arranging shapes. This is discussed in <a href="c31.xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Chapter 31</a>.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Canvas</code> 面板允许你明确地定位控件。这个面板非常适合排列形状。这将在第 31 章中讨论。</font></font></font></p>
<section data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><span id="c29-sec-0068" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span>
<h3 id="head-3-567" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1"><?span Start text-decoration:underline"?>StackPanel</h3>
<p id="c29-para-0247" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">If you need to add multiple elements to a control that supports only one control, the easiest way is to use a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">StackPanel</code>. The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">StackPanel</code> is a simple panel that shows one element after the other. The orientation of the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">StackPanel</code> can be horizontal or vertical.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果你需要向只支持单个控件的控件中添加多个元素，最简单的方法是使用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">StackPanel</code> 。 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">StackPanel</code> 是一个简单的面板，按顺序显示一个元素。 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">StackPanel</code> 的方向可以是水平或垂直。</font></font></font></p>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1"><span aria-label="868" epub:type="pagebreak" id="Page_868" role="doc-pagebreak" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span>In the following code snippet, the page contains a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">StackPanel</code> with various controls organized vertically. The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ListBox</code> within the first <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ListBoxItem</code> contains a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">StackPanel</code> organized horizontally (code file <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">LayoutSamples/Views/StackPanelPage.xaml</code>):<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在以下代码片段中，页面包含一个 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">StackPanel</code> ，其中各种控件垂直排列。第一个 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ListBoxItem</code> 内部的 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ListBox</code> 包含一个水平排列的 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">StackPanel</code> （代码文件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">LayoutSamples/Views/StackPanelPage.xaml</code> ）：</font></font></font></p>
<pre id="c29-code-0087"><code>&lt;StackPanel Orientation="Vertical"&gt;</code>
<code>  &lt;TextBox Text="TextBox" /&gt;</code>
<code>  &lt;CheckBox Content="Checkbox" /&gt;</code>
<code>  &lt;CheckBox Content="Checkbox" /&gt;</code>
<code>  &lt;ListBox&gt;</code>
<code>    &lt;ListBoxItem&gt;</code>
<code>      &lt;StackPanel Orientation="Horizontal"&gt;</code>
<code>        &lt;TextBlock Text="One A" /&gt;</code>
<code>        &lt;TextBlock Text="One B" /&gt;</code>
<code>      &lt;/StackPanel&gt;</code>
<code>    &lt;/ListBoxItem&gt;</code>
<code>    &lt;ListBoxItem Content="Two" /&gt;</code>
<code>  &lt;/ListBox&gt;</code>
<code>  &lt;Button Content="Button" /&gt;</code>
<code>&lt;/StackPanel&gt;</code></pre>
<p id="c29-para-0249" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1"><a href="#c29-fig-0016" id="R_c29-fig-0016" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Figure 29-16</a> shows the child controls of the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">StackPanel</code> organized vertically.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">图 29-16 显示了 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">StackPanel</code> 的子控件垂直排列。</font></font></font></p>
<figure data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"> <img alt="Snapshot of the views tab showing two check boxes." class="center" src="images/c29f016.png" />
<figcaption data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><span class="figureLabel" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><a href="#R_c29-fig-0016" id="c29-fig-0016" role="doc-backlink" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><b data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">FIGURE 29-16<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">图 29-16</font></font></font></b></a></span></p></figcaption>
</figure>
</section>
<section data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><span id="c29-sec-0069" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span>
<h3 id="head-3-568" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Grid<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">网格</font></font></font></h3>
<p id="c29-para-0250" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Grid</code> is an important panel. When you use the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Grid</code>, you can arrange your controls with rows and columns. For every column, you can specify a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ColumnDefinition</code>. For every row, you can specify a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">RowDefinition</code>. The following example code lists two columns and three rows. With each column and row, you can specify the width or height. <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ColumnDefinition</code> has a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Width</code> dependency property; <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">RowDefinition</code> has a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Height</code> dependency property. You can define the height and width in device-independent pixels, or you can set it to <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Auto</code> to base the size on the content. The grid also allows <i data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">star sizing</i>, which means the space for the rows and columns is calculated according to the available space and relative to other rows and columns. When providing the available space for a column, you can set the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Width</code> property to <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">*</code>. To have the size doubled for another column, you specify <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">2</code>
*. The sample code, which defines two columns and three rows, uses star sizing for the columns (this is the default); the first row has a fixed size, and the second and third rows use star sizing. With the height calculation, the available height is reduced by the 200 pixels from the first row. The remaining area is divided between rows 2 and 3 in the relation 1.5:1.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Grid</code> 是一个重要的面板。当您使用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Grid</code> 时，您可以用行和列来排列您的控件。对于每一列，您可以指定一个 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ColumnDefinition</code> 。对于每一行，您可以指定一个 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">RowDefinition</code> 。以下示例代码列出了两列和三行。对于每一列和每一行，您可以指定宽度或高度。 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ColumnDefinition</code> 有一个 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Width</code> 依赖属性； <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">RowDefinition</code> 有一个 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Height</code> 依赖属性。您可以在设备无关像素中定义高度和宽度，或者您可以将其设置为 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Auto</code> 以基于内容来设置大小。网格还允许星号大小调整，这意味着行和列的空间是根据可用空间和其他行和列的相对关系来计算的。当为列提供可用空间时，您可以设置 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Width</code> 属性为 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">*</code> 。要让另一列的大小翻倍，您指定 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">2</code> *。示例代码定义了两列和三行，列使用星号大小调整（这是默认设置）；第一行具有固定大小，第二行和第三行使用星号大小调整。在高度计算中，可用高度减少了第一行的 200 像素。剩余区域在第二行和第三行之间按 1.5:1 的比例分配。</font></font></font></p>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">The grid contains several <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Rectangle</code> controls with different colors to make the cell sizes visible. Because the parent of these controls is a grid, you can set the attached properties <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Column</code>, <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ColumnSpan</code>, <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Row</code>, and <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">RowSpan</code> (code file <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">LayoutSamples/Views/GridPage.xaml</code>):<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">网格包含几个带不同颜色的 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Rectangle</code> 控件，以使单元格大小可见。因为这些控件的父级是一个网格，所以你可以设置附加属性 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Column</code> 、 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">ColumnSpan</code> 、 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Row</code> 和 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">RowSpan</code> （代码文件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">LayoutSamples/Views/GridPage.xaml</code> ）：</font></font></font></p>
<pre id="c29-code-0088"><code>&lt;Grid&gt;</code>
<code>  &lt;Grid.ColumnDefinitions&gt;<span aria-label="869" epub:type="pagebreak" id="Page_869" role="doc-pagebreak"></span></code>
<code>    &lt;ColumnDefinition /&gt;</code>
<code>    &lt;ColumnDefinition /&gt;</code>
<code>  &lt;/Grid.ColumnDefinitions&gt;</code>
<code>  &lt;Grid.RowDefinitions&gt;</code>
<code>    &lt;RowDefinition Height="200" /&gt;</code>
<code>    &lt;RowDefinition Height="1.5*" /&gt;</code>
<code>    &lt;RowDefinition Height="*" /&gt;</code>
<code>  &lt;/Grid.RowDefinitions&gt;</code>
<code>  &lt;Rectangle Fill="Blue" /&gt;</code>
<code>  &lt;Rectangle Grid.Row="0" Grid.Column="1" Fill="Red" /&gt;</code>
<code>  &lt;Rectangle Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="2" Fill="Green" /&gt;</code>
<code>  &lt;Rectangle Grid.Row="2" Grid.Column="0" Grid.ColumnSpan="2" Fill="Yellow" /&gt;</code>
<code>&lt;/Grid&gt;</code></pre>
<p id="c29-para-0252" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1"><a href="#c29-fig-0017" id="R_c29-fig-0017" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Figure 29-17</a> shows the outcome of arranging rectangles in a grid.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">图 29-17 展示了在网格中排列矩形的结果。</font></font></font></p>
<figure data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"> <img alt="Snapshot of the outcome of arranging rectangles in a grid." class="center" src="images/c29f017.png" />
<figcaption data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><span class="figureLabel" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><a href="#R_c29-fig-0017" id="c29-fig-0017" role="doc-backlink" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><b data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">FIGURE 29-17<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">图 29-17</font></font></font></b></a></span></p></figcaption>
</figure>
</section>
<section data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><span id="c29-sec-0070" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span>
<h3 id="head-3-569" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1"><?span Start text-decoration:underline"?>VariableSizedWrapGrid</h3>
<p id="c29-para-0253" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">
<code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">VariableSizedWrapGrid</code> is a wrap grid that automatically wraps to the next row or column if the size available for the grid is not large enough. The second feature of this grid is an allowance for items with multiple rows or columns; that's why it's called <i data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">variable</i>.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">VariableSizedWrapGrid</code> 是一个自动在网格空间不足时换到下一行或列的包裹网格。这个网格的第二个特性是允许项目有多个行或列；这就是它被称为可变的原因。</font></font></font></p>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">The following code snippet creates a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">VariableSizedWrappedGrid</code> with orientation <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Horizontal</code>, a maximum number of 20 items in the row, and rows and columns that have a size of 50 (code file <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">LayoutSamples/Views/VariableSizedWrapGridSample.xaml</code>):<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">以下代码片段创建了一个 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">VariableSizedWrappedGrid</code> ，方向为 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Horizontal</code> ，每行最多 20 个项目，行和列的大小为 50（代码文件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">LayoutSamples/Views/VariableSizedWrapGridSample.xaml</code> ）：</font></font></font></p>
<pre id="c29-code-0089"><code>&lt;VariableSizedWrapGrid x:Name="grid1" MaximumRowsOrColumns="20" ItemHeight="50"</code>
<code>  ItemWidth="50" Orientation="Horizontal" /&gt;</code></pre>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">VariableSizedWrapGrid</code> is filled with 30 <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Rectangle</code> and <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TextBlock</code> elements that have random sizes and colors. Depending on the size, one to three rows or columns can be used within the grid. The size of the items is set using the attached properties <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">VariableSizedWrapGrid.ColumnSpan</code> and <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">VariableSizedWrapGrid.RowSpan</code> (code file <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">LayoutSamples/Views/VariableSizedWrapGridSample.xaml.cs</code>):<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">VariableSizedWrapGrid</code> 被填充了 30 个 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Rectangle</code> 和 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TextBlock</code> 元素，这些元素具有随机的大小和颜色。根据大小，网格内可以使用一到三行或列。项目的大小通过附加属性 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">VariableSizedWrapGrid.ColumnSpan</code> 和 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">VariableSizedWrapGrid.RowSpan</code> 设置（代码文件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">LayoutSamples/Views/VariableSizedWrapGridSample.xaml.cs</code> ）：</font></font></font></p>
<pre id="c29-code-0090"><code>protected override void OnNavigatedTo(NavigationEventArgs e)</code>
<code>{</code>
<code>  base.OnNavigatedTo(e);</code>
<code>  Random r = new();<span aria-label="870" epub:type="pagebreak" id="Page_870" role="doc-pagebreak"></span></code>
<code>  Grid[] items =</code>
<code>    Enumerable.Range(0, 30).Select(i =&gt;</code>
<code>    {</code>
<code>      byte[] colorBytes = new byte[3];</code>
<code>      r.NextBytes(colorBytes);</code>
<code>      Rectangle rect = new()</code>
<code>      {</code>
<code>        Height = r.Next(40, 150),</code>
<code>        Width = r.Next(40, 150),</code>
<code>        Fill = new SolidColorBrush(new Color</code>
<code>        {</code>
<code>          R = colorBytes[0],</code>
<code>          G = colorBytes[1],</code>
<code>          B = colorBytes[2],</code>
<code>          A = 255</code>
<code>        })</code>
<code>      };</code>
<code> </code>
<code>      TextBlock textBlock = new() </code>
<code>      {</code>
<code>        Text = (i + 1).ToString(),</code>
<code>        HorizontalAlignment = HorizontalAlignment.Center,</code>
<code>        VerticalAlignment = VerticalAlignment.Center</code>
<code>      };</code>
<code>      Grid grid = new();</code>
<code>      grid.Children.Add(rect);</code>
<code>      grid.Children.Add(textBlock);</code>
<code>      return grid;</code>
<code>    }).ToArray();</code>
<code> </code>
<code>    foreach (var item in items)</code>
<code>    {</code>
<code>      grid1.Children.Add(item);</code>
<code>      Rectangle? rect = item.Children.First() as Rectangle;</code>
<code>      if (rect is not null &amp;&amp; rect.Width&gt; 50)</code>
<code>      {</code>
<code>        int columnSpan = ((int)rect.Width / 50) + 1;</code>
<code>        <b>VariableSizedWrapGrid.SetColumnSpan(item, columnSpan);</b></code>
<code>        int rowSpan = ((int)rect.Height / 50) + 1;</code>
<code>        <b>VariableSizedWrapGrid.SetRowSpan(item, rowSpan);</b></code>
<code>      }</code>
<code>    }</code></pre>
<p id="c29-para-0256" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">When you run the application, you can see the rectangles and how they wrap for different window sizes, as shown in <a href="#c29-fig-0018" id="R_c29-fig-0018" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Figure 29-18</a>.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">运行应用程序时，你可以看到图 29-18 中显示的矩形以及它们在不同窗口大小下的包裹方式。</font></font></font></p>
</section>
<section data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><span id="c29-sec-0071" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span>
<h3 id="head-3-570" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">RelativePanel</h3>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1"><code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">RelativePanel</code> is a panel that allows one element to be positioned in relation to another element. If you've used the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Grid</code> control with definitions for rows and columns and you had to insert a row, you had to change all elements that were below the row that was inserted. The reason is that all rows and columns are indexed by numbers. This is not an issue with the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">RelativePanel</code>, which enables you to place elements in relation to each other.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">RelativePanel</code> 是一个允许一个元素相对于另一个元素定位的面板。如果你使用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Grid</code> 控件并定义了行和列，当你需要插入一行时，你必须更改所有位于插入行的下方的元素。原因在于所有行和列都是通过数字索引的。这与 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">RelativePanel</code> 不同，它允许你将元素相互定位。</font></font></font><span aria-label="871" epub:type="pagebreak" id="Page_871" role="doc-pagebreak" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span></p>

<figure data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"> <img alt="Snapshot of the relative panel." class="center" src="images/c29f018.png" />
<figcaption data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><span class="figureLabel" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><a href="#R_c29-fig-0018" id="c29-fig-0018" role="doc-backlink" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><b data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">FIGURE 29-18<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">图 29-18</font></font></font></b></a></span></p></figcaption>
</figure>

<aside data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<div class="top hr" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><hr /></div>
<section class="feature2" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<p id="c29-para-0258" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1"><b data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NOTE</b> <i data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Compared to the </i>
<code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">RelativePanel</code>
<i data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">, the </i>
<code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Grid</code>
 <i data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">control still has its advantages with auto, star, and fixed sizing.</i><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">注意与 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">RelativePanel</code> 相比， <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Grid</code> 控件在自动、星标和固定尺寸方面仍有其优势。</font></font></font></p>
<div class="bottom hr" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><hr /></div>
</section>
</aside>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">The following code snippet aligns several <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TextBlock</code> and <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TextBox</code> controls, a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Button</code>, and a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Rectangle</code> within a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">RelativePanel</code>. The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TextBox</code> elements are positioned to the right of the corresponding <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TextBlock</code> elements; the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Button</code> is positioned relative to the bottom of the panel; and the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Rectangle</code> is aligned with the top with the first <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TextBlock</code> and to the right of the first <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TextBox</code> (code file <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">LayoutSamples/Views/RelativePanelPage.xaml</code>):<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">以下代码片段在一个 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">RelativePanel</code> 中对齐了几个 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TextBlock</code> 和 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TextBox</code> 控件、一个 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Button</code> 和一个 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Rectangle</code> 。 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TextBox</code> 元素位于相应的 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TextBlock</code> 元素的右侧； <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Button</code> 相对于面板底部定位； <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Rectangle</code> 与第一个 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TextBlock</code> 对齐，并位于第一个 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TextBox</code> 的右侧（代码文件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">LayoutSamples/Views/RelativePanelPage.xaml</code> ）：</font></font></font></p>
<pre id="c29-code-0091"><code>&lt;RelativePanel&gt;</code>
<code>  &lt;TextBlock x:Name="FirstNameLabel" Text="First Name" Margin="8" /&gt;</code>
<code>  &lt;TextBox x:Name="FirstNameText" RelativePanel.RightOf="FirstNameLabel"</code>
<code>    Margin="8" Width="150" /&gt;</code>
<code>  &lt;TextBlock x:Name="LastNameLabel" Text="Last Name"</code>
<code>    RelativePanel.Below="FirstNameLabel" Margin="8" /&gt;</code>
<code>  &lt;TextBox x:Name="LastNameText" RelativePanel.RightOf="LastNameLabel"</code>
<code>    Margin="8" RelativePanel.Below="FirstNameText" Width="150" /&gt;</code>
<code>  &lt;Button Content="Save" RelativePanel.AlignHorizontalCenterWith="LastNameText"</code>
<code>    RelativePanel.AlignBottomWithPanel="True" Margin="8" /&gt;</code>
<code>  &lt;Rectangle x:Name="Image" Fill="Violet" Width="150" Height="250"</code>
<code>    RelativePanel.AlignTopWith="FirstNameLabel"</code>
<code>    RelativePanel.RightOf="FirstNameText" Margin="8" /&gt;</code>
<code>&lt;/RelativePanel&gt;</code></pre>
<p id="c29-para-0260" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1"><a href="#c29-fig-0019" id="R_c29-fig-0019" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Figure 29-19</a> shows the alignment of the controls when you run the application.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">图 29-19 显示了运行应用程序时控件的排列方式。</font></font></font><span aria-label="872" epub:type="pagebreak" id="Page_872" role="doc-pagebreak" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span></p>
<figure data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"> <img alt="Snapshot of typing the first name and the last name." class="center" src="images/c29f019.png" />
<figcaption data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><span class="figureLabel" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><a href="#R_c29-fig-0019" id="c29-fig-0019" role="doc-backlink" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><b data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">FIGURE 29-19<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">图 29-19</font></font></font></b></a></span></p></figcaption>
</figure>
</section>
<section data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><span id="c29-sec-0073" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span>
<h3 id="head-3-571" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Adaptive Triggers<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">自适应触发器</font></font></font></h3>
<p id="c29-para-0261" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">The <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">RelativePanel</code> is a great control for alignment. However, to support multiple screen sizes and rearrange the controls depending on the screen size, you can use adaptive triggers with the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">RelativePanel</code> control. For example, on a small screen, the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TextBox</code> controls should be arranged below the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TextBlock</code> controls, but on a larger screen the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TextBox</code> controls should be arranged to the right of the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TextBlock</code> controls.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">RelativePanel</code> 是一个用于对齐的绝佳控件。然而，为了支持多种屏幕尺寸并根据屏幕尺寸重新排列控件，你可以使用带有 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">RelativePanel</code> 控件的自适应触发器。例如，在小屏幕上， <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TextBox</code> 控件应排列在 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TextBlock</code> 控件的下方，但在大屏幕上， <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TextBox</code> 控件应排列在 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">TextBlock</code> 控件的右侧。</font></font></font></p>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">In the following code, the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">RelativePanel</code> from before is changed to remove all <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">RelativePanel</code> attached properties that should not apply to all screen sizes, and an optional image is added (code file <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">LayoutSamples/Views/AdaptiveRelativePanelPage.xaml</code>):<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在以下代码中，之前的 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">RelativePanel</code> 被修改以移除所有不应适用于所有屏幕尺寸的 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">RelativePanel</code> 附加属性，并添加了一个可选图像（代码文件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">LayoutSamples/Views/AdaptiveRelativePanelPage.xaml</code> ）：</font></font></font></p>
<pre id="c29-code-0092"><code>&lt;RelativePanel ScrollViewer.VerticalScrollBarVisibility="Auto" Margin="16"&gt;</code>
<code>  &lt;TextBlock x:Name="FirstNameLabel" Text="First Name" Margin="8" /&gt;</code>
<code>  &lt;TextBox x:Name="FirstNameText" Margin="8" Width="150" /&gt;</code>
<code>  &lt;TextBlock x:Name="LastNameLabel" Text="Last Name" Margin="8" /&gt;</code>
<code>  &lt;TextBox x:Name="LastNameText" Margin="8" Width="150" /&gt;</code>
<code>  &lt;Button Content="Save" RelativePanel.AlignBottomWithPanel="True"</code>
<code>    Margin="8" /&gt;</code>
<code>  &lt;Rectangle x:Name="Image" Fill="Violet" Width="150" Height="250"</code>
<code>    Margin="8" /&gt;</code>
<code>  &lt;Rectangle x:Name="OptionalImage" RelativePanel.AlignRightWithPanel="True"</code>
<code>    Fill="Red" Width="350" Height="350" Margin="8" /&gt;</code>
<code>&lt;/RelativePanel&gt;</code></pre>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">When you use an adaptive trigger—with which the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">MinWindowWidth</code> can be set to define when the trigger is fired—values for different properties are set to arrange the elements depending on the space available for the app. As the screen size gets smaller, the width needed by the app gets smaller as well. Moving elements below instead of beside reduces the width needed. Instead, the user can scroll down. With the smallest window width, the optional image is set to collapsed (code file <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">LayoutSamples/Views/AdaptiveRelativePanelPage.xaml</code>):<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">当你使用自适应触发器——通过它可以设置 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">MinWindowWidth</code> 来定义触发器何时被触发——不同属性的值会根据应用程序可用的空间来排列元素。随着屏幕尺寸变小，应用程序所需的宽度也会变小。将元素向下移动而不是向旁边移动可以减少所需的宽度。相反，用户可以向下滚动。在最小的窗口宽度下，可选图像被设置为收起状态（代码文件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">LayoutSamples/Views/AdaptiveRelativePanelPage.xaml</code> ）：</font></font></font></p>
<pre id="c29-code-0093"><code>&lt;VisualStateManager.VisualStateGroups&gt;</code>
<code>  &lt;VisualStateGroup&gt;</code>
<code>    &lt;VisualState x:Name="WideState"&gt;</code>
<code>      <b>&lt;VisualState.StateTriggers&gt;</b></code>
<code>        <b>&lt;AdaptiveTrigger MinWindowWidth="1024" /&gt;</b></code>
<code>      <b>&lt;/VisualState.StateTriggers&gt;</b></code>
<code>      &lt;VisualState.Setters&gt;<span aria-label="873" epub:type="pagebreak" id="Page_873" role="doc-pagebreak"></span></code>
<code>        &lt;Setter Target="FirstNameText.(RelativePanel.RightOf)"</code>
<code>          Value="FirstNameLabel" /&gt;</code>
<code>        &lt;Setter Target="LastNameLabel.(RelativePanel.Below)"</code>
<code>          Value="FirstNameLabel" /&gt;</code>
<code>        &lt;Setter Target="LastNameText.(RelativePanel.Below)"</code>
<code>          Value="FirstNameText" /&gt;</code>
<code>        &lt;Setter Target="LastNameText.(RelativePanel.RightOf)"</code>
<code>          Value="LastNameLabel" /&gt;</code>
<code>        &lt;Setter Target="Image.(RelativePanel.AlignTopWith)"</code>
<code>          Value="FirstNameLabel" /&gt;</code>
<code>        &lt;Setter Target="Image.(RelativePanel.RightOf)" Value="FirstNameText" /&gt;</code>
<code>      &lt;/VisualState.Setters&gt;</code>
<code>    &lt;/VisualState&gt;</code>
<code>    &lt;VisualState x:Name="MediumState"&gt;</code>
<code>      &lt;VisualState.StateTriggers&gt;</code>
<code>        &lt;AdaptiveTrigger MinWindowWidth="720" /&gt;</code>
<code>      &lt;/VisualState.StateTriggers&gt;</code>
<code>      &lt;VisualState.Setters&gt;</code>
<code>        &lt;Setter Target="FirstNameText.(RelativePanel.RightOf)"</code>
<code>          Value="FirstNameLabel" /&gt;</code>
<code>        &lt;Setter Target="LastNameLabel.(RelativePanel.Below)"</code>
<code>          Value="FirstNameLabel" /&gt;</code>
<code>        &lt;Setter Target="LastNameText.(RelativePanel.Below)"</code>
<code>          Value="FirstNameText" /&gt;</code>
<code>        &lt;Setter Target="LastNameText.(RelativePanel.RightOf)"</code>
<code>          Value="LastNameLabel"/&gt;</code>
<code>        &lt;Setter Target="Image.(RelativePanel.Below)" Value="LastNameText" /&gt;</code>
<code>        &lt;Setter Target="Image.(RelativePanel.AlignHorizontalCenterWith)"</code>
<code>          Value="LastNameText" /&gt;</code>
<code>      &lt;/VisualState.Setters&gt;</code>
<code>    &lt;/VisualState&gt;</code>
<code>    &lt;VisualState x:Name="NarrowState"&gt;</code>
<code>      &lt;VisualState.StateTriggers&gt;</code>
<code>        &lt;AdaptiveTrigger MinWindowWidth="320" /&gt;</code>
<code>      &lt;/VisualState.StateTriggers&gt;</code>
<code>      &lt;VisualState.Setters&gt;</code>
<code>        &lt;Setter Target="FirstNameText.(RelativePanel.Below)"</code>
<code>          Value="FirstNameLabel" /&gt;</code>
<code>        &lt;Setter Target="LastNameLabel.(RelativePanel.Below)"</code>
<code>          Value="FirstNameText" /&gt;</code>
<code>        &lt;Setter Target="LastNameText.(RelativePanel.Below)"</code>
<code>          Value="LastNameLabel"/&gt;</code>
<code>        &lt;Setter Target="Image.(RelativePanel.Below)" Value="LastNameText" /&gt;</code>
<code>        &lt;Setter Target="OptionalImage.Visibility" Value="Collapsed" /&gt;</code>
<code>      &lt;/VisualState.Setters&gt;</code>
<code>    &lt;/VisualState&gt;</code>
<code>  &lt;/VisualStateGroup&gt;</code>
<code>&lt;/VisualStateManager.VisualStateGroups&gt;</code></pre>
<p id="c29-para-0264" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">When you run the application, you'll see different snap points as you resize the application. The layout is rearranged, and controls move to other positions or are hidden depending on the available size. See the <a href="#c29-fig-0020" id="R_c29-fig-0020" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Figures 29-20</a> and <a href="#c29-fig-0021" id="R_c29-fig-0021" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">29-21</a> for different layout results.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">当你运行应用程序时，在调整应用程序大小过程中，你会看到不同的对齐点。布局会重新排列，控件会根据可用空间移动到其他位置或被隐藏。请参见图 29-20 和 29-21，以了解不同的布局结果。</font></font></font><span aria-label="874" epub:type="pagebreak" id="Page_874" role="doc-pagebreak" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span></p>
<figure data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"> <img alt="Snapshot of typing the first name and the last name." class="center" src="images/c29f020.png" />
<figcaption data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><span class="figureLabel" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><a href="#R_c29-fig-0020" id="c29-fig-0020" role="doc-backlink" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><b data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">FIGURE 29-20<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">图 29-20</font></font></font></b></a></span></p></figcaption>
</figure>
<figure data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"> <img alt="Snapshot of typing the first name and the last name." class="center" src="images/c29f021.png" />
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><span class="figureLabel" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><a href="#R_c29-fig-0021" id="c29-fig-0021" role="doc-backlink" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><b data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">FIGURE 29-21<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">图 29-21</font></font></font></b></a></span></p>
</figure>
</section>
<section data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><span id="c29-sec-0074" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span>
<h3 id="head-3-572" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">Deferred Loading<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">延迟加载</font></font></font></h3>
<p id="c29-para-0265" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">For a faster UI, you can delay creation of controls until they are needed. On small devices, some controls might not be needed at all, but with larger screens and faster systems they are needed. With previous versions of XAML applications, elements that have been added to the XAML code also have been instantiated. This is no longer the case with Windows 10. Here you can defer loading of controls until they are needed.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">为了获得更快的 UI，您可以将控件的创建延迟到需要时再进行。在小设备上，某些控件可能根本不需要，但在大屏幕和更快的系统上则需要。在之前的 XAML 应用版本中，添加到 XAML 代码中的元素也会被实例化。但在 Windows 10 中情况已不再如此。在这里，您可以延迟加载控件，直到需要它们时。</font></font></font></p>
<p id="c29-para-0266" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">You can use deferred loading with adaptive triggers to load only some controls at a later time. One sample scenario where this is useful is when you have a smaller window that the user can resize to be larger. With the smaller window, some controls should not be visible, but they should be visible with the bigger size of the window. Another scenario where deferred loading can be useful is when some parts of the layout may take more time to load. Instead of making the user wait until he sees the completely loaded layout, you can use deferred loading.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">你可以使用延迟加载和自适应触发器，在稍后时间只加载部分控件。一个这种用法很有用的示例场景是，当你有一个较小的窗口，用户可以调整它变大。在较小的窗口中，某些控件不应可见，但在窗口尺寸变大时应可见。另一个延迟加载可以用得上的场景是，布局的某些部分可能需要更多时间来加载。与其让用户等待直到看到完全加载的布局，你可以使用延迟加载。</font></font></font></p>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">To use deferred loading, you need to add the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">x:Load</code> attribute with a value <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">False</code> to a control, as shown in the following code snippet with a <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Grid</code> control. This control also needs to have a name assigned to it (code file <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">LayoutSamples/Views/DelayLoadingPage.xaml</code>):<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">要使用延迟加载，您需要向控件添加带有值 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">False</code> 的 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">x:Load</code> 属性，如下面的代码片段中的 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">Grid</code> 控件所示。此控件还需要为其分配一个名称（代码文件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">LayoutSamples/Views/DelayLoadingPage.xaml</code> ）：</font></font></font></p>
<pre id="c29-code-0094"><code>&lt;Grid <b>x:Load="False"</b> x:Name="deferGrid"&gt;</code>
<code>  &lt;Grid.ColumnDefinitions&gt;<span aria-label="875" epub:type="pagebreak" id="Page_875" role="doc-pagebreak"></span></code>
<code>    &lt;ColumnDefinition /&gt;</code>
<code>    &lt;ColumnDefinition /&gt;</code>
<code>  &lt;/Grid.ColumnDefinitions&gt;</code>
<code>  &lt;Grid.RowDefinitions&gt;</code>
<code>    &lt;RowDefinition /&gt;</code>
<code>    &lt;RowDefinition /&gt;</code>
<code>  &lt;/Grid.RowDefinitions&gt;</code>
<code>  &lt;Rectangle Fill="Red" Grid.Row="0" Grid.Column="0" /&gt;</code>
<code>  &lt;Rectangle Fill="Green" Grid.Row="0" Grid.Column="1" /&gt;</code>
<code>  &lt;Rectangle Fill="Blue" Grid.Row="1" Grid.Column="0" /&gt;</code>
<code>  &lt;Rectangle Fill="Yellow" Grid.Row="1" Grid.Column="1"/&gt;</code>
<code>&lt;/Grid&gt; </code></pre>
<p data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">To make this deferred control visible, all you need to do is invoke the <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">FindName</code> method to access the identifier of the control. This not only makes the control visible but also loads the XAML tree of the control before the control is made visible (code file <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">LayoutSamples/Views/DelayLoadingPage.xaml.cs</code>):<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">要使此延迟加载的控件可见，您只需调用 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">FindName</code> 方法来访问控件的标识符。这不仅可以使控件可见，还可以在控件可见之前加载控件的 XAML 树（代码文件 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">LayoutSamples/Views/DelayLoadingPage.xaml.cs</code> ）：</font></font></font></p>
<pre id="c29-code-0095"><code>private void OnDeferLoad(object sender, RoutedEventArgs e)</code>
<code>{</code>
<code>  <b>FindName(nameof(deferGrid));</b></code>
<code>} </code></pre>
<aside data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<div class="top hr" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><hr /></div>
<section class="feature2" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">
<p id="c29-para-0270" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1"><b data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">NOTE</b> <i data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">The attribute</i> <code data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">x:Load</code> <i data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">has an overhead of about 600 bytes, so you should use it only on elements that need to be hidden. If this attribute is used on a container element, you pay the overhead only once with the element where the attribute is applied.</i><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">注意 <code xmlns="http://www.w3.org/1999/xhtml" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed">x:Load</code> 属性的开销约为 600 字节，因此您应该仅在需要隐藏的元素上使用它。如果此属性用于容器元素，您只需在应用属性的元素上支付一次开销。</font></font></font></p> 
<div class="bottom hr" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><hr /></div>
</section>
</aside>
</section>
</section>
<section aria-labelledby="head-2-262" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"><span id="c29-sec-0076" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed"></span>
<h2 id="head-2-262" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">SUMMARY<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">摘要</font></font></font></h2>
<p id="c29-para-0271" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">This chapter introduced many different aspects of programming Windows apps. You've seen the foundation of XAML and how it extends XML with attached properties and markup extensions. You've seen a hierarchy with many controls offered with WinUI and learned about the foundations of data binding.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">本章介绍了 Windows 应用的许多不同方面。你看到了 XAML 的基础，以及它如何通过附加属性和标记扩展扩展 XML。你看到了 WinUI 提供的许多控件层次结构，并学习了数据绑定的基础。 </font></font></font></p>
<p id="c29-para-0272" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">You've seen how to deal with different screen sizes, options for laying out controls with different panels, and the categories and features of different controls.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">你看到了如何处理不同的屏幕尺寸，使用不同面板布局控件的选项，以及不同控件的类别和特性。</font></font></font></p>
<p id="c29-para-0273" data-immersive-translate-walked="a825538c-ac23-4e27-bf67-29c0e13ac5ed" data-immersive-translate-paragraph="1">The next chapter continues with XAML-based apps, the MVVM pattern, commands, and creating shareable view models.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br /><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">下一章将继续介绍基于 XAML 的应用、MVVM 模式、命令以及创建可共享的视图模型。</font></font></font></p>
</section>
</section>
</body>
<div id="immersive-translate-popup" style="all: initial"></div></html>