<!-- 这行注释会存在于经过翻译的源文件中。除非您获得许可请不要删除这个注释。
    翻译由 ClassicByte Org 的 higashitani yume 完成
    使用工具 沉浸式翻译 智谱GLM模型
    您可以阅读这个源代码，也可以向他人分发此源代码，但是不得用于商业用途。
    您也可以自己将这些代码打包成epub分发给别人，但是不得用于商业用途。
    如果此源代码侵犯了您的权益，请联系我我将会删除侵权内容。
    您在阅读此源代码时，可能会看到一些英文内容，这些内容是原书的内容，可能是因为翻译不准确或者是因为原书的内容没有被翻译。
    如果您发现了错误，请联系我我会进行修正。
  -->
<!--This line of comments will exist in the translated source file. Do not delete this comment unless you have permission.
    Translation is done by ClassicByte Org's higashitani yume
    Usage Tools Immersive Translation Zhipu GLM Model
    You can read this source code or distribute it to others, but it may not be used for commercial purposes.
    You can also package these codes yourself into epub and distribute them to others, but they may not be used for commercial purposes.
    If this source code infringes your rights, please contact me and I will delete the infringing content.
    When you read this source code, you may see some English content, which is the content of the original book, which may be because the translation is inaccurate or because the content of the original book has not been translated.
    If you find an error, please contact me and I will correct it.
  -->
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops"
    xmlns:svg="http://www.w3.org/2000/svg" epub:prefix="index: http://www.index.com/" lang="en" xml:lang="en"
    imt-state="dual" imt-trans-position="after">

<head>
    <title>《8 Collections》 --- 8 Collections</title>
    <link href="WileyTemplate_v5.5.css" rel="stylesheet" type="text/css" />
    <meta content="urn:uuid:e0000000-0000-0000-0000-000006715209" name="Adept.expected.resource" />
    <style data-id="immersive-translate-input-injected-css">
        .immersive-translate-input {
            position: absolute;
            top: 0;
            right: 0;
            left: 0;
            bottom: 0;
            z-index: 2147483647;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .immersive-translate-attach-loading::after {
            content: " ";

            --loading-color: #f78fb6;
            width: 6px;
            height: 6px;
            border-radius: 50%;
            display: block;
            margin: 12px auto;
            position: relative;
            color: white;
            left: -100px;
            box-sizing: border-box;
            animation: immersiveTranslateShadowRolling 1.5s linear infinite;

            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-2000%, -50%);
            z-index: 100;
        }

        .immersive-translate-loading-spinner {
            vertical-align: middle !important;
            width: 10px !important;
            height: 10px !important;
            display: inline-block !important;
            margin: 0 4px !important;
            border: 2px rgba(221, 244, 255, 0.6) solid !important;
            border-top: 2px rgba(0, 0, 0, 0.375) solid !important;
            border-left: 2px rgba(0, 0, 0, 0.375) solid !important;
            border-radius: 50% !important;
            padding: 0 !important;
            -webkit-animation: immersive-translate-loading-animation 0.6s infinite linear !important;
            animation: immersive-translate-loading-animation 0.6s infinite linear !important;
        }

        @-webkit-keyframes immersive-translate-loading-animation {
            from {
                -webkit-transform: rotate(0deg);
            }

            to {
                -webkit-transform: rotate(359deg);
            }
        }

        @keyframes immersive-translate-loading-animation {
            from {
                transform: rotate(0deg);
            }

            to {
                transform: rotate(359deg);
            }
        }

        .immersive-translate-input-loading {
            --loading-color: #f78fb6;
            width: 6px;
            height: 6px;
            border-radius: 50%;
            display: block;
            margin: 12px auto;
            position: relative;
            color: white;
            left: -100px;
            box-sizing: border-box;
            animation: immersiveTranslateShadowRolling 1.5s linear infinite;
        }

        @keyframes immersiveTranslateShadowRolling {
            0% {
                box-shadow: 0px 0 rgba(255, 255, 255, 0), 0px 0 rgba(255, 255, 255, 0),
                    0px 0 rgba(255, 255, 255, 0), 0px 0 rgba(255, 255, 255, 0);
            }

            12% {
                box-shadow: 100px 0 var(--loading-color), 0px 0 rgba(255, 255, 255, 0),
                    0px 0 rgba(255, 255, 255, 0), 0px 0 rgba(255, 255, 255, 0);
            }

            25% {
                box-shadow: 110px 0 var(--loading-color), 100px 0 var(--loading-color),
                    0px 0 rgba(255, 255, 255, 0), 0px 0 rgba(255, 255, 255, 0);
            }

            36% {
                box-shadow: 120px 0 var(--loading-color), 110px 0 var(--loading-color),
                    100px 0 var(--loading-color), 0px 0 rgba(255, 255, 255, 0);
            }

            50% {
                box-shadow: 130px 0 var(--loading-color), 120px 0 var(--loading-color),
                    110px 0 var(--loading-color), 100px 0 var(--loading-color);
            }

            62% {
                box-shadow: 200px 0 rgba(255, 255, 255, 0), 130px 0 var(--loading-color),
                    120px 0 var(--loading-color), 110px 0 var(--loading-color);
            }

            75% {
                box-shadow: 200px 0 rgba(255, 255, 255, 0), 200px 0 rgba(255, 255, 255, 0),
                    130px 0 var(--loading-color), 120px 0 var(--loading-color);
            }

            87% {
                box-shadow: 200px 0 rgba(255, 255, 255, 0), 200px 0 rgba(255, 255, 255, 0),
                    200px 0 rgba(255, 255, 255, 0), 130px 0 var(--loading-color);
            }

            100% {
                box-shadow: 200px 0 rgba(255, 255, 255, 0), 200px 0 rgba(255, 255, 255, 0),
                    200px 0 rgba(255, 255, 255, 0), 200px 0 rgba(255, 255, 255, 0);
            }
        }

        .immersive-translate-toast {
            display: flex;
            position: fixed;
            z-index: 2147483647;
            left: 0;
            right: 0;
            top: 1%;
            width: fit-content;
            padding: 12px 20px;
            margin: auto;
            overflow: auto;
            background: #fef6f9;
            box-shadow: 0px 4px 10px 0px rgba(0, 10, 30, 0.06);
            font-size: 15px;
            border-radius: 8px;
            color: #333;
        }

        .immersive-translate-toast-content {
            display: flex;
            flex-direction: row;
            align-items: center;
        }

        .immersive-translate-toast-hidden {
            margin: 0 20px 0 72px;
            text-decoration: underline;
            cursor: pointer;
        }

        .immersive-translate-toast-close {
            color: #666666;
            font-size: 20px;
            font-weight: bold;
            padding: 0 10px;
            cursor: pointer;
        }

        @media screen and (max-width: 768px) {
            .immersive-translate-toast {
                top: 0;
                padding: 12px 0px 0 10px;
            }

            .immersive-translate-toast-content {
                flex-direction: column;
                text-align: center;
            }

            .immersive-translate-toast-hidden {
                margin: 10px auto;
            }
        }

        .immersive-translate-modal {
            display: none;
            position: fixed;
            z-index: 2147483647;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgb(0, 0, 0);
            background-color: rgba(0, 0, 0, 0.4);
            font-size: 15px;
        }

        .immersive-translate-modal-content {
            background-color: #fefefe;
            margin: 10% auto;
            padding: 40px 24px 24px;
            border: 1px solid #888;
            border-radius: 10px;
            width: 80%;
            max-width: 270px;
            font-family: system-ui, -apple-system, "Segoe UI", "Roboto", "Ubuntu",
                "Cantarell", "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji",
                "Segoe UI Symbol", "Noto Color Emoji";
            position: relative;
        }

        @media screen and (max-width: 768px) {
            .immersive-translate-modal-content {
                margin: 50% auto !important;
            }
        }

        .immersive-translate-modal .immersive-translate-modal-content-in-input {
            max-width: 500px;
        }

        .immersive-translate-modal-content-in-input .immersive-translate-modal-body {
            text-align: left;
            max-height: unset;
        }

        .immersive-translate-modal-title {
            text-align: center;
            font-size: 16px;
            font-weight: 700;
            color: #333333;
        }

        .immersive-translate-modal-body {
            text-align: center;
            font-size: 14px;
            font-weight: 400;
            color: #333333;
            word-break: break-all;
            margin-top: 24px;
        }

        @media screen and (max-width: 768px) {
            .immersive-translate-modal-body {
                max-height: 250px;
                overflow-y: auto;
            }
        }

        .immersive-translate-close {
            color: #666666;
            position: absolute;
            right: 16px;
            top: 16px;
            font-size: 20px;
            font-weight: bold;
        }

        .immersive-translate-close:hover,
        .immersive-translate-close:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }

        .immersive-translate-modal-footer {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 24px;
        }

        .immersive-translate-btn {
            width: fit-content;
            color: #fff;
            background-color: #ea4c89;
            border: none;
            font-size: 16px;
            margin: 0 8px;
            padding: 9px 30px;
            border-radius: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        .immersive-translate-btn:hover {
            background-color: #f082ac;
        }

        .immersive-translate-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .immersive-translate-btn:disabled:hover {
            background-color: #ea4c89;
        }

        .immersive-translate-cancel-btn {
            /* gray color */
            background-color: rgb(89, 107, 120);
        }

        .immersive-translate-cancel-btn:hover {
            background-color: hsl(205, 20%, 32%);
        }

        .immersive-translate-action-btn {
            background-color: transparent;
            color: #ea4c89;
            border: 1px solid #ea4c89;
        }

        .immersive-translate-btn svg {
            margin-right: 5px;
        }

        .immersive-translate-link {
            cursor: pointer;
            user-select: none;
            -webkit-user-drag: none;
            text-decoration: none;
            color: #007bff;
            -webkit-tap-highlight-color: rgba(0, 0, 0, 0.1);
        }

        .immersive-translate-primary-link {
            cursor: pointer;
            user-select: none;
            -webkit-user-drag: none;
            text-decoration: none;
            color: #ea4c89;
            -webkit-tap-highlight-color: rgba(0, 0, 0, 0.1);
        }

        .immersive-translate-modal input[type="radio"] {
            margin: 0 6px;
            cursor: pointer;
        }

        .immersive-translate-modal label {
            cursor: pointer;
        }

        .immersive-translate-close-action {
            position: absolute;
            top: 2px;
            right: 0px;
            cursor: pointer;
        }

        .imt-image-status {
            background-color: rgba(0, 0, 0, 0.5) !important;
            display: flex !important;
            flex-direction: column !important;
            align-items: center !important;
            justify-content: center !important;
            border-radius: 16px !important;
        }

        .imt-image-status img,
        .imt-image-status svg,
        .imt-img-loading {
            width: 28px !important;
            height: 28px !important;
            margin: 0 0 8px 0 !important;
            min-height: 28px !important;
            min-width: 28px !important;
            position: relative !important;
        }

        .imt-img-loading {
            background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4CAMAAACfWMssAAAAtFBMVEUAAAD////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////oK74hAAAAPHRSTlMABBMIDyQXHwyBfFdDMSw+OjXCb+5RG51IvV/k0rOqlGRM6KKMhdvNyZBz9MaupmxpWyj437iYd/yJVNZeuUC7AAACt0lEQVRIx53T2XKiUBCA4QYOiyCbiAsuuGBcYtxiYtT3f6/pbqoYHVFO5r+iivpo6DpAWYpqeoFfr9f90DsYAuRSWkFnPO50OgR9PwiCUFcl2GEcx+N/YBh6pvKaefHlUgZd1zVe0NbYcQjGBfzrPE8Xz8aF+71D8gG6DHFPpc4a7xFiCDuhaWgKgGIJQ3d5IMGDrpS4S5KgpIm+en9f6PlAhKby4JwEIxlYJV9h5k5nee9GoxHJ2IDSNB0dwdad1NAxDJ/uXDHYmebdk4PdbkS58CIVHdYSUHTYYRWOJblWSyu2lmy3KNFVJNBhxcuGW4YBVCbYGRZwIooipHsNqjM4FbgOQqQqSKQQU9V8xmi1QlgHqQQ6DDBvRUVCDirs+EzGDGOQTCATgtYTnbCVLgsVgRE0T1QE0qHCFAht2z6dLvJQs3Lo2FQoDxWNUiBhaP4eRgwNkI+dAjVOA/kUrIDwf3CG8NfNOE0eiFotSuo+rBiq8tD9oY4Qzc6YJw99hl1wzpQvD7ef2M8QgnOGJfJw+EltQc+oX2yn907QB22WZcvlUpd143dqQu+8pCJZuGE4xCuPXJqqcs5sNpsI93Rmzym1k4Npk+oD1SH3/a3LOK/JpUBpWfqNySxWzCfNCUITuDG5dtuphrUJ1myeIE9bIsPiKrfqTai5WZxbhtNphYx6GEIHihyGFTI69lje/rxajdh0s0msZ0zYxyPLhYCb1CyHm9Qsd2H37Y3lugVwL9kNh8Ot8cha6fUNQ8nuXi5z9/ExsAO4zQrb/ev1yrCB7lGyQzgYDGuxq1toDN/JGvN+HyWNHKB7zEoK+PX11e12G431erGYzwmytAWU56fkMHY5JJnDRR2eZji3AwtIcrEV8Cojat/BdQ7XOwGV1e1hDjGGjXbdArm8uJZtCH5MbcctVX8A1WpqumJHwckAAAAASUVORK5CYII=");
            background-size: 28px 28px;
            animation: image-loading-rotate 1s linear infinite !important;
        }

        .imt-image-status span {
            color: var(--bg-2, #fff) !important;
            font-size: 14px !important;
            line-height: 14px !important;
            font-weight: 500 !important;
            font-family: "PingFang SC", Arial, sans-serif !important;
        }

        @keyframes image-loading-rotate {
            from {
                transform: rotate(360deg);
            }

            to {
                transform: rotate(0deg);
            }
        }
    </style>
    <style data-id="immersive-translate-default-injected-css">
        :root {
            --immersive-translate-theme-underline-borderColor: #72ece9;
            --immersive-translate-theme-nativeUnderline-borderColor: #72ece9;
            --immersive-translate-theme-nativeDashed-borderColor: #72ece9;
            --immersive-translate-theme-nativeDotted-borderColor: #72ece9;
            --immersive-translate-theme-highlight-backgroundColor: #ffff00;
            --immersive-translate-theme-dashed-borderColor: #59c1bd;
            --immersive-translate-theme-blockquote-borderColor: #cc3355;
            --immersive-translate-theme-thinDashed-borderColor: #ff374f;
            --immersive-translate-theme-dashedBorder-borderColor: #94a3b8;
            --immersive-translate-theme-dashedBorder-borderRadius: 0;
            --immersive-translate-theme-solidBorder-borderColor: #94a3b8;
            --immersive-translate-theme-solidBorder-borderRadius: 0;
            --immersive-translate-theme-dotted-borderColor: #94a3b8;
            --immersive-translate-theme-wavy-borderColor: #72ece9;
            --immersive-translate-theme-dividingLine-borderColor: #94a3b8;
            --immersive-translate-theme-grey-textColor: #2f4f4f;
            --immersive-translate-theme-marker-backgroundColor: #fbda41;
            --immersive-translate-theme-marker-backgroundColor-rgb: 251, 218, 65;
            --immersive-translate-theme-marker2-backgroundColor: #ffff00;
            --immersive-translate-theme-background-backgroundColor: #dbafaf;
            --immersive-translate-theme-background-backgroundColor-rgb: 219, 175, 175;
            --immersive-translate-theme-background-backgroundOpacity: 12;
            --immersive-translate-theme-opacity-opacity: 10;
        }

        [imt-state="dual"] .immersive-translate-target-translation-pre-whitespace {
            white-space: pre-wrap !important;
        }

        [imt-state="dual"] .immersive-translate-pdf-target-container {
            position: absolute;
            background-color: #fff;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica,
                sans-serif;
            top: 0;
            width: 600px;
            height: 100%;
            z-index: 2;
            line-height: 1.3;
            font-size: 16px;
        }

        [imt-state="dual"] .immersive-translate-target-wrapper[dir="rtl"] {
            text-align: right;
        }

        [imt-state="dual"] .immersive-translate-pdf-target-container .immersive-translate-target-wrapper {
            color: rgb(0, 0, 0);
            white-space: normal;
            position: absolute;
        }

        [imt-state="dual"] .immersive-translate-pdf-target-container .immersive-translate-target-wrapper font {
            color: inherit;
            white-space: inherit;
            position: unset;
        }

        [imt-state="translation"] .immersive-translate-target-wrapper &gt;

        br {
            display: none;
        }

        [imt-state="translation"] .immersive-translate-target-translation-block-wrapper {
            margin: 0 !important;
        }

        [imt-state="dual"] .immersive-translate-target-translation-block-wrapper {
            margin: 8px 0 !important;
            display: inline-block;
        }

        [imt-trans-position="before"] .immersive-translate-target-translation-block-wrapper {
            display: block;
        }

        [imt-trans-position="before"] .immersive-translate-target-translation-block-wrapper {
            margin-top: 0 !important;
        }

        [imt-state="dual"] .immersive-translate-target-translation-pdf-block-wrapper {
            margin: 0 !important;
            display: inline-block;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-grey-inner {
            color: var(--immersive-translate-theme-grey-textColor);
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-underline-inner {
            border-bottom: 1px solid var(--immersive-translate-theme-underline-borderColor) !important;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-nativeUnderline-inner {
            text-decoration: underline !important;
            text-decoration-color: var(--immersive-translate-theme-nativeUnderline-borderColor) !important;
        }

        [imt-state="dual"] .immersive-translate-target-translation-block-wrapper-theme-dashedBorder {
            border: 1px dashed var(--immersive-translate-theme-dashedBorder-borderColor) !important;
            border-radius: var(--immersive-translate-theme-dashedBorder-borderRadius) !important;
            padding: 6px;
            margin-top: 2px;
            display: inline-block;
        }

        [imt-state="dual"] .immersive-translate-target-translation-inline-wrapper-theme-dashedBorder {
            border: 1px dashed var(--immersive-translate-theme-dashedBorder-borderColor) !important;
            border-radius: var(--immersive-translate-theme-dashedBorder-borderRadius) !important;
            padding: 2px;
        }

        [imt-state="dual"] .immersive-translate-target-translation-block-wrapper-theme-solidBorder {
            border: 1px solid var(--immersive-translate-theme-solidBorder-borderColor) !important;
            border-radius: var(--immersive-translate-theme-solidBorder-borderRadius) !important;
            padding: 6px;
            margin-top: 2px;
            display: inline-block;
        }

        [imt-state="dual"] .immersive-translate-target-translation-inline-wrapper-theme-solidBorder {
            border: 1px solid var(--immersive-translate-theme-solidBorder-borderColor) !important;
            border-radius: var(--immersive-translate-theme-solidBorder-borderRadius) !important;
            padding: 2px;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-nativeDashed-inner {
            text-decoration: underline !important;
            text-decoration-color: var(--immersive-translate-theme-nativeDashed-borderColor) !important;
            text-decoration-style: dashed !important;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-thinDashed-inner {
            border-bottom: 1px dashed var(--immersive-translate-theme-thinDashed-borderColor) !important;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-dotted-inner {
            background-image: linear-gradient(to right,
                    var(--immersive-translate-theme-dotted-borderColor) 30%,
                    rgba(255, 255, 255, 0) 0%);
            background-position: bottom;
            background-size: 5px 1px;
            background-repeat: repeat-x;
            padding-bottom: 3px;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-nativeDotted-inner {
            text-decoration: underline !important;
            text-decoration-color: var(--immersive-translate-theme-nativeDotted-borderColor) !important;
            text-decoration-style: dotted !important;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-wavy-inner {
            text-decoration: underline !important;
            text-decoration-color: var(--immersive-translate-theme-wavy-borderColor) !important;
            text-decoration-style: wavy !important;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-dashed-inner {
            background: linear-gradient(to right,
                    var(--immersive-translate-theme-dashed-borderColor) 0%,
                    var(--immersive-translate-theme-dashed-borderColor) 50%,
                    transparent 50%,
                    transparent 100%) repeat-x left bottom;
            background-size: 8px 2px;
            padding-bottom: 2px;
        }

        [imt-state="dual"] .immersive-translate-target-translation-block-wrapper-theme-dividingLine::before {
            content: "";
            display: block;
            max-width: 80px;
            width: 10%;
            border-top: 1px dashed var(--immersive-translate-theme-dividingLine-borderColor);
            padding-top: 8px;
        }

        [imt-state="dual"] .immersive-translate-target-translation-inline-wrapper-theme-dividingLine::before {
            content: "";
            border-left: 1px dashed var(--immersive-translate-theme-dividingLine-borderColor);
            max-height: 16px;
            height: 16px;
            padding-left: 8px;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-highlight-inner {
            background: var(--immersive-translate-theme-highlight-backgroundColor);
            box-decoration-break: clone;
            -webkit-box-decoration-break: clone;
        }

        [imt-state="dual"] .immersive-translate-target-translation-block-wrapper-theme-marker {
            line-height: 1.5em;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-marker2-inner {
            font-weight: bold;
            text-shadow: 10px 0px 3px var(--immersive-translate-theme-marker2-backgroundColor),
                16px 3px 9px var(--immersive-translate-theme-marker2-backgroundColor),
                2px 0px 6px var(--immersive-translate-theme-marker2-backgroundColor),
                -12px 0px 12px var(--immersive-translate-theme-marker2-backgroundColor) !important;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-marker-inner {
            /* TODO: add more texture */
            background: linear-gradient(to right,
                    rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.1),
                    rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 3%,
                    rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 35%,
                    rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 70%,
                    rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.8) 95%,
                    rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.3));
            box-decoration-break: clone;
            -webkit-box-decoration-break: clone;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-weakening {
            opacity: 0.618 !important;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-italic {
            font-style: italic !important;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-bold {
            font-weight: bold !important;
        }

        [imt-state="dual"] .immersive-translate-target-translation-block-wrapper-theme-paper {
            margin: 8px 0;
            box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;
            padding: 16px 32px;
            display: inline-block;
        }

        [imt-state="dual"] .immersive-translate-target-translation-block-wrapper-theme-blockquote {
            border-left: 4px solid var(--immersive-translate-theme-blockquote-borderColor) !important;
            padding-left: 12px !important;
            margin-top: 4px;
            margin-bottom: 4px;
            padding-top: 4px;
            padding-bottom: 4px;
            display: inline-block;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-mask-inner {
            filter: blur(5px) !important;
            transition: filter 0.3s ease !important;
            border-radius: 10px;
            display: inline-block;
        }

        [data-immersive-translate-root-translation-theme="none"] .immersive-translate-target-translation-theme-mask-inner {
            filter: none !important;
        }

        [data-immersive-translate-root-translation-theme="mask"] .immersive-translate-target-inner {
            filter: blur(5px) !important;
            transition: filter 0.3s ease !important;
            border-radius: 10px;
            display: inline-block;
        }

        /* opacity theme start */

        [imt-state="dual"] .immersive-translate-target-translation-theme-opacity-inner {
            filter: opacity(calc(var(--immersive-translate-theme-opacity-opacity) * 1%)) !important;
            transition: filter 0.3s ease !important;
            border-radius: 10px;
            display: inline-block;
        }

        [data-immersive-translate-root-translation-theme="none"] .immersive-translate-target-translation-theme-opacity-inner {
            filter: none !important;
        }

        [data-immersive-translate-root-translation-theme="opacity"] .immersive-translate-target-inner,
        [imt-state="dual"] .immersive-translate-target-translation-theme-opacity-inner:hover {
            filter: opacity(calc(var(--immersive-translate-theme-opacity-opacity) * 1%)) !important;
            transition: filter 0.3s ease !important;
            border-radius: 10px;
            display: inline-block;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-opacity-inner:hover {
            filter: none !important;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-mask-inner:hover {
            filter: none !important;
        }

        [data-immersive-translate-root-translation-theme="opacity"] .immersive-translate-target-inner:hover {
            filter: none !important;
        }

        [data-immersive-translate-root-translation-theme="mask"] .immersive-translate-target-inner:hover {
            filter: none !important;
        }

        /* opacity theme end */

        /* background theme start */
        [imt-state="dual"] .immersive-translate-target-translation-block-wrapper-theme-background {
            margin: 8px 0;
            background: rgba(var(--immersive-translate-theme-background-backgroundColor-rgb),
                    calc(var(--immersive-translate-theme-background-backgroundOpacity) * 1%));
            border-radius: 4px;
            box-shadow: unset !important;
            padding: 12px;
            display: inline-block;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-background-inner {
            background: rgba(var(--immersive-translate-theme-background-backgroundColor-rgb),
                    calc(var(--immersive-translate-theme-background-backgroundOpacity) * 1%));
            padding-left: 6px;
            padding-right: 6px;
            box-decoration-break: clone;
            -webkit-box-decoration-break: clone;
        }

        [imt-state="dual"] .immersive-translate-target-translation-block-wrapper .immersive-translate-target-translation-theme-background-inner {
            background: unset;
            padding-left: unset;
            padding-right: unset;
        }

        /* background theme end */

        /* vertical css , please remain it in the last one. */
        .immersive-translate-target-translation-vertical-block-wrapper {
            margin: 0px 8px !important;
        }

        .immersive-translate-text {
            font-size: 15px !important;
        }

        .immersive-translate-error-toast {
            position: fixed;
            top: 5%;
            z-index: 99999999;
            left: 0;
            right: 0;
            margin: auto;
            max-width: 300px;
            padding: 16px;
            border-radius: 12px;
            background-color: rgba(0, 0, 0, 0.8);
            display: flex;
            flex-direction: row;
            justify-content: space-between;
        }

        @media all and (min-width: 750px) {
            .immersive-translate-error-toast {
                max-width: 400px;
            }
        }

        .immersive-translate-clickable-button {
            cursor: pointer;
        }

        .immersive-translate-help-button {
            cursor: pointer;
        }

        .immersive-translate-loading-text:before {
            content: "...";
        }

        /* dark mode for loading */

        @media only screen and (prefers-color-scheme: dark) {
            .immersive-translate-loading {
                border: 2px rgba(255, 255, 255, 0.25) solid !important;
                border-top: 2px rgba(255, 255, 255, 1) solid !important;
            }
        }

        .immersive-translate-error-wrapper {
            position: relative;
            display: inline-flex;
            padding: 6px;
            margin: 0 12px;
            white-space: nowrap;
            font-size: 0.9em;
        }

        [lang="zh-CN"] .immersive-translate-error-wrapper {
            font-size: 0.75em;
        }

        [lang="zh-TW"] .immersive-translate-error-wrapper {
            font-size: 0.75em;
        }

        .immersive-translate-tooltip {
            position: relative;
            display: inline-flex;
            /* little indicater to indicate it's hoverable */
        }

        .immersive-translate-tooltip-content {
            /* here's the magic */
            position: absolute;
            z-index: 100000000000;

            left: 50%;
            bottom: 0;
            transform: translate(-50%, 110%);
            line-height: 1;
            /* and add a small left margin */

            /* basic styles */
            width: max-content;
            max-width: 250px;
            word-wrap: break-word;
            white-space: pre-line;
            padding: 10px;
            border-radius: 10px;
            background: #000c;
            color: #fff;
            text-align: center;
            font-size: 14px;
            display: none;
            /* hide by default */
        }

        .immersive-translate-tooltip:hover .immersive-translate-tooltip-content {
            display: inline-block;
        }

        .immersive-translate-tooltip:hover+.immersive-translate-tooltip-content {
            display: inline-block;
        }

        .immersive-translate-tooltip-content-table {
            left: unset !important;
            bottom: unset !important;
            transform: translate(-10%, 50%) !important;
        }

        .immersive-translate-tooltip:hover:before {
            display: inline-block;
        }

        .immersive-translate-loading-spinner {
            vertical-align: middle !important;
            width: 10px !important;
            height: 10px !important;
            display: inline-block !important;
            margin: 0 4px !important;
            border: 2px rgba(221, 244, 255, 0.6) solid !important;
            border-top: 2px rgba(0, 0, 0, 0.375) solid !important;
            border-left: 2px rgba(0, 0, 0, 0.375) solid !important;
            border-radius: 50% !important;
            padding: 0 !important;
            -webkit-animation: immersive-translate-loading-animation 0.6s infinite linear !important;
            animation: immersive-translate-loading-animation 0.6s infinite linear !important;
        }

        @-webkit-keyframes immersive-translate-loading-animation {
            from {
                -webkit-transform: rotate(0deg);
            }

            to {
                -webkit-transform: rotate(359deg);
            }
        }

        @keyframes immersive-translate-loading-animation {
            from {
                transform: rotate(0deg);
            }

            to {
                transform: rotate(359deg);
            }
        }

        .imt-image-status {
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: var(--bg-2, #fff);
            font-size: 14px;
        }
    </style>
    <style data-id="immersive-translate-user-custom-style">
        :root {

            .immersive-translate-target-inner {
                font-family: inherit;
            }


            .immersive-translate-target-inner {
                font-family: inherit;
            }
        }
    </style>
    <style data-id="immersive-translate-dynamic-injected-css">
        .immersive-translate-target-wrapper[dir='rtl'] {
            text-align: right;
        }

        .immersive-translate-target-wrapper[dir='rtl'] [data-immersive-translate-class-bak*='block-wrapper'] {
            display: block;
        }

        .immersive-translate-target-wrapper {
            word-break: break-word;
            user-select: text;
        }

        [imt-state="translation"] .immersive-translate-target-wrapper[dir='rtl'] {
            display: inline-block;
        }

        [dir='rtl'] .immersive-translate-target-wrapper:not([dir]) {
            text-align: left;
        }

        [imt-state=dual] .immersive-translate-target-translation-block-wrapper-theme-dividingLine::before {
            display: block;
        }

        [imt-trans-position=before] .immersive-translate-target-translation-block-wrapper {
            display: block !important;
        }

        [imt-state][data-immersive-translate_rtl] .immersive-translate-target-wrapper {
            display: block !important;
        }
    </style>
</head>

<body epub:type="bodymatter" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
    <section aria-labelledby="c08_1" epub:type="chapter" role="doc-chapter"
        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
        <header data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
            <h1 id="c08_1" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                data-immersive-translate-paragraph="1"><span aria-label="193" epub:type="pagebreak" id="Page_193"
                    role="doc-pagebreak"
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"></span><span id="c08"
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"></span><span
                    class="chapterNumber"
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">8</span><br /><span
                    class="chapterTitle"
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Collections</span></h1>
        </header>
        <section aria-label="chapter opening" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
            <span id="c08-sec-0001" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"></span>
            <aside data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                <div class="top hr" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                    <hr />
                </div>
                <section class="feature3" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                    <h3 data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                        data-immersive-translate-paragraph="1">WHAT'S IN THIS CHAPTER?<font
                            class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">本章内容</font>
                            </font>
                        </font>
                    </h3>
                    <ul class="check2" id="c08-list-0001"
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                        <li id="c08-li-0001" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1">Understanding collection interfaces and types<font
                                class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">理解集合接口和类型</font>
                                </font>
                            </font>
                        </li>
                        <li id="c08-li-0002" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1">Working with lists, queues, and stacks<font
                                class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">使用列表、队列和栈</font>
                                </font>
                            </font>
                        </li>
                        <li id="c08-li-0003" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1">Working with linked and sorted lists<font
                                class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">使用链表和排序列表</font>
                                </font>
                            </font>
                        </li>
                        <li id="c08-li-0004" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1">Using dictionaries and sets<font
                                class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">使用字典和集合</font>
                                </font>
                            </font>
                        </li>
                        <li id="c08-li-0005" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1">Evaluating performance<font
                                class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                                <font class="notranslate" data-immersive-translate-translation-element-mark="1">  
                                </font>
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">评估性能</font>
                                </font>
                            </font>
                        </li>
                        <li id="c08-li-0006" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1">Using immutable collections<font
                                class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">使用不可变集合</font>
                                </font>
                            </font>
                        </li>
                    </ul>
                    <div class="bottom hr" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                        <hr />
                    </div>
                </section>
            </aside>
            <aside data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                <div class="top hr" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                    <hr />
                </div>
                <section class="feature3" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"><span
                        id="c08-fea-0001" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"></span>
                    <h3 id="head-2-69" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                        data-immersive-translate-paragraph="1">CODE DOWNLOADS FOR THIS CHAPTER<font
                            class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">本章代码下载</font>
                            </font>
                        </font>
                    </h3>
                    <section data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"><span
                            id="c08-sec-0002"
                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"></span>
                        <p id="c08-para-0003" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1">The source code for this chapter is available on the
                            book page at <code
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"><a href="http://www.wiley.com">www.wiley.com</a></code>.
                            Click the Downloads link. The code can also be found at <code
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"><a href="https://github.com/ProfessionalCSharp/ProfessionalCSharp2021">https://github.com/ProfessionalCSharp/ProfessionalCSharp2021</a></code>
                            in the directory <code
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">1_CS/Collections</code>.
                            <font class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">本章的源代码可在第 <code
                                            xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"><a href="http://www.wiley.com">www.wiley.com</a></code>
                                        页的书籍页面上找到。点击下载链接。代码也可以在第 <code xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"><a href="https://github.com/ProfessionalCSharp/ProfessionalCSharp2021">https://github.com/ProfessionalCSharp/ProfessionalCSharp2021</a></code>
                                        处的 <code xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">1_CS/Collections</code>
                                        目录中找到。</font>
                                </font>
                            </font>
                        </p>
                        <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1">The code for this chapter is divided into the
                            following major examples:<font class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">本章的代码分为以下主要示例：</font>
                                </font>
                            </font>
                        </p>
                        <ul class="check" id="c08-list-0002"
                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                            <li id="c08-li-0007" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                                data-immersive-translate-paragraph="1">ListSamples</li>
                            <li id="c08-li-0008" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                                data-immersive-translate-paragraph="1">QueueSample</li>
                            <li id="c08-li-0009" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                                data-immersive-translate-paragraph="1">LinkedListSample</li>
                            <li id="c08-li-0010" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                                data-immersive-translate-paragraph="1">SortedListSample</li>
                            <li id="c08-li-0011" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                                data-immersive-translate-paragraph="1">DictionarySample</li>
                            <li id="c08-li-0012" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                                data-immersive-translate-paragraph="1">SetSample<font
                                    class="notranslate immersive-translate-target-wrapper"
                                    data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                                    <font class="notranslate" data-immersive-translate-translation-element-mark="1">  
                                    </font>
                                    <font
                                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                                        data-immersive-translate-translation-element-mark="1">
                                        <font
                                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                            data-immersive-translate-translation-element-mark="1">设置样本</font>
                                    </font>
                                </font>
                            </li>
                            <li id="c08-li-0013" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                                data-immersive-translate-paragraph="1">ImmutableCollectionsSample<font
                                    class="notranslate immersive-translate-target-wrapper"
                                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                    <font
                                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                        data-immersive-translate-translation-element-mark="1">
                                        <font
                                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                            data-immersive-translate-translation-element-mark="1">不可变集合样本</font>
                                    </font>
                                </font>
                            </li>
                        </ul>
                        <p id="c08-para-0005" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1">All the projects have nullable reference types
                            enabled.<font class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">所有项目都启用了可空引用类型。 </font>
                                </font>
                            </font>
                        </p>
                    </section>
                    <div class="bottom hr" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                        <hr />
                    </div>
                </section>
            </aside>
        </section> <span aria-label="194" epub:type="pagebreak" id="Page_194" role="doc-pagebreak"
            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"></span>
        <section aria-labelledby="head-2-70" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
            <span id="c08-sec-0003" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"></span>
            <h2 id="head-2-70" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                data-immersive-translate-paragraph="1">OVERVIEW<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                    <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">概述</font>
                    </font>
                </font>
            </h2>
            <p id="c08-para-0006" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                data-immersive-translate-paragraph="1"><a href="c06.xhtml"
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Chapter 6</a>, “Arrays,”
                covers arrays and the interfaces implemented by the <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Array</code> class. The size
                of arrays is fixed. If the number of elements is dynamic, you should use a collection class instead of
                an array.<font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">第六章，“数组”，介绍了数组以及 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Array</code>
                            类实现的接口。数组的长度是固定的。如果元素数量是动态的，你应该使用集合类而不是数组。</font>
                    </font>
                </font>
            </p>
            <p id="c08-para-0007" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                data-immersive-translate-paragraph="1">
                <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">List&lt;T&gt;</code> is a
                collection class that can be compared to arrays, but there are also other kinds of collections: queues,
                stacks, linked lists, dictionaries, and sets. The other collection classes have partly different APIs to
                access the elements in the collection and often a different internal structure for how the items are
                stored in memory. This chapter covers all of these collection classes and their differences, including
                performance differences.<font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1"> <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">List&lt;T&gt;</code>
                            是一个可以与数组相比的集合类，但也有其他类型的集合：队列、栈、链表、字典和集合。其他集合类在访问集合中的元素方面具有部分不同的
                            API，并且通常在内存中存储项目的方式上有不同的内部结构。本章涵盖了所有这些集合类及其差异，包括性能差异。</font>
                    </font>
                </font>
            </p>
        </section>
        <section aria-labelledby="head-2-71" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
            <span id="c08-sec-0004" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"></span>
            <h2 id="head-2-71" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                data-immersive-translate-paragraph="1">COLLECTION INTERFACES AND TYPES<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">集合接口和类型</font>
                    </font>
                </font>
            </h2>
            <p id="c08-para-0008" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                data-immersive-translate-paragraph="1">Most collection classes are in the <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">System.Collections</code> and
                <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">System.Collections.Generic</code>
                namespaces. Generic collection classes are located in the <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">System.Collections.Generic</code>
                namespace. Collection classes that are specialized for a specific type are located in the <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">System.Collections.Specialized</code>
                namespace. Thread-safe collection classes are in the <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">System.Collections.Concurrent</code>
                namespace. Immutable collection classes are in the <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">System.Collections.Immutable</code>
                namespace.<font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">大多数集合类位于 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">System.Collections</code>
                            和 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">System.Collections.Generic</code>
                            命名空间中。泛型集合类位于 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">System.Collections.Generic</code>
                            命名空间中。针对特定类型进行特殊化的集合类位于 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">System.Collections.Specialized</code>
                            命名空间中。线程安全的集合类位于 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">System.Collections.Concurrent</code>
                            命名空间中。不可变的集合类位于 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">System.Collections.Immutable</code>
                            命名空间中。</font>
                    </font>
                </font>
            </p>
            <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                data-immersive-translate-paragraph="1">Of course, there are also other ways to group collection classes.
                Collections can be grouped into lists, collections, and dictionaries based on the interfaces that are
                implemented by the collection class.<font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">
                            当然，还有其他方法可以对集合类进行分组。根据集合类实现的接口，集合可以分组为列表、集合和字典。</font>
                    </font>
                </font>
            </p>
            <aside data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                <div class="top hr" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                    <hr />
                </div>
                <section class="feature2" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                    <p id="c08-para-0010" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                        data-immersive-translate-paragraph="1"><b
                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">NOTE</b> <i
                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">You can read detailed
                            information about the interfaces </i>
                        <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IEnumerable</code>
                        <i data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"> and </i>
                        <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IEnumerator</code>
                        <i data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"> in <a
                                href="c06.xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Chapter
                                6</a>.</i>
                        <font class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">注意 您可以在第 6 章中找到有关接口 <code
                                        xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IEnumerable</code>
                                    和 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IEnumerator</code>
                                    的详细信息。</font>
                            </font>
                        </font>
                    </p>
                    <div class="bottom hr" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                        <hr />
                    </div>
                </section>
            </aside>
            <p id="c08-para-0011" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                data-immersive-translate-paragraph="1">The following table describes the most important interfaces
                implemented by collections and lists:<font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">下表描述了集合和列表实现的最重要接口：</font>
                    </font>
                </font>
            </p>
            <table border="1" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                <thead data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                    <tr data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                        <th class="left bgcolor2" scope="col">INTERFACE</th>
                        <th class="left bgcolor2" scope="col">DESCRIPTION</th>
                    </tr>
                </thead>
                <tbody data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                    <tr data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                        <td class="left bgcolor3"
                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"><code
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IEnumerable&lt;T&gt;</code>
                        </td>
                        <td class="left bgcolor3" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1">The interface <code
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IEnumerable</code>
                            is required by the <code
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">foreach</code>
                            statement. This interface defines the method <code
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">GetEnumerator</code>,
                            which returns an enumerator that implements the <code
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IEnumerator</code>
                            interface.<font class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">接口 <code
                                            xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IEnumerable</code>
                                        由 <code xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">foreach</code>
                                        语句要求。该接口定义了方法 <code xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">GetEnumerator</code>
                                        ，该方法返回一个实现 <code xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IEnumerator</code>
                                        接口的枚举器。</font>
                                </font>
                            </font>
                        </td>
                    </tr>
                    <tr data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                        <td class="left bgcolor3"
                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"><code
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ICollection&lt;T&gt;</code>
                        </td>
                        <td class="left bgcolor3" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1"><code
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ICollection&lt;T&gt;</code>
                            is implemented by generic collection classes. With this you can get the number of items in
                            the collection (<code
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Count</code>
                            property) and copy the collection to an array (<code
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">CopyTo</code>
                            method). You can also add and remove items from the collection (<code
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Add</code>, <code
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Remove</code>,
                            <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Clear</code>).
                            <font class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1"> <code
                                            xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ICollection&lt;T&gt;</code>
                                        由泛型集合类实现。通过这种方式，您可以获取集合中的项目数量（ <code xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Count</code>
                                        属性）并将集合复制到数组（ <code xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">CopyTo</code>
                                        方法）。您还可以向集合中添加和删除项目（ <code xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Add</code>
                                        ， <code xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Remove</code>
                                        ， <code xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Clear</code>
                                        ）。</font>
                                </font>
                            </font>
                        </td>
                    </tr>
                    <tr data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                        <td class="left bgcolor3"
                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"><code
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IList&lt;T&gt;</code>
                        </td>
                        <td class="left bgcolor3" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1">The <code
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IList&lt;T&gt;</code>
                            interface is for lists where elements can be accessed from their position. This interface
                            defines an indexer, as well as ways to insert or remove items from specific positions (<code
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Insert</code>,
                            <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">RemoveAt</code>
                            methods). <code
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IList&lt;T&gt;</code>
                            derives from <code
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ICollection&lt;T&gt;</code>.
                            <font class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1"> <code
                                            xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IList&lt;T&gt;</code>
                                        接口用于元素可以通过位置访问的列表。该接口定义了一个索引器，以及从特定位置插入或删除项目的方法（ <code
                                            xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Insert</code>
                                        、 <code xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">RemoveAt</code>
                                        方法）。 <code xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IList&lt;T&gt;</code>
                                        继承自 <code xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ICollection&lt;T&gt;</code>
                                        。</font>
                                </font>
                            </font>
                        </td>
                    </tr>
                    <tr data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                        <td class="left bgcolor3"
                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"><code
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ISet&lt;T&gt;</code>
                        </td>
                        <td class="left bgcolor3" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1">This interface is implemented by sets. Sets allow
                            combining different sets into a union, getting the intersection of two sets, and checking
                            whether two sets overlap. <code
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ISet&lt;T&gt;</code>
                            derives from <code
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ICollection&lt;T&gt;</code>.
                            <font class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">
                                        该接口由集合实现。集合允许将不同的集合合并为并集，获取两个集合的交集，以及检查两个集合是否重叠。 <code
                                            xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ISet&lt;T&gt;</code>
                                        继承自 <code xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ICollection&lt;T&gt;</code>
                                        。</font>
                                </font>
                            </font>
                        </td>
                    </tr>
                    <tr data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                        <td class="left bgcolor3"
                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"><code
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IDictionary&lt;TKey, TValue&gt;</code>
                        </td>
                        <td class="left bgcolor3" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1">The interface <code
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IDictionary&lt;TKey, TValue&gt;</code>
                            is implemented by generic collection classes that have a key and a value. With this
                            interface, all the keys and values can be accessed, items can be accessed with an indexer of
                            type <code
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">TKey</code>, and
                            items can be added or removed.<font class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1"> <code
                                            xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IDictionary&lt;TKey, TValue&gt;</code>
                                        接口由具有键和值的泛型集合类实现。通过该接口，可以访问所有键和值，可以使用类型为 <code
                                            xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">TKey</code>
                                        的索引器访问项目，并且可以添加或删除项目。</font>
                                </font>
                            </font>
                        </td>
                    </tr>
                    <tr data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                        <td class="left bgcolor3"
                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"><code
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ILookup&lt;TKey, TValue&gt;</code>
                        </td>
                        <td class="left bgcolor3" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1">Similar to the <code
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IDictionary&lt;TKey, TValue&gt;</code>
                            interface, lookups have keys and values. However, with lookups, the collection can contain
                            multiple values with one key.<font class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">类似于 <code
                                            xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IDictionary&lt;TKey, TValue&gt;</code>
                                        接口，查找操作也有键和值。但是，在查找操作中，集合可以包含多个具有一个键的值。</font>
                                </font>
                            </font>
                        </td>
                    </tr>
                    <tr data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                        <td class="left bgcolor3"
                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"><code
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IComparer&lt;T&gt;</code>
                        </td>
                        <td class="left bgcolor3" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1">The interface <code
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IComparer&lt;T&gt;</code>
                            is implemented by a comparer and used to sort elements inside a collection with the <code
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Compare</code>
                            method.<font class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">接口 <code
                                            xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IComparer&lt;T&gt;</code>
                                        由比较器实现，并用于使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Compare</code>
                                        方法对集合内的元素进行排序。</font>
                                </font>
                            </font>
                        </td>
                    </tr>
                    <tr data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                        <td class="left bgcolor3"
                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"><code
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IEqualityComparer&lt;T&gt;</code>
                        </td>
                        <td class="left bgcolor3" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1"><code
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IEqualityComparer&lt;T&gt;</code>
                            is implemented by a comparer that can be used for keys in a dictionary. With this interface,
                            the objects can be compared for equality.<font
                                class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1"> <code
                                            xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IEqualityComparer&lt;T&gt;</code>
                                        由一个比较器实现，该比较器可用于字典的键。通过这个接口，对象可以进行相等性比较。</font>
                                </font>
                            </font><span aria-label="195" epub:type="pagebreak" id="Page_195" role="doc-pagebreak"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"></span></td>
                    </tr>
                </tbody>
            </table>
        </section>
        <section aria-labelledby="head-2-72" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
            <span id="c08-sec-0006" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"></span>
            <h2 id="head-2-72" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                data-immersive-translate-paragraph="1">LISTS<font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                    <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">列表</font>
                    </font>
                </font>
            </h2>
            <p id="c08-para-0014" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                data-immersive-translate-paragraph="1">For resizable lists, .NET offers the generic class <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">List&lt;T&gt;</code>. This
                class implements the <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IList</code>, <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ICollection</code>, <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IEnumerable</code>, <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IList&lt;T&gt;</code>, <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ICollection&lt;T&gt;</code>,
                and <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IEnumerable&lt;T&gt;</code>
                interfaces.<font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">对于可调整大小的列表，.NET 提供了泛型类 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">List&lt;T&gt;</code>
                            。此类实现了 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IList</code> 、
                            <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ICollection</code>
                            、 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IEnumerable</code>
                            、 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IList&lt;T&gt;</code>
                            、 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ICollection&lt;T&gt;</code>
                            和 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IEnumerable&lt;T&gt;</code>
                            接口。</font>
                    </font>
                </font>
            </p>
            <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                data-immersive-translate-paragraph="1">The following examples use the members of the record <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Racer</code> as elements to
                be added to the collection to represent a Formula 1 racer. This type has five properties: <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Id</code>, <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">FirstName</code>, <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">LastName</code>, <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Country</code>, and the
                number of <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Wins</code> as
                specified with the positional record constructor. An overloaded constructor allows you to specify only
                four values when initializing the object. The method <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ToString</code> is overridden
                to return the name of the racer. The record <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Racer</code> also implements
                the generic interface <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IComparable&lt;T&gt;</code>
                for sorting racer elements and <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IFormattable</code> to allow
                passing custom format strings (code file <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ListSamples/Racer.cs</code>):
                <font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">以下示例使用记录 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Racer</code>
                            的成员作为要添加到集合中的元素，以表示一位 F1 赛车手。该类型有五个属性： <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Id</code> 、 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">FirstName</code>
                            、 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">LastName</code> 、
                            <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Country</code>
                            ，以及使用位置记录构造函数指定的 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Wins</code>
                            的数量。重载的构造函数允许你在初始化对象时只指定四个值。方法 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ToString</code>
                            被重写以返回赛车手的名称。记录 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Racer</code>
                            还实现了用于对赛车元素进行排序的通用接口 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IComparable&lt;T&gt;</code>
                            ，以及 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IFormattable</code>
                            以允许传递自定义格式字符串（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ListSamples/Racer.cs</code>
                            ）：</font>
                    </font>
                </font>
            </p>
            <pre id="c08-code-0001"><code>public record Racer(int ID, string FirstName, string LastName, string Country, </code>
<code>  int Wins) : IComparable&lt;Racer&gt;, IFormattable</code>
<code>{</code>
<code>  public Racer(int id, string firstName, string lastName, string country)</code>
<code>    : this(id, firstName, lastName, country, Wins: 0)</code>
<code>  { }</code>
<code> </code>
<code>  public override string ToString() =&gt; $"{FirstName} {LastName}";</code>
<code> </code>
<code>  public string ToString(string? format, IFormatProvider? formatProvider) =&gt;</code>
<code>    format?.ToUpper() switch</code>
<code>    {</code>
<code>      null =&gt; ToString(),</code>
<code>      "N" =&gt; ToString(),</code>
<code>      "F" =&gt; FirstName,</code>
<code>      "L" =&gt; LastName,</code>
<code>      "W" =&gt; $"{ToString()}, Wins: {Wins}",</code>
<code>      "C" =&gt; Country,</code>
<code>      "A" =&gt; $"{ToString()}, Country: {Country}, Wins: {Wins}",<span aria-label="196" epub:type="pagebreak" id="Page_196" role="doc-pagebreak"></span></code>
<code>      _ =&gt; throw new FormatException(string.Format(formatProvider,</code>
<code>        "Format {0} is not supported", format))</code>
<code>    };</code>
<code> </code>
<code>  public string? ToString(string format) =&gt; ToString(format, null);</code>
<code> </code>
<code>  public int CompareTo(Racer? other)</code>
<code>  {</code>
<code>    int compare = LastName?.CompareTo(other?.LastName) ?? -1;</code>
<code>    if (compare == 0)</code>
<code>    {</code>
<code>      return FirstName?.CompareTo(other?.FirstName) ?? -1;</code>
<code>    }</code>
<code>    return compare;</code>
<code>  }</code>
<code>}</code></pre>
            <section data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"><span id="c08-sec-0007"
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"></span>
                <h3 id="head-3-169" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">Creating Lists <font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                        <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">创建列表</font>
                        </font>
                    </font>
                </h3>
                <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">You can create list objects by invoking the default
                    constructor. With the generic class <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">List&lt;T&gt;</code>, you
                    must specify the type for the values of the list with the declaration. The following code shows how
                    to declare a <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">List&lt;T&gt;</code> with
                    <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">int</code> and a list
                    with <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Racer</code>
                    elements. <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ArrayList</code> is a
                    nongeneric list that accepts any <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Object</code> type for
                    its elements.<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">你可以通过调用默认构造函数来创建列表对象。使用泛型类 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">List&lt;T&gt;</code>
                                时，你必须在声明中指定列表值的类型。以下代码展示了如何声明一个 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">List&lt;T&gt;</code>
                                并创建一个包含 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">int</code>
                                个元素的列表。 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ArrayList</code>
                                是一个非泛型列表，可以接受任何 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Object</code>
                                类型的元素。</font>
                        </font>
                    </font>
                </p>
                <pre id="c08-code-0002"><code>List&lt;int&gt; intList = new();</code>
<code>List&lt;Racer&gt; racers = new();</code></pre>
                <p id="c08-para-0017" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">Using the default constructor creates an empty list. As soon
                    as elements are added to the list, the capacity of the list is extended to allow 4 elements. If the
                    fifth element is added, the list is resized to allow 8 elements. If 8 elements are not enough, the
                    list is resized again to contain 16 elements. With every resize, the capacity of the list is
                    doubled.<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">
                                使用默认构造函数创建的列表是空的。一旦向列表中添加元素，列表的容量会扩展以容纳 4 个元素。如果添加第五个元素，列表会调整大小以容纳 8 个元素。如果 8
                                个元素仍然不够，列表会再次调整大小以容纳 16 个元素。每次调整大小时，列表的容量都会翻倍。</font>
                        </font>
                    </font>
                </p>
                <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">When the capacity of the list changes, the complete
                    collection is reallocated to a new memory block. With the implementation of <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">List&lt;T&gt;</code>, an
                    array of type <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">T</code>
                    is used. With reallocation, a new array is created, and <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Array.Copy</code> copies
                    the elements from the old array to the new array. To save time, if you know the number of elements
                    that should be in the list in advance, you can define the capacity with the constructor. The
                    following example creates a collection with a capacity of 10 elements. If the capacity is not large
                    enough for the elements added, the capacity is resized to 20 and then to 40 elements—doubled again:
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">
                                当列表的容量发生变化时，完整的集合会被重新分配到一个新的内存块中。通过 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">List&lt;T&gt;</code>
                                的实现，使用了一个类型为 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">T</code>
                                的数组。在重新分配时，会创建一个新数组，并且 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Array.Copy</code>
                                将旧数组中的元素复制到新数组中。为了节省时间，如果你提前知道列表中应该有多少元素，可以通过构造函数定义容量。以下示例创建了一个容量为 10
                                个元素的集合。如果添加的元素容量不够，容量会先调整为 20 个元素，然后调整为 40 个元素——再次翻倍：</font>
                        </font>
                    </font>
                </p>
                <pre id="c08-code-0003"><code>List&lt;int&gt; intList = new(10);</code></pre>
                <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">You can get and set the capacity of a collection by using the
                    <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Capacity</code>
                    property:<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">你可以通过使用 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Capacity</code>
                                属性来获取和设置集合的容量：</font>
                        </font>
                    </font>
                </p>
                <pre id="c08-code-0004"><code>intList.Capacity = 20;</code></pre>
                <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">The capacity is not the same as the number of elements in the
                    collection. The number of elements in the collection can be read with the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Count</code> property. Of
                    course, the capacity is always larger or equal to the number of items. As long as no element was
                    added to the list, the count is 0:<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">容量与集合中的元素数量并不相同。集合中的元素数量可以通过 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Count</code>
                                属性读取。当然，容量总是大于或等于元素的数量。只要列表中没有添加任何元素，计数就是 0：</font>
                        </font>
                    </font>
                </p>
                <pre id="c08-code-0005"><code>Console.WriteLine(intList.Count);</code></pre>
                <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">If you are finished adding elements to the list and don't
                    want to add any more, you can get rid of the unneeded capacity by invoking the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">TrimExcess</code> method;
                    however, because the relocation takes time, <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">TrimExcess</code> has no
                    effect if the item count is more than 90 percent of capacity:<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">如果你已经完成向列表中添加元素，并且不再想添加更多元素，可以通过调用
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">TrimExcess</code>
                                方法来消除未使用的容量；然而，由于重新定位需要时间，如果元素数量超过容量的 90%， <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">TrimExcess</code>
                                将没有效果：</font>
                        </font>
                    </font>
                </p>
                <pre id="c08-code-0006"><code>intList.TrimExcess();</code></pre>
            </section> <span aria-label="197" epub:type="pagebreak" id="Page_197" role="doc-pagebreak"
                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"></span>
            <section data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"><span id="c08-sec-0008"
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"></span>
                <h3 id="head-3-170" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">Collection Initializers <font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                        <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">集合初始化器 </font>
                        </font>
                    </font>
                </h3>
                <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">You can also assign values to collections using collection
                    initializers. The syntax of collection initializers is similar to array initializers, which are
                    explained in <a href="c06.xhtml"
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Chapter 6</a>. With a
                    collection initializer, values are assigned to the collection within curly brackets at the time the
                    collection is initialized:<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">
                                你也可以使用集合初始化器为集合赋值。集合初始化器的语法与数组初始化器相似，数组初始化器在第六章中有介绍。使用集合初始化器时，值在集合初始化时被分配到集合中，格式为花括号内的值：
                            </font>
                        </font>
                    </font>
                </p>
                <pre id="c08-code-0007"><code>List&lt;int&gt; intList = new() <b>{1, 2}</b>;</code>
<code>List&lt;string&gt; stringList = new() <b>{ "one", "two" }</b>;</code></pre>
                <aside data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                    <div class="top hr" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                        <hr />
                    </div>
                    <section class="feature2" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                        <p id="c08-para-0024" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1"><b
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">NOTE</b> <i
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Collection
                                initializers are not reflected within the IL code of the compiled assembly. The compiler
                                converts the collection initializer to invoke the </i> <code
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Add</code> <i
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"> method for every
                                item from the initializer list.</i>
                            <font class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">注意 集合初始化器不会反映在编译程序的 IL
                                        代码中。编译器将集合初始化器转换为对初始化列表中的每个元素调用 <code xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Add</code>
                                        方法。</font>
                                </font>
                            </font>
                        </p>
                        <div class="bottom hr" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                            <hr />
                        </div>
                    </section>
                </aside>
            </section>
            <section data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"><span id="c08-sec-0010"
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"></span>
                <h3 id="head-3-171" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">Adding Elements <font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                        <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">添加元素</font>
                        </font>
                    </font>
                </h3>
                <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">You can add elements to the list with the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Add</code> method, shown
                    in the following example. The generic instantiated type defines the parameter type of the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Add</code> method:<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">你可以使用 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Add</code>
                                方法向列表中添加元素，以下示例展示了该方法。泛型实例化类型定义了 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Add</code>
                                方法的参数类型：</font>
                        </font>
                    </font>
                </p>
                <pre id="c08-code-0008"><code>List&lt;int&gt; intList = new();</code>
<code>intList.Add(1);</code>
<code>intList.Add(2);</code>
<code>List&lt;string&gt; stringList = new();</code>
<code>stringList.Add("one");</code>
<code>stringList.Add("two");</code></pre>
                <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">The variable <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">racers</code> is defined
                    as type <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">List&lt;Racer&gt;</code>.
                    With the <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">new</code>
                    operator, a new object of the same type is created. Because the class <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">List&lt;T&gt;</code> was
                    instantiated with the concrete class <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Racer</code>, now only
                    <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Racer</code> objects
                    can be added with the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Add</code> method. In the
                    following sample code, five Formula 1 racers are created and added to the collection. The first
                    three are added using the collection initializer, and the last two are added by explicitly invoking
                    the <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Add</code> method
                    (code file <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ListSamples/Program.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">变量 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">racers</code>
                                被定义为类型 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">List&lt;Racer&gt;</code>
                                。使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">new</code>
                                运算符，可以创建一个同类型的新对象。由于类 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">List&lt;T&gt;</code>
                                是使用具体类 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Racer</code>
                                实例化的，现在只能使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Add</code>
                                方法添加 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Racer</code>
                                对象。在以下示例代码中，创建了五个 F1 赛车并将其添加到集合中。前三个使用集合初始化器添加，最后两个通过显式调用 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Add</code>
                                方法添加（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ListSamples/Program.cs</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c08-code-0009"><code>Racer graham = new(7, "Graham", "Hill", "UK", 14);</code>
<code>Racer emerson = new(13, "Emerson", "Fittipaldi", "Brazil", 14);</code>
<code>Racer mario = new(16, "Mario", "Andretti", "USA", 12);</code>
<code>List&lt;Racer&gt; racers = new(20) {graham, emerson, mario};</code>
<code>racers.Add(new Racer(24, "Michael", "Schumacher", "Germany", 91));</code>
<code>racers.Add(new Racer(27, "Mika", "Hakkinen", "Finland", 20));</code></pre>
                <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">With the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">AddRange</code> method of
                    the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">List&lt;T&gt;</code>
                    class, you can add multiple elements to the collection at once. The method <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">AddRange</code> accepts
                    an object of type <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IEnumerable&lt;T&gt;</code>,
                    so you can also pass an array as shown here (code file <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ListSamples/Program.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">使用 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">List&lt;T&gt;</code>
                                类的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">AddRange</code>
                                方法，你可以一次性向集合中添加多个元素。方法 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">AddRange</code>
                                接受类型为 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IEnumerable&lt;T&gt;</code>
                                的对象，因此你也可以像这里这样传递数组（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ListSamples/Program.cs</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c08-code-0010"><code>racers.AddRange(new Racer[] {</code>
<code>  new(14, "Niki", "Lauda", "Austria", 25),</code>
<code>  new(21, "Alain", "Prost", "France", 51)});</code></pre>
                <aside data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                    <div class="top hr" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                        <hr />
                    </div>
                    <section class="feature2" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                        <p id="c08-para-0029" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1"><b
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">NOTE</b> <i
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">The collection
                                initializer can be used only during declaration of the collection. The </i> <code
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">AddRange</code>
                            <i data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"> method can be
                                invoked after the collection is initialized. In case you get the data dynamically after
                                creating the collection, you need to invoke </i> <code
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">AddRange</code>
                            <i data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">.</i>
                            <font class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">注意
                                        集合初始化器只能用于声明集合时。初始化集合后可以调用 <code xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">AddRange</code>
                                        方法。如果在创建集合后动态获取数据，需要调用 <code xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">AddRange</code>
                                        。</font>
                                </font>
                            </font>
                        </p>
                        <div class="bottom hr" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                            <hr />
                        </div>
                    </section>
                </aside>
                <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1"><span aria-label="198" epub:type="pagebreak" id="Page_198"
                        role="doc-pagebreak"
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"></span>If you know some
                    elements of the collection when instantiating the list, you can also pass any object that implements
                    <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IEnumerable&lt;T&gt;</code>
                    to the constructor of the class. This is similar to the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">AddRange</code> method
                    (code file <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ListSamples/Program.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">如果你在实例化列表时知道集合的一些元素，也可以将任何实现 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IEnumerable&lt;T&gt;</code>
                                接口的对象传递给类的构造函数。这类似于 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">AddRange</code>
                                方法（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ListSamples/Program.cs</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c08-code-0011"><code>List&lt;Racer&gt; racers = new(</code>
<code>  new Racer[] {</code>
<code>    new (12, "Jochen", "Rindt", "Austria", 6),</code>
<code>    new (22, "Ayrton", "Senna", "Brazil", 41) });</code></pre>
            </section>
            <section data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"><span id="c08-sec-0012"
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"></span>
                <h3 id="head-3-172" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">Inserting Elements <font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                        <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">插入元素</font>
                        </font>
                    </font>
                </h3>
                <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">You can insert elements at a specified position with the
                    <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Insert</code> method
                    (code file <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ListSamples/Program.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">你可以使用 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Insert</code>
                                方法在指定位置插入元素（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ListSamples/Program.cs</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c08-code-0012"><code>racers.Insert(3, new Racer(6, "Phil", "Hill", "USA", 3));</code></pre>
                <p id="c08-para-0032" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">The method <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">InsertRange</code> offers
                    the capability to insert a number of elements, similar to the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">AddRange</code> method
                    shown earlier.<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">方法 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">InsertRange</code>
                                提供了插入多个元素的功能，类似于前面展示的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">AddRange</code>
                                方法。</font>
                        </font>
                    </font>
                </p>
                <p id="c08-para-0033" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">If the index set is larger than the number of elements in the
                    collection, an exception of type <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ArgumentOutOfRangeException</code>
                    is thrown.<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">如果索引集大于集合中的元素数量，将抛出类型为 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ArgumentOutOfRangeException</code>
                                的异常。</font>
                        </font>
                    </font>
                </p>
            </section>
            <section data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"><span id="c08-sec-0013"
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"></span>
                <h3 id="head-3-173" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">Accessing Elements <font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                        <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">访问元素 </font>
                        </font>
                    </font>
                </h3>
                <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">All classes that implement the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IList</code> and <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IList&lt;T&gt;</code>
                    interfaces offer an indexer, so you can access the elements by using an indexer and passing the item
                    number. The first item can be accessed with an index value 0. By specifying <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">racers[3]</code>, for
                    example, you access the fourth element of the list:<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">所有实现 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IList</code>
                                和 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IList&lt;T&gt;</code>
                                接口的所有类都提供了一个索引器，因此您可以使用索引器并通过传递项编号来访问元素。第一个元素可以使用索引值 0 来访问。通过指定 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">racers[3]</code>
                                ，例如，您可以访问列表的第四个元素：</font>
                        </font>
                    </font>
                </p>
                <pre id="c08-code-0013"><code>Racer r1 = racers[3];</code></pre>
                <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">When you use the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Count</code> property to
                    get the number of elements, you can do a <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">for</code> loop to
                    iterate through every item in the collection, and you can use the indexer to access every item (code
                    file <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ListSamples/Program.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">当您使用 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Count</code>
                                属性来获取元素数量时，您可以执行 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">for</code>
                                循环来遍历集合中的每个元素，并且可以使用索引器来访问每个元素（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ListSamples/Program.cs</code>
                                ):</font>
                        </font>
                    </font>
                </p>
                <pre id="c08-code-0014"><code>for (int i = 0; i &lt; racers.Count; i++)</code>
<code>{</code>
<code>  Console.WriteLine(racers[i]);</code>
<code>}</code></pre>
                <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">Because <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">List&lt;T&gt;</code>
                    implements the interface <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IEnumerable</code>, you
                    can iterate through the items in the collection using the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">foreach</code> statement
                    as well (code file <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ListSamples/Program.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">因为 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">List&lt;T&gt;</code>
                                实现了接口 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IEnumerable</code>
                                ，你也可以使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">foreach</code>
                                语句来遍历集合中的元素（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ListSamples/Program.cs</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c08-code-0015"><code>foreach (var r in racers)</code>
<code>{</code>
<code>  Console.WriteLine(r);</code>
<code>}</code></pre>
                <aside data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                    <div class="top hr" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                        <hr />
                    </div>
                    <section class="feature2" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                        <p id="c08-para-0038" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1"><b
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">NOTE</b> <i
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"><a
                                    href="c06.xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Chapter 6</a>
                                explains how the </i> <code
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">foreach</code> <i
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"> statement is
                                resolved by the compiler to make use of the </i> <code
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IEnumerable</code>
                            <i data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"> and </i> <code
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IEnumerator</code>
                            <i data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"> interfaces.</i>
                            <font class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">注意：第 6 章解释了编译器如何解析 <code
                                            xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">foreach</code>
                                        语句以使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IEnumerable</code>
                                        和 <code xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IEnumerator</code>
                                        接口。</font>
                                </font>
                            </font>
                        </p>
                        <div class="bottom hr" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                            <hr />
                        </div>
                    </section>
                </aside>
            </section>
            <section data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"><span id="c08-sec-0015"
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"></span>
                <h3 id="head-3-174" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">Removing Elements <font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                        <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">移除元素</font>
                        </font>
                    </font>
                </h3>
                <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">You can remove elements by index or by passing the item that
                    should be removed. Here, the fourth element is removed from the collection:<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">
                                你可以通过索引或传递要移除的元素来移除元素。这里，集合中的第四个元素被移除了：</font>
                        </font>
                    </font>
                </p>
                <pre id="c08-code-0016"><code>racers.RemoveAt(3);</code></pre>
                <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1"><span aria-label="199" epub:type="pagebreak" id="Page_199"
                        role="doc-pagebreak"
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"></span>Instead of using
                    the <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">RemoveAt</code>
                    method, you can also directly pass a <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Racer</code> object to
                    the <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Remove</code>
                    method to remove this element. However, removing by index with the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">RemoveAt</code> method is
                    faster. The <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Remove</code> method
                    first searches in the collection to get the index of the item with the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IndexOf</code> method and
                    then uses the index to remove the item. <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IndexOf</code> first
                    checks whether the item type implements the interface <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IEquatable&lt;T&gt;</code>.
                    If it does, the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Equals</code> method of
                    this interface is invoked to find the item in the collection that is the same as the one passed to
                    the method. If this interface is not implemented, the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Equals</code> method of
                    the <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Object</code> class
                    is used to compare the items. The default implementation of the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Equals</code> method in
                    the <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Object</code> class
                    does a bitwise comparison with value types, but compares only references with reference types.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">不使用 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">RemoveAt</code>
                                方法，你也可以直接将 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Racer</code>
                                对象传递给 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Remove</code>
                                方法来移除这个元素。然而，使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">RemoveAt</code>
                                方法按索引移除要更快。 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Remove</code>
                                方法首先使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IndexOf</code>
                                方法在集合中搜索以获取要移除元素的索引，然后使用该索引来移除元素。 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IndexOf</code>
                                首先检查元素类型是否实现了接口 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IEquatable&lt;T&gt;</code>
                                。如果实现了，就调用该接口的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Equals</code>
                                方法在集合中查找与传递给方法的对象相同的元素。如果未实现该接口，则使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Object</code>
                                类的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Equals</code>
                                方法来比较元素。 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Object</code>
                                类中的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Equals</code>
                                方法的默认实现对值类型进行按位比较，但对引用类型仅比较引用。</font>
                        </font>
                    </font>
                </p>
                <aside data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                    <div class="top hr" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                        <hr />
                    </div>
                    <section class="feature2" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                        <p id="c08-para-0041" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1"><b
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">NOTE</b> <i
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"><a
                                    href="c05.xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Chapter
                                    5</a>, “Operators and Casts,” explains how you can override the </i>
                            <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Equals</code>
                            <i data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"> method.</i>
                            <font class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">注意 第 5 章“运算符和类型转换”解释了如何重写
                                        <code xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Equals</code>
                                        方法。</font>
                                </font>
                            </font>
                        </p>
                        <div class="bottom hr" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                            <hr />
                        </div>
                    </section>
                </aside>
                <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">In the following example, the racer referenced by the
                    variable <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">graham</code>
                    is removed from the collection (code file <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ListSamples/Program.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">在以下示例中，变量 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">graham</code>
                                引用的赛车从集合中移除（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ListSamples/Program.cs</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c08-code-0017"><code>if (!racers.Remove(graham))</code>
<code>{</code>
<code>  Console.WriteLine("object not found in collection");</code>
<code>}</code></pre>
                <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">The method <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">RemoveRange</code>
                    removes a number of items from the collection. The first parameter specifies the index where the
                    removal of items should begin; the second parameter specifies the number of items to be removed:
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1"> <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">RemoveRange</code>
                                方法从集合中移除多个元素。第一个参数指定移除元素开始的索引；第二个参数指定要移除的元素数量：</font>
                        </font>
                    </font>
                </p>
                <pre id="c08-code-0018"><code>int index = 3;</code>
<code>int count = 5;</code>
<code>racers.RemoveRange(index, count);</code></pre>
                <p id="c08-para-0044" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">To remove all items with some specific characteristics from
                    the collection, you can use the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">RemoveAll</code> method.
                    This method uses the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Predicate&lt;T&gt;</code>
                    parameter when searching for elements, which is discussed next. To remove all elements from the
                    collection, use the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Clear</code> method
                    defined with the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ICollection&lt;T&gt;</code>
                    interface.<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">要移除集合中所有具有某些特定特征的项目，可以使用 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">RemoveAll</code>
                                方法。该方法在搜索元素时使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Predicate&lt;T&gt;</code>
                                参数，将在下文讨论。要移除集合中的所有元素，使用通过 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ICollection&lt;T&gt;</code>
                                接口定义的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Clear</code>
                                方法。</font>
                        </font>
                    </font>
                </p>
            </section>
            <section data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"><span id="c08-sec-0017"
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"></span>
                <h3 id="head-3-175" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">Searching <font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                        <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">搜索</font>
                        </font>
                    </font>
                </h3>
                <p id="c08-para-0045" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">There are different ways to search for elements in the
                    collection. You can get the index to the found item or a reference to the item itself. You can use
                    methods such as <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IndexOf</code>, <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">LastIndexOf</code>, <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">FindIndex</code>, <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">FindLastIndex</code>,
                    <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Find</code>, and <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">FindLast</code>. To just
                    check whether an item exists, the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">List&lt;T&gt;</code>
                    class offers the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Exists</code> method.
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">
                                在集合中搜索元素有多种方法。你可以获取找到的元素的索引或对元素本身的引用。你可以使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IndexOf</code>
                                、 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">LastIndexOf</code>
                                、 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">FindIndex</code>
                                、 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">FindLastIndex</code>
                                、 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Find</code> 和
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">FindLast</code>
                                等方法。只需检查元素是否存在， <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">List&lt;T&gt;</code>
                                类提供了 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Exists</code>
                                方法。</font>
                        </font>
                    </font>
                </p>
                <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">The method <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IndexOf</code> requires
                    an object as a parameter and returns the index of the item if it is found inside the collection. If
                    the item is not found, –1 is returned. Remember that <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IndexOf</code> is using
                    the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IEquatable&lt;T&gt;</code>
                    interface to compare the elements (code file <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ListSamples/Program.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">方法 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IndexOf</code>
                                需要一个对象作为参数，如果它在集合中找到该元素，则返回该元素的索引。如果未找到该元素，则返回 –1。请记住， <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IndexOf</code>
                                使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IEquatable&lt;T&gt;</code>
                                接口来比较元素（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ListSamples/Program.cs</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c08-code-0019"><code>int index1 = racers.IndexOf(mario);</code></pre>
                <p id="c08-para-0047" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">With the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IndexOf</code> method,
                    you can also specify that the complete collection should not be searched, and instead specify an
                    index where the search should start and the number of elements that should be iterated for the
                    comparison. To start from the end of the list to search for the index, you can use the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">LastIndexOf</code>
                    method.<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">使用 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IndexOf</code>
                                方法，你也可以指定不要搜索整个集合，而是指定搜索应开始的索引以及用于比较的迭代元素数量。要从列表末尾开始搜索索引，你可以使用 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">LastIndexOf</code>
                                方法。</font>
                        </font>
                    </font>
                </p>
                <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">Instead of searching a specific item with the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IndexOf</code> method,
                    you can search for an item that has some specific characteristics that you can define with the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">FindIndex</code> method.
                    <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">FindIndex</code>
                    requires a parameter of type <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Predicate</code>
                    :<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">与其使用 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IndexOf</code>
                                方法搜索特定项，你可以使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">FindIndex</code>
                                方法搜索具有某些特定特征的可定义项。 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">FindIndex</code>
                                需要一个类型为 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Predicate</code>
                                的参数：</font>
                        </font>
                    </font>
                </p>
                <pre id="c08-code-0020"><code>public int FindIndex(Predicate&lt;T&gt; match);</code></pre>
                <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1"><span aria-label="200" epub:type="pagebreak" id="Page_200"
                        role="doc-pagebreak"
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"></span>The <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Predicate&lt;T&gt;</code>
                    type is a delegate that returns a Boolean value and requires type <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">T</code> as a parameter.
                    If the predicate returns <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">true</code>, there's a
                    match, and the element is found. If it returns <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">false</code>, the element
                    is not found, and the search continues.<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1"> <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Predicate&lt;T&gt;</code>
                                类型是一个委托，它返回一个布尔值，并需要一个类型为 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">T</code>
                                的参数。如果谓词返回 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">true</code>
                                ，则存在匹配项，并且找到了元素。如果它返回 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">false</code>
                                ，则元素未找到，搜索继续。</font>
                        </font>
                    </font>
                </p>
                <pre id="c08-code-0021"><code>public delegate bool Predicate&lt;T&gt;(T obj);</code></pre>
                <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">With the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">List&lt;T&gt;</code>
                    class that is using <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Racer</code> objects for
                    type <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">T</code>, you can
                    pass the address of a method that returns a <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">bool</code> and defines a
                    parameter of type <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Racer</code> to the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">FindIndex</code> method.
                    Finding the first racer of a specific country, you can use a lambda expression with a <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Racer</code> parameter
                    and a <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">bool</code>
                    return as specified by the delegate. The following code uses a lambda expression that defines the
                    implementation to search for an item where the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Country</code> property
                    is set to <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Finland</code>
                    :<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">使用 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">List&lt;T&gt;</code>
                                类，该类使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Racer</code>
                                对象作为类型 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">T</code>
                                ，你可以将返回 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">bool</code>
                                并定义类型为 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Racer</code>
                                参数的方法的地址传递给 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">FindIndex</code>
                                方法。要找到特定国家的第一位赛车手，你可以使用一个具有 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Racer</code>
                                参数和 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">bool</code>
                                返回值的 lambda 表达式，如委托指定的。以下代码使用一个 lambda 表达式来定义搜索项的 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Country</code>
                                属性设置为 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Finland</code>
                                的实现：</font>
                        </font>
                    </font>
                </p>
                <pre
                    id="c08-code-0022"><code>int index2 = racers.FindIndex(r =&gt; r.Country == "Finland");</code></pre>
                <p id="c08-para-0051" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">Similar to the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IndexOf</code> method,
                    with the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">FindIndex</code> method
                    you can also specify the index where the search should start and the count of items that should be
                    iterated through. To do a search for an index beginning from the last element in the collection, you
                    can use the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">FindLastIndex</code>
                    method.<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">类似于 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IndexOf</code>
                                方法，使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">FindIndex</code>
                                方法你也可以指定搜索应开始的索引以及应迭代的项数。要从集合的最后一个元素开始进行索引搜索，你可以使用 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">FindLastIndex</code>
                                方法。</font>
                        </font>
                    </font>
                </p>
                <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">The method <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">FindIndex</code> method
                    returns the index of the found item. Instead of getting the index, you can also go directly to the
                    item in the collection. The <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Find</code> method
                    requires a parameter of type <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Predicate&lt;T&gt;</code>,
                    much like the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">FindIndex</code> method.
                    The <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Find</code> method
                    in the following example searches for the first racer in the list who has the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">FirstName</code> property
                    set to <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Niki</code>. Of
                    course, you can also do a <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">FindLast</code> search to
                    find the last item that fulfills the predicate.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">方法 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">FindIndex</code>
                                返回找到的项的索引。除了获取索引，你也可以直接跳转到集合中的项。方法 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Find</code>
                                需要一个类型为 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Predicate&lt;T&gt;</code>
                                的参数，类似于方法 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">FindIndex</code>
                                。以下示例中的方法 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Find</code>
                                搜索列表中第一个将属性 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">FirstName</code>
                                设置为 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Niki</code>
                                的赛车手。当然，你也可以进行 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">FindLast</code>
                                搜索，以找到满足谓词条件的最后一个项。</font>
                        </font>
                    </font>
                </p>
                <pre id="c08-code-0023"><code>Racer racer = racers.Find(r =&gt; r.FirstName == "Niki");</code></pre>
                <p id="c08-para-0053" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">To get not only one but all the items that fulfill the
                    requirements of a predicate, you can use the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">FindAll</code> method.
                    The <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">FindAll</code>
                    method uses the same <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Predicate&lt;T&gt;</code>
                    delegate as the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Find</code> and <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">FindIndex</code> methods.
                    The <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">FindAll</code>
                    method does not stop when the first item is found; instead, the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">FindAll</code> method
                    iterates through every item in the collection and returns all items for which the predicate returns
                    <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">true</code>.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">要获取所有满足谓词条件的项，而不仅仅是其中一个，你可以使用方法
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">FindAll</code>
                                。方法 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">FindAll</code>
                                使用与 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Find</code> 和
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">FindIndex</code>
                                方法相同的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Predicate&lt;T&gt;</code>
                                委托。方法 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">FindAll</code>
                                在找到第一个项时不会停止；相反，方法 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">FindAll</code>
                                会遍历集合中的每个项，并返回所有使谓词返回 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">true</code>
                                的项。</font>
                        </font>
                    </font>
                </p>
                <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">With the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">FindAll</code> method
                    invoked in the next example, all <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Racer</code> items are
                    returned where the property <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Wins</code> is set to
                    more than 20. All racers who won more than 20 races are referenced from the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">bigWinners</code> list:
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">在下一个示例中，通过调用方法 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">FindAll</code>
                                ，返回所有属性 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Wins</code>
                                设置为超过 20 的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Racer</code>
                                项。所有赢得超过 20 场比赛的赛车手都从 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">bigWinners</code>
                                列表中引用：</font>
                        </font>
                    </font>
                </p>
                <pre
                    id="c08-code-0024"><code>List&lt;Racer&gt; bigWinners = racers.FindAll(r =&gt; r.Wins&gt; 20);</code></pre>
                <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">Iterating through the variable <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">bigWinners</code> with a
                    <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">foreach</code>
                    statement gives the following result:<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">使用 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">foreach</code>
                                语句遍历变量 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">bigWinners</code>
                                会得到以下结果：</font>
                        </font>
                    </font>
                </p>
                <pre id="c08-code-0025"><code>foreach (Racer r in bigWinners)</code>
<code>{</code>
<code>  Console.WriteLine($"{r:A}");</code>
<code>}</code>
<code>Michael Schumacher, Germany Wins: 91</code>
<code>Niki Lauda, Austria Wins: 25</code>
<code>Alain Prost, France Wins: 51</code></pre>
                <p id="c08-para-0056" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">The result is not sorted, but the next section covers that.
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">结果未排序，但下一节将介绍如何排序。</font>
                        </font>
                    </font>
                </p>
            </section>
            <section data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"><span id="c08-sec-0018"
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"></span>
                <h3 id="head-3-176" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">Sorting <font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                        <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">排序</font>
                        </font>
                    </font>
                </h3>
                <p id="c08-para-0057" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">The <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">List&lt;T&gt;</code>
                    class enables sorting its elements by using the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Sort</code> method. <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Sort</code> uses the
                    Quicksort algorithm whereby all elements are compared until the complete list is sorted. You can use
                    several overloads of the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Sort</code> method. You
                    can pass a delegate of type <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Comparison&lt;T&gt;</code>,
                    and an object implementing <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IComparer&lt;T&gt;</code>.
                    Using the <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Sort</code>
                    method without arguments is possible only if the elements in the collection implement the interface
                    <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IComparable</code>.
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1"> <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">List&lt;T&gt;</code>
                                类通过使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Sort</code>
                                方法来对其元素进行排序。 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Sort</code>
                                使用快速排序算法，通过比较所有元素直到整个列表排序完成。你可以使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Sort</code>
                                方法的多个重载版本。你可以传递一个类型为 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Comparison&lt;T&gt;</code>
                                的委托，以及一个实现 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IComparer&lt;T&gt;</code>
                                的对象。只有当集合中的元素实现了 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IComparable</code>
                                接口时，才可能使用不带参数的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Sort</code>
                                方法。</font>
                        </font>
                    </font>
                </p>
                <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1"><span aria-label="201" epub:type="pagebreak" id="Page_201"
                        role="doc-pagebreak"
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"></span>With the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IComparable&lt;T&gt;</code>
                    implementation of the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Racer</code> type, the
                    <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Sort</code> method
                    sorts racers by last name followed by first name:<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">使用 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Racer</code>
                                类型的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IComparable&lt;T&gt;</code>
                                实现， <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Sort</code>
                                方法按姓氏后跟名字对赛车手进行排序：</font>
                        </font>
                    </font>
                </p>
                <pre id="c08-code-0026"><code>racers.Sort();</code></pre>
                <p id="c08-para-0059" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">If you need to do a sort other than the default supported by
                    the item types, you need to use other techniques, such as passing an object that implements the
                    <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IComparer&lt;T&gt;</code>
                    interface.<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">
                                如果你需要执行除项目类型默认支持以外的排序，你需要使用其他技术，例如传递一个实现 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IComparer&lt;T&gt;</code>
                                接口的对象。</font>
                        </font>
                    </font>
                </p>
                <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">The class <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">RacerComparer</code>
                    implements the interface <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IComparer&lt;T&gt;</code>
                    for <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Racer</code> types.
                    This class enables you to sort by the first name, last name, country, or number of wins. The kind of
                    sort that should be done is defined with the inner enumeration type <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">CompareType</code>. The
                    <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">CompareType</code> is
                    set with the constructor of the class <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">RacerComparer</code>. The
                    interface <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IComparer&lt;Racer&gt;</code>
                    defines the method <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Compare</code>, which is
                    required for sorting. In the implementation of this method, the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Compare</code> and <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">CompareTo</code> methods
                    of the <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">string</code>
                    and <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">int</code> types
                    are used (code file <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ListSamples/RacerComparer.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">类 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">RacerComparer</code>
                                实现了用于 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Racer</code>
                                类型的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IComparer&lt;T&gt;</code>
                                接口。该类使你能够按名字、姓氏、国家或获胜次数进行排序。应该执行的排序类型由内部枚举类型 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">CompareType</code>
                                定义。 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">CompareType</code>
                                是通过类 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">RacerComparer</code>
                                的构造函数设置的。接口 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IComparer&lt;Racer&gt;</code>
                                定义了用于排序的方法 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Compare</code>
                                。在该方法的实现中，使用了 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">string</code>
                                和 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">int</code>
                                类型的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Compare</code>
                                和 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">CompareTo</code>
                                方法（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ListSamples/RacerComparer.cs</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c08-code-0027"><code>public class RacerComparer : IComparer&lt;Racer&gt;</code>
<code>{</code>
<code>  public enum CompareType</code>
<code>  {</code>
<code>    FirstName,</code>
<code>    LastName,</code>
<code>    Country,</code>
<code>    Wins</code>
<code>  }</code>
<code> </code>
<code>  private CompareType _compareType;</code>
<code>  public RacerComparer(CompareType compareType) =&gt;</code>
<code>    _compareType = compareType;</code>
<code> </code>
<code>  public int Compare(Racer? x, Racer? y)</code>
<code>  {</code>
<code>    if (x is null &amp;&amp; y is null) return 0;</code>
<code>    if (x is null) return -1;</code>
<code>    if (y is null) return 1;</code>
<code> </code>
<code>    int CompareCountry(Racer x, Racer y)</code>
<code>    {</code>
<code>      int result = string.Compare(x.Country, y.Country);</code>
<code>      if (result == 0)</code>
<code>      {</code>
<code>        result = string.Compare(x.LastName, y.LastName);</code>
<code>      }</code>
<code>      return result;</code>
<code>    }</code>
<code> </code>
<code>    return _compareType switch</code>
<code>    {</code>
<code>      CompareType.FirstName =&gt; string.Compare(x.FirstName, y.FirstName),</code>
<code>      CompareType.LastName =&gt; string.Compare(x.LastName, y.LastName),</code>
<code>      CompareType.Country =&gt; CompareCountry(x, y),</code>
<code>      CompareType.Wins =&gt; x.Wins.CompareTo(y.Wins),</code>
<code>      _ =&gt; throw new ArgumentException("Invalid Compare Type")</code>
<code>    };  </code>
<code>  }</code>
<code>}</code></pre>
                <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"><span aria-label="202"
                        epub:type="pagebreak" id="Page_202" role="doc-pagebreak"
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"></span></p>
                <aside data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                    <div class="top hr" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                        <hr />
                    </div>
                    <section class="feature2" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                        <p id="c08-para-0062" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1"><b
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">NOTE</b> <i
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">The </i><code
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Compare</code><i
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"> method returns 0
                                if the two elements passed to it are equal with the order. If a value less than 0 is
                                returned, the first argument is less than the second. With a value larger than 0, the
                                first argument is greater than the second. Passing </i><code
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">null</code><i
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"> with an
                                argument, the method shouldn't throw a </i><code
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">NullReferenceException</code><i
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"> or </i><code
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ArgumentNullException</code><i
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">. Instead,
                            </i><code
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">null</code><i
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"> should take its
                                place before any other element; thus, –1 is returned if the first argument is </i><code
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">null</code><i
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">, and +1 if the
                                second argument is </i><code
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">null</code><i
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"> and 0 if both
                                arguments are </i><code
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">null</code><i
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">.</i>
                            <font class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">注意： <code
                                            xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Compare</code>
                                        方法如果传入的两个元素相等且顺序相同，则返回 0。如果返回值小于 0，则第一个参数小于第二个参数；如果返回值大于 0，则第一个参数大于第二个参数。传入
                                        <code xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">null</code>
                                        作为参数时，该方法不应抛出 <code xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">NullReferenceException</code>
                                        或 <code xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ArgumentNullException</code>
                                        。相反， <code xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">null</code>
                                        应出现在任何其他元素之前；因此，如果第一个参数是 <code xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">null</code>
                                        ，则返回-1；如果第二个参数是 <code xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">null</code>
                                        ，则返回+1；如果两个参数都是 <code xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">null</code>
                                        ，则返回 0。</font>
                                </font>
                            </font>
                        </p>
                        <div class="bottom hr" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                            <hr />
                        </div>
                    </section>
                </aside>
                <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">You can now use an instance of the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">RacerComparer</code>
                    class with the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Sort</code> method.
                    Passing the enumeration <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">RacerComparer.CompareType.Country</code>
                    sorts the collection by the property <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Country</code>
                    :<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">现在您可以使用 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">RacerComparer</code>
                                类的实例配合 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Sort</code>
                                方法。传递枚举 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">RacerComparer.CompareType.Country</code>
                                可以按属性 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Country</code>
                                对集合进行排序：</font>
                        </font>
                    </font>
                </p>
                <pre
                    id="c08-code-0028"><code>racers.Sort(new RacerComparer(RacerComparer.CompareType.Country));</code></pre>
                <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">Another way to do the sort is by using the overloaded <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Sort</code> method, which
                    requires a <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Comparison&lt;T&gt;</code>
                    delegate. <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Comparison&lt;T&gt;</code>
                    is a delegate to a method that has two parameters of type <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">T</code> and a return
                    type <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">int</code>. If the
                    parameter values are equal, the method must return 0. If the first parameter is less than the
                    second, a value less than zero must be returned; otherwise, a value greater than zero is returned:
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">另一种排序方式是使用重载的 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Sort</code>
                                方法，该方法需要一个 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Comparison&lt;T&gt;</code>
                                委托。 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Comparison&lt;T&gt;</code>
                                是一个委托，指向一个具有两个 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">T</code>
                                类型参数和 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">int</code>
                                类型返回值的函数。如果参数值相等，函数必须返回 0。如果第一个参数小于第二个，必须返回一个小于 0 的值；否则，返回一个大于 0 的值：</font>
                        </font>
                    </font>
                </p>
                <pre id="c08-code-0029"><code>public delegate int Comparison&lt;T&gt;(T x, T y);</code></pre>
                <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">Now you can pass a lambda expression to the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Sort</code> method to do
                    a sort by the number of wins. The two parameters are of type <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Racer</code>, and in the
                    implementation the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Wins</code> properties
                    are compared by using the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">int</code> method <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">CompareTo</code>. Also in
                    the implementation, <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">r2</code> and <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">r1</code> are used in
                    reverse order, so the number of wins is sorted in descending order. After the method has been
                    invoked, the complete racer list is sorted based on the racer's number of wins:<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">现在您可以将一个 lambda 表达式传递给 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Sort</code>
                                方法，按胜利次数进行排序。这两个参数的类型是 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Racer</code>
                                ，在实现中通过使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">int</code> 方法
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">CompareTo</code>
                                对 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Wins</code>
                                属性进行比较。此外，在实现中 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">r2</code> 和
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">r1</code>
                                的顺序是相反的，因此胜利次数按降序排序。调用该方法后，完整的赛车列表将根据赛车的胜利次数进行排序：</font>
                        </font>
                    </font>
                </p>
                <pre id="c08-code-0030"><code>racers.Sort((r1, r2) =&gt; r2.Wins.CompareTo(r1.Wins));</code></pre>
                <p id="c08-para-0066" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">You can also reverse the order of a complete collection by
                    invoking the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Reverse</code> method.
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">您还可以通过调用 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Reverse</code>
                                方法来反转完整集合的顺序。</font>
                        </font>
                    </font>
                </p>
            </section>
            <section data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"><span id="c08-sec-0020"
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"></span>
                <h3 id="head-3-177" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">Read-Only Collections <font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                        <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">只读集合</font>
                        </font>
                    </font>
                </h3>
                <p id="c08-para-0067" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">After collections are created, they are read/write, of
                    course; otherwise, you couldn't fill them with any values. However, after the collection is filled,
                    you can create a read-only collection. The <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">List&lt;T&gt;</code>
                    collection has the method <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">AsReadOnly</code> that
                    returns an object of type <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ReadOnlyCollection&lt;T&gt;</code>.
                    The class <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ReadOnlyCollection&lt;T&gt;</code>
                    implements the same interfaces as <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">List&lt;T&gt;</code>, but
                    all methods and properties that change the collection throw a <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">NotSupportedException</code>.
                    Besides the interfaces of <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">List&lt;T&gt;</code>,
                    <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ReadOnlyCollection&lt;T&gt;</code>
                    also implements the interfaces <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IReadOnlyCollection&lt;T&gt;</code>
                    and <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IReadOnlyList&lt;T&gt;</code>.
                    With the members of these interfaces, the collection cannot be changed.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">
                                集合创建后自然是读写模式；否则你无法向其中填充任何值。然而，在集合填充完毕后，你可以创建一个只读集合。 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">List&lt;T&gt;</code>
                                集合具有 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">AsReadOnly</code>
                                方法，该方法返回类型为 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ReadOnlyCollection&lt;T&gt;</code>
                                的对象。类 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ReadOnlyCollection&lt;T&gt;</code>
                                实现了与 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">List&lt;T&gt;</code>
                                相同的接口，但所有会改变集合的方法和属性都会抛出 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">NotSupportedException</code>
                                异常。除了 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">List&lt;T&gt;</code>
                                的接口， <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ReadOnlyCollection&lt;T&gt;</code>
                                还实现了接口 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IReadOnlyCollection&lt;T&gt;</code>
                                和 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IReadOnlyList&lt;T&gt;</code>
                                。通过这些接口的成员，集合无法被修改。</font>
                        </font>
                    </font>
                </p>
            </section>
            <section data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"><span id="c08-sec-0021"
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"></span>
                <h3 id="head-3-178" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">Queues <font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                        <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">队列</font>
                        </font>
                    </font>
                </h3>
                <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">A <i
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">queue</i> is a collection
                    whose elements are processed according to first in, first out (FIFO) order, meaning the item that is
                    put first in the queue is read first. Examples of queues are standing in line at the airport, a
                    human resources queue to process employee applicants, print jobs waiting to be processed in a print
                    queue, and a thread waiting for the CPU in a round-robin fashion. Sometimes the elements of a queue
                    differ in their priority. For example, in the queue at the airport, business passengers are
                    processed before economy passengers. In this case, multiple queues can be used, one queue for each
                    priority. At the airport this is easily handled with separate check-in queues for business and
                    economy passengers. The same is true for print queues and threads. You can have an array or a list
                    of queues whereby one item in the array stands for a priority. Within every array item there's a
                    queue where processing happens using the FIFO principle.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">
                                队列是一种集合，其元素按照先进先出（FIFO）的顺序进行处理，这意味着最先放入队列的元素会最先被读取。队列的例子包括在机场排队、人力资源队列处理员工申请、打印队列中等待处理的打印任务，以及轮转方式等待
                                CPU
                                的线程。有时队列中的元素在优先级上有所不同。例如，在机场的队列中，商务乘客会优先于经济乘客被处理。在这种情况下，可以使用多个队列，每个优先级一个队列。在机场，商务乘客和经济乘客可以分别使用不同的安检队列来轻松处理。打印队列和线程也是如此。你可以有一个队列数组或队列列表，其中数组中的一个元素代表一个优先级。在每个数组元素中都有一个队列，该队列使用
                                FIFO 原则进行处理。</font>
                        </font>
                    </font><span aria-label="203" epub:type="pagebreak" id="Page_203" role="doc-pagebreak"
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"></span></p>
                <aside data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                    <div class="top hr" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                        <hr />
                    </div>
                    <section class="feature2" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                        <p id="c08-para-0069" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1"><b
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">NOTE</b> <i
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Later in this
                                chapter, a different implementation with a linked list is used to define a list of
                                priorities.</i>
                            <font class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">
                                        注意：本章后面将使用链表实现不同的优先级列表定义方法。</font>
                                </font>
                            </font>
                        </p>
                        <div class="bottom hr" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                            <hr />
                        </div>
                    </section>
                </aside>
                <p id="c08-para-0070" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">A queue is implemented with the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Queue&lt;T&gt;</code>
                    class. Internally, the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Queue&lt;T&gt;</code>
                    class uses an array of type <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">T</code>, similar to the
                    <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">List&lt;T&gt;</code>
                    type. It implements the interfaces <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IEnumerable&lt;T&gt;</code>
                    and <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ICollection</code>,
                    but it doesn't implement <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ICollection&lt;T&gt;</code>
                    because this interface defines <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Add</code> and <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Remove</code> methods
                    that shouldn't be available for queues.<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">队列是通过 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Queue&lt;T&gt;</code>
                                类实现的。内部， <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Queue&lt;T&gt;</code>
                                类使用一个类型为 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">T</code>
                                的数组，类似于 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">List&lt;T&gt;</code>
                                类型。它实现了接口 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IEnumerable&lt;T&gt;</code>
                                和 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ICollection</code>
                                ，但它没有实现 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ICollection&lt;T&gt;</code>
                                ，因为这个接口定义了 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Add</code> 和
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Remove</code>
                                方法，这些方法不应该对队列可用。</font>
                        </font>
                    </font>
                </p>
                <p id="c08-para-0071" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">The <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Queue&lt;T&gt;</code>
                    class does not implement the interface <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IList&lt;T</code>
                    &gt;, so you cannot access the queue using an indexer. The queue just allows you to add an item to
                    the end of the queue (with the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Enqueue</code> method)
                    and to get items from the head of the queue (with the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Dequeue</code> method).
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1"> <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Queue&lt;T&gt;</code>
                                类没有实现接口 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IList&lt;T</code>
                                ，因此你不能使用索引器访问队列。队列只允许你将一个项目添加到队列的末尾（使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Enqueue</code>
                                方法）以及从队列头部获取项目（使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Dequeue</code>
                                方法）。</font>
                        </font>
                    </font>
                </p>
                <p id="c08-para-0072" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1"><a href="#c08-fig-0001" id="R_c08-fig-0001"
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Figure 8-1</a> shows the
                    items of a queue. The <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Enqueue</code> method
                    adds items to one end of the queue; the items are read and removed at the other end of the queue
                    with the <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Dequeue</code>
                    method. Invoking the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Dequeue</code> method
                    once more removes the next item from the queue.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">图 8-1 显示了队列中的项目。 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Enqueue</code>
                                方法将项目添加到队列的一端；项目通过 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Dequeue</code>
                                方法在队列的另一端被读取和移除。再次调用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Dequeue</code>
                                方法会从队列中移除下一个项目。</font>
                        </font>
                    </font>
                </p>
                <figure data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"> <img
                        alt="Schematic illustration of the concept of queue." class="center" src="images/c08f001.png" />
                    <figcaption data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                        <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"><span
                                class="figureLabel"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"><a
                                    href="#R_c08-fig-0001" id="c08-fig-0001" role="doc-backlink"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"><b
                                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                                        data-immersive-translate-paragraph="1">FIGURE 8-1<font
                                            class="notranslate immersive-translate-target-wrapper"
                                            data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                                            <font class="notranslate"
                                                data-immersive-translate-translation-element-mark="1">  </font>
                                            <font
                                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                                                data-immersive-translate-translation-element-mark="1">
                                                <font
                                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                                    data-immersive-translate-translation-element-mark="1">图 8-1</font>
                                            </font>
                                        </font></b></a></span></p>
                    </figcaption>
                </figure>
                <p id="c08-para-0073" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">The following table describes the important methods of the
                    <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Queue&lt;T&gt;</code>
                    class:<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">以下表格描述了 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Queue&lt;T&gt;</code>
                                类的重要方法：</font>
                        </font>
                    </font>
                </p>
                <table border="1" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                    <thead data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                        <tr data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                            <th class="left bgcolor2" scope="col"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                                data-immersive-translate-paragraph="1">SELECTED QUEUE &lt;T&gt; MEMBERS</th>
                            <th class="left bgcolor2" scope="col">DESCRIPTION</th>
                        </tr>
                    </thead>
                    <tbody data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                        <tr data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"><code
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Count</code>
                            </td>
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                                data-immersive-translate-paragraph="1">Returns the number of items in the queue.<font
                                    class="notranslate immersive-translate-target-wrapper"
                                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                    <font
                                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                        data-immersive-translate-translation-element-mark="1">
                                        <font
                                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                            data-immersive-translate-translation-element-mark="1">返回队列中的项目数量。</font>
                                    </font>
                                </font>
                            </td>
                        </tr>
                        <tr data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"><code
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Enqueue</code>
                            </td>
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                                data-immersive-translate-paragraph="1">Adds an item to the end of the queue.<font
                                    class="notranslate immersive-translate-target-wrapper"
                                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                    <font
                                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                        data-immersive-translate-translation-element-mark="1">
                                        <font
                                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                            data-immersive-translate-translation-element-mark="1">将一个项目添加到队列的末尾。</font>
                                    </font>
                                </font>
                            </td>
                        </tr>
                        <tr data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"><code
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Dequeue</code>
                            </td>
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                                data-immersive-translate-paragraph="1">Reads and removes an item from the head of the
                                queue. If there are no more items in the queue when the <code
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Dequeue</code>
                                method is invoked, an exception of type <code
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">InvalidOperationException</code>
                                is thrown.<font class="notranslate immersive-translate-target-wrapper"
                                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                    <font
                                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                        data-immersive-translate-translation-element-mark="1">
                                        <font
                                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                            data-immersive-translate-translation-element-mark="1">从队列头部读取并移除一个元素。当调用
                                            <code xmlns="http://www.w3.org/1999/xhtml"
                                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Dequeue</code>
                                            方法时，如果队列中没有更多元素，将抛出类型为 <code xmlns="http://www.w3.org/1999/xhtml"
                                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">InvalidOperationException</code>
                                            的异常。</font>
                                    </font>
                                </font>
                            </td>
                        </tr>
                        <tr data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"><code
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Peek</code>
                            </td>
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                                data-immersive-translate-paragraph="1">Reads an item from the head of the queue but does
                                not remove the item.<font class="notranslate immersive-translate-target-wrapper"
                                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                    <font
                                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                        data-immersive-translate-translation-element-mark="1">
                                        <font
                                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                            data-immersive-translate-translation-element-mark="1">从队列头部读取一个元素但不移除该元素。
                                        </font>
                                    </font>
                                </font>
                            </td>
                        </tr>
                        <tr data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"><code
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">TrimExcess</code>
                            </td>
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                                data-immersive-translate-paragraph="1">Resizes the capacity of the queue. The <code
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Dequeue</code>
                                method removes items from the queue, but it doesn't resize the capacity of the queue. To
                                get rid of the empty items at the beginning of the queue, use the <code
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">TrimExcess</code>
                                method.<font class="notranslate immersive-translate-target-wrapper"
                                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                    <font
                                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                        data-immersive-translate-translation-element-mark="1">
                                        <font
                                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                            data-immersive-translate-translation-element-mark="1">调整队列的容量。 <code
                                                xmlns="http://www.w3.org/1999/xhtml"
                                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Dequeue</code>
                                            方法会移除队列中的元素，但不会调整队列的容量。要清除队列开头的空元素，请使用 <code
                                                xmlns="http://www.w3.org/1999/xhtml"
                                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">TrimExcess</code>
                                            方法。</font>
                                    </font>
                                </font>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <p id="c08-para-0076" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">When creating queues, you can use constructors similar to
                    those used with the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">List&lt;T&gt;</code>
                    type. The default constructor creates an empty queue, but you can also use a constructor to specify
                    the capacity. With an overload of the constructor, you can also pass any other collection that
                    implements the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IEnumerable&lt;T&gt;</code>
                    interface that is copied to the queue.<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">创建队列时，可以使用与 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">List&lt;T&gt;</code>
                                类型类似的构造函数。默认构造函数创建一个空队列，但您也可以使用构造函数来指定容量。通过构造函数的重载，您还可以传递任何实现了 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IEnumerable&lt;T&gt;</code>
                                接口的集合，该集合将被复制到队列中。</font>
                        </font>
                    </font>
                </p>
                <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1"><span aria-label="204" epub:type="pagebreak" id="Page_204"
                        role="doc-pagebreak"
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"></span>The following
                    example demonstrating the use of the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Queue&lt;T&gt;</code>
                    class is a document management application. One task is used to add documents to the queue, and
                    another task reads documents from the queue and processes them.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">以下示例演示了使用 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Queue&lt;T&gt;</code>
                                类的一个文档管理应用程序。一个任务用于将文档添加到队列中，另一个任务从队列中读取文档并进行处理。</font>
                        </font>
                    </font>
                </p>
                <aside data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                    <div class="top hr" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                        <hr />
                    </div>
                    <section class="feature2" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                        <p id="c08-para-0078" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1"><b
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">NOTE</b> <i
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">To make the queue
                                sample more interesting, different tasks are used to work with the queue. One task
                                writes messages to the queue, and another task reads messages from the queue. Reading
                                and writing happens after a random time delay; you can monitor how the queue grows
                                larger and smaller. Tasks are used in a simple way here, but you might want to read <a
                                    href="c11.xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Chapter
                                    11</a>, “Tasks and Asynchronous Programming,” before getting into this sample
                                code.</i>
                            <font class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">注意
                                        为了使队列示例更有趣，使用了不同的任务来处理队列。一个任务向队列中写入消息，另一个任务从队列中读取消息。读写操作会在随机的时间延迟后进行；你可以观察队列如何逐渐增大和减小。这里的任务使用方式很简单，但在查看这个示例代码之前，你可能需要先阅读第
                                        11 章，“任务和异步编程”。</font>
                                </font>
                            </font>
                        </p>
                        <div class="bottom hr" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                            <hr />
                        </div>
                    </section>
                </aside>
                <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">The items stored in the queue are of type <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Document</code>. The
                    record <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Document</code>
                    defines a title and content (code file <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">QueueSample/Document.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">队列中存储的项的类型是 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Document</code>
                                。记录 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Document</code>
                                定义了一个标题和内容（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">QueueSample/Document.cs</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c08-code-0031"><code>public record Document(string Title, string Content);</code></pre>
                <p id="c08-para-0080" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">The <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">DocumentManager</code>
                    class is a thin layer around the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Queue&lt;T&gt;</code>
                    class. It defines how to handle documents: adding documents to the queue with the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">AddDocument</code> method
                    and getting documents from the queue with the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">GetDocument</code>
                    method.<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1"> <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">DocumentManager</code>
                                类是围绕 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Queue&lt;T&gt;</code>
                                类的一个薄层。它定义了如何处理文档：使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">AddDocument</code>
                                方法将文档添加到队列中，使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">GetDocument</code>
                                方法从队列中获取文档。</font>
                        </font>
                    </font>
                </p>
                <p id="c08-para-0081" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">Inside the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">AddDocument</code>
                    method, the document is added to the end of the queue using the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Enqueue</code> method.
                    The first document from the queue is read with the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Dequeue</code> method
                    inside <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">GetDocument</code>.
                    Because multiple tasks can access the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">DocumentManager</code>
                    concurrently, access to the queue is locked with the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">lock</code> statement.
                    The <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">AddDocument</code>
                    method returns the number of items in the queue to allow monitoring the queue size.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">在 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">AddDocument</code>
                                方法中，文档通过 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Enqueue</code>
                                方法添加到队列末尾。在 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">GetDocument</code>
                                内部，使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Dequeue</code>
                                方法读取队列中的第一个文档。由于多个任务可以同时访问 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">DocumentManager</code>
                                ，因此使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">lock</code>
                                语句锁定对队列的访问。 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">AddDocument</code>
                                方法返回队列中的项目数量，以允许监控队列大小。</font>
                        </font>
                    </font>
                </p>
                <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">
                    <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IsDocumentAvailable</code>
                    is a read-only Boolean property that returns <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">true</code> if there are
                    documents in the queue and <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">false</code> if there
                    are't (code file <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">QueueSample/DocumentManager.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1"> <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IsDocumentAvailable</code>
                                是一个只读的布尔属性，如果有文档在队列中则返回 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">true</code>
                                ，如果没有则返回 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">false</code>
                                （代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">QueueSample/DocumentManager.cs</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c08-code-0032"><code>public class DocumentManager</code>
<code>{</code>
<code>  private readonly object _syncQueue = new object();</code>
<code>  private readonly Queue&lt;Document&gt; _documentQueue = new();</code>
<code> </code>
<code>  public int AddDocument(Document doc)</code>
<code>  {</code>
<code>    lock (_syncQueue)</code>
<code>    {</code>
<code>      _documentQueue.Enqueue(doc);</code>
<code>      return _documentQueue.Count;</code>
<code>    }</code>
<code>  }</code>
<code> </code>
<code>  public Document GetDocument()</code>
<code>  {</code>
<code>    Document doc = null;</code>
<code>    lock (_syncQueue)</code>
<code>    {</code>
<code>      doc = _documentQueue.Dequeue();</code>
<code>    }</code>
<code>    return doc;</code>
<code>  }</code>
<code> </code>
<code>  public bool IsDocumentAvailable =&gt; _documentQueue.Count&gt; 0;</code>
<code>}</code></pre>
                <p id="c08-para-0083" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1"><span aria-label="205" epub:type="pagebreak" id="Page_205"
                        role="doc-pagebreak"
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"></span>The class <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ProcessDocuments</code>
                    processes documents from the queue in a separate task. The only method that can be accessed from the
                    outside is <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Start</code>. In the
                    <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">StartAsync</code>
                    method, a new task is instantiated. A <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ProcessDocuments</code>
                    object is created to start the task, and the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">RunAsync</code> method is
                    defined as the start method of the task. With the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Task.Run</code> method,
                    you can pass an <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Action</code> delegate.
                    Here, the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">RunAsync</code> instance
                    method of the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ProcessDocuments</code>
                    class is invoked from the task.<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">类 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ProcessDocuments</code>
                                在单独的任务中处理队列中的文档。唯一可以从外部访问的方法是 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Start</code>
                                。在 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">StartAsync</code>
                                方法中，实例化一个新任务。创建一个 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ProcessDocuments</code>
                                对象来启动任务，并将 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">RunAsync</code>
                                方法定义为任务的启动方法。通过 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Task.Run</code>
                                方法，可以传递一个 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Action</code>
                                委托。在这里，从任务中调用了 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ProcessDocuments</code>
                                类的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">RunAsync</code>
                                实例方法。</font>
                        </font>
                    </font>
                </p>
                <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">With the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">RunAsync</code> method of
                    the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ProcessDocuments</code>
                    class, a <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">do…while</code> loop is
                    defined. Within this loop, the property <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IsDocumentAvailable</code>
                    is used to determine whether there is a document in the queue. If so, the document is taken from the
                    <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">DocumentManager</code>
                    and processed. If the task waits more than five seconds, waiting stops. Processing in this example
                    is writing information only to the console. In a real application, the document could be written to
                    a file, written to the database, or sent across the network (code file <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">QueueSample/ProcessDocuments.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">使用 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">RunAsync</code>
                                类的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ProcessDocuments</code>
                                方法定义了一个 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">do…while</code>
                                循环。在这个循环中，使用属性 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IsDocumentAvailable</code>
                                来判断队列中是否有文档。如果有，则从 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">DocumentManager</code>
                                中获取文档并处理。如果任务等待超过五秒，则停止等待。在这个例子中，处理仅是将信息写入控制台。在真实应用中，文档可以写入文件、写入数据库或通过网络发送（代码文件 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">QueueSample/ProcessDocuments.cs</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c08-code-0033"><code>public class ProcessDocuments</code>
<code>{</code>
<code>  public static Task StartAsync(DocumentManager dm) =&gt;</code>
<code>    Task.Run(new ProcessDocuments(dm).RunAsync);</code>
<code> </code>
<code>  protected ProcessDocuments(DocumentManager dm) =&gt; </code>
<code>    _documentManager = dm ?? throw new ArgumentNullException(nameof(dm));</code>
<code> </code>
<code>  private readonly DocumentManager _documentManager;</code>
<code> </code>
<code>  protected async Task RunAsync()</code>
<code>  {</code>
<code>    Random random = new();</code>
<code>    Stopwatch stopwatch = new();</code>
<code>    stopwatch.Start();</code>
<code>    bool stop = false;</code>
<code>    do</code>
<code>    {</code>
<code>      if (stopwatch.Elapsed&gt;= TimeSpan.FromSeconds(5))</code>
<code>      {</code>
<code>        stop = true;</code>
<code>      }</code>
<code>      if (_documentManager.IsDocumentAvailable)</code>
<code>      {</code>
<code>        stopwatch.Restart();</code>
<code>        Document doc = _documentManager.GetDocument();</code>
<code>        Console.WriteLine($"Processing document {doc.Title}");</code>
<code>      }</code>
<code>      // wait a random time before processing the next document</code>
<code>      await Task.Delay(random.Next(20));</code>
<code>    } while (!stop) ;</code>
<code>    Console.WriteLine("stopped reading documents");</code>
<code>  }</code>
<code>}</code></pre>
                <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">With the start of the application, a <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">DocumentManager</code>
                    object is instantiated, and the document processing task is started. Then 1,000 documents are
                    created and added to the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">DocumentManager</code>
                    (code file <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">QueueSample/Program.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">应用程序启动时，实例化一个 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">DocumentManager</code>
                                对象，并开始文档处理任务。然后创建 1,000 个文档并添加到 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">DocumentManager</code>
                                （代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">QueueSample/Program.cs</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c08-code-0034"><code>DocumentManager dm = new();</code>
<code> </code>
<code>Task processDocuments = ProcessDocuments.StartAsync(dm);</code>
<code> <span aria-label="206" epub:type="pagebreak" id="Page_206" role="doc-pagebreak"></span></code>
<code>// Create documents and add them to the DocumentManager</code>
<code>Random random = new();</code>
<code>for (int i = 0; i &lt; 1000; i++)</code>
<code>{</code>
<code>  var doc = new Document($"Doc {i}", "content");</code>
<code>  int queueSize = dm.AddDocument(doc);</code>
<code>  Console.WriteLine($"Added document {doc.Title}, queue size: {queueSize}");</code>
<code>  await Task.Delay(random.Next(20));</code>
<code>}</code>
<code>Console.WriteLine($"finished adding documents");</code>
<code>await processDocuments;</code>
<code>Console.WriteLine("bye!");</code></pre>
                <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">When you start the application, the documents are added to
                    and removed from the queue, and you get output similar to the following:<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">
                                当你启动应用程序时，文档会被添加到队列中并从中移除，你会得到类似以下的输出：</font>
                        </font>
                    </font>
                </p>
                <pre id="c08-code-0035"><code>Added document Doc 318, queue size: 6</code>
<code>Added document Doc 319, queue size: 7</code>
<code>Processing document Doc 313</code>
<code>Added document Doc 320, queue size: 7</code>
<code>Processing document Doc 314</code>
<code>Processing document Doc 315</code>
<code>Added document Doc 321, queue size: 7</code>
<code>Processing document Doc 316</code></pre>
                <p id="c08-para-0087" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">A real-life scenario using the task described with the sample
                    application might be an application that processes documents received with a Web API service.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">使用示例应用程序中描述的任务的一个实际场景可能是处理通过 Web
                                API 服务接收到的文档的应用程序。</font>
                        </font>
                    </font>
                </p>
            </section>
        </section>
        <section aria-labelledby="head-2-73" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
            <span id="c08-sec-0024" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"></span>
            <h2 id="head-2-73" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                data-immersive-translate-paragraph="1">STACKS</h2>
            <p id="c08-para-0088" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                data-immersive-translate-paragraph="1">A stack is another container that is similar to the queue. You
                just use different methods to access the stack. The item that is added last to the stack is read first,
                so the stack is a last in, first out (LIFO) container.<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">
                            栈是另一种类似于队列的容器。你只是使用不同的方法来访问栈。最后添加到栈中的项目会最先被读取，因此栈是一个后进先出（LIFO）的容器。</font>
                    </font>
                </font>
            </p>
            <p id="c08-para-0089" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                data-immersive-translate-paragraph="1"><a href="#c08-fig-0002" id="R_c08-fig-0002"
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Figure 8-2</a> shows the
                representation of a stack where the <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Push</code> method adds an
                item to the stack, and the <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Pop</code> method gets the
                item that was added last.<font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">图 8-2 展示了栈的表示，其中 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Push</code>
                            方法向栈中添加一个元素，而 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Pop</code>
                            方法获取最后添加的元素。</font>
                    </font>
                </font>
            </p> <span aria-label="207" epub:type="pagebreak" id="Page_207" role="doc-pagebreak"
                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"></span>
            <figure data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"> <img
                    alt="Schematic illustration of the concept of stack with push and pop operation." class="center"
                    src="images/c08f002.png" />
                <figcaption data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                    <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"><span class="figureLabel"
                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"><a
                                href="#R_c08-fig-0002" id="c08-fig-0002" role="doc-backlink"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"><b
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                                    data-immersive-translate-paragraph="1">FIGURE 8-2<font
                                        class="notranslate immersive-translate-target-wrapper"
                                        data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                                        <font class="notranslate" data-immersive-translate-translation-element-mark="1">
                                              </font>
                                        <font
                                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                                            data-immersive-translate-translation-element-mark="1">
                                            <font
                                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                                data-immersive-translate-translation-element-mark="1">图 8-2</font>
                                        </font>
                                    </font></b></a></span></p>
                </figcaption>
            </figure>
            <p id="c08-para-0090" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                data-immersive-translate-paragraph="1">Similar to the <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Queue&lt;T&gt;</code> class,
                the <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Stack&lt;T&gt;</code>
                class implements the interfaces <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IEnumerable&lt;T&gt;</code>
                and <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ICollection</code>.
                <font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">与 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Queue&lt;T&gt;</code>
                            类类似， <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Stack&lt;T&gt;</code>
                            类实现了接口 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IEnumerable&lt;T&gt;</code>
                            和 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ICollection</code>
                            。</font>
                    </font>
                </font>
            </p>
            <p id="c08-para-0091" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                data-immersive-translate-paragraph="1">Important members of the <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Stack&lt;T&gt;</code> class
                are listed in the following table:<font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1"> <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Stack&lt;T&gt;</code>
                            类的重要成员列在下表中：</font>
                    </font>
                </font>
            </p>
            <table border="1" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                <thead data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                    <tr data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                        <th class="left bgcolor2" scope="col"
                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1">SELECTED STACK&lt;T&gt; MEMBERS</th>
                        <th class="left bgcolor2" scope="col">DESCRIPTION</th>
                    </tr>
                </thead>
                <tbody data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                    <tr data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                        <td class="left bgcolor3"
                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"><code
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Count</code></td>
                        <td class="left bgcolor3" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1">Returns the number of items in the stack.<font
                                class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">返回栈中的项目数量。</font>
                                </font>
                            </font>
                        </td>
                    </tr>
                    <tr data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                        <td class="left bgcolor3"
                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"><code
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Push</code></td>
                        <td class="left bgcolor3" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1">Adds an item on top of the stack.<font
                                class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">在栈顶添加一个项目。</font>
                                </font>
                            </font>
                        </td>
                    </tr>
                    <tr data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                        <td class="left bgcolor3"
                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"><code
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Pop</code></td>
                        <td class="left bgcolor3" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1">Removes and returns an item from the top of the
                            stack. If the stack is empty, an exception of type <code
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">InvalidOperationException</code>
                            is thrown.<font class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">移除并返回栈顶的项目。如果栈为空，则抛出类型为
                                        <code xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">InvalidOperationException</code>
                                        的异常。</font>
                                </font>
                            </font>
                        </td>
                    </tr>
                    <tr data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                        <td class="left bgcolor3"
                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"><code
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Peek</code></td>
                        <td class="left bgcolor3" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1">Returns an item from the top of the stack but does
                            not remove the item.<font class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">返回栈顶的项目但不移除该项目。</font>
                                </font>
                            </font>
                        </td>
                    </tr>
                    <tr data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                        <td class="left bgcolor3"
                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"><code
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Contains</code>
                        </td>
                        <td class="left bgcolor3" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1">Checks whether an item is in the stack and returns
                            <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">true</code> if
                            it is.<font class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">检查项目是否在栈中，如果是，则返回 <code
                                            xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">true</code>
                                        。</font>
                                </font>
                            </font>
                        </td>
                    </tr>
                </tbody>
            </table>
            <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                data-immersive-translate-paragraph="1">In this example, three items are added to the stack with the
                <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Push</code> method. With
                the <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">foreach</code> method,
                all items are iterated using the <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IEnumerable</code> interface.
                The enumerator of the stack does not remove the items; it just returns them item by item (code file
                <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">StackSample/Program.cs</code>):
                <font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">在这个例子中，使用 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Push</code>
                            方法向栈中添加了三个项目。使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">foreach</code>
                            方法，通过 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IEnumerable</code>
                            接口遍历所有项目。栈的枚举器不会移除项目，只是逐个返回它们（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">StackSample/Program.cs</code>
                            ）：</font>
                    </font>
                </font>
            </p>
            <pre id="c08-code-0036"><code>Stack&lt;char&gt; alphabet = new();</code>
<code>alphabet.Push('A');</code>
<code>alphabet.Push('B');</code>
<code>alphabet.Push('C');</code>
<code>foreach (char item in alphabet)</code>
<code>{</code>
<code>  Console.Write(item);</code>
<code>}</code>
<code>Console.WriteLine();</code></pre>
            <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                data-immersive-translate-paragraph="1">Because the items are read in order from the last item added to
                the first, the following result is produced:<font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">由于项目是从最后添加到第一个按顺序读取的，因此产生了以下结果：</font>
                    </font>
                </font>
            </p>
            <pre id="c08-code-0037"><code>CBA</code></pre>
            <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                data-immersive-translate-paragraph="1">Reading the items with the enumerator does not change the state
                of the items. With the <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Pop</code> method, every item
                that is read is also removed from the stack. This way, you can iterate the collection using a <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">while</code> loop and verify
                the <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Count</code> property
                if items still exist:<font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">读取项目时不会改变项目的状态。使用 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Pop</code>
                            方法，每次读取的项目也会从栈中移除。这样，你可以使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">while</code>
                            循环遍历集合，并在项目仍然存在时验证 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Count</code> 属性：
                        </font>
                    </font>
                </font>
            </p>
            <pre id="c08-code-0038"><code>Stack&lt;char&gt; alphabet = new();</code>
<code>alphabet.Push('A');</code>
<code>alphabet.Push('B');</code>
<code>alphabet.Push('C');</code>
<code>Console.Write("First iteration: ");</code>
<code>foreach (char item in alphabet)</code>
<code>{</code>
<code>  Console.Write(item);</code>
<code>}</code>
<code>Console.WriteLine();</code>
<code>Console.Write("Second iteration: ");</code>
<code>while (alphabet.Count&gt; 0)</code>
<code>{</code>
<code>  Console.Write(alphabet.Pop());</code>
<code>}</code>
<code>Console.WriteLine();</code></pre>
            <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                data-immersive-translate-paragraph="1"><span aria-label="208" epub:type="pagebreak" id="Page_208"
                    role="doc-pagebreak"
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"></span>The result gives CBA
                twice—once for each iteration. After the second iteration, the stack is empty because the second
                iteration used the <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Pop</code> method:<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">结果会给出两次
                            CBA——每次迭代一次。在第二次迭代后，栈为空，因为第二次迭代使用了 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Pop</code> 方法：
                        </font>
                    </font>
                </font>
            </p>
            <pre id="c08-code-0039"><code>First iteration: CBA</code>
<code>Second iteration: CBA</code></pre>
        </section>
        <section aria-labelledby="head-2-74" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
            <span id="c08-sec-0025" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"></span>
            <h2 id="head-2-74" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                data-immersive-translate-paragraph="1">LINKED LISTS<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                    <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">链表</font>
                    </font>
                </font>
            </h2>
            <p id="c08-para-0097" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                data-immersive-translate-paragraph="1">
                <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">LinkedList&lt;T&gt;</code>
                is a doubly linked list, whereby one element references the next and the previous one, as shown in <a
                    href="#c08-fig-0003" id="R_c08-fig-0003"
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Figure 8-3</a>. This way you
                can easily walk forward through the complete list by moving to the next element or backward by moving to
                the previous element.<font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1"> <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">LinkedList&lt;T&gt;</code>
                            是一个双向链表，其中一个元素会引用下一个和上一个元素，如图 8-3 所示。这样，你可以通过移动到下一个元素轻松地向前遍历整个列表，或者通过移动到上一个元素向后遍历。</font>
                    </font>
                </font>
            </p>
            <figure data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"> <img
                    alt="Schematic illustration of the concept of linked list." class="center"
                    src="images/c08f003.png" />
                <figcaption data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                    <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"><span class="figureLabel"
                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"><a
                                href="#R_c08-fig-0003" id="c08-fig-0003" role="doc-backlink"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"><b
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                                    data-immersive-translate-paragraph="1">FIGURE 8-3<font
                                        class="notranslate immersive-translate-target-wrapper"
                                        data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                                        <font class="notranslate" data-immersive-translate-translation-element-mark="1">
                                              </font>
                                        <font
                                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                                            data-immersive-translate-translation-element-mark="1">
                                            <font
                                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                                data-immersive-translate-translation-element-mark="1">图 8-3</font>
                                        </font>
                                    </font></b></a></span></p>
                </figcaption>
            </figure>
            <p id="c08-para-0098" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                data-immersive-translate-paragraph="1">The advantage of a linked list is that if items are inserted
                anywhere in the list, the linked list is very fast. When an item is inserted, only the <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Next</code> reference of the
                previous item and the <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Previous</code> reference of
                the next item must be changed to reference the inserted item. With the <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">List&lt;T&gt;</code> class,
                when an element is inserted, all subsequent elements must be moved.<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">
                            链表的优势在于，如果要在列表中的任何位置插入元素，链表非常快。当插入一个元素时，只需要改变前一个元素的 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Next</code>
                            引用和后一个元素的 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Previous</code>
                            引用，使其引用插入的元素。而使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">List&lt;T&gt;</code>
                            类时，当插入一个元素，所有后续元素都必须移动。</font>
                    </font>
                </font>
            </p>
            <p id="c08-para-0099" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                data-immersive-translate-paragraph="1">Of course, there's also a disadvantage with linked lists. Items
                of linked lists can be accessed only one after the other. It takes a long time to find an item that's
                somewhere in the middle or at the end of the list.<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">
                            当然，链表也有缺点。链表中的元素只能一个接一个地访问。要查找列表中间或末尾的元素需要很长时间。</font>
                    </font>
                </font>
            </p>
            <p id="c08-para-0100" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                data-immersive-translate-paragraph="1">A linked list cannot just store the items inside the list;
                together with every item, the linked list must have information about the next and previous items.
                That's why the <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">LinkedList&lt;T&gt;</code>
                contains items of type <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">LinkedListNode&lt;T&gt;</code>.
                With the class <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">LinkedListNode&lt;T&gt;</code>,
                you can get to the next and previous items in the list. The <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">LinkedListNode&lt;T&gt;</code>
                class defines the properties <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">List</code>, <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Next</code>, <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Previous</code>, and <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Value</code>. The <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">List</code> property returns
                the <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">LinkedList&lt;T&gt;</code>
                object that is associated with the node. <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Next</code> and <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Previous</code> are for
                iterating through the list and accessing the next or previous item. <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Value</code> returns the item
                that is associated with the node. <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Value</code> is of type <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">T</code>.<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">
                            链表不仅存储列表中的元素，还必须存储每个元素的前一个和后一个元素的信息。这就是为什么 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">LinkedList&lt;T&gt;</code>
                            包含类型为 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">LinkedListNode&lt;T&gt;</code>
                            的元素。使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">LinkedListNode&lt;T&gt;</code>
                            类，可以访问列表中的下一个和上一个元素。 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">LinkedListNode&lt;T&gt;</code>
                            类定义了 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">List</code> 、
                            <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Next</code> 、
                            <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Previous</code> 和
                            <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Value</code> 属性。
                            <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">List</code>
                            属性返回与节点关联的 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">LinkedList&lt;T&gt;</code>
                            对象。 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Next</code> 和
                            <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Previous</code>
                            用于遍历列表并访问下一个或上一个元素。 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Value</code>
                            返回与节点关联的元素。 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Value</code> 的类型是
                            <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">T</code> 。</font>
                    </font>
                </font>
            </p>
            <p id="c08-para-0101" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                data-immersive-translate-paragraph="1">The <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">LinkedList&lt;T&gt;</code>
                class itself defines members to access the first (<code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">First</code>) and last (<code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Last</code>) items of the
                list, to insert items at specific positions (<code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">AddAfter</code>, <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">AddBefore</code>, <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">AddFirst</code>, <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">AddLast</code>), to remove
                items from specific positions (<code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Remove</code>, <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">RemoveFirst</code>, <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">RemoveLast</code>), and to
                find elements where the search starts from either the beginning (<code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Find</code>) or the end
                (<code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">FindLast</code>) of the
                list.<font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1"> <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">LinkedList&lt;T&gt;</code>
                            类本身定义了成员来访问列表的第一个（ <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">First</code>
                            ）和最后一个（ <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Last</code>
                            ）元素，用于在特定位置插入元素（ <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">AddAfter</code> 、
                            <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">AddBefore</code>
                            、 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">AddFirst</code> 、
                            <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">AddLast</code>
                            ），从特定位置删除元素（ <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Remove</code> 、
                            <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">RemoveFirst</code>
                            、 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">RemoveLast</code>
                            ），以及从列表的开始（ <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Find</code> ）或结束（
                            <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">FindLast</code>
                            ）位置查找元素。</font>
                    </font>
                </font>
            </p>
            <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                data-immersive-translate-paragraph="1">With the sample application, a <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Document</code> record is
                defined to put it into the LinkedList (code file <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">LinkedListSample/Program.cs</code>):
                <font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">在示例应用程序中，定义了一个 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Document</code>
                            记录并将其放入 LinkedList（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">LinkedListSample/Program.cs</code>
                            ）：</font>
                    </font>
                </font>
            </p>
            <pre id="c08-code-0040"><code>record Document(int Id, string Text);</code></pre>
            <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                data-immersive-translate-paragraph="1">The following code snippet creates a <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">LinkedList</code> and adds
                the first item to the start of the list using <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">AddFirst</code>. The <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">AddFirst</code> method
                returns a <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">LinkedListNode</code> object
                that's used with the next invocation to the list to add the document with an ID of 2 after the first
                object. The document with an ID of 3 is added last to the list using the <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">AddLast</code> method (which
                is also at that stage after the document with ID of 2). Using the <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">AddBefore</code> method, the
                document with an ID of 4 is added before the last one. After filling the list, the <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">LinkedList</code> is iterated
                using the <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">foreach</code>
                statement:<font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">以下代码片段创建了一个 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">LinkedList</code>
                            并使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">AddFirst</code>
                            将第一个元素添加到列表的开头。 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">AddFirst</code>
                            方法返回一个 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">LinkedListNode</code>
                            对象，该对象用于列表的下次调用以在第一个对象之后添加 ID 为 2 的文档。ID 为 3 的文档使用 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">AddLast</code>
                            方法（此时也在 ID 为 2 的文档之后）添加到列表的末尾。使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">AddBefore</code>
                            方法，ID 为 4 的文档添加到最后一个元素之前。填充列表后，使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">foreach</code>
                            语句迭代 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">LinkedList</code>
                            ：</font>
                    </font>
                </font>
            </p>
            <pre id="c08-code-0041"><code>LinkedList&lt;Document&gt; list = new();</code>
<code>LinkedListNode&lt;Document&gt; first = list.AddFirst(new Document(1, "first"));<span aria-label="209" epub:type="pagebreak" id="Page_209" role="doc-pagebreak"></span></code>
<code>list.AddAfter(first, new Document(2, "after first"));</code>
<code>LinkedListNode&lt;Document&gt; last = list.AddLast(new Document(3, "Last"));</code>
<code>Document doc4 = new(4, "before last");</code>
<code>list.AddBefore(last, doc4);</code>
<code> </code>
<code>foreach (var item in list)</code>
<code>{</code>
<code>  Console.WriteLine(item);</code>
<code>}</code></pre>
            <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                data-immersive-translate-paragraph="1">Instead of using the <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">foreach</code> statement, you
                can easily iterate through all elements of the collection by accessing the <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Next</code> property of every
                <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">LinkedListNode</code>
                :<font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">除了使用 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">foreach</code>
                            语句，您可以通过访问每个 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">LinkedListNode</code>
                            的 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Next</code>
                            属性轻松迭代集合中的所有元素：</font>
                    </font>
                </font>
            </p>
            <pre id="c08-code-0042"><code>void IterateUsingNext(LinkedListNode&lt;Document&gt; start)</code>
<code>{</code>
<code>  if (start.Value is null) return;</code>
<code>  LinkedListNode&lt;Document&gt;? current = start;</code>
<code>  do</code>
<code>  {</code>
<code>    Console.WriteLine(current.Value);</code>
<code>    current = current.Next;</code>
<code>  } while (current is not null);</code>
<code>}</code></pre>
            <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                data-immersive-translate-paragraph="1">The method <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IterateUsingNext</code> is
                invoked from the top-level statements passing the first object:<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">方法 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IterateUsingNext</code>
                            是从顶层语句中调用，传递了第一个对象：</font>
                    </font>
                </font>
            </p>
            <pre id="c08-code-0043"><code>if (list.First is not null)</code>
<code>{</code>
<code>    IterateUsingNext(list.First);</code>
<code>}</code></pre>
            <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                data-immersive-translate-paragraph="1">Running the application, you'll see two times the documents
                iterated. One iteration is shown here:<font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">运行应用程序，你会看到文档被迭代了两次。一次迭代显示在这里：</font>
                    </font>
                </font>
            </p>
            <pre id="c08-code-0044"><code>Document { Id = 1, Text = first }</code>
<code>Document { Id = 2, Text = after first }</code>
<code>Document { Id = 4, Text = before last }</code>
<code>Document { Id = 3, Text = Last }</code></pre>
            <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                data-immersive-translate-paragraph="1">Using the <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Remove</code> method passing
                a <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Document</code> object
                requires the <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Remove</code>
                method to iterate through the collection until the <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Document</code> can be found
                and removed:<font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">使用 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Remove</code>
                            方法传递 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Document</code>
                            对象需要 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Remove</code>
                            方法遍历集合直到找到并移除 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Document</code> ：
                        </font>
                    </font>
                </font>
            </p>
            <pre id="c08-code-0045"><code>list.Remove(doc4);</code>
<code> </code>
<code>Console.WriteLine("after removal");</code>
<code>foreach (var item in list)</code>
<code>{</code>
<code>    Console.WriteLine(item);</code>
<code>}</code></pre>
            <p id="c08-para-0108" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                data-immersive-translate-paragraph="1">Later in this chapter, in the section “Performance,” you'll see a
                table with the big-O notation where you can compare the performance of different collection classes
                based on the operations, so you can decide for the collection type to use more easily.<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">在本章的后面，“性能”部分，你会看到一个使用大 O
                            表示法的表格，你可以根据操作比较不同集合类的性能，以便更容易地决定使用哪种集合类型。</font>
                    </font>
                </font>
            </p>
        </section>
        <section aria-labelledby="head-2-75" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
            <span id="c08-sec-0026" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"></span>
            <h2 id="head-2-75" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                data-immersive-translate-paragraph="1">SORTED LIST<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                    <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">排序列表</font>
                    </font>
                </font>
            </h2>
            <p id="c08-para-0109" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                data-immersive-translate-paragraph="1">If the collection you need should be sorted based on a key, you
                can use <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">SortedList&lt;TKey, TValue&gt;</code>.
                This class sorts the elements based on a key. You can use any type for the value and also for the key.
                <font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">如果你需要的集合需要根据键进行排序，可以使用 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">SortedList&lt;TKey, TValue&gt;</code>
                            。这个类根据键对元素进行排序。你可以为值和键使用任何类型。</font>
                    </font>
                </font>
            </p>
            <p id="c08-para-0110" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                data-immersive-translate-paragraph="1"><span aria-label="210" epub:type="pagebreak" id="Page_210"
                    role="doc-pagebreak"
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"></span>The following example
                creates a sorted list for which both the key and the value are of type <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">string</code>. The default
                constructor creates an empty list, and then two books are added with the <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Add</code> method. With
                overloaded constructors, you can define the capacity of the list and pass an object that implements the
                interface <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IComparer&lt;TKey&gt;</code>,
                which is used to sort the elements in the list.<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">以下示例创建了一个排序列表，其中键和值都是 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">string</code>
                            类型。默认构造函数创建一个空列表，然后使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Add</code>
                            方法添加了两本书。通过重载构造函数，你可以定义列表的容量，并传递一个实现 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IComparer&lt;TKey&gt;</code>
                            接口的对象，该对象用于对列表中的元素进行排序。</font>
                    </font>
                </font>
            </p>
            <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                data-immersive-translate-paragraph="1">The first parameter of the <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Add</code> method is the key
                (the book title); the second parameter is the value (the ISBN). Instead of using the <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Add</code> method, you can
                use the indexer to add elements to the list. The indexer requires the key as index parameter. If a key
                already exists, the <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Add</code> method throws an
                exception of type <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ArgumentException</code>. If
                the same key is used with the indexer, the new value replaces the old value (code file <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">SortedListSample/Program.cs</code>):
                <font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1"> <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Add</code>
                            方法的第一个参数是键（书名）；第二个参数是值（ISBN）。除了使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Add</code>
                            方法外，你还可以使用索引器将元素添加到列表中。索引器需要将键作为索引参数。如果键已存在， <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Add</code>
                            方法会抛出一个类型为 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ArgumentException</code>
                            的异常。如果使用索引器时使用了相同的键，新值将替换旧值（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">SortedListSample/Program.cs</code>
                            ）：</font>
                    </font>
                </font>
            </p>
            <pre id="c08-code-0046"><code>SortedList&lt;string, string&gt; books = new();</code>
<code>books.Add("Front-end Development with ASP.NET Core", "978-1-119-18140-8");</code>
<code>books.Add("Beginning C# 7 Programming", "978-1-119-45866-1");</code>
<code> </code>
<code>books["Enterprise Services"] = "978-0321246738";</code>
<code>books["Professional C# 7 and .NET Core 2.1"] = "978-1-119-44926-3";</code>
<code> </code></pre>
            <aside data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                <div class="top hr" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                    <hr />
                </div>
                <section class="feature2" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                    <p id="c08-para-0113" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                        data-immersive-translate-paragraph="1"><b
                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">NOTE</b> <code
                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">SortedList&lt;TKey, TValue&gt;</code>
                        <i data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"> allows only one value
                            per key. If you need multiple values per key, you can use </i> <code
                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Lookup&lt;TKey, TElement&gt;</code>
                        <i data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">.</i>
                        <font class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">注意： <code
                                        xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">SortedList&lt;TKey, TValue&gt;</code>
                                    每个键只能有一个值。如果你需要每个键有多个值，可以使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Lookup&lt;TKey, TElement&gt;</code>
                                    。</font>
                            </font>
                        </font>
                    </p>
                    <div class="bottom hr" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                        <hr />
                    </div>
                </section>
            </aside>
            <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                data-immersive-translate-paragraph="1">You can iterate through the list using a <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">foreach</code> statement.
                Elements returned by the enumerator are of type <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">KeyValuePair&lt;TKey, TValue&gt;</code>,
                which contains both the key and the value. The key can be accessed with the <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Key</code> property, and the
                value can be accessed with the <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Value</code> property:<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">你可以使用 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">foreach</code>
                            语句遍历列表。枚举器返回的元素类型为 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">KeyValuePair&lt;TKey, TValue&gt;</code>
                            ，其中包含键和值。可以通过 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Key</code>
                            属性访问键，通过 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Value</code>
                            属性访问值：</font>
                    </font>
                </font>
            </p>
            <pre id="c08-code-0047"><code>foreach (KeyValuePair&lt;string, string&gt; book in books)</code>
<code>{</code>
<code>  Console.WriteLine($"{book.Key}, {book.Value}");</code>
<code>}</code></pre>
            <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                data-immersive-translate-paragraph="1">The iteration displays book titles and ISBN numbers ordered by
                the key:<font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">遍历显示按键排序的书名和 ISBN 号码：</font>
                    </font>
                </font>
            </p>
            <pre id="c08-code-0048"><code>Beginning C# 7 Programming, 978-1-119-45866-1</code>
<code>Enterprise Services, 978-0321246738</code>
<code>Front-end Development with ASP.NET Core, 978-1-119-18140-8</code>
<code>Professional C# 7 and .NET Core 2.1, 978-1-119-44926-3</code></pre>
            <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                data-immersive-translate-paragraph="1">You can also access the values and keys by using the <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Values</code> and <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Keys</code> properties. The
                <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Values</code> property
                returns <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IList&lt;TValue&gt;</code>,
                and the <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Keys</code>
                property returns <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IList&lt;TKey&gt;</code>, so
                you can use these properties with a <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">foreach</code>
                :<font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">你也可以通过使用 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Values</code> 和
                            <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Keys</code>
                            属性访问值和键。 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Values</code>
                            属性返回 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IList&lt;TValue&gt;</code>
                            ， <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Keys</code> 属性返回
                            <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IList&lt;TKey&gt;</code>
                            ，所以你可以用这些属性与 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">foreach</code> ：
                        </font>
                    </font>
                </font>
            </p>
            <pre id="c08-code-0049"><code>foreach (string isbn in books.Values)</code>
<code>{</code>
<code>  Console.WriteLine(isbn);</code>
<code>}</code>
<code>foreach (string title in books.Keys)</code>
<code>{</code>
<code>  Console.WriteLine(title);</code>
<code>}</code></pre>
            <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                data-immersive-translate-paragraph="1">The first loop displays the values and next the keys:<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">第一个循环显示值，然后显示键：</font>
                    </font>
                </font>
            </p>
            <pre id="c08-code-0050"><code>978-1-119-45866-1</code>
<code>978-0321246738</code>
<code>978-1-119-18140-8</code>
<code>978-1-119-44926-3</code>
<code>Beginning C# 7 Programming<span aria-label="211" epub:type="pagebreak" id="Page_211" role="doc-pagebreak"></span></code>
<code>Enterprise Services</code>
<code>Front-end Development with ASP.NET Core</code>
<code>Professional C# 7 and .NET Core 2.1</code>
<code> </code></pre>
            <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                data-immersive-translate-paragraph="1">If you try to access an element with an indexer and pass a key
                that does not exist, an exception of type <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">KeyNotFoundException</code>
                is thrown. To avoid that exception, you can use the method <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ContainsKey</code>, which
                returns <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">true</code> if the
                key passed exists in the collection, or you can invoke the method <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">TryGetValue</code>, which
                tries to get the value but doesn't throw an exception if it isn't found:<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">如果你尝试使用索引器访问一个元素，并传递一个不存在的键，会抛出类型为
                            <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">KeyNotFoundException</code>
                            的异常。为了避免该异常，你可以使用方法 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ContainsKey</code>
                            ，如果传递的键存在于集合中，该方法返回 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">true</code>
                            ，或者你可以调用方法 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">TryGetValue</code>
                            ，该方法尝试获取值，但如果未找到则不会抛出异常：</font>
                    </font>
                </font>
            </p>
            <pre id="c08-code-0051"><code>string title = "Professional C# 10";</code>
<code>if (!<b>books.TryGetValue(title</b>, out string <b>isbn)</b>)</code>
<code>{</code>
<code>  Console.WriteLine($"{title} not found");</code>
<code>}</code>
<code>else</code>
<code>{</code>
<code>  Console.WriteLine($"{title} found: {isbn}");</code>
<code>}</code></pre>
        </section>
        <section aria-labelledby="head-2-76" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
            <span id="c08-sec-0028" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"></span>
            <h2 id="head-2-76" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                data-immersive-translate-paragraph="1">DICTIONARIES<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                    <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">字典</font>
                    </font>
                </font>
            </h2>
            <p id="c08-para-0119" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                data-immersive-translate-paragraph="1">A dictionary represents a sophisticated data structure that
                enables you to access an element based on a key. Dictionaries are also known as <i
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">hash tables</i> or <i
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">maps</i>. The main feature of
                dictionaries is fast lookup based on keys. You can also add and remove items freely, as with <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">List&lt;T&gt;</code>, but
                without the performance overhead of having to shift subsequent items in memory.<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">
                            字典表示一种复杂的数据结构，它允许你根据键访问元素。字典也被称为哈希表或映射。字典的主要特征是基于键的快速查找。你也可以像 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">List&lt;T&gt;</code>
                            一样自由地添加和删除项目，但无需内存中移动后续项目的性能开销。</font>
                    </font>
                </font>
            </p>
            <p id="c08-para-0120" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                data-immersive-translate-paragraph="1"><a href="#c08-fig-0004" id="R_c08-fig-0004"
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Figure 8-4</a> shows a
                simplified representation of a dictionary. Here employee IDs such as <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">B4711</code> are the keys
                added to the dictionary. The key is transformed into a hash. With the hash, a number is created to
                associate an index with the values. The index then contains a link to the value. The figure is
                simplified because it is possible for a single index entry to be associated with multiple values, and
                the index can be stored in a hash table.<font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">图 8-4 展示了一个字典的简化表示。这里员工 ID 如 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">B4711</code>
                            是添加到字典中的键。键被转换成哈希值。通过哈希值，创建一个数字来将索引与值关联起来。索引然后包含一个指向值的链接。该图是简化的，因为单个索引条目可能与多个值关联，并且索引可以存储在哈希表中。
                        </font>
                    </font>
                </font>
            </p>
            <figure data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"> <img
                    alt="Schematic illustration of the concept of accessing the values in dictionaries with index values."
                    class="center" src="images/c08f004.png" />
                <figcaption data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                    <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"><span class="figureLabel"
                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"><a
                                href="#R_c08-fig-0004" id="c08-fig-0004" role="doc-backlink"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"><b
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                                    data-immersive-translate-paragraph="1">FIGURE 8-4<font
                                        class="notranslate immersive-translate-target-wrapper"
                                        data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                                        <font class="notranslate" data-immersive-translate-translation-element-mark="1">
                                              </font>
                                        <font
                                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                                            data-immersive-translate-translation-element-mark="1">
                                            <font
                                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                                data-immersive-translate-translation-element-mark="1">图 8-4</font>
                                        </font>
                                    </font></b></a></span></p>
                </figcaption>
            </figure>
            <p id="c08-para-0121" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                data-immersive-translate-paragraph="1">.NET offers several dictionary classes. The main class you use is
                <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Dictionary&lt;TKey, TValue&gt;</code>.
                <font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">.NET 提供了多个字典类。你主要使用的类是 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Dictionary&lt;TKey, TValue&gt;</code>
                            。</font>
                    </font>
                </font>
            </p> <span aria-label="212" epub:type="pagebreak" id="Page_212" role="doc-pagebreak"
                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"></span>
            <section data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"><span id="c08-sec-0029"
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"></span>
                <h3 id="head-3-179" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">Dictionary Initializers <font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                        <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">字典初始化器</font>
                        </font>
                    </font>
                </h3>
                <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">C# offers a syntax to initialize dictionaries at declaration
                    with <i data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">dictionary
                        initializers</i>. A dictionary with a key of <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">int</code> and a value of
                    <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">string</code> can be
                    initialized as follows:<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">C# 提供了一种使用字典初始化器在声明时初始化字典的语法。一个键为
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">int</code>
                                、值为 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">string</code>
                                的字典可以按如下方式初始化：</font>
                        </font>
                    </font>
                </p>
                <pre id="c08-code-0052"><code>Dictionary&lt;int, string&gt; dict = new()</code>
<code>{</code>
<code>  [3] = "three",</code>
<code>  [7] = "seven"</code>
<code>};</code></pre>
                <p id="c08-para-0123" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">Here, two elements are added to the dictionary. The first
                    element has a key of <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">3</code> and a string
                    value <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">three</code>
                    ; the second element has a key of <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">7</code> and a string
                    value <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">seven</code>.
                    This initializer syntax is easily readable and is an adaptation of the collection initializer syntax
                    shown earlier in this chapter.<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">这里向字典添加了两个元素。第一个元素的键为 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">3</code>
                                ，字符串值为 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">three</code>
                                ；第二个元素的键为 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">7</code>
                                ，字符串值为 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">seven</code>
                                。这种初始化器语法易于阅读，是本章前面展示的集合初始化器语法的扩展。</font>
                        </font>
                    </font>
                </p>
            </section>
            <section data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"><span id="c08-sec-0030"
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"></span>
                <h3 id="head-3-180" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">Key Type <font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                        <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">键类型</font>
                        </font>
                    </font>
                </h3>
                <p id="c08-para-0124" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">A type that is used as a key in the dictionary must override
                    the method <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">GetHashCode</code> of the
                    <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Object</code> class.
                    Whenever a dictionary class needs to determine where an item should be located, it calls the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">GetHashCode</code>
                    method. The <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">int</code>
                    that is returned by <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">GetHashCode</code> is
                    used by the dictionary to calculate an index of where to place the element. I won't go into this
                    part of the algorithm; what you should know is that it involves prime numbers, so the capacity of a
                    dictionary is a prime number.<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">在字典中用作键的类型必须重写 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">GetHashCode</code>
                                类的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Object</code>
                                方法。每当字典类需要确定一个元素应该放在哪里时，它会调用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">GetHashCode</code>
                                方法。由 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">GetHashCode</code>
                                返回的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">int</code>
                                值会被字典用来计算元素存放的索引位置。我不会详细解释这部分算法；你应该知道的是，它涉及质数，所以字典的容量是一个质数。</font>
                        </font>
                    </font>
                </p>
                <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">The implementation of <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">GetHashCode</code> must
                    satisfy the following requirements:<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1"> <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">GetHashCode</code>
                                的实现必须满足以下要求：</font>
                        </font>
                    </font>
                </p>
                <ul class="check" id="c08-list-0003"
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                    <li id="c08-li-0014" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                        data-immersive-translate-paragraph="1">The same object should always return the same value.<font
                            class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">同一个对象应该始终返回相同的值。</font>
                            </font>
                        </font>
                    </li>
                    <li id="c08-li-0015" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                        data-immersive-translate-paragraph="1">Different objects can return the same value.<font
                            class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">不同的对象可以返回相同的值。</font>
                            </font>
                        </font>
                    </li>
                    <li id="c08-li-0016" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                        data-immersive-translate-paragraph="1">It must not throw exceptions.<font
                            class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">它不应该抛出异常。</font>
                            </font>
                        </font>
                    </li>
                    <li id="c08-li-0017" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                        data-immersive-translate-paragraph="1">It should use at least one instance field.<font
                            class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">它应该至少使用一个实例字段。</font>
                            </font>
                        </font>
                    </li>
                    <li id="c08-li-0018" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                        data-immersive-translate-paragraph="1">The hash code should not change during the lifetime of
                        the object.<font class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">哈希码在对象的生命周期内不应该改变。</font>
                            </font>
                        </font>
                    </li>
                </ul>
                <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">Besides the requirements that must be satisfied by the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">GetHashCode</code>
                    implementation, it's also good practice to satisfy these requirements:<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">除了 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">GetHashCode</code>
                                实现必须满足的要求外，满足这些要求也是良好的实践：</font>
                        </font>
                    </font>
                </p>
                <ul class="check" id="c08-list-0004"
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                    <li id="c08-li-0019" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                        data-immersive-translate-paragraph="1">It should execute as quickly as possible; it must be
                        inexpensive to compute.<font class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">它应该尽可能快地执行；计算成本必须低廉。</font>
                            </font>
                        </font>
                    </li>
                    <li id="c08-li-0020" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                        data-immersive-translate-paragraph="1">The hash code value should be evenly distributed across
                        the entire range of numbers that an <code
                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">int</code> can store.
                        <font class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">哈希码值应该在 <code
                                        xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">int</code>
                                    可以存储的整个数值范围内均匀分布。</font>
                            </font>
                        </font>
                    </li>
                </ul>
                <aside data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                    <div class="top hr" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                        <hr />
                    </div>
                    <section class="feature2" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                        <p id="c08-para-0127" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1"><b
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">NOTE</b> <i
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Good performance
                                of the dictionary is based on a good implementation of the method </i>
                            <code
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">GetHashCode</code>
                            <i data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">.</i>
                            <font class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">注意：字典的良好性能基于方法 <code
                                            xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">GetHashCode</code>
                                        的良好实现。</font>
                                </font>
                            </font>
                        </p>
                        <div class="bottom hr" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                            <hr />
                        </div>
                    </section>
                </aside>
                <p id="c08-para-0128" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">What's the reason for having hash code values evenly
                    distributed across the range of integers? If two keys return hashes that have the same index, the
                    dictionary class needs to start looking for the nearest available free location to store the second
                    item—and it will have to do some searching to retrieve this item later. This is obviously going to
                    hurt performance. In addition, if a lot of your keys tend to provide the same storage indexes for
                    where they should be stored, this kind of clash becomes more likely. However, because of the way
                    that Microsoft's part of the algorithm works, this risk is minimized when the calculated hash values
                    are evenly distributed between <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">int.MinValue</code> and
                    <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">int.MaxValue</code>.
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">
                                为什么哈希码值需要在整数范围内均匀分布？如果两个键返回的哈希值具有相同的索引，字典类需要开始寻找存储第二个项的最近可用空闲位置——并且它将不得不进行一些搜索来稍后检索这个项。这显然会损害性能。此外，如果你的很多键倾向于为它们应该存储的位置提供相同的存储索引，这种冲突的可能性就会增加。然而，由于微软算法的部分工作方式，当计算出的哈希值在
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">int.MinValue</code>
                                和 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">int.MaxValue</code>
                                之间均匀分布时，这种风险被最小化了。</font>
                        </font>
                    </font>
                </p>
                <p id="c08-para-0129" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">Besides having an implementation of <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">GetHashCode</code>, the
                    key type also must implement the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IEquatable&lt;T&gt;.Equals</code>
                    method or override the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Equals</code> method from
                    the <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Object</code>
                    class. Because different key objects may return <span aria-label="213" epub:type="pagebreak"
                        id="Page_213" role="doc-pagebreak"
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"></span>the same hash
                    code, the method <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Equals</code> is used by
                    the dictionary comparing keys. The dictionary examines whether two keys, such as <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">A</code> and <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">B</code>, are equal; it
                    invokes <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">A.Equals(B)</code>. This
                    means you must ensure that the following is always true: <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">If A.Equals(B)</code> is
                    true, then <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">A.GetHashCode</code> and
                    <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">B.GetHashCode</code>
                    must always return the same hash code.<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">除了实现 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">GetHashCode</code>
                                之外，键类型还必须实现 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IEquatable&lt;T&gt;.Equals</code>
                                方法或重写 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Object</code>
                                类中的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Equals</code>
                                方法。因为不同的键对象可能会返回相同的哈希码，字典在比较键时使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Equals</code>
                                方法。字典检查两个键，例如 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">A</code> 和
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">B</code>
                                ，是否相等；它调用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">A.Equals(B)</code>
                                。这意味着你必须确保以下始终为真：如果 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">If A.Equals(B)</code>
                                为真，那么 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">A.GetHashCode</code>
                                和 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">B.GetHashCode</code>
                                必须始终返回相同的哈希码。</font>
                        </font>
                    </font>
                </p>
                <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">This may seem a fairly subtle point, but it is crucial. If
                    you contrived some way of overriding these methods so that the preceding statement were not always
                    true, a dictionary that uses instances of this class as its keys would not work properly. Instead,
                    you'd find funny things happening. For example, you might place an object in the dictionary and then
                    discover that you could never retrieve it, or you might try to retrieve an entry and have the wrong
                    entry returned.<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">
                                这可能看起来是一个相当微妙的问题，但它至关重要。如果你设法覆盖这些方法，使得前面的陈述不总是成立，那么一个使用该类的实例作为其键的字典将无法正常工作。相反，你会发现一些奇怪的事情发生。例如，你可能会将一个对象放入字典，然后发现你永远无法检索它，或者你可能会尝试检索一个条目，却返回了错误的条目。
                            </font>
                        </font>
                    </font>
                </p>
                <aside data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                    <div class="top hr" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                        <hr />
                    </div>
                    <section class="feature2" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                        <p id="c08-para-0131" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1"><b
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">NOTE</b> <i
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">For this reason,
                                the C# compiler displays a compilation warning if you supply an override for </i><code
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Equals</code><i
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"> but don't supply
                                an override for </i><code
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">GetHashCode</code><i
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">.</i>
                            <font class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">注意 因此，如果你为 <code
                                            xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Equals</code>
                                        提供了重写但未为 <code xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">GetHashCode</code>
                                        提供重写，C# 编译器会显示编译警告。</font>
                                </font>
                            </font>
                        </p>
                        <div class="bottom hr" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                            <hr />
                        </div>
                    </section>
                </aside>
                <p id="c08-para-0132" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">For <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">System.Object</code>,
                    this condition is true because <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Equals</code> simply
                    compares references, and <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">GetHashCode</code>
                    actually returns a hash that is based solely on the address of the object. This means that hash
                    tables based on a key that doesn't override these methods will work correctly. However, the problem
                    with this approach is that keys are regarded as equal only if they are the same object. That means
                    when you place an object in the dictionary, you have to hang onto the reference to the key; you
                    can't simply instantiate another key object later with the same value. If you don't override <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Equals</code> and <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">GetHashCode</code>, the
                    type is not very convenient to use in a dictionary as a key.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">对于 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">System.Object</code>
                                ，这个条件成立是因为 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Equals</code>
                                只是比较引用，而 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">GetHashCode</code>
                                实际上返回的哈希值完全基于对象的地址。这意味着基于不重写这些方法的键的哈希表可以正常工作。然而，这种方法的缺点是，只有当键是同一个对象时才被视为相等。这意味着当你将对象放入字典时，你必须保留键的引用；你不能稍后简单地用相同的值实例化另一个键对象。如果你不重写
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Equals</code>
                                和 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">GetHashCode</code>
                                ，这个类型作为字典的键使用起来不是很方便。</font>
                        </font>
                    </font>
                </p>
                <p id="c08-para-0133" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">Incidentally, <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">System.String</code>
                    implements the interface <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IEquatable</code> and
                    overloads <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">GetHashCode</code>
                    appropriately. <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Equals</code> provides
                    value comparison, and <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">GetHashCode</code>
                    returns a hash based on the value of the string. Strings can be used conveniently as keys in
                    dictionaries.<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">顺便说一下， <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">System.String</code>
                                实现了接口 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IEquatable</code>
                                并适当地重写了 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">GetHashCode</code>
                                。 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Equals</code>
                                提供了值比较，而 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">GetHashCode</code>
                                返回基于字符串值的哈希值。字符串可以作为字典中的键方便地使用。</font>
                        </font>
                    </font>
                </p>
                <p id="c08-para-0134" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">Number types such as <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Int32</code> also
                    implement the interface <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IEquatable</code> and
                    overload <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">GetHashCode</code>.
                    However, the hash code returned by these types simply maps to the value. If the number you would
                    like to use as a key is not itself distributed around the possible values of an integer, using
                    integers as keys doesn't fulfill the rule of evenly distributing key values to get the best
                    performance. <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Int32</code> is not meant
                    to be used in a dictionary.<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">数值类型如 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Int32</code>
                                也实现了 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IEquatable</code>
                                接口并重载了 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">GetHashCode</code>
                                。然而，这些类型返回的哈希码简单地映射到其值。如果你希望用作键的数值本身并未均匀分布在整数的可能值范围内，使用整数作为键并不能满足均匀分布键值以获得最佳性能的规则。 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Int32</code>
                                不应用于字典中。</font>
                        </font>
                    </font>
                </p>
                <p id="c08-para-0135" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">A C# 9 record is a class, but offers value semantics. With
                    this, it also implements the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IEquatable</code>
                    interface and overrides <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">GetHashCode</code>.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">C# 9 的记录类型是类，但提供了值语义。因此，它也实现了
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IEquatable</code>
                                接口并重载了 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">GetHashCode</code>
                                。</font>
                        </font>
                    </font>
                </p>
                <p id="c08-para-0136" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">If you need to use a key type that does not implement <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IEquatable</code> and
                    does not override <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">GetHashCode</code>
                    according to the key values you store in the dictionary, you can create a comparer implementing the
                    interface <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IEqualityComparer&lt;T&gt;</code>.
                    This interface defines the methods <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">GetHashCode</code> and
                    <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Equals</code> with an
                    argument of the object passed, so you can offer an implementation different from the object type
                    itself. An overload of the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Dictionary&lt;TKey, TValue&gt;</code>
                    constructor allows passing an object implementing <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IEqualityComparer&lt;T&gt;</code>.
                    If such an object is assigned to the dictionary, this class is used to generate the hash codes and
                    compare the keys.<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">如果你需要使用一个键类型，该类型未实现 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IEquatable</code>
                                接口且未重载 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">GetHashCode</code>
                                ，根据你存储在字典中的键值，你可以创建一个实现 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IEqualityComparer&lt;T&gt;</code>
                                接口的比较器。该接口定义了 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">GetHashCode</code>
                                和 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Equals</code>
                                方法，其参数为传递的对象，因此你可以提供与对象类型本身不同的实现。 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Dictionary&lt;TKey, TValue&gt;</code>
                                构造函数的重载允许传递实现 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IEqualityComparer&lt;T&gt;</code>
                                的对象。如果将此类对象分配给字典，该类将用于生成哈希码并比较键。</font>
                        </font>
                    </font>
                </p>
            </section>
            <section data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"><span id="c08-sec-0033"
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"></span>
                <h3 id="head-3-181" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">Dictionary Example <font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                        <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">字典示例</font>
                        </font>
                    </font>
                </h3>
                <p id="c08-para-0137" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">The dictionary example in this section is a program that sets
                    up a dictionary of employees. The dictionary is indexed by <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">EmployeeId</code>
                    objects, and each item stored in the dictionary is an <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Employee</code> object
                    that stores details of an employee.<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">本节中的字典示例是一个设置员工字典的程序。该字典使用 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">EmployeeId</code>
                                对象进行索引，字典中存储的每个项目都是一个 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Employee</code>
                                对象，用于存储员工的详细信息。</font>
                        </font>
                    </font>
                </p>
                <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">The struct <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">EmployeeId</code> is
                    implemented to define a key to be used in a dictionary. The members of the class are a prefix
                    character and a number for the employee. Both of these variables are read-only and can be
                    initialized only in the constructor to ensure that keys within the dictionary cannot change. The
                    default implementation of the record's <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">GetHashCode</code> uses
                    all of its fields to generate the hash code. When you have read-only variables, it is guaranteed
                    that they can't be changed. The fields are filled within the constructor. The <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ToString</code> method is
                    overloaded to get a string representation of the employee ID. As required for a key type, <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">EmployeeId</code> <span
                        aria-label="214" epub:type="pagebreak" id="Page_214" role="doc-pagebreak"
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"></span>implements the
                    interface <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IEquatable</code> and
                    overloads the method <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">GetHashCode</code> (code
                    file <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">DictionarySample/EmployeeId.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">结构体 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">EmployeeId</code>
                                被实现用于定义字典中使用的键。该类的成员是一个前缀字符和一个员工编号。这两个变量都是只读的，并且只能通过构造函数进行初始化，以确保字典中的键不能改变。记录的 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">GetHashCode</code>
                                的默认实现使用其所有字段来生成哈希码。当你有只读变量时，可以保证它们不能被改变。字段在构造函数中填充。 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ToString</code>
                                方法被重载以获取员工 ID 的字符串表示。按照键类型的需要， <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">EmployeeId</code>
                                实现了 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IEquatable</code>
                                接口并重载了 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">GetHashCode</code>
                                方法（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">DictionarySample/EmployeeId.cs</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c08-code-0053"><code>public class EmployeeIdException : Exception</code>
<code>{</code>
<code>  public EmployeeIdException(string message) : base(message) { }</code>
<code>}</code>
<code> </code>
<code>public struct EmployeeId : IEquatable&lt;EmployeeId&gt;</code>
<code>{</code>
<code>  private readonly char _prefix;</code>
<code>  private readonly int _number;</code>
<code>  public EmployeeId(string id)</code>
<code>  {</code>
<code>    if (id == null) throw new ArgumentNullException(nameof(id));</code>
<code>    _prefix = (id.ToUpper())[0];</code>
<code>    int last = id.Length&gt; 7 ? 7 : id.Length;</code>
<code>    try</code>
<code>    {</code>
<code>      _number = int.Parse(id[1..last]);</code>
<code>    }</code>
<code>    catch (FormatException)</code>
<code>    {</code>
<code>      throw new EmployeeIdException("Invalid EmployeeId format");</code>
<code>    }</code>
<code>  }</code>
<code> </code>
<code>  public override string ToString() =&gt; _prefix.ToString() + </code>
<code>    $"{_number,6:000000}";</code>
<code> </code>
<code>  public override int GetHashCode() =&gt; (_number ˆ _number &lt;&lt; 16) * 0x15051505;</code>
<code> </code>
<code>  public bool Equals(EmployeeId other) =&gt;</code>
<code>    _prefix == other._prefix &amp;&amp; _number == other._number;</code>
<code> </code>
<code>  public override bool Equals(object obj) =&gt; Equals((EmployeeId)obj);</code>
<code> </code>
<code>  public static bool operator ==(EmployeeId left, EmployeeId right) =&gt;</code>
<code>    left.Equals(right);</code>
<code> </code>
<code>  public static bool operator !=(EmployeeId left, EmployeeId right) =&gt;</code>
<code>    !(left == right);</code>
<code>}</code></pre>
                <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">The <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Equals</code> method that
                    is defined by the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IEquatable&lt;T&gt;</code>
                    interface compares the values of two <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">EmployeeId</code> objects
                    and returns <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">true</code>
                    if both values are the same. Instead of implementing the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Equals</code> method from
                    the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IEquatable&lt;T&gt;</code>
                    interface, you can also override the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Equals</code> method from
                    the <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Object</code>
                    class:<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">由 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IEquatable&lt;T&gt;</code>
                                接口定义的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Equals</code>
                                方法比较两个 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">EmployeeId</code>
                                对象的值，如果两个值相同则返回 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">true</code>
                                。你不仅可以实现 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IEquatable&lt;T&gt;</code>
                                接口的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Equals</code>
                                方法，也可以重写 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Object</code>
                                类的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Equals</code>
                                方法：</font>
                        </font>
                    </font>
                </p>
                <pre id="c08-code-0054"><code>public bool Equals(EmployeeId other) =&gt;</code>
<code>  _prefix == other._prefix &amp;&amp; _number == other._number;</code></pre>
                <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">With the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">_number</code> variable,
                    a value from 1 to around 190,000 is expected for the employees. This doesn't fill the range of an
                    integer. The algorithm used by <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">GetHashCode</code> shifts
                    the number 16 bits to the left, then does an XOR (exclusive OR) with the original number, and
                    finally multiplies the result by the hex value 15051505. The hash code is fairly evenly distributed
                    across the range of an integer:<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">使用 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">_number</code>
                                变量时，期望员工值为 1 到约 190,000 之间的数值。这并不覆盖整数的范围。 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">GetHashCode</code>
                                使用的算法将数值左移 16 位，然后与原始数值进行异或（排他性或）操作，最后将结果乘以十六进制值 15051505。哈希码在整数范围内分布相当均匀：</font>
                        </font>
                    </font>
                </p>
                <pre
                    id="c08-code-0055"><code>public override int GetHashCode() =&gt; (number ˆ number &lt;&lt; 16) * 0x1505_1505;</code></pre>
                <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1"><span aria-label="215" epub:type="pagebreak" id="Page_215"
                        role="doc-pagebreak"
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"></span>The <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Employee</code> type is a
                    simple record with private fields for the name, salary, and ID of the employee. The constructor
                    initializes all values, and the method <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ToString</code> returns a
                    string representation of an instance. The implementation of <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ToString</code> uses a
                    format string to create the string representation for performance reasons (code file <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">DictionarySample/Employee.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1"> <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Employee</code>
                                类型是一个简单的记录，包含员工姓名、薪资和 ID 的私有字段。构造函数初始化所有值，方法 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ToString</code>
                                返回实例的字符串表示。 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ToString</code>
                                的实现使用格式字符串来创建字符串表示，以优化性能（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">DictionarySample/Employee.cs</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c08-code-0056"><code>public record Employee</code>
<code>{</code>
<code>  private readonly string _name;</code>
<code>  private readonly decimal _salary;</code>
<code>  private readonly EmployeeId _id;</code>
<code>  public Employee(EmployeeId id, string name, decimal salary)</code>
<code>  {</code>
<code>    _id = id;</code>
<code>    _name = name;</code>
<code>    _salary = salary;</code>
<code>  }</code>
<code> </code>
<code>  public override string ToString() =&gt; </code>
<code>    $"{_id.ToString()}: {_name, -20} {_salary,12:C}";</code>
<code>}</code></pre>
                <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">In the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Program.cs</code> file, a
                    new <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Dictionary&lt;TKey, TValue&gt;</code>
                    instance is created, where the key is of type <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">EmployeeId</code> and the
                    value is of type <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Employee</code>. The
                    constructor allocates a capacity of 31 elements. Remember that capacity is based on prime numbers.
                    However, when you assign a value that is not a prime number, you don't need to worry. The <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Dictionary&lt;TKey, TValue&gt;</code>
                    class itself takes the next prime number from a list of specially selected prime numbers that
                    follows the integer passed to the constructor to allocate the capacity. After creating the employee
                    objects and IDs, they are added to the newly created dictionary using the new dictionary initializer
                    syntax. Of course, you can also invoke the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Add</code> method of the
                    dictionary to add objects instead (code file <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">DictionarySample/Program.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">在 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Program.cs</code>
                                文件中，创建了一个新的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Dictionary&lt;TKey, TValue&gt;</code>
                                实例，其中键的类型为 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">EmployeeId</code>
                                ，值的类型为 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Employee</code>
                                。构造函数分配了 31 个元素的空间。请记住，容量是基于质数的。但是，当你分配一个非质数的值时，你无需担心。 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Dictionary&lt;TKey, TValue&gt;</code>
                                类本身会从构造函数传递给容量分配的整数之后的一个特别选择的质数列表中获取下一个质数。在创建员工对象和 ID
                                之后，它们使用新的字典初始化语法添加到新创建的字典中。当然，你也可以调用字典的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Add</code>
                                方法来添加对象（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">DictionarySample/Program.cs</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c08-code-0057"><code>EmployeeId idKyle = new("J18");</code>
<code>Employee kyle = new Employee(idKyle, "Kyle Bush", 138_000.00m );</code>
<code> </code>
<code>EmployeeId idMartin = new("J19");</code>
<code>Employee martin = new(idMartin, "Martin Truex Jr", 73_000.00m);</code>
<code> </code>
<code>EmployeeId idKevin = new("S4");</code>
<code>Employee kevin = new(idKevin, "Kevin Harvick", 116_000.00m);</code>
<code> </code>
<code>EmployeeId idDenny = new EmployeeId("J11");</code>
<code>Employee denny = new Employee(idDenny, "Denny Hamlin", 127_000.00m);</code>
<code> </code>
<code>EmployeeId idJoey = new("T22");</code>
<code>Employee joey = new(idJoey, "Joey Logano", 96_000.00m);</code>
<code> </code>
<code>EmployeeId idKyleL = new ("C42");</code>
<code>Employee kyleL = new (idKyleL, "Kyle Larson", 80_000.00m);</code>
<code> </code>
<code> </code>
<code>Dictionary&lt;EmployeeId, Employee&gt; employees = new(31)</code>
<code>{</code>
<code>  [idKyle] = kyle,</code>
<code>  [idMartin] = martin,</code>
<code>  [idKevin] = kevin,<span aria-label="216" epub:type="pagebreak" id="Page_216" role="doc-pagebreak"></span></code>
<code>  [idDenny] = denny,</code>
<code>  [idJoey] = joey,</code>
<code>};</code>
<code> </code>
<code>foreach (var employee in employees.Values)</code>
<code>{</code>
<code>  Console.WriteLine(employee);</code>
<code>}</code>
<code>//…</code></pre>
                <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">After the entries are added to the dictionary, employees are
                    read from the dictionary inside a <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">while</code> loop. The
                    user is asked to enter an employee number to store in the variable <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">userInput</code>, and the
                    user can exit the application by pressing the key <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">X</code>. If the key is
                    in the dictionary, it is examined with the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">TryGetValue</code> method
                    of the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Dictionary&lt;TKey, TValue&gt;</code>
                    class. <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">TryGetValue</code>
                    returns <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">true</code> if
                    the key is found or <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">false</code> otherwise.
                    If the value is found, the value associated with the key is stored in the employee variable. This
                    value is written to the console.<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">在条目添加到字典后，通过 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">while</code>
                                循环从字典中读取员工信息。系统提示用户输入要存储在变量 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">userInput</code>
                                中的员工编号，用户可以通过按键 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">X</code>
                                退出应用程序。如果键存在于字典中，则使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Dictionary&lt;TKey, TValue&gt;</code>
                                类的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">TryGetValue</code>
                                方法进行检查。 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">TryGetValue</code>
                                在找到键时返回 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">true</code>
                                ，否则返回 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">false</code>
                                。如果找到值，则将键关联的值存储在员工变量中。该值将被写入控制台。</font>
                        </font>
                    </font>
                </p>
                <aside data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                    <div class="top hr" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                        <hr />
                    </div>
                    <section class="feature2" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                        <p id="c08-para-0144" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1"><b
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">NOTE</b> <i
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">You can also use
                                an indexer of the </i>
                            <code
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Dictionary&lt;TKey, TValue&gt;</code>
                            <i data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"> class instead of
                            </i>
                            <code
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">TryGetValue</code>
                            <i data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"> to access a value
                                stored in the dictionary. However, if the key is not found, the indexer throws an
                                exception of type </i>
                            <code
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">KeyNotFoundException</code>
                            <i data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">.</i>
                            <font class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">注意 您也可以使用 <code
                                            xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Dictionary&lt;TKey, TValue&gt;</code>
                                        类型的索引器来代替 <code xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">TryGetValue</code>
                                        访问字典中存储的值。但是，如果键未找到，索引器会抛出类型为 <code xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">KeyNotFoundException</code>
                                        的异常。</font>
                                </font>
                            </font>
                        </p>
                        <div class="bottom hr" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                            <hr />
                        </div>
                    </section>
                </aside>
                <pre id="c08-code-0058"><code>while (true)</code>
<code>{</code>
<code>  Console.Write("Enter employee id (X to exit)&gt; ");</code>
<code>  string? userInput = Console.ReadLine();</code>
<code>  userInput = userInput?.ToUpper();</code>
<code>  if (userInput == null || userInput == "X") break;</code>
<code> </code>
<code>  try</code>
<code>  {</code>
<code>    EmployeeId id = new(userInput);</code>
<code>    if (!employees.TryGetValue(id, out Employee? employee))</code>
<code>    {</code>
<code>      Console.WriteLine($"Employee with id {id} does not exist");</code>
<code>    }</code>
<code>    else</code>
<code>    {</code>
<code>      Console.WriteLine(employee);</code>
<code>    }</code>
<code>  }</code>
<code>  catch (EmployeeIdException ex)</code>
<code>  {</code>
<code>    Console.WriteLine(ex.Message);</code>
<code>  }</code>
<code>}</code></pre>
                <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">Running the application produces the following output:<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">运行应用程序产生以下输出：</font>
                        </font>
                    </font>
                </p>
                <pre id="c08-code-0059"><code>J000018: Kyle Bush            $138.000,00</code>
<code>J000019: Martin Truex Jr       $73.000,00</code>
<code>S000004: Kevin Harvick        $116.000,00<span aria-label="217" epub:type="pagebreak" id="Page_217" role="doc-pagebreak"></span></code>
<code>J000011: Denny Hamlin         $127.000,00</code>
<code>T000022: Joey Logano           $96.000,00</code>
<code>Enter employee id (X to exit)&gt; T22</code>
<code>T000022: Joey Logano           $96.000,00</code>
<code>Enter employee id (X to exit)&gt; J18</code>
<code>J000018: Kyle Bush            $138.000,00</code>
<code>Enter employee id (X to exit)&gt; X</code></pre>
            </section>
            <section data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"><span id="c08-sec-0035"
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"></span>
                <h3 id="head-3-182" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">Lookups <font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                        <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">查询</font>
                        </font>
                    </font>
                </h3>
                <p id="c08-para-0146" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">
                    <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Dictionary&lt;TKey, TValue&gt;</code>
                    supports only one value per key. The class <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Lookup&lt;TKey, TElement&gt;</code>
                    resembles a <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Dictionary&lt;TKey, TValue&gt;</code>
                    but maps keys to a collection of values. This class is defined with the namespace <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">System.Linq</code>.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1"> <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Dictionary&lt;TKey, TValue&gt;</code>
                                仅支持每个键一个值。类 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Lookup&lt;TKey, TElement&gt;</code>
                                类似于 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Dictionary&lt;TKey, TValue&gt;</code>
                                ，但将键映射到值集合。此类使用命名空间 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">System.Linq</code>
                                定义。</font>
                        </font>
                    </font>
                </p>
                <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">
                    <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Lookup&lt;TKey, TElement&gt;</code>
                    cannot be created like the dictionary. Instead, you have to invoke the method <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ToLookup</code>, which
                    returns a <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Lookup&lt;TKey, TElement&gt;</code>
                    object. The method <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ToLookup</code> is an
                    extension method that is available with every class implementing <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IEnumerable&lt;T&gt;</code>.
                    In the following example, a list of <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Racer</code> objects is
                    filled. Because <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">List&lt;T&gt;</code>
                    implements <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IEnumerable&lt;T&gt;</code>,
                    the <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ToLookup</code>
                    method can be invoked on the racers list. This method requires a delegate of type <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Func&lt;TSource, TKey&gt;</code>
                    that defines the selector of the key. Here, the racers are selected based on their country by using
                    the lambda expression <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">r =&gt; r.Country</code>.
                    The <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">foreach</code> loop
                    accesses only the racers from Australia by using the indexer (code file <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">LookupSample/Program.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1"> <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Lookup&lt;TKey, TElement&gt;</code>
                                不能像字典那样创建。相反，你必须调用方法 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ToLookup</code>
                                ，它返回一个 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Lookup&lt;TKey, TElement&gt;</code>
                                对象。方法 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ToLookup</code>
                                是一个扩展方法，适用于每个实现 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IEnumerable&lt;T&gt;</code>
                                的类。在以下示例中，填充了一个 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Racer</code>
                                对象列表。因为 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">List&lt;T&gt;</code>
                                实现 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IEnumerable&lt;T&gt;</code>
                                ，可以在赛车手列表上调用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ToLookup</code>
                                方法。此方法需要一个类型为 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Func&lt;TSource, TKey&gt;</code>
                                的委托，该委托定义了键的选择器。在这里，使用 lambda 表达式 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">r =&gt; r.Country</code>
                                根据国家选择赛车手。 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">foreach</code>
                                循环仅通过索引器访问来自澳大利亚的赛车手（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">LookupSample/Program.cs</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c08-code-0060"><code>List&lt;Racer&gt; racers = new();</code>
<code>racers.Add(new Racer(26, "Jacques", "Villeneuve", "Canada", 11));</code>
<code>racers.Add(new Racer(18, "Alan", "Jones", "Australia", 12));</code>
<code>racers.Add(new Racer(11, "Jackie", "Stewart", "United Kingdom", 27));</code>
<code>racers.Add(new Racer(15, "James", "Hunt", "United Kingdom", 10));</code>
<code>racers.Add(new Racer(5, "Jack", "Brabham", "Australia", 14));</code>
<code> </code>
<code>var lookupRacers = racers.ToLookup(r =&gt; r.Country);</code>
<code> </code>
<code>foreach (Racer r in lookupRacers["Australia"])</code>
<code>{</code>
<code>  Console.WriteLine(r);</code>
<code>}</code></pre>
                <aside data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                    <div class="top hr" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                        <hr />
                    </div>
                    <section class="feature2" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                        <p id="c08-para-0149" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1"><b
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">NOTE</b> <i
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">You can read more
                                about extension methods in <a href="c09.xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Chapter
                                    9</a>, “Language Integrated Query.” Lambda expressions are explained in <a
                                    href="c07.xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Chapter
                                    7</a>, “Delegates, Lambdas, and Events.”</i>
                            <font class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">注意 您可以在第 9
                                        章“语言集成查询”中了解更多关于扩展方法的信息。lambda 表达式在第 7 章“委托、lambda 表达式和事件”中解释。</font>
                                </font>
                            </font>
                        </p>
                        <div class="bottom hr" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                            <hr />
                        </div>
                    </section>
                </aside>
                <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">The output shows the racers from Australia:<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">输出显示了来自澳大利亚的赛车手：</font>
                        </font>
                    </font>
                </p>
                <pre id="c08-code-0061"><code>Alan Jones</code>
<code>Jack Brabham</code></pre>
            </section>
            <section data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"><span id="c08-sec-0037"
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"></span>
                <h3 id="head-3-183" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">Sorted Dictionaries <font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                        <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">排序字典</font>
                        </font>
                    </font>
                </h3>
                <p id="c08-para-0151" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">
                    <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">SortedDictionary&lt;TKey, TValue&gt;</code>
                    is a binary search tree in which the items are sorted based on the key. The key type must implement
                    the interface <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IComparable&lt;TKey&gt;</code>.
                    If the key type is not sortable, you can also create a comparer implementing <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IComparer&lt;TKey&gt;</code>
                    and assign the comparer as a constructor argument of the sorted dictionary.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1"> <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">SortedDictionary&lt;TKey, TValue&gt;</code>
                                是一个二叉搜索树，其中的项目根据键进行排序。键类型必须实现接口 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IComparable&lt;TKey&gt;</code>
                                。如果键类型不可排序，你也可以创建一个实现 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IComparer&lt;TKey&gt;</code>
                                的比较器，并将比较器作为排序字典的构造函数参数分配。</font>
                        </font>
                    </font>
                </p>
                <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1"><span aria-label="218" epub:type="pagebreak" id="Page_218"
                        role="doc-pagebreak"
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"></span>Earlier in this
                    chapter you read about <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">SortedList&lt;TKey, TValue&gt;</code>.
                    <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">SortedDictionary&lt;TKey, TValue&gt;</code>
                    and <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">SortedList&lt;TKey, TValue&gt;</code>
                    have similar functionality, but because <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">SortedList&lt;TKey, TValue&gt;</code>
                    is implemented as a list that is based on an array, and <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">SortedDictionary&lt;TKey, TValue&gt;</code>
                    is implemented as a tree, the classes have different characteristics:<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">在本章之前你阅读了关于 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">SortedList&lt;TKey, TValue&gt;</code>
                                的内容。 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">SortedDictionary&lt;TKey, TValue&gt;</code>
                                和 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">SortedList&lt;TKey, TValue&gt;</code>
                                具有相似的功能，但由于 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">SortedList&lt;TKey, TValue&gt;</code>
                                是基于数组的列表实现的，而 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">SortedDictionary&lt;TKey, TValue&gt;</code>
                                是以树形结构实现的，因此这些类的特性不同：</font>
                        </font>
                    </font>
                </p>
                <ul class="check" id="c08-list-0005"
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                    <li id="c08-li-0021" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                        data-immersive-translate-paragraph="1">
                        <code
                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">SortedList&lt;TKey, TValue&gt;</code>
                        uses less memory than <code
                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">SortedDictionary&lt;TKey, TValue&gt;</code>.
                        <font class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1"> <code
                                        xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">SortedList&lt;TKey, TValue&gt;</code>
                                    比 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">SortedDictionary&lt;TKey, TValue&gt;</code>
                                    使用更少的内存。</font>
                            </font>
                        </font>
                    </li>
                    <li id="c08-li-0022" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                        data-immersive-translate-paragraph="1">
                        <code
                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">SortedDictionary&lt;TKey, TValue&gt;</code>
                        has faster insertion and removal of elements.<font
                            class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1"> <code
                                        xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">SortedDictionary&lt;TKey, TValue&gt;</code>
                                    的元素插入和删除速度更快。</font>
                            </font>
                        </font>
                    </li>
                    <li id="c08-li-0023" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                        data-immersive-translate-paragraph="1">When populating the collection with already sorted data,
                        <code
                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">SortedList&lt;TKey, TValue&gt;</code>
                        is faster if capacity changes are not needed.<font
                            class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">当用已排序的数据填充集合时，如果不需要调整容量， <code
                                        xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">SortedList&lt;TKey, TValue&gt;</code>
                                    会更快。</font>
                            </font>
                        </font>
                    </li>
                </ul>
                <aside data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                    <div class="top hr" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                        <hr />
                    </div>
                    <section class="feature2" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                        <p id="c08-para-0153" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1"><b
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">NOTE</b> <code
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">SortedList</code><i
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"> consumes less
                                memory than </i><code
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">SortedDictionary</code><i
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">. </i><code
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">SortedDictionary</code><i
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"> is faster with
                                inserts and the removal of unsorted data.</i>
                            <font class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">注意 <code
                                            xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">SortedList</code>
                                        比较省内存。 <code xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">SortedDictionary</code>
                                        在插入和删除无序数据时更快。</font>
                                </font>
                            </font>
                        </p>
                        <div class="bottom hr" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                            <hr />
                        </div>
                    </section>
                </aside>
            </section>
        </section>
        <section aria-labelledby="head-2-77" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
            <span id="c08-sec-0039" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"></span>
            <h2 id="head-2-77" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                data-immersive-translate-paragraph="1">SETS<font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                    <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">集合</font>
                    </font>
                </font>
            </h2>
            <p id="c08-para-0154" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                data-immersive-translate-paragraph="1">A collection that contains only distinct items is known by the
                term <i data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">set</i>. .NET Core
                includes two sets, <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">HashSet&lt;T&gt;</code> and
                <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">SortedSet&lt;T&gt;</code>,
                that both implement the interface <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ISet&lt;T&gt;</code>. <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">HashSet&lt;T&gt;</code>
                contains a hash table of distinct items that is unordered; with <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">SortedSet&lt;T&gt;</code>,
                the list is ordered.<font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">仅包含唯一项的集合称为集合。.NET Core 包含两个集合 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">HashSet&lt;T&gt;</code>
                            和 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">SortedSet&lt;T&gt;</code>
                            ，它们都实现了接口 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ISet&lt;T&gt;</code>
                            。 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">HashSet&lt;T&gt;</code>
                            包含一个无序的唯一项哈希表；而 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">SortedSet&lt;T&gt;</code>
                            中的列表是有序的。</font>
                    </font>
                </font>
            </p>
            <p id="c08-para-0155" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                data-immersive-translate-paragraph="1">The <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ISet&lt;T&gt;</code>
                interface offers methods to create a union of multiple sets, to create an intersection of sets, or to
                provide information if one set is a superset or subset of another.<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1"> <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ISet&lt;T&gt;</code>
                            接口提供了创建多个集合的并集、创建集合的交集或提供信息的方法，以判断一个集合是否是另一个集合的超集或子集。</font>
                    </font>
                </font>
            </p>
            <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                data-immersive-translate-paragraph="1">In the following sample code, three new sets of type <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">string</code> are created and
                filled with Formula 1 cars. The <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">HashSet&lt;T&gt;</code> class
                implements the <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ICollection&lt;T&gt;</code>
                interface. However, the <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Add</code> method is
                implemented explicitly, and a different <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Add</code> method is offered
                by the class, as you can see in the following code snippet. The <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Add</code> method differs by
                the return type; a Boolean value is returned to provide the information if the element was added. If the
                element was already in the set, it is not added, and <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">false</code> is returned
                (code file <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">SetSample/Program.cs</code>):
                <font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">在以下示例代码中，创建了三个新的 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">string</code>
                            类型的集合，并用 F1 赛车填充。 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">HashSet&lt;T&gt;</code>
                            类实现了 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ICollection&lt;T&gt;</code>
                            接口。但是 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Add</code>
                            方法是显式实现的，并且类提供了一个不同的 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Add</code>
                            方法，如以下代码片段所示。 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Add</code>
                            方法的区别在于返回类型；返回一个布尔值以提供元素是否被添加的信息。如果元素已存在于集合中，则不会被添加，并返回 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">false</code>
                            （代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">SetSample/Program.cs</code>
                            ）：</font>
                    </font>
                </font>
            </p>
            <pre id="c08-code-0062"><code>HashSet&lt;string&gt; companyTeams = new()</code>
<code>{ "Ferrari", "McLaren", "Mercedes" };</code>
<code> </code>
<code>HashSet&lt;string&gt; traditionalTeams = new() { "Ferrari", "McLaren" };</code>
<code> </code>
<code>HashSet&lt;string&gt; privateTeams = new()</code>
<code>{ "Red Bull", "Toro Rosso", "Force India", "Sauber" };</code>
<code> </code>
<code>if (privateTeams.Add("Williams"))</code>
<code>{</code>
<code>  Console.WriteLine("Williams added");</code>
<code>}</code>
<code> </code>
<code>if (!companyTeams.Add("McLaren"))</code>
<code>{</code>
<code>  Console.WriteLine("McLaren was already in this set");</code>
<code>}</code></pre>
            <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                data-immersive-translate-paragraph="1">The result of these two <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Add</code> methods is written
                to the console:<font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">这两个 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Add</code>
                            方法的执行结果输出到控制台：</font>
                    </font>
                </font>
            </p>
            <pre id="c08-code-0063"><code>Williams added</code>
<code>McLaren was already in this set</code></pre>
            <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                data-immersive-translate-paragraph="1"><span aria-label="219" epub:type="pagebreak" id="Page_219"
                    role="doc-pagebreak"
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"></span>The methods <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IsSubsetOf</code> and <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IsSupersetOf</code> compare a
                set with a collection that implements the <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IEnumerable&lt;T&gt;</code>
                interface and returns a Boolean result. Here, <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IsSubsetOf</code> verifies
                whether every element in <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">traditionalTeams</code> is
                contained in <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">companyTeams</code>, which is
                the case; <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IsSupersetOf</code> verifies
                whether <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">traditionalTeams</code> has
                any additional elements compared to <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">companyTeams</code>
                :<font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">方法 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IsSubsetOf</code>
                            和 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IsSupersetOf</code>
                            比较一个集合与实现 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IEnumerable&lt;T&gt;</code>
                            接口的集合，并返回布尔结果。这里， <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IsSubsetOf</code>
                            验证 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">traditionalTeams</code>
                            中的每个元素是否都包含在 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">companyTeams</code>
                            中，这是成立的； <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IsSupersetOf</code>
                            验证 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">traditionalTeams</code>
                            相较于 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">companyTeams</code>
                            是否有额外的元素：</font>
                    </font>
                </font>
            </p>
            <pre id="c08-code-0064"><code>if (traditionalTeams.IsSubsetOf(companyTeams))</code>
<code>{</code>
<code>  Console.WriteLine("traditionalTeams is subset of companyTeams");</code>
<code>}</code>
<code>if (companyTeams.IsSupersetOf(traditionalTeams))</code>
<code>{</code>
<code>  Console.WriteLine("companyTeams is a superset of traditionalTeams");</code>
<code>}</code></pre>
            <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                data-immersive-translate-paragraph="1">The output of this verification is shown here:<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">验证的输出结果展示如下：</font>
                    </font>
                </font>
            </p>
            <pre id="c08-code-0065"><code>traditionalTeams is a subset of companyTeams</code>
<code>companyTeams is a superset of traditionalTeams</code></pre>
            <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                data-immersive-translate-paragraph="1">Williams is a traditional team as well, which is why this team is
                added to the <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">traditionalTeams</code>
                collection:<font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">威廉姆斯也是一个传统球队，这也是为什么这支球队被添加到 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">traditionalTeams</code>
                            收藏中的原因：</font>
                    </font>
                </font>
            </p>
            <pre id="c08-code-0066"><code>traditionalTeams.Add("Williams");</code>
<code>if (privateTeams.Overlaps(traditionalTeams))</code>
<code>{</code>
<code>  Console.WriteLine("At least one team is the same with traditional " +</code>
<code>    "and private teams");</code>
<code>}</code></pre>
            <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                data-immersive-translate-paragraph="1">Because there's an overlap, this is the result:<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">由于存在重叠，这就是结果：</font>
                    </font>
                </font>
            </p>
            <pre id="c08-code-0067"><code>At least one team is the same with traditional and private teams.</code></pre>
            <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                data-immersive-translate-paragraph="1">The variable <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">allTeams</code> that
                references a new <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">SortedSet&lt;string&gt;</code>
                is filled with a union of <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">companyTeams</code>, <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">privateTeams</code>, and
                <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">traditionalTeams</code> by
                calling the <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">UnionWith</code> method:<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">通过调用 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">UnionWith</code>
                            方法，引用新 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">SortedSet&lt;string&gt;</code>
                            的变量 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">allTeams</code>
                            被填充为 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">companyTeams</code>
                            、 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">privateTeams</code>
                            和 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">traditionalTeams</code>
                            的并集：</font>
                    </font>
                </font>
            </p>
            <pre id="c08-code-0068"><code>SortedSet&lt;string&gt; allTeams = new(companyTeams);</code>
<code>allTeams.UnionWith(privateTeams);</code>
<code>allTeams.UnionWith(traditionalTeams);</code>
<code>Console.WriteLine();</code>
<code>Console.WriteLine("all teams");</code>
<code>foreach (var team in allTeams)</code>
<code>{</code>
<code>  Console.WriteLine(team);</code>
<code>}</code></pre>
            <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                data-immersive-translate-paragraph="1">Here, all teams are returned, but every team is listed just once
                because the set contains only unique values; and because the container is a <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">SortedSet&lt;string&gt;</code>,
                the result is ordered:<font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">
                            在这里，所有球队都被返回，但每支球队只列一次，因为集合只包含唯一值；并且因为容器是 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">SortedSet&lt;string&gt;</code>
                            ，所以结果是排序的：</font>
                    </font>
                </font>
            </p>
            <pre id="c08-code-0069"><code>Ferrari</code>
<code>Force India</code>
<code>Lotus</code>
<code>McLaren</code>
<code>Mercedes</code>
<code>Red Bull</code>
<code>Sauber</code>
<code>Toro Rosso</code>
<code>Williams</code></pre>
            <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                data-immersive-translate-paragraph="1"><span aria-label="220" epub:type="pagebreak" id="Page_220"
                    role="doc-pagebreak"
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"></span>The method <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ExceptWith</code> removes all
                private teams from the <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">allTeams</code> set:<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">方法 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ExceptWith</code>
                            从 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">allTeams</code>
                            集合中移除所有私有团队：</font>
                    </font>
                </font>
            </p>
            <pre id="c08-code-0070"><code>allTeams.ExceptWith(privateTeams);</code>
<code>Console.WriteLine();</code>
<code>Console.WriteLine("no private team left");</code>
<code>foreach (var team in allTeams)</code>
<code>{</code>
<code>  Console.WriteLine(team);</code>
<code>}</code></pre>
            <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                data-immersive-translate-paragraph="1">The remaining elements in the collection do not contain any
                private teams:<font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">集合中剩余的元素不包含任何私有团队：</font>
                    </font>
                </font>
            </p>
            <pre id="c08-code-0071"><code>Ferrari</code>
<code>McLaren</code>
<code>Mercedes</code></pre>
        </section>
        <section aria-labelledby="head-2-78" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
            <span id="c08-sec-0040" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"></span>
            <h2 id="head-2-78" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                data-immersive-translate-paragraph="1">PERFORMANCE<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                    <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">性能 </font>
                    </font>
                </font>
            </h2>
            <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                data-immersive-translate-paragraph="1">Many collection classes offer the same functionality as others;
                for example, <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">SortedList</code> offers
                nearly the same features as <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">SortedDictionary</code>.
                However, often there's a big difference in performance. Whereas one collection consumes less memory, the
                other collection class is faster with the retrieval of elements. The Microsoft documentation often
                provides performance hints about methods of the collection, giving you information about the time the
                operation requires in big-O notation:<font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">许多集合类提供了与其他类相同的功能；例如， <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">SortedList</code>
                            提供的功能几乎与 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">SortedDictionary</code>
                            相同。然而，性能上往往存在很大差异。一个集合消耗的内存较少，而另一个集合类在元素检索方面更快。微软文档经常提供关于集合方法的性能提示，以大 O 记号告知操作所需的时间：</font>
                    </font>
                </font>
            </p>
            <ul class="check" id="c08-list-0006" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                <li id="c08-li-0024" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1"><b
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">O(1):</b> This means that
                    the time this operation needs is constant no matter how many items are in the collection. For
                    example, the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ArrayList</code> has an
                    <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Add</code> method with
                    O(1) behavior. No matter how many elements are in the list, it always takes the same amount of time
                    when adding a new element to the end of the list. The <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Count</code> property
                    provides the number of items, so it is easy to find the end of the list.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">
                                O(1)：这意味着无论集合中有多少项，该操作所需的时间都是恒定的。例如， <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ArrayList</code>
                                有一个 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Add</code>
                                方法具有 O(1) 行为。无论列表中有多少元素，向列表末尾添加新元素所需的时间始终相同。 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Count</code>
                                属性提供项的数量，因此很容易找到列表的末尾。</font>
                        </font>
                    </font>
                </li>
                <li id="c08-li-0025" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1"><b
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">O(log n):</b> This means
                    that the time needed for the operation increases with every element in the collection, but the
                    increase of time for each element is not linear but logarithmic. <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">SortedDictionary&lt;TKey, TValue&gt;</code>
                    has O(log n) behavior for inserting operations inside the collection; <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">SortedList&lt;TKey, TValue&gt;</code>
                    has O(n) behavior for the same functionality. Here, <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">SortedDictionary&lt;TKey, TValue&gt;</code>
                    is a lot faster because it is more efficient to insert elements into a tree structure than into a
                    list.<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">O(log
                                n)：这意味着操作所需的时间随着集合中每个元素的增加而增加，但每个元素所需时间的增加不是线性的，而是对数级的。 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">SortedDictionary&lt;TKey, TValue&gt;</code>
                                在集合内部插入操作具有 O(log n) 行为； <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">SortedList&lt;TKey, TValue&gt;</code>
                                对于相同的功能具有 O(n) 行为。在这里， <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">SortedDictionary&lt;TKey, TValue&gt;</code>
                                要快得多，因为将元素插入树结构比插入列表更高效。</font>
                        </font>
                    </font>
                </li>
                <li id="c08-li-0026" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1"><b
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">O(n):</b> This means it
                    takes the worst-case amount of time of n to perform an operation on the collection. The <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Add</code> method of
                    <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ArrayList</code> can be
                    an O(n) operation if a reallocation of the collection is required. Changing the capacity causes the
                    list to be copied, and the time for the copy increases linearly with every element.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">O(n)：这意味着对集合执行操作的最坏情况所需时间是 n。
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ArrayList</code>
                                的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Add</code>
                                方法如果需要重新分配集合，则可能是一个 O(n) 操作。改变容量会导致列表被复制，复制所需的时间随着每个元素的增加而线性增加。</font>
                        </font>
                    </font>
                </li>
            </ul>
            <p id="c08-para-0167" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                data-immersive-translate-paragraph="1">The following table lists collection classes and their
                performance for different actions such as adding, inserting, and removing items. With this table, you
                can select the best collection class for your purpose. The left column lists the collection class. The
                Add column gives timing information about adding items to the collection. The <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">List&lt;T&gt;</code> and the
                <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">HashSet&lt;T&gt;</code>
                classes define <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Add</code>
                methods to add items to the collection. With other collection classes, use a different method to add
                elements to the collection; for example, the <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Stack&lt;T&gt;</code> class
                defines a <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Push</code>
                method, and the <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Queue&lt;T&gt;</code> class
                defines an <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Enqueue</code>
                method. You can find this information in the table as well.<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">
                            下表列出了不同操作（如添加、插入和删除项）的集合类及其性能。通过这张表，你可以为你的目的选择最佳的集合类。左侧列出了集合类。添加列提供了向集合中添加项的时间信息。 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">List&lt;T&gt;</code>
                            和 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">HashSet&lt;T&gt;</code>
                            类定义了 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Add</code>
                            种向集合中添加项的方法。对于其他集合类，使用不同的方法向集合中添加元素；例如， <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Stack&lt;T&gt;</code>
                            类定义了 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Push</code> 种方法，而
                            <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Queue&lt;T&gt;</code>
                            类定义了 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Enqueue</code>
                            种方法。你可以在表中找到这些信息。</font>
                    </font>
                </font>
            </p>
            <p id="c08-para-0168" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                data-immersive-translate-paragraph="1">If there are multiple big-O values in a cell, the reason is that
                if a collection needs to be resized, resizing takes a while. For example, with the <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">List&lt;T&gt;</code> class,
                adding items needs O(1). If the capacity of the collection is not large enough and the collection needs
                to be resized, the resize requires O(n) time. The larger the collection, the longer the resize operation
                takes. It's best to avoid resizes by setting the capacity of the collection when you create it to a
                value that can hold all the elements.<font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">如果一个单元格中有多个大 O
                            值，那是因为如果集合需要调整大小，调整大小需要一段时间。例如，对于 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">List&lt;T&gt;</code>
                            类，添加项需要 O(1)时间。如果集合的容量不够大并且需要调整大小，调整大小需要
                            O(n)时间。集合越大，调整大小的操作就越耗时。最好通过在创建集合时将其容量设置为能够容纳所有元素的大小来避免调整大小。</font>
                    </font>
                </font>
            </p>
            <p id="c08-para-0169" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                data-immersive-translate-paragraph="1">If the table cell contents is n/a, the operation is not
                applicable with this collection type.<font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">如果表格单元内容为 n/a，则此操作不适用于此集合类型。</font>
                    </font>
                </font>
            </p>
            <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"><span aria-label="221"
                    epub:type="pagebreak" id="Page_221" role="doc-pagebreak"
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"></span></p>
            <table border="1" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                <thead data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                    <tr data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                        <th class="left bgcolor2" scope="col">COLLECTION</th>
                        <th class="left bgcolor2" scope="col">ADD</th>
                        <th class="left bgcolor2" scope="col">INSERT</th>
                        <th class="left bgcolor2" scope="col">REMOVE</th>
                        <th class="left bgcolor2" scope="col">ITEM</th>
                        <th class="left bgcolor2" scope="col">SORT</th>
                        <th class="left bgcolor2" scope="col">FIND</th>
                    </tr>
                </thead>
                <tbody data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                    <tr data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                        <td class="left bgcolor3"
                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"><code
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">List&lt;T&gt;</code>
                        </td>
                        <td class="left bgcolor3" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1">O(1) or O(n) if the collection must be resized<font
                                class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">如果集合必须调整大小，则为 O(1)或 O(n)
                                    </font>
                                </font>
                            </font>
                        </td>
                        <td class="left bgcolor3" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1">O(n)</td>
                        <td class="left bgcolor3" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1">O(n)</td>
                        <td class="left bgcolor3" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1">O(1)</td>
                        <td class="left bgcolor3" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1">O (n log n), worst case O(n ^ 2)<font
                                class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">O (n log n)，最坏情况 O(n ^ 2)
                                    </font>
                                </font>
                            </font>
                        </td>
                        <td class="left bgcolor3" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1">O(n)</td>
                    </tr>
                    <tr data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                        <td class="left bgcolor3"
                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"><code
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Stack&lt;T&gt;</code>
                        </td>
                        <td class="left bgcolor3" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1"><code
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Push</code>,
                            O(1), or O(n) if the stack must be resized<font
                                class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1"> <code
                                            xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Push</code>
                                        ，O(1)，或者如果栈必须调整大小则为 O(n)</font>
                                </font>
                            </font>
                        </td>
                        <td class="left bgcolor3" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1">n/a</td>
                        <td class="left bgcolor3" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1"><code
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Pop</code>, O(1)
                        </td>
                        <td class="left bgcolor3" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1">n/a</td>
                        <td class="left bgcolor3" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1">n/a</td>
                        <td class="left bgcolor3" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1">n/a</td>
                    </tr>
                    <tr data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                        <td class="left bgcolor3"
                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"><code
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Queue&lt;T&gt;</code>
                        </td>
                        <td class="left bgcolor3" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1"><code
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Enqueue</code>,
                            O(1), or O(n) if the queue must be resized<font
                                class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1"> <code
                                            xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Enqueue</code>
                                        , O(1), 或 O(n) 如果队列需要调整大小</font>
                                </font>
                            </font>
                        </td>
                        <td class="left bgcolor3" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1">n/a</td>
                        <td class="left bgcolor3" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1"><code
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Dequeue</code>,
                            O(1)</td>
                        <td class="left bgcolor3" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1">n/a</td>
                        <td class="left bgcolor3" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1">n/a</td>
                        <td class="left bgcolor3" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1">n/a</td>
                    </tr>
                    <tr data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                        <td class="left bgcolor3"
                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"><code
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">HashSet&lt;T&gt;</code>
                        </td>
                        <td class="left bgcolor3" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1">O(1) or O(n) if the set must be resized<font
                                class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">O(1)或 O(n)，如果集合必须调整大小
                                    </font>
                                </font>
                            </font>
                        </td>
                        <td class="left bgcolor3" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1"><code
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Add</code> O(1)
                            or O(n)<font class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                                <font class="notranslate" data-immersive-translate-translation-element-mark="1">  
                                </font>
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1"> <code
                                            xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Add</code>
                                        O(1) 或 O(n)</font>
                                </font>
                            </font>
                        </td>
                        <td class="left bgcolor3" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1">O(1)</td>
                        <td class="left bgcolor3" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1">n/a</td>
                        <td class="left bgcolor3" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1">n/a</td>
                        <td class="left bgcolor3" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1">n/a</td>
                    </tr>
                    <tr data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                        <td class="left bgcolor3"
                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"><code
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">SortedSet&lt;T&gt;</code>
                        </td>
                        <td class="left bgcolor3" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1">O(1) or O(n) if the set must be resized<font
                                class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">如果集合必须调整大小，则为 O(1) 或 O(n)
                                    </font>
                                </font>
                            </font>
                        </td>
                        <td class="left bgcolor3" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1">Add O(1) or O(n)<font
                                class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">添加 O(1) 或 O(n) </font>
                                </font>
                            </font>
                        </td>
                        <td class="left bgcolor3" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1">O(1)</td>
                        <td class="left bgcolor3" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1">n/a</td>
                        <td class="left bgcolor3" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1">n/a</td>
                        <td class="left bgcolor3" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1">n/a</td>
                    </tr>
                    <tr data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                        <td class="left bgcolor3"
                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"><code
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">LinkedList&lt;T&gt;</code>
                        </td>
                        <td class="left bgcolor3" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1"><code
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">AddLast</code>
                            O(1)</td>
                        <td class="left bgcolor3" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1"><code
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Add After</code>
                            O(1)</td>
                        <td class="left bgcolor3" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1">O(1)</td>
                        <td class="left bgcolor3" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1">n/a</td>
                        <td class="left bgcolor3" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1">n/a</td>
                        <td class="left bgcolor3" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1">O(n)</td>
                    </tr>
                    <tr data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                        <td class="left bgcolor3"
                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"><code
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Dictionary &lt;TKey, TValue&gt;</code>
                        </td>
                        <td class="left bgcolor3" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1">O(1) or O(n)<font
                                class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                                <font class="notranslate" data-immersive-translate-translation-element-mark="1">  
                                </font>
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">O(1)或 O(n) </font>
                                </font>
                            </font>
                        </td>
                        <td class="left bgcolor3" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1">n/a<font
                                class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                                <font class="notranslate" data-immersive-translate-translation-element-mark="1">  
                                </font>
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">不适用 </font>
                                </font>
                            </font>
                        </td>
                        <td class="left bgcolor3" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1">O(1)</td>
                        <td class="left bgcolor3" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1">O(1)</td>
                        <td class="left bgcolor3" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1">n/a</td>
                        <td class="left bgcolor3" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1">n/a</td>
                    </tr>
                    <tr data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                        <td class="left bgcolor3"
                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"><code
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">SortedDictionary&lt;TKey, TValue&gt;</code>
                        </td>
                        <td class="left bgcolor3" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1">O(log n)</td>
                        <td class="left bgcolor3" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1">n/a</td>
                        <td class="left bgcolor3" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1">O(log n)</td>
                        <td class="left bgcolor3" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1">O(log n)</td>
                        <td class="left bgcolor3" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1">n/a</td>
                        <td class="left bgcolor3" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1">n/a</td>
                    </tr>
                    <tr data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                        <td class="left bgcolor3"
                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"><code
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">SortedList &lt;TKey, TValue&gt;</code>
                        </td>
                        <td class="left bgcolor3" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1">O(n) for unsorted data, O(log n) for end of list,
                            O(n) if resize is needed<font class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">对于未排序数据为 O(n)，列表末尾为 O(log
                                        n)，如果需要调整大小则为 O(n) </font>
                                </font>
                            </font>
                        </td>
                        <td class="left bgcolor3" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1">n/a</td>
                        <td class="left bgcolor3" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1">O(n)</td>
                        <td class="left bgcolor3" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1">O(log n) to read/ write, O(log n) if the key is in
                            the list, O(n) if the key is not in the list<font
                                class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">O(log n) 读取/写入，如果键在列表中则为
                                        O(log n)，如果键不在列表中则为 O(n) </font>
                                </font>
                            </font>
                        </td>
                        <td class="left bgcolor3" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1">n/a</td>
                        <td class="left bgcolor3" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                            data-immersive-translate-paragraph="1">n/a</td>
                    </tr>
                </tbody>
            </table>
        </section> <span aria-label="222" epub:type="pagebreak" id="Page_222" role="doc-pagebreak"
            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"></span>
        <section aria-labelledby="head-2-79" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
            <span id="c08-sec-0540" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"></span>
            <h2 id="head-2-79" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                data-immersive-translate-paragraph="1">IMMUTABLE COLLECTIONS<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                    <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">不可变集合</font>
                    </font>
                </font>
            </h2>
            <p id="c08-para-0172" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                data-immersive-translate-paragraph="1">If an object can change its state, it is hard to use it from
                multiple simultaneously running tasks. Synchronization is necessary with these collections. If an object
                cannot change state, it's a lot easier to use it from multiple threads. An object that can't change is
                an immutable object. Collections that cannot be changed are immutable collections.<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">
                            如果一个对象可以改变其状态，那么从多个同时运行的任务中使用它会很困难。对于这些集合，需要同步。如果一个对象不能改变状态，那么从多个线程中使用它就简单得多。一个不能改变的对象是不可变对象。不可改变的集合是不可变集合。
                        </font>
                    </font>
                </font>
            </p>
            <aside data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                <div class="top hr" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                    <hr />
                </div>
                <section class="feature2" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                    <p id="c08-para-0174" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                        data-immersive-translate-paragraph="1"><b
                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">NOTE</b> <i
                            data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">The topics of using
                            multiple tasks and threads and programming with asynchronous methods are explained in detail
                            in <a href="c11.xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Chapter 11</a>,
                            “Tasks and Asynchronous Programming,” and <a href="c17.xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Chapter 17</a>,
                            “Parallel Programming.”</i>
                        <font class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">注意
                                    使用多个任务和线程以及使用异步方法编程的主题在“任务和异步编程”（第 11 章）和“并行编程”（第 17 章）中详细解释。</font>
                            </font>
                        </font>
                    </p>
                    <div class="bottom hr" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                        <hr />
                    </div>
                </section>
            </aside>
            <p id="c08-para-0175" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                data-immersive-translate-paragraph="1">When you compare read-only collections like those discussed
                earlier in this chapter with immutable collections, there's a big difference: read-only collections make
                use of an interface to mutable collections. Using this interface, the collection cannot be changed.
                However, if someone still has a reference to the mutable collection, it still can be changed. With
                immutable collections, nobody can change this collection.<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">
                            当你比较本章前面讨论的只读集合与不可变集合时，有一个很大的区别：只读集合利用了可变集合的接口。通过这个接口，集合不能被改变。然而，如果有人仍然持有可变集合的引用，它仍然可以被改变。对于不可变集合，没有人可以改变这个集合。
                        </font>
                    </font>
                </font>
            </p>
            <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                data-immersive-translate-paragraph="1">Let's start with a simple immutable string array using the class
                <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ImmutableArray</code>. This
                class is defined in the <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">System.Collections.Immutable</code>
                namespace. You can create the array with the static <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Create</code> method as
                shown. The <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Create</code>
                method is overloaded where other variants of this method allow passing any number of elements. Notice
                that two different types are used here: the nongeneric <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ImmutableArray</code> class
                with the static <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Create</code> method and the
                generic <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ImmutableArray</code> struct
                that is returned from the <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Create</code> method. In the
                following code snippet, an empty array is created (code file <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ImmutableCollectionSample/Program.cs</code>):
                <font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">让我们从一个简单的不可变字符串数组开始，使用 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ImmutableArray</code>
                            类。这个类定义在 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">System.Collections.Immutable</code>
                            命名空间中。你可以像下面这样使用静态 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Create</code>
                            方法来创建这个数组。 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Create</code>
                            方法是重载的，其他这个方法的变体允许传递任意数量的元素。请注意这里使用了两种不同的类型：非泛型 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ImmutableArray</code>
                            类和静态 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Create</code>
                            方法，以及从 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Create</code>
                            方法返回的泛型 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ImmutableArray</code>
                            结构体。在下面的代码片段中，创建了一个空数组（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ImmutableCollectionSample/Program.cs</code>
                            ）：</font>
                    </font>
                </font>
            </p>
            <pre
                id="c08-code-0073"><code>ImmutableArray&lt;string&gt; a1 = ImmutableArray.Create&lt;string&gt;();</code></pre>
            <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                data-immersive-translate-paragraph="1">An empty array is not very useful. The <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ImmutableArray&lt;T&gt;</code>
                type offers an <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Add</code>
                method to add elements. However, contrary to other collection classes, the <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Add</code> method does not
                change the immutable collection itself. Instead, a new immutable collection is returned. So, after the
                call of the <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Add</code>
                method, <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">a1</code> is still
                an empty collection, and <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">a2</code> is an immutable
                collection with one element. The <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Add</code> method returns the
                new immutable collection:<font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">空数组并不太有用。 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ImmutableArray&lt;T&gt;</code>
                            类型提供了一个 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Add</code>
                            方法来添加元素。然而，与其他集合类不同， <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Add</code>
                            方法不会改变不可变集合本身。相反，它会返回一个新的不可变集合。因此，在调用 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Add</code> 方法后，
                            <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">a1</code>
                            仍然是一个空集合，而 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">a2</code>
                            是一个包含一个元素的不可变集合。 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Add</code>
                            方法返回了新的不可变集合：</font>
                    </font>
                </font>
            </p>
            <pre id="c08-code-0074"><code>ImmutableArray&lt;string&gt; a2 = a1.Add("Williams");</code></pre>
            <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                data-immersive-translate-paragraph="1">With this, it is possible to use this API in a fluent way and
                invoke one <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Add</code>
                method after the other. The variable <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">a3</code> now references an
                immutable collection containing four elements:<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">通过这种方式，可以流畅地使用这个 API，并依次调用 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Add</code> 方法。变量
                            <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">a3</code>
                            现在引用了一个包含四个元素的不可变集合：</font>
                    </font>
                </font>
            </p>
            <pre id="c08-code-0075"><code>ImmutableArray&lt;string&gt; a3 =</code>
<code>  a2.Add("Ferrari").Add("Mercedes").Add("Red Bull Racing");</code></pre>
            <p id="c08-para-0179" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                data-immersive-translate-paragraph="1">With each of these stages using the immutable array, the complete
                collections are not copied with every step. Instead, the immutable types make use of a shared state and
                copy the collection only when it's necessary.<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">
                            在每一步都使用不可变数组的情况下，完整的集合不会在每一步都被复制。相反，不可变类型利用共享状态，仅在必要时才复制集合。</font>
                    </font>
                </font>
            </p>
            <p id="c08-para-0180" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                data-immersive-translate-paragraph="1">However, it's even more efficient to first fill the collection
                and then make it an immutable array. When some manipulation needs to take place, you can again use a
                mutable collection. A builder class offered by the immutable types helps with that.<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">
                            然而，首先填充集合然后将其转换为不可变数组会更高效。当需要进行某些操作时，你可以再次使用可变集合。不可变类型提供的构建器类有助于实现这一点。</font>
                    </font>
                </font>
            </p>
            <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                data-immersive-translate-paragraph="1">To see this in action, first an <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Account</code> record is
                created that is put into the collection. This type itself is immutable and cannot be changed by using
                read-only auto properties (code file <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ImmutableCollectionSample/Account.cs)</code>
                :<font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">要演示这一点，首先创建一个 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Account</code>
                            记录并将其放入集合中。这个类型本身是不可变的，不能通过只读自动属性来更改（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ImmutableCollectionSample/Account.cs)</code>
                            ：</font>
                    </font>
                </font>
            </p>
            <pre id="c08-code-0076"><code>public record Account(string Name, decimal Amount);</code></pre>
            <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                data-immersive-translate-paragraph="1">Next a <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">List&lt;Account&gt;</code>
                collection is created and filled with sample accounts (code file <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ImmutableCollectionSample/Program.cs</code>):
                <font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">接下来创建一个 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">List&lt;Account&gt;</code>
                            集合并用示例账户填充（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ImmutableCollectionSample/Program.cs</code>
                            ）：</font>
                    </font>
                </font>
            </p>
            <pre id="c08-code-0077"><code>List&lt;Account&gt; accounts = new()</code>
<code>{</code>
<code>  new("Scrooge McDuck", 667377678765m),<span aria-label="223" epub:type="pagebreak" id="Page_223" role="doc-pagebreak"></span></code>
<code>  new("Donald Duck", -200m),</code>
<code>  new("Ludwig von Drake", 20000m)</code>
<code>};</code></pre>
            <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                data-immersive-translate-paragraph="1">From the accounts collection, an immutable collection can be
                created with the extension method <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ToImmutableList</code>. This
                extension method is available as soon as the namespace <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">System.Collections.Immutable</code>
                is opened.<font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">从账户集合中，可以使用扩展方法 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ToImmutableList</code>
                            创建一个不可变的集合。这个扩展方法在打开命名空间 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">System.Collections.Immutable</code>
                            后即可使用。</font>
                    </font>
                </font>
            </p>
            <pre
                id="c08-code-0078"><code>ImmutableList&lt;Account&gt; immutableAccounts = accounts.ToImmutableList();</code></pre>
            <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                data-immersive-translate-paragraph="1">The variable <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">immutableAccounts</code> can
                be enumerated like other collections. It just cannot be changed:<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">变量 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">immutableAccounts</code>
                            可以像其他集合一样进行枚举。它只是不能被修改：</font>
                    </font>
                </font>
            </p>
            <pre id="c08-code-0079"><code>foreach (var account in immutableAccounts)</code>
<code>{</code>
<code>  Console.WriteLine($"{account.Name} {account.Amount}");</code>
<code>}</code></pre>
            <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                data-immersive-translate-paragraph="1">Instead of using the <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">foreach</code> statement to
                iterate immutable lists, you can use the <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ForEach</code> method that is
                defined with <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ImmutableList&lt;T&gt;</code>.
                This method requires an <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Action&lt;T&gt;</code>
                delegate as parameter, and thus a lambda expression can be assigned:<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">不用使用 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">foreach</code>
                            语句来迭代不可变列表，你可以使用用 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ImmutableList&lt;T&gt;</code>
                            定义的 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ForEach</code>
                            方法。这个方法需要一个 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Action&lt;T&gt;</code>
                            委托作为参数，因此可以分配一个 lambda 表达式：</font>
                    </font>
                </font>
            </p>
            <pre
                id="c08-code-0080"><code>immutableAccounts.ForEach(a =&gt; Console.WriteLine($"{a.Name} {a.Amount}"));</code></pre>
            <p id="c08-para-0186" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                data-immersive-translate-paragraph="1">When you work with these collections, methods like <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Contains</code>, <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">FindAll</code>, <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">FindLast</code>, <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IndexOf</code>, and others
                are available. Because these methods are like the methods from other collection classes discussed
                earlier in this chapter, they are not explicitly shown here.<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">当你使用这些集合时，可以使用 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Contains</code> 、
                            <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">FindAll</code> 、
                            <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">FindLast</code> 、
                            <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IndexOf</code>
                            等方法。因为这些方法与本章前面讨论的其他集合类的方法类似，所以这里没有明确展示。</font>
                    </font>
                </font>
            </p>
            <p id="c08-para-0187" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                data-immersive-translate-paragraph="1">In case you need to change the content for immutable collections,
                the collections offer methods such as <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Add</code>, <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">AddRange</code>, <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Remove</code>, <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">RemoveAt</code>, <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">RemoveRange</code>, <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Replace</code>, and <code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Sort</code>. These methods
                are very different from normal collection classes because the immutable collection that is used to
                invoke the methods is never changed, but these methods return a new immutable collection.<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">如果你需要修改不可变集合的内容，集合提供了 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Add</code> 、
                            <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">AddRange</code> 、
                            <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Remove</code> 、
                            <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">RemoveAt</code> 、
                            <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">RemoveRange</code>
                            、 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Replace</code> 和
                            <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Sort</code>
                            等方法。这些方法与普通集合类非常不同，因为用来调用方法的不可变集合永远不会改变，但这些方法会返回一个新的不可变集合。</font>
                    </font>
                </font>
            </p>
            <section data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"><span id="c08-sec-0541"
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"></span>
                <h3 id="head-3-184" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">Using Builders with Immutable Collections <font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">使用构建器与不可变集合</font>
                        </font>
                    </font>
                </h3>
                <p id="c08-para-0189" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">Creating new immutable collections from existing ones can be
                    done easily with the previously mentioned <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Add</code>, <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Remove</code>, and <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Replace</code> methods.
                    However, this is not very efficient if you need to do multiple changes that involve adding and
                    removing many elements for the new collection. For creating new immutable collections that involve
                    even more changes, you can create a builder.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">通过已提及的 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Add</code> 、
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Remove</code>
                                和 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Replace</code>
                                方法，可以从现有的集合中轻松创建新的不可变集合。然而，如果你需要对新的集合进行多次修改，包括添加和删除许多元素，这种方法效率并不高。对于需要更多修改的新不可变集合，你可以创建一个构建器。
                            </font>
                        </font>
                    </font>
                </p>
                <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">Let's continue with the sample code and make multiple changes
                    to the account objects in the collection. To do this, you can create a builder by invoking the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ToBuilder</code> method.
                    This method returns a collection that you can change. In the sample code, all accounts with an
                    amount larger than zero are removed. The original immutable collection is not changed. After the
                    change with the builder is completed, a new immutable collection is created by invoking the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ToImmutable</code> method
                    of the <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Builder</code>.
                    This collection is used next to output all overdrawn accounts (code file <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ImmutableCollectionSample/Program.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">
                                让我们继续示例代码，对集合中的账户对象进行多次修改。为此，你可以通过调用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ToBuilder</code>
                                方法创建一个构建器。这个方法会返回一个你可以修改的集合。在示例代码中，所有金额大于零的账户都被移除。原始的不可变集合并未被更改。在构建器完成修改后，通过调用 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Builder</code>
                                的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ToImmutable</code>
                                方法创建一个新的不可变集合。这个集合接下来用于输出所有透支账户（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ImmutableCollectionSample/Program.cs</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre
                    id="c08-code-0081"><code>ImmutableList&lt;Account&gt;.Builder builder = immutableAccounts.<b>ToBuilder</b>();</code>
<code>for (int i = builder.Count - 1; i&gt;= 0; i--)</code>
<code>{</code>
<code>  Account a = builder[i];</code>
<code>  if (a.Amount&gt; 0)</code>
<code>  {</code>
<code>    builder.Remove(a);</code>
<code>  }</code>
<code>}</code>
<code>ImmutableList&lt;Account&gt; overdrawnAccounts = builder.<b>ToImmutable</b>();</code>
<code>overdrawnAccounts.ForEach(a =&gt;<b> Console.WriteLine(</b>  <b>$"overdrawn: {a.Name} {a.Amount}"));</b></code></pre>
                <p id="c08-para-0191" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1"><span aria-label="224" epub:type="pagebreak" id="Page_224"
                        role="doc-pagebreak"
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"></span>Other than
                    removing elements with the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Remove</code> method, the
                    <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Builder</code> type
                    offers the methods <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Add</code>, <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">AddRange</code>, <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Insert</code>, <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">RemoveAt</code>, <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">RemoveAll</code>, <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Reverse</code>, and <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Sort</code> to change the
                    mutable collection. After finishing the mutable operations, invoke <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ToImmutable</code> to get
                    the immutable collection again.<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">除了使用 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Remove</code>
                                方法移除元素外， <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Builder</code>
                                类型提供了 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Add</code> 、
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">AddRange</code>
                                、 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Insert</code>
                                、 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">RemoveAt</code>
                                、 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">RemoveAll</code>
                                、 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Reverse</code>
                                和 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Sort</code>
                                方法来修改可变集合。完成可变操作后，调用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ToImmutable</code>
                                以再次获取不可变集合。</font>
                        </font>
                    </font>
                </p>
            </section>
            <section data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"><span id="c08-sec-0542"
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"></span>
                <h3 id="head-3-185" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">Immutable Collection Types and Interfaces <font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">不可变集合类型和接口</font>
                        </font>
                    </font>
                </h3>
                <p id="c08-para-0193" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">Other than <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ImmutableArray</code> and
                    <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ImmutableList</code>,
                    the NuGet package <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">System.Collections.Immutable</code>
                    offers some more immutable collection types as shown in the following table:<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">除了 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ImmutableArray</code>
                                和 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ImmutableList</code>
                                之外，NuGet 包 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">System.Collections.Immutable</code>
                                提供了一些其他不可变集合类型，如下表所示：</font>
                        </font>
                    </font>
                </p>
                <table border="1" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                    <thead data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                        <tr data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                            <th class="left bgcolor2" scope="col"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                                data-immersive-translate-paragraph="1">IMMUTABLE TYPE<font
                                    class="notranslate immersive-translate-target-wrapper"
                                    data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                                    <font class="notranslate" data-immersive-translate-translation-element-mark="1">  
                                    </font>
                                    <font
                                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                                        data-immersive-translate-translation-element-mark="1">
                                        <font
                                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                            data-immersive-translate-translation-element-mark="1">不可变类型</font>
                                    </font>
                                </font>
                            </th>
                            <th class="left bgcolor2" scope="col">DESCRIPTION</th>
                        </tr>
                    </thead>
                    <tbody data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                        <tr data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"><code
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ImmutableArray&lt;T&gt;</code>
                            </td>
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                                data-immersive-translate-paragraph="1"><code
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ImmutableArray&lt;T&gt;</code>
                                is a struct that uses an array type internally but doesn't allow changes to the
                                underlying type. This struct implements the interface <code
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IImmutableList&lt;T&gt;</code>.
                                <font class="notranslate immersive-translate-target-wrapper"
                                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                    <font
                                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                        data-immersive-translate-translation-element-mark="1">
                                        <font
                                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                            data-immersive-translate-translation-element-mark="1"> <code
                                                xmlns="http://www.w3.org/1999/xhtml"
                                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ImmutableArray&lt;T&gt;</code>
                                            是一个结构体，它内部使用数组类型，但不允许更改底层类型。这个结构体实现了接口 <code
                                                xmlns="http://www.w3.org/1999/xhtml"
                                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IImmutableList&lt;T&gt;</code>
                                            。</font>
                                    </font>
                                </font>
                            </td>
                        </tr>
                        <tr data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"><code
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ImmutableList&lt;T&gt;</code>
                            </td>
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                                data-immersive-translate-paragraph="1"><code
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ImmutableList&lt;T&gt;</code>
                                uses a binary tree internally to map the objects and implements the interface <code
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IImmutableList&lt;T&gt;</code>.
                                <font class="notranslate immersive-translate-target-wrapper"
                                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                    <font
                                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                        data-immersive-translate-translation-element-mark="1">
                                        <font
                                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                            data-immersive-translate-translation-element-mark="1"> <code
                                                xmlns="http://www.w3.org/1999/xhtml"
                                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ImmutableList&lt;T&gt;</code>
                                            在内部使用二叉树来映射对象，并实现了接口 <code xmlns="http://www.w3.org/1999/xhtml"
                                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IImmutableList&lt;T&gt;</code>
                                            。</font>
                                    </font>
                                </font>
                            </td>
                        </tr>
                        <tr data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"><code
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ImmutableQueue&lt;T&gt;</code>
                            </td>
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                                data-immersive-translate-paragraph="1"><code
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ImmutableQueue&lt;T&gt;</code>
                                implements the interface <code
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IImmutableQueue&lt;T&gt;</code>
                                that allows access to elements FIFO with <code
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Enqueue</code>,
                                <code
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Dequeue</code>,
                                and <code
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Peek</code>.
                                <font class="notranslate immersive-translate-target-wrapper"
                                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                    <font
                                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                        data-immersive-translate-translation-element-mark="1">
                                        <font
                                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                            data-immersive-translate-translation-element-mark="1"> <code
                                                xmlns="http://www.w3.org/1999/xhtml"
                                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ImmutableQueue&lt;T&gt;</code>
                                            实现了接口 <code xmlns="http://www.w3.org/1999/xhtml"
                                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IImmutableQueue&lt;T&gt;</code>
                                            ，该接口允许使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Enqueue</code>
                                            、 <code xmlns="http://www.w3.org/1999/xhtml"
                                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Dequeue</code>
                                            和 <code xmlns="http://www.w3.org/1999/xhtml"
                                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Peek</code>
                                            以 FIFO 方式访问元素。</font>
                                    </font>
                                </font>
                            </td>
                        </tr>
                        <tr data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"><code
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ImmutableStack&lt;T&gt;</code>
                            </td>
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                                data-immersive-translate-paragraph="1"><code
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ImmutableStack&lt;T&gt;</code>
                                implements the interface <code
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IImmutableStack&lt;T&gt;</code>
                                that allows access to elements LIFO with <code
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Push</code>,
                                <code data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Pop</code>,
                                and <code
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Peek</code>.
                                <font class="notranslate immersive-translate-target-wrapper"
                                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                    <font
                                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                        data-immersive-translate-translation-element-mark="1">
                                        <font
                                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                            data-immersive-translate-translation-element-mark="1"> <code
                                                xmlns="http://www.w3.org/1999/xhtml"
                                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ImmutableStack&lt;T&gt;</code>
                                            实现了接口 <code xmlns="http://www.w3.org/1999/xhtml"
                                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IImmutableStack&lt;T&gt;</code>
                                            ，该接口允许使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Push</code>
                                            、 <code xmlns="http://www.w3.org/1999/xhtml"
                                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Pop</code>
                                            和 <code xmlns="http://www.w3.org/1999/xhtml"
                                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Peek</code>
                                            以 LIFO 方式访问元素。</font>
                                    </font>
                                </font>
                            </td>
                        </tr>
                        <tr data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"><code
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ImmutableDictionary&lt;TKey, TValue&gt;</code>
                            </td>
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                                data-immersive-translate-paragraph="1"><code
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ImmutableDictionary&lt;TKey, TValue&gt;</code>
                                is an immutable collection with unordered key/value pair elements implementing the
                                interface <code
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IImmutableDictionary&lt;TKey, TValue&gt;</code>.
                                <font class="notranslate immersive-translate-target-wrapper"
                                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                    <font
                                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                        data-immersive-translate-translation-element-mark="1">
                                        <font
                                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                            data-immersive-translate-translation-element-mark="1"> <code
                                                xmlns="http://www.w3.org/1999/xhtml"
                                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ImmutableDictionary&lt;TKey, TValue&gt;</code>
                                            是一个不可变集合，包含无序的键/值对元素，并实现了接口 <code xmlns="http://www.w3.org/1999/xhtml"
                                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IImmutableDictionary&lt;TKey, TValue&gt;</code>
                                            。</font>
                                    </font>
                                </font>
                            </td>
                        </tr>
                        <tr data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"><code
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ImmutableSortedDictionary&lt;TKey, TValue&gt;</code>
                            </td>
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                                data-immersive-translate-paragraph="1"><code
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ImmutableSortedDictionary&lt;TKey, TValue&gt;</code>
                                is an immutable collection with ordered key/value pair elements implementing the
                                interface <code
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IImmutableDictionary&lt;TKey, TValue&gt;</code>.
                                <font class="notranslate immersive-translate-target-wrapper"
                                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                    <font
                                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                        data-immersive-translate-translation-element-mark="1">
                                        <font
                                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                            data-immersive-translate-translation-element-mark="1"> <code
                                                xmlns="http://www.w3.org/1999/xhtml"
                                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ImmutableSortedDictionary&lt;TKey, TValue&gt;</code>
                                            是一个不可变集合，包含有序的键值对元素，并实现了接口 <code xmlns="http://www.w3.org/1999/xhtml"
                                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IImmutableDictionary&lt;TKey, TValue&gt;</code>
                                            。</font>
                                    </font>
                                </font>
                            </td>
                        </tr>
                        <tr data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"><code
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ImmutableHashSet&lt;T&gt;</code>
                            </td>
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                                data-immersive-translate-paragraph="1"><code
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ImmutableHashSet&lt;T&gt;</code>
                                is an immutable unordered hash set implementing the interface <code
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IImmutableSet&lt;T&gt;</code>.
                                This interface offers set functionality explained earlier in this chapter.<font
                                    class="notranslate immersive-translate-target-wrapper"
                                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                    <font
                                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                        data-immersive-translate-translation-element-mark="1">
                                        <font
                                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                            data-immersive-translate-translation-element-mark="1"> <code
                                                xmlns="http://www.w3.org/1999/xhtml"
                                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ImmutableHashSet&lt;T&gt;</code>
                                            是一个不可变的无序哈希集合，实现了接口 <code xmlns="http://www.w3.org/1999/xhtml"
                                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IImmutableSet&lt;T&gt;</code>
                                            。该接口提供了本章前面解释的集合功能。</font>
                                    </font>
                                </font>
                            </td>
                        </tr>
                        <tr data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"><code
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ImmutableSortedSet&lt;T&gt;</code>
                            </td>
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                                data-immersive-translate-paragraph="1"><code
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ImmutableSortedSet&lt;T&gt;</code>
                                is an immutable ordered set implementing the interface <code
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IImmutableSet&lt;T&gt;</code>.
                                <font class="notranslate immersive-translate-target-wrapper"
                                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                    <font
                                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                        data-immersive-translate-translation-element-mark="1">
                                        <font
                                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                            data-immersive-translate-translation-element-mark="1"> <code
                                                xmlns="http://www.w3.org/1999/xhtml"
                                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ImmutableSortedSet&lt;T&gt;</code>
                                            是一个不可变的有序集合，实现了接口 <code xmlns="http://www.w3.org/1999/xhtml"
                                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IImmutableSet&lt;T&gt;</code>
                                            。</font>
                                    </font>
                                </font>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <p id="c08-para-0195" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">Like the normal collection classes, immutable collections
                    implement interfaces as well—such as <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IImmutableList&lt;T&gt;</code>,
                    <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IImmutableQueue&lt;T&gt;</code>,
                    and <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IImmutableStack&lt;T&gt;</code>.
                    The big difference with these immutable interfaces is that all the methods that make a change in the
                    collection return a new collection.<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">与普通的集合类一样，不可变集合也实现了接口，例如 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IImmutableList&lt;T&gt;</code>
                                、 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IImmutableQueue&lt;T&gt;</code>
                                和 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IImmutableStack&lt;T&gt;</code>
                                。这些不可变接口与普通接口的主要区别在于，所有会改变集合的方法都会返回一个新的集合。</font>
                        </font>
                    </font>
                </p>
            </section> <span aria-label="225" epub:type="pagebreak" id="Page_225" role="doc-pagebreak"
                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"></span>
            <section data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"><span id="c08-sec-0543"
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"></span>
                <h3 id="head-3-186" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">Using LINQ with Immutable Arrays <font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">使用 LINQ 与不可变数组</font>
                        </font>
                    </font>
                </h3>
                <p id="c08-para-0197" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">For using LINQ with immutable arrays, the class <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ImmutableArrayExtensions</code>
                    defines optimized versions for LINQ methods such as <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Where</code>, <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Aggregate</code>, <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">All</code>, <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">First</code>, <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Last</code>, <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Select</code>, and <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">SelectMany</code>. All
                    that you need to use the optimized versions is to directly use the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ImmutableArray</code>
                    type and open the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">System.Linq</code>
                    namespace.<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">要使用 LINQ 与不可变数组，类 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ImmutableArrayExtensions</code>
                                定义了针对 LINQ 方法的优化版本，如 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Where</code>
                                、 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Aggregate</code>
                                、 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">All</code> 、
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">First</code>
                                、 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Last</code> 、
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Select</code>
                                和 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">SelectMany</code>
                                。要使用这些优化版本，只需直接使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ImmutableArray</code>
                                类型并打开 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">System.Linq</code>
                                命名空间。</font>
                        </font>
                    </font>
                </p>
                <p data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">The <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Where</code> method
                    defined with the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ImmutableArrayExtensions</code>
                    type looks like this to extend the <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ImmutableArray&lt;T&gt;</code>
                    type:<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">使用 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ImmutableArrayExtensions</code>
                                类型定义的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Where</code>
                                方法，用于扩展 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ImmutableArray&lt;T&gt;</code>
                                类型，如下所示：</font>
                        </font>
                    </font>
                </p>
                <pre
                    id="c08-code-0082"><code>public static IEnumerable&lt;T&gt; Where&lt;T&gt;(</code> <code>this ImmutableArray&lt;T&gt; immutableArray, Func&lt;T, bool&gt; predicate);</code></pre>
                <p id="c08-para-0199" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                    data-immersive-translate-paragraph="1">The normal LINQ extension method extends <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IEnumerable&lt;T&gt;</code>.
                    Because <code
                        data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ImmutableArray&lt;T&gt;</code>
                    is a better match, the optimized version is used when you are invoking LINQ methods.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">普通的 LINQ 扩展方法扩展了 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">IEnumerable&lt;T&gt;</code>
                                。由于 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">ImmutableArray&lt;T&gt;</code>
                                是更好的匹配，当调用 LINQ 方法时，会使用优化版本。</font>
                        </font>
                    </font>
                </p>
            </section>
        </section>
        <section aria-labelledby="head-2-80" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">
            <span id="c08-sec-0041" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"></span>
            <h2 id="head-2-80" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                data-immersive-translate-paragraph="1">SUMMARY<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                    <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">摘要</font>
                    </font>
                </font>
            </h2>
            <p id="c08-para-0200" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                data-immersive-translate-paragraph="1">This chapter took a look at working with different kinds of
                generic collections. Arrays are fixed in size, but you can use lists for dynamically growing
                collections. For accessing elements on a FIFO basis, there's a queue; and you can use a stack for LIFO
                operations. Linked lists allow for fast insertion and removal of elements but are slow for searching.
                With keys and values, you can use dictionaries, which are fast for searching and inserting elements.
                Sets are useful for unique items and can be ordered (<code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">SortedSet&lt;T&gt;</code>) or
                not ordered (<code
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">HashSet&lt;T&gt;</code>).
                <font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">
                            本章探讨了不同类型的泛型集合。数组的大小是固定的，但你可以使用列表来处理动态增长的集合。若要在先进先出（FIFO）的基础上访问元素，可以使用队列；而栈（stack）则适用于后进先出（LIFO）操作。链表（linked
                            lists）允许快速插入和删除元素，但在搜索时较慢。通过键值对，你可以使用字典（dictionaries），它们在搜索和插入元素时非常高效。集合（sets）适用于唯一项，可以是有序的（
                            <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">SortedSet&lt;T&gt;</code>
                            ），也可以是无序的（ <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">HashSet&lt;T&gt;</code>
                            ）。</font>
                    </font>
                </font>
            </p>
            <p id="c08-para-0201" data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49"
                data-immersive-translate-paragraph="1"><a href="c09.xhtml"
                    data-immersive-translate-walked="7f2b0720-6eaa-469b-b1bf-30ad638bbe49">Chapter 9</a> gives you
                details about working with arrays and collections by using LINQ syntax.<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">第 9 章将详细说明如何使用 LINQ 语法来处理数组和集合。</font>
                    </font>
                </font>
            </p>
        </section>
    </section>
</body>
<div id="immersive-translate-popup" style="all: initial"></div>

</html>