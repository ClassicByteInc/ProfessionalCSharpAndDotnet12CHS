<!-- 这行注释会存在于经过翻译的源文件中。除非您获得许可请不要删除这个注释。
    翻译由 ClassicByte Org 的 higashitani yume 完成
    使用工具 沉浸式翻译 智谱GLM模型
    您可以阅读这个源代码，也可以向他人分发此源代码，但是不得用于商业用途。
    您也可以自己将这些代码打包成epub分发给别人，但是不得用于商业用途。
    如果此源代码侵犯了您的权益，请联系我我将会删除侵权内容。
    您在阅读此源代码时，可能会看到一些英文内容，这些内容是原书的内容，可能是因为翻译不准确或者是因为原书的内容没有被翻译。
    如果您发现了错误，请联系我我会进行修正。
  -->
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops"
    xmlns:svg="http://www.w3.org/2000/svg" epub:prefix="index: http://www.index.com/" lang="en" xml:lang="en"
    imt-state="dual" imt-trans-position="after">

<head>
    <title>4 C#中的面向对象编程 --- 4 Object-Oriented Programming in C#</title>
    <link href="WileyTemplate_v5.5.css" rel="stylesheet" type="text/css" />
    <meta content="urn:uuid:e0000000-0000-0000-0000-000006715209" name="Adept.expected.resource" />
    <style data-id="immersive-translate-input-injected-css">
        .immersive-translate-input {
            position: absolute;
            top: 0;
            right: 0;
            left: 0;
            bottom: 0;
            z-index: 2147483647;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .immersive-translate-attach-loading::after {
            content: " ";

            --loading-color: #f78fb6;
            width: 6px;
            height: 6px;
            border-radius: 50%;
            display: block;
            margin: 12px auto;
            position: relative;
            color: white;
            left: -100px;
            box-sizing: border-box;
            animation: immersiveTranslateShadowRolling 1.5s linear infinite;

            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-2000%, -50%);
            z-index: 100;
        }

        .immersive-translate-loading-spinner {
            vertical-align: middle !important;
            width: 10px !important;
            height: 10px !important;
            display: inline-block !important;
            margin: 0 4px !important;
            border: 2px rgba(221, 244, 255, 0.6) solid !important;
            border-top: 2px rgba(0, 0, 0, 0.375) solid !important;
            border-left: 2px rgba(0, 0, 0, 0.375) solid !important;
            border-radius: 50% !important;
            padding: 0 !important;
            -webkit-animation: immersive-translate-loading-animation 0.6s infinite linear !important;
            animation: immersive-translate-loading-animation 0.6s infinite linear !important;
        }

        @-webkit-keyframes immersive-translate-loading-animation {
            from {
                -webkit-transform: rotate(0deg);
            }

            to {
                -webkit-transform: rotate(359deg);
            }
        }

        @keyframes immersive-translate-loading-animation {
            from {
                transform: rotate(0deg);
            }

            to {
                transform: rotate(359deg);
            }
        }

        .immersive-translate-input-loading {
            --loading-color: #f78fb6;
            width: 6px;
            height: 6px;
            border-radius: 50%;
            display: block;
            margin: 12px auto;
            position: relative;
            color: white;
            left: -100px;
            box-sizing: border-box;
            animation: immersiveTranslateShadowRolling 1.5s linear infinite;
        }

        @keyframes immersiveTranslateShadowRolling {
            0% {
                box-shadow: 0px 0 rgba(255, 255, 255, 0), 0px 0 rgba(255, 255, 255, 0),
                    0px 0 rgba(255, 255, 255, 0), 0px 0 rgba(255, 255, 255, 0);
            }

            12% {
                box-shadow: 100px 0 var(--loading-color), 0px 0 rgba(255, 255, 255, 0),
                    0px 0 rgba(255, 255, 255, 0), 0px 0 rgba(255, 255, 255, 0);
            }

            25% {
                box-shadow: 110px 0 var(--loading-color), 100px 0 var(--loading-color),
                    0px 0 rgba(255, 255, 255, 0), 0px 0 rgba(255, 255, 255, 0);
            }

            36% {
                box-shadow: 120px 0 var(--loading-color), 110px 0 var(--loading-color),
                    100px 0 var(--loading-color), 0px 0 rgba(255, 255, 255, 0);
            }

            50% {
                box-shadow: 130px 0 var(--loading-color), 120px 0 var(--loading-color),
                    110px 0 var(--loading-color), 100px 0 var(--loading-color);
            }

            62% {
                box-shadow: 200px 0 rgba(255, 255, 255, 0), 130px 0 var(--loading-color),
                    120px 0 var(--loading-color), 110px 0 var(--loading-color);
            }

            75% {
                box-shadow: 200px 0 rgba(255, 255, 255, 0), 200px 0 rgba(255, 255, 255, 0),
                    130px 0 var(--loading-color), 120px 0 var(--loading-color);
            }

            87% {
                box-shadow: 200px 0 rgba(255, 255, 255, 0), 200px 0 rgba(255, 255, 255, 0),
                    200px 0 rgba(255, 255, 255, 0), 130px 0 var(--loading-color);
            }

            100% {
                box-shadow: 200px 0 rgba(255, 255, 255, 0), 200px 0 rgba(255, 255, 255, 0),
                    200px 0 rgba(255, 255, 255, 0), 200px 0 rgba(255, 255, 255, 0);
            }
        }

        .immersive-translate-toast {
            display: flex;
            position: fixed;
            z-index: 2147483647;
            left: 0;
            right: 0;
            top: 1%;
            width: fit-content;
            padding: 12px 20px;
            margin: auto;
            overflow: auto;
            background: #fef6f9;
            box-shadow: 0px 4px 10px 0px rgba(0, 10, 30, 0.06);
            font-size: 15px;
            border-radius: 8px;
            color: #333;
        }

        .immersive-translate-toast-content {
            display: flex;
            flex-direction: row;
            align-items: center;
        }

        .immersive-translate-toast-hidden {
            margin: 0 20px 0 72px;
            text-decoration: underline;
            cursor: pointer;
        }

        .immersive-translate-toast-close {
            color: #666666;
            font-size: 20px;
            font-weight: bold;
            padding: 0 10px;
            cursor: pointer;
        }

        @media screen and (max-width: 768px) {
            .immersive-translate-toast {
                top: 0;
                padding: 12px 0px 0 10px;
            }

            .immersive-translate-toast-content {
                flex-direction: column;
                text-align: center;
            }

            .immersive-translate-toast-hidden {
                margin: 10px auto;
            }
        }

        .immersive-translate-modal {
            display: none;
            position: fixed;
            z-index: 2147483647;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgb(0, 0, 0);
            background-color: rgba(0, 0, 0, 0.4);
            font-size: 15px;
        }

        .immersive-translate-modal-content {
            background-color: #fefefe;
            margin: 10% auto;
            padding: 40px 24px 24px;
            border: 1px solid #888;
            border-radius: 10px;
            width: 80%;
            max-width: 270px;
            font-family: system-ui, -apple-system, "Segoe UI", "Roboto", "Ubuntu",
                "Cantarell", "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji",
                "Segoe UI Symbol", "Noto Color Emoji";
            position: relative;
        }

        @media screen and (max-width: 768px) {
            .immersive-translate-modal-content {
                margin: 50% auto !important;
            }
        }

        .immersive-translate-modal .immersive-translate-modal-content-in-input {
            max-width: 500px;
        }

        .immersive-translate-modal-content-in-input .immersive-translate-modal-body {
            text-align: left;
            max-height: unset;
        }

        .immersive-translate-modal-title {
            text-align: center;
            font-size: 16px;
            font-weight: 700;
            color: #333333;
        }

        .immersive-translate-modal-body {
            text-align: center;
            font-size: 14px;
            font-weight: 400;
            color: #333333;
            word-break: break-all;
            margin-top: 24px;
        }

        @media screen and (max-width: 768px) {
            .immersive-translate-modal-body {
                max-height: 250px;
                overflow-y: auto;
            }
        }

        .immersive-translate-close {
            color: #666666;
            position: absolute;
            right: 16px;
            top: 16px;
            font-size: 20px;
            font-weight: bold;
        }

        .immersive-translate-close:hover,
        .immersive-translate-close:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }

        .immersive-translate-modal-footer {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 24px;
        }

        .immersive-translate-btn {
            width: fit-content;
            color: #fff;
            background-color: #ea4c89;
            border: none;
            font-size: 16px;
            margin: 0 8px;
            padding: 9px 30px;
            border-radius: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        .immersive-translate-btn:hover {
            background-color: #f082ac;
        }

        .immersive-translate-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .immersive-translate-btn:disabled:hover {
            background-color: #ea4c89;
        }

        .immersive-translate-cancel-btn {
            /* gray color */
            background-color: rgb(89, 107, 120);
        }

        .immersive-translate-cancel-btn:hover {
            background-color: hsl(205, 20%, 32%);
        }

        .immersive-translate-action-btn {
            background-color: transparent;
            color: #ea4c89;
            border: 1px solid #ea4c89;
        }

        .immersive-translate-btn svg {
            margin-right: 5px;
        }

        .immersive-translate-link {
            cursor: pointer;
            user-select: none;
            -webkit-user-drag: none;
            text-decoration: none;
            color: #007bff;
            -webkit-tap-highlight-color: rgba(0, 0, 0, 0.1);
        }

        .immersive-translate-primary-link {
            cursor: pointer;
            user-select: none;
            -webkit-user-drag: none;
            text-decoration: none;
            color: #ea4c89;
            -webkit-tap-highlight-color: rgba(0, 0, 0, 0.1);
        }

        .immersive-translate-modal input[type="radio"] {
            margin: 0 6px;
            cursor: pointer;
        }

        .immersive-translate-modal label {
            cursor: pointer;
        }

        .immersive-translate-close-action {
            position: absolute;
            top: 2px;
            right: 0px;
            cursor: pointer;
        }

        .imt-image-status {
            background-color: rgba(0, 0, 0, 0.5) !important;
            display: flex !important;
            flex-direction: column !important;
            align-items: center !important;
            justify-content: center !important;
            border-radius: 16px !important;
        }

        .imt-image-status img,
        .imt-image-status svg,
        .imt-img-loading {
            width: 28px !important;
            height: 28px !important;
            margin: 0 0 8px 0 !important;
            min-height: 28px !important;
            min-width: 28px !important;
            position: relative !important;
        }

        .imt-img-loading {
            background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4CAMAAACfWMssAAAAtFBMVEUAAAD////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////oK74hAAAAPHRSTlMABBMIDyQXHwyBfFdDMSw+OjXCb+5RG51IvV/k0rOqlGRM6KKMhdvNyZBz9MaupmxpWyj437iYd/yJVNZeuUC7AAACt0lEQVRIx53T2XKiUBCA4QYOiyCbiAsuuGBcYtxiYtT3f6/pbqoYHVFO5r+iivpo6DpAWYpqeoFfr9f90DsYAuRSWkFnPO50OgR9PwiCUFcl2GEcx+N/YBh6pvKaefHlUgZd1zVe0NbYcQjGBfzrPE8Xz8aF+71D8gG6DHFPpc4a7xFiCDuhaWgKgGIJQ3d5IMGDrpS4S5KgpIm+en9f6PlAhKby4JwEIxlYJV9h5k5nee9GoxHJ2IDSNB0dwdad1NAxDJ/uXDHYmebdk4PdbkS58CIVHdYSUHTYYRWOJblWSyu2lmy3KNFVJNBhxcuGW4YBVCbYGRZwIooipHsNqjM4FbgOQqQqSKQQU9V8xmi1QlgHqQQ6DDBvRUVCDirs+EzGDGOQTCATgtYTnbCVLgsVgRE0T1QE0qHCFAht2z6dLvJQs3Lo2FQoDxWNUiBhaP4eRgwNkI+dAjVOA/kUrIDwf3CG8NfNOE0eiFotSuo+rBiq8tD9oY4Qzc6YJw99hl1wzpQvD7ef2M8QgnOGJfJw+EltQc+oX2yn907QB22WZcvlUpd143dqQu+8pCJZuGE4xCuPXJqqcs5sNpsI93Rmzym1k4Npk+oD1SH3/a3LOK/JpUBpWfqNySxWzCfNCUITuDG5dtuphrUJ1myeIE9bIsPiKrfqTai5WZxbhtNphYx6GEIHihyGFTI69lje/rxajdh0s0msZ0zYxyPLhYCb1CyHm9Qsd2H37Y3lugVwL9kNh8Ot8cha6fUNQ8nuXi5z9/ExsAO4zQrb/ev1yrCB7lGyQzgYDGuxq1toDN/JGvN+HyWNHKB7zEoK+PX11e12G431erGYzwmytAWU56fkMHY5JJnDRR2eZji3AwtIcrEV8Cojat/BdQ7XOwGV1e1hDjGGjXbdArm8uJZtCH5MbcctVX8A1WpqumJHwckAAAAASUVORK5CYII=");
            background-size: 28px 28px;
            animation: image-loading-rotate 1s linear infinite !important;
        }

        .imt-image-status span {
            color: var(--bg-2, #fff) !important;
            font-size: 14px !important;
            line-height: 14px !important;
            font-weight: 500 !important;
            font-family: "PingFang SC", Arial, sans-serif !important;
        }

        @keyframes image-loading-rotate {
            from {
                transform: rotate(360deg);
            }

            to {
                transform: rotate(0deg);
            }
        }
    </style>
    <style data-id="immersive-translate-default-injected-css">
        :root {
            --immersive-translate-theme-underline-borderColor: #72ece9;
            --immersive-translate-theme-nativeUnderline-borderColor: #72ece9;
            --immersive-translate-theme-nativeDashed-borderColor: #72ece9;
            --immersive-translate-theme-nativeDotted-borderColor: #72ece9;
            --immersive-translate-theme-highlight-backgroundColor: #ffff00;
            --immersive-translate-theme-dashed-borderColor: #59c1bd;
            --immersive-translate-theme-blockquote-borderColor: #cc3355;
            --immersive-translate-theme-thinDashed-borderColor: #ff374f;
            --immersive-translate-theme-dashedBorder-borderColor: #94a3b8;
            --immersive-translate-theme-dashedBorder-borderRadius: 0;
            --immersive-translate-theme-solidBorder-borderColor: #94a3b8;
            --immersive-translate-theme-solidBorder-borderRadius: 0;
            --immersive-translate-theme-dotted-borderColor: #94a3b8;
            --immersive-translate-theme-wavy-borderColor: #72ece9;
            --immersive-translate-theme-dividingLine-borderColor: #94a3b8;
            --immersive-translate-theme-grey-textColor: #2f4f4f;
            --immersive-translate-theme-marker-backgroundColor: #fbda41;
            --immersive-translate-theme-marker-backgroundColor-rgb: 251, 218, 65;
            --immersive-translate-theme-marker2-backgroundColor: #ffff00;
            --immersive-translate-theme-background-backgroundColor: #dbafaf;
            --immersive-translate-theme-background-backgroundColor-rgb: 219, 175, 175;
            --immersive-translate-theme-background-backgroundOpacity: 12;
            --immersive-translate-theme-opacity-opacity: 10;
        }

        [imt-state="dual"] .immersive-translate-target-translation-pre-whitespace {
            white-space: pre-wrap !important;
        }

        [imt-state="dual"] .immersive-translate-pdf-target-container {
            position: absolute;
            background-color: #fff;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica,
                sans-serif;
            top: 0;
            width: 600px;
            height: 100%;
            z-index: 2;
            line-height: 1.3;
            font-size: 16px;
        }

        [imt-state="dual"] .immersive-translate-target-wrapper[dir="rtl"] {
            text-align: right;
        }

        [imt-state="dual"] .immersive-translate-pdf-target-container .immersive-translate-target-wrapper {
            color: rgb(0, 0, 0);
            white-space: normal;
            position: absolute;
        }

        [imt-state="dual"] .immersive-translate-pdf-target-container .immersive-translate-target-wrapper font {
            color: inherit;
            white-space: inherit;
            position: unset;
        }

        [imt-state="translation"] .immersive-translate-target-wrapper &gt;

        br {
            display: none;
        }

        [imt-state="translation"] .immersive-translate-target-translation-block-wrapper {
            margin: 0 !important;
        }

        [imt-state="dual"] .immersive-translate-target-translation-block-wrapper {
            margin: 8px 0 !important;
            display: inline-block;
        }

        [imt-trans-position="before"] .immersive-translate-target-translation-block-wrapper {
            display: block;
        }

        [imt-trans-position="before"] .immersive-translate-target-translation-block-wrapper {
            margin-top: 0 !important;
        }

        [imt-state="dual"] .immersive-translate-target-translation-pdf-block-wrapper {
            margin: 0 !important;
            display: inline-block;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-grey-inner {
            color: var(--immersive-translate-theme-grey-textColor);
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-underline-inner {
            border-bottom: 1px solid var(--immersive-translate-theme-underline-borderColor) !important;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-nativeUnderline-inner {
            text-decoration: underline !important;
            text-decoration-color: var(--immersive-translate-theme-nativeUnderline-borderColor) !important;
        }

        [imt-state="dual"] .immersive-translate-target-translation-block-wrapper-theme-dashedBorder {
            border: 1px dashed var(--immersive-translate-theme-dashedBorder-borderColor) !important;
            border-radius: var(--immersive-translate-theme-dashedBorder-borderRadius) !important;
            padding: 6px;
            margin-top: 2px;
            display: inline-block;
        }

        [imt-state="dual"] .immersive-translate-target-translation-inline-wrapper-theme-dashedBorder {
            border: 1px dashed var(--immersive-translate-theme-dashedBorder-borderColor) !important;
            border-radius: var(--immersive-translate-theme-dashedBorder-borderRadius) !important;
            padding: 2px;
        }

        [imt-state="dual"] .immersive-translate-target-translation-block-wrapper-theme-solidBorder {
            border: 1px solid var(--immersive-translate-theme-solidBorder-borderColor) !important;
            border-radius: var(--immersive-translate-theme-solidBorder-borderRadius) !important;
            padding: 6px;
            margin-top: 2px;
            display: inline-block;
        }

        [imt-state="dual"] .immersive-translate-target-translation-inline-wrapper-theme-solidBorder {
            border: 1px solid var(--immersive-translate-theme-solidBorder-borderColor) !important;
            border-radius: var(--immersive-translate-theme-solidBorder-borderRadius) !important;
            padding: 2px;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-nativeDashed-inner {
            text-decoration: underline !important;
            text-decoration-color: var(--immersive-translate-theme-nativeDashed-borderColor) !important;
            text-decoration-style: dashed !important;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-thinDashed-inner {
            border-bottom: 1px dashed var(--immersive-translate-theme-thinDashed-borderColor) !important;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-dotted-inner {
            background-image: linear-gradient(to right,
                    var(--immersive-translate-theme-dotted-borderColor) 30%,
                    rgba(255, 255, 255, 0) 0%);
            background-position: bottom;
            background-size: 5px 1px;
            background-repeat: repeat-x;
            padding-bottom: 3px;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-nativeDotted-inner {
            text-decoration: underline !important;
            text-decoration-color: var(--immersive-translate-theme-nativeDotted-borderColor) !important;
            text-decoration-style: dotted !important;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-wavy-inner {
            text-decoration: underline !important;
            text-decoration-color: var(--immersive-translate-theme-wavy-borderColor) !important;
            text-decoration-style: wavy !important;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-dashed-inner {
            background: linear-gradient(to right,
                    var(--immersive-translate-theme-dashed-borderColor) 0%,
                    var(--immersive-translate-theme-dashed-borderColor) 50%,
                    transparent 50%,
                    transparent 100%) repeat-x left bottom;
            background-size: 8px 2px;
            padding-bottom: 2px;
        }

        [imt-state="dual"] .immersive-translate-target-translation-block-wrapper-theme-dividingLine::before {
            content: "";
            display: block;
            max-width: 80px;
            width: 10%;
            border-top: 1px dashed var(--immersive-translate-theme-dividingLine-borderColor);
            padding-top: 8px;
        }

        [imt-state="dual"] .immersive-translate-target-translation-inline-wrapper-theme-dividingLine::before {
            content: "";
            border-left: 1px dashed var(--immersive-translate-theme-dividingLine-borderColor);
            max-height: 16px;
            height: 16px;
            padding-left: 8px;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-highlight-inner {
            background: var(--immersive-translate-theme-highlight-backgroundColor);
            box-decoration-break: clone;
            -webkit-box-decoration-break: clone;
        }

        [imt-state="dual"] .immersive-translate-target-translation-block-wrapper-theme-marker {
            line-height: 1.5em;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-marker2-inner {
            font-weight: bold;
            text-shadow: 10px 0px 3px var(--immersive-translate-theme-marker2-backgroundColor),
                16px 3px 9px var(--immersive-translate-theme-marker2-backgroundColor),
                2px 0px 6px var(--immersive-translate-theme-marker2-backgroundColor),
                -12px 0px 12px var(--immersive-translate-theme-marker2-backgroundColor) !important;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-marker-inner {
            /* TODO: add more texture */
            background: linear-gradient(to right,
                    rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.1),
                    rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 3%,
                    rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 35%,
                    rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 70%,
                    rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.8) 95%,
                    rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.3));
            box-decoration-break: clone;
            -webkit-box-decoration-break: clone;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-weakening {
            opacity: 0.618 !important;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-italic {
            font-style: italic !important;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-bold {
            font-weight: bold !important;
        }

        [imt-state="dual"] .immersive-translate-target-translation-block-wrapper-theme-paper {
            margin: 8px 0;
            box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;
            padding: 16px 32px;
            display: inline-block;
        }

        [imt-state="dual"] .immersive-translate-target-translation-block-wrapper-theme-blockquote {
            border-left: 4px solid var(--immersive-translate-theme-blockquote-borderColor) !important;
            padding-left: 12px !important;
            margin-top: 4px;
            margin-bottom: 4px;
            padding-top: 4px;
            padding-bottom: 4px;
            display: inline-block;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-mask-inner {
            filter: blur(5px) !important;
            transition: filter 0.3s ease !important;
            border-radius: 10px;
            display: inline-block;
        }

        [data-immersive-translate-root-translation-theme="none"] .immersive-translate-target-translation-theme-mask-inner {
            filter: none !important;
        }

        [data-immersive-translate-root-translation-theme="mask"] .immersive-translate-target-inner {
            filter: blur(5px) !important;
            transition: filter 0.3s ease !important;
            border-radius: 10px;
            display: inline-block;
        }

        /* opacity theme start */

        [imt-state="dual"] .immersive-translate-target-translation-theme-opacity-inner {
            filter: opacity(calc(var(--immersive-translate-theme-opacity-opacity) * 1%)) !important;
            transition: filter 0.3s ease !important;
            border-radius: 10px;
            display: inline-block;
        }

        [data-immersive-translate-root-translation-theme="none"] .immersive-translate-target-translation-theme-opacity-inner {
            filter: none !important;
        }

        [data-immersive-translate-root-translation-theme="opacity"] .immersive-translate-target-inner,
        [imt-state="dual"] .immersive-translate-target-translation-theme-opacity-inner:hover {
            filter: opacity(calc(var(--immersive-translate-theme-opacity-opacity) * 1%)) !important;
            transition: filter 0.3s ease !important;
            border-radius: 10px;
            display: inline-block;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-opacity-inner:hover {
            filter: none !important;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-mask-inner:hover {
            filter: none !important;
        }

        [data-immersive-translate-root-translation-theme="opacity"] .immersive-translate-target-inner:hover {
            filter: none !important;
        }

        [data-immersive-translate-root-translation-theme="mask"] .immersive-translate-target-inner:hover {
            filter: none !important;
        }

        /* opacity theme end */

        /* background theme start */
        [imt-state="dual"] .immersive-translate-target-translation-block-wrapper-theme-background {
            margin: 8px 0;
            background: rgba(var(--immersive-translate-theme-background-backgroundColor-rgb),
                    calc(var(--immersive-translate-theme-background-backgroundOpacity) * 1%));
            border-radius: 4px;
            box-shadow: unset !important;
            padding: 12px;
            display: inline-block;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-background-inner {
            background: rgba(var(--immersive-translate-theme-background-backgroundColor-rgb),
                    calc(var(--immersive-translate-theme-background-backgroundOpacity) * 1%));
            padding-left: 6px;
            padding-right: 6px;
            box-decoration-break: clone;
            -webkit-box-decoration-break: clone;
        }

        [imt-state="dual"] .immersive-translate-target-translation-block-wrapper .immersive-translate-target-translation-theme-background-inner {
            background: unset;
            padding-left: unset;
            padding-right: unset;
        }

        /* background theme end */

        /* vertical css , please remain it in the last one. */
        .immersive-translate-target-translation-vertical-block-wrapper {
            margin: 0px 8px !important;
        }

        .immersive-translate-text {
            font-size: 15px !important;
        }

        .immersive-translate-error-toast {
            position: fixed;
            top: 5%;
            z-index: 99999999;
            left: 0;
            right: 0;
            margin: auto;
            max-width: 300px;
            padding: 16px;
            border-radius: 12px;
            background-color: rgba(0, 0, 0, 0.8);
            display: flex;
            flex-direction: row;
            justify-content: space-between;
        }

        @media all and (min-width: 750px) {
            .immersive-translate-error-toast {
                max-width: 400px;
            }
        }

        .immersive-translate-clickable-button {
            cursor: pointer;
        }

        .immersive-translate-help-button {
            cursor: pointer;
        }

        .immersive-translate-loading-text:before {
            content: "...";
        }

        /* dark mode for loading */

        @media only screen and (prefers-color-scheme: dark) {
            .immersive-translate-loading {
                border: 2px rgba(255, 255, 255, 0.25) solid !important;
                border-top: 2px rgba(255, 255, 255, 1) solid !important;
            }
        }

        .immersive-translate-error-wrapper {
            position: relative;
            display: inline-flex;
            padding: 6px;
            margin: 0 12px;
            white-space: nowrap;
            font-size: 0.9em;
        }

        [lang="zh-CN"] .immersive-translate-error-wrapper {
            font-size: 0.75em;
        }

        [lang="zh-TW"] .immersive-translate-error-wrapper {
            font-size: 0.75em;
        }

        .immersive-translate-tooltip {
            position: relative;
            display: inline-flex;
            /* little indicater to indicate it's hoverable */
        }

        .immersive-translate-tooltip-content {
            /* here's the magic */
            position: absolute;
            z-index: 100000000000;

            left: 50%;
            bottom: 0;
            transform: translate(-50%, 110%);
            line-height: 1;
            /* and add a small left margin */

            /* basic styles */
            width: max-content;
            max-width: 250px;
            word-wrap: break-word;
            white-space: pre-line;
            padding: 10px;
            border-radius: 10px;
            background: #000c;
            color: #fff;
            text-align: center;
            font-size: 14px;
            display: none;
            /* hide by default */
        }

        .immersive-translate-tooltip:hover .immersive-translate-tooltip-content {
            display: inline-block;
        }

        .immersive-translate-tooltip:hover+.immersive-translate-tooltip-content {
            display: inline-block;
        }

        .immersive-translate-tooltip-content-table {
            left: unset !important;
            bottom: unset !important;
            transform: translate(-10%, 50%) !important;
        }

        .immersive-translate-tooltip:hover:before {
            display: inline-block;
        }

        .immersive-translate-loading-spinner {
            vertical-align: middle !important;
            width: 10px !important;
            height: 10px !important;
            display: inline-block !important;
            margin: 0 4px !important;
            border: 2px rgba(221, 244, 255, 0.6) solid !important;
            border-top: 2px rgba(0, 0, 0, 0.375) solid !important;
            border-left: 2px rgba(0, 0, 0, 0.375) solid !important;
            border-radius: 50% !important;
            padding: 0 !important;
            -webkit-animation: immersive-translate-loading-animation 0.6s infinite linear !important;
            animation: immersive-translate-loading-animation 0.6s infinite linear !important;
        }

        @-webkit-keyframes immersive-translate-loading-animation {
            from {
                -webkit-transform: rotate(0deg);
            }

            to {
                -webkit-transform: rotate(359deg);
            }
        }

        @keyframes immersive-translate-loading-animation {
            from {
                transform: rotate(0deg);
            }

            to {
                transform: rotate(359deg);
            }
        }

        .imt-image-status {
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: var(--bg-2, #fff);
            font-size: 14px;
        }
    </style>
    <style data-id="immersive-translate-user-custom-style">
        :root {

            .immersive-translate-target-inner {
                font-family: inherit;
            }


            .immersive-translate-target-inner {
                font-family: inherit;
            }
        }
    </style>
    <style data-id="immersive-translate-dynamic-injected-css">
        .immersive-translate-target-wrapper[dir='rtl'] {
            text-align: right;
        }

        .immersive-translate-target-wrapper[dir='rtl'] [data-immersive-translate-class-bak*='block-wrapper'] {
            display: block;
        }

        .immersive-translate-target-wrapper {
            word-break: break-word;
            user-select: text;
        }

        [imt-state="translation"] .immersive-translate-target-wrapper[dir='rtl'] {
            display: inline-block;
        }

        [dir='rtl'] .immersive-translate-target-wrapper:not([dir]) {
            text-align: left;
        }

        [imt-state=dual] .immersive-translate-target-translation-block-wrapper-theme-dividingLine::before {
            display: block;
        }

        [imt-trans-position=before] .immersive-translate-target-translation-block-wrapper {
            display: block !important;
        }

        [imt-state][data-immersive-translate_rtl] .immersive-translate-target-wrapper {
            display: block !important;
        }
    </style>
</head>

<body epub:type="bodymatter" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
    <section aria-labelledby="c04_1" epub:type="chapter" role="doc-chapter"
        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
        <header data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
            <h1 id="c04_1" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                data-immersive-translate-paragraph="1"><span aria-label="95" epub:type="pagebreak" id="Page_95"
                    role="doc-pagebreak"
                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"></span><span id="c04"
                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"></span><span
                    class="chapterNumber"
                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">4</span><br /><span
                    class="chapterTitle"
                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Object-Oriented Programming
                    in C#</span>
                <font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">4C#中的面向对象编程</font>
                    </font>
                </font>
            </h1>
        </header>
        <section aria-label="chapter opening" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
            <span id="c04-sec-0001" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"></span>
            <aside data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                <div class="top hr" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                    <hr />
                </div>
                <section class="feature3" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                    <h3 data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                        data-immersive-translate-paragraph="1">WHAT'S IN THIS CHAPTER?<font
                            class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">本章内容</font>
                            </font>
                        </font>
                    </h3>
                    <ul class="check2" id="c04-list-0001"
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                        <li id="c04-li-0001" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                            data-immersive-translate-paragraph="1">Using inheritance with classes and records<font
                                class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">使用类和记录的继承</font>
                                </font>
                            </font>
                        </li>
                        <li id="c04-li-0002" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                            data-immersive-translate-paragraph="1">Working with access modifiers<font
                                class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">使用访问修饰符</font>
                                </font>
                            </font>
                        </li>
                        <li id="c04-li-0003" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                            data-immersive-translate-paragraph="1">Using interfaces<font
                                class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                                <font class="notranslate" data-immersive-translate-translation-element-mark="1">  
                                </font>
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">使用接口</font>
                                </font>
                            </font>
                        </li>
                        <li id="c04-li-0004" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                            data-immersive-translate-paragraph="1">Working with default interface methods<font
                                class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">处理默认接口方法</font>
                                </font>
                            </font>
                        </li>
                        <li id="c04-li-0005" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                            data-immersive-translate-paragraph="1">Using dependency injection<font
                                class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">使用依赖注入</font>
                                </font>
                            </font>
                        </li>
                        <li id="c04-li-0006" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                            data-immersive-translate-paragraph="1">Using generics<font
                                class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                                <font class="notranslate" data-immersive-translate-translation-element-mark="1">  
                                </font>
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">使用泛型</font>
                                </font>
                            </font>
                        </li>
                    </ul>
                    <div class="bottom hr" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                        <hr />
                    </div>
                </section>
            </aside>
            <aside data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                <div class="top hr" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                    <hr />
                </div>
                <section class="feature3" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"><span
                        id="c04-fea-0001" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"></span>
                    <h3 id="head-2-33" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                        data-immersive-translate-paragraph="1">CODE DOWNLOADS FOR THIS CHAPTER<font
                            class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">本章代码下载</font>
                            </font>
                        </font>
                    </h3>
                    <section data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"><span
                            id="c04-sec-0003"
                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"></span>
                        <p id="c04-para-0003" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                            data-immersive-translate-paragraph="1">The source code for this chapter is available on the
                            book page at <code
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"><a href="http://www.wiley.com">www.wiley.com</a></code>.
                            Click the Downloads link. The code can also be found at <code
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"><a href="https://github.com/ProfessionalCSharp/ProfessionalCSharp2021">https://github.com/ProfessionalCSharp/ProfessionalCSharp2021</a></code>
                            in the directory <code
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">1_CS/ObjectOrientation</code>.
                            <font class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">本章的源代码可在第 <code
                                            xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"><a href="http://www.wiley.com">www.wiley.com</a></code>
                                        页的书籍页面上找到。点击下载链接。代码也可以在第 <code xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"><a href="https://github.com/ProfessionalCSharp/ProfessionalCSharp2021">https://github.com/ProfessionalCSharp/ProfessionalCSharp2021</a></code>
                                        处的 <code xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">1_CS/ObjectOrientation</code>
                                        目录中找到。</font>
                                </font>
                            </font>
                        </p>
                        <p data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                            data-immersive-translate-paragraph="1">The code for this chapter is divided into the
                            following major examples:<font class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">本章的代码分为以下主要示例：</font>
                                </font>
                            </font>
                        </p>
                        <ul class="check" id="c04-list-0002"
                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                            <li id="c04-li-0007" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                                data-immersive-translate-paragraph="1">VirtualMethods<font
                                    class="notranslate immersive-translate-target-wrapper"
                                    data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                                    <font class="notranslate" data-immersive-translate-translation-element-mark="1">  
                                    </font>
                                    <font
                                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                                        data-immersive-translate-translation-element-mark="1">
                                        <font
                                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                            data-immersive-translate-translation-element-mark="1">虚拟方法</font>
                                    </font>
                                </font>
                            </li>
                            <li id="c04-li-0008" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                                data-immersive-translate-paragraph="1">AbstractClasses<font
                                    class="notranslate immersive-translate-target-wrapper"
                                    data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                                    <font class="notranslate" data-immersive-translate-translation-element-mark="1">  
                                    </font>
                                    <font
                                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                                        data-immersive-translate-translation-element-mark="1">
                                        <font
                                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                            data-immersive-translate-translation-element-mark="1">抽象类</font>
                                    </font>
                                </font>
                            </li>
                            <li id="c04-li-0009" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                                data-immersive-translate-paragraph="1">InheritanceWithConstructors<font
                                    class="notranslate immersive-translate-target-wrapper"
                                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                    <font
                                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                        data-immersive-translate-translation-element-mark="1">
                                        <font
                                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                            data-immersive-translate-translation-element-mark="1">带构造函数的继承</font>
                                    </font>
                                </font>
                            </li>
                            <li id="c04-li-0010" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                                data-immersive-translate-paragraph="1">RecordsInheritance<font
                                    class="notranslate immersive-translate-target-wrapper"
                                    data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                                    <font class="notranslate" data-immersive-translate-translation-element-mark="1">  
                                    </font>
                                    <font
                                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                                        data-immersive-translate-translation-element-mark="1">
                                        <font
                                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                            data-immersive-translate-translation-element-mark="1">记录的继承</font>
                                    </font>
                                </font>
                            </li>
                            <li id="c04-li-0011" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                                data-immersive-translate-paragraph="1">UsingInterfaces<font
                                    class="notranslate immersive-translate-target-wrapper"
                                    data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                                    <font class="notranslate" data-immersive-translate-translation-element-mark="1">  
                                    </font>
                                    <font
                                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                                        data-immersive-translate-translation-element-mark="1">
                                        <font
                                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                            data-immersive-translate-translation-element-mark="1">使用接口</font>
                                    </font>
                                </font>
                            </li>
                            <li id="c04-li-0012" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                                data-immersive-translate-paragraph="1">DefaultInterfaceMethods</li>
                            <li id="c04-li-0013" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                                data-immersive-translate-paragraph="1">GenericTypes</li>
                            <li id="c04-li-0014" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                                data-immersive-translate-paragraph="1">GenericTypesWithConstraints</li>
                        </ul>
                        <p id="c04-para-0005" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                            data-immersive-translate-paragraph="1">All the projects have nullable reference types
                            enabled.<font class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">所有项目都启用了可空引用类型。 </font>
                                </font>
                            </font>
                        </p>
                    </section>
                    <div class="bottom hr" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                        <hr />
                    </div>
                </section>
            </aside>
        </section> <span aria-label="96" epub:type="pagebreak" id="Page_96" role="doc-pagebreak"
            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"></span>
        <section aria-labelledby="head-2-34" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
            <span id="c04-sec-0004" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"></span>
            <h2 id="head-2-34" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                data-immersive-translate-paragraph="1">OBJECT ORIENTATION<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                    <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">面向对象</font>
                    </font>
                </font>
            </h2>
            <p id="c04-para-0006" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                data-immersive-translate-paragraph="1">C# is not a pure object-oriented programming language because it
                offers multiple programming paradigms. However, object orientation is an important concept with C#; it's
                a core principle of all the libraries offered by .NET.<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">C#
                            不是一个纯粹的面向对象编程语言，因为它提供了多种编程范式。然而，面向对象是 C# 中的一个重要概念；它是 .NET 提供的所有库的核心原则。</font>
                    </font>
                </font>
            </p>
            <p id="c04-para-0007" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                data-immersive-translate-paragraph="1">The three most important concepts of object orientation are <i
                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">inheritance</i>, <i
                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">encapsulation</i>, and <i
                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">polymorphism</i>. <a
                    href="c03.xhtml" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Chapter
                    3</a>, “Classes, Records, Structs, and Tuples,” talks about creating individual types to arrange
                properties, methods, and fields. When members of a type are declared <code
                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">private</code>, they cannot
                be accessed from the outside. They are <i
                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">encapsulated</i> within the
                type. This chapter covers inheritance and polymorphism and extends encapsulation features with
                inheritance.<font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">面向对象最重要的三个概念是继承、封装和多态。第 3
                            章“类、记录、结构和元组”讨论了如何创建单独的类型来组织属性、方法和字段。当一个类型的成员被声明为 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">private</code>
                            时，它们不能从外部访问。它们被封装在类型内部。本章涵盖了继承和多态，并通过继承扩展了封装功能。</font>
                    </font>
                </font>
            </p>
            <p id="c04-para-0008" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                data-immersive-translate-paragraph="1">The previous chapter explained all the members of a type. This
                chapter explains how to use inheritance to enhance base types, how to create a hierarchy of classes, and
                how polymorphism works with C#. It also describes all the C# keywords related to inheritance, shows how
                to use interfaces as contracts for dependency injection, and covers default interface methods that allow
                implementations with interfaces.<font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">
                            上一章解释了类型的所有成员。本章解释了如何使用继承来增强基类型，如何创建类层次结构，以及 C# 中多态的工作原理。它还描述了与继承相关的所有 C#
                            关键字，展示了如何使用接口作为依赖注入的契约，并涵盖了默认接口方法，这些方法允许使用接口进行实现。</font>
                    </font>
                </font>
            </p>
        </section>
        <section aria-labelledby="head-2-35" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
            <span id="c04-sec-0005" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"></span>
            <h2 id="head-2-35" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                data-immersive-translate-paragraph="1">INHERITANCE WITH CLASSES<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">使用类的继承</font>
                    </font>
                </font>
            </h2>
            <p data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                data-immersive-translate-paragraph="1">If you want to declare that a class derives from another class,
                use the following syntax:<font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">如果你想要声明一个类继承自另一个类，请使用以下语法：</font>
                    </font>
                </font>
            </p>
            <pre id="c04-code-0001"><code>class MyDerivedClass: MyBaseClass</code>
<code>{</code>
<code>  // members</code>
<code>}</code></pre>
            <aside data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                <div class="top hr" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                    <hr />
                </div>
                <section class="feature2" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                    <p id="c04-para-0011" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                        data-immersive-translate-paragraph="1"><b
                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">NOTE</b> <i
                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">If you do not specify
                            a base class in a class definition, the base class will be </i> <code
                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">System.Object</code>
                        <i data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">.</i>
                        <font class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">注意 如果在类定义中未指定基类，基类将是 <code
                                        xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">System.Object</code>
                                    。</font>
                            </font>
                        </font>
                    </p>
                    <div class="bottom hr" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                        <hr />
                    </div>
                </section>
            </aside>
            <p data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                data-immersive-translate-paragraph="1">Let's get into an example to define a base class <code
                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Shape</code>. Something
                that's common with shapes—no matter whether they are rectangles or ellipses—is that they have position
                and size. For position and size, corresponding records are defined that are contained within the <code
                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Shape</code> class. The <code
                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Shape</code> class defines
                read-only properties <code
                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Position</code> and <code
                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Size</code> that are
                initialized using auto properties with property initializers (code file <code
                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">VirtualMethods/Shape.cs</code>):
                <font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">让我们通过一个例子来定义一个基类 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Shape</code>
                            。形状（无论它们是矩形还是椭圆）的共性是它们都有位置和大小。对于位置和大小，相应的记录在 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Shape</code>
                            类中定义。 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Shape</code>
                            类定义了只读属性 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Position</code> 和
                            <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Size</code>
                            ，它们使用自动属性和属性初始化器进行初始化（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">VirtualMethods/Shape.cs</code>
                            ）：</font>
                    </font>
                </font>
            </p>
            <pre id="c04-code-0002"><code>public class Position</code>
<code>{</code>
<code>  public int X { get; set; }</code>
<code>  public int Y { get; set; }</code>
<code>}</code>
<code> </code>
<code>public class Size</code>
<code>{</code>
<code>  public int Width { get; set; }</code>
<code>  public int Height { get; set; }</code>
<code>}</code>
<code> </code>
<code>public class Shape</code>
<code>{</code>
<code>  public Position Position { get; } = new Position();</code>
<code>  public Size Size { get; } = new Size();</code>
<code>}</code></pre>
            <p data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"><span aria-label="97"
                    epub:type="pagebreak" id="Page_97" role="doc-pagebreak"
                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"></span></p>
            <aside data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                <div class="top hr" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                    <hr />
                </div>
                <section class="feature2" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                    <p id="c04-para-0014" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                        data-immersive-translate-paragraph="1"><b
                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">NOTE</b> <i
                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">With the shapes
                            sample, the </i> <code
                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Position</code> <i
                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"> and </i> <code
                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Size</code> <i
                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"> objects are
                            contained within an object of the </i> <code
                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Shape</code> <i
                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"> class. This is the
                            concept of composition. The </i> <code
                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Rectangle</code> <i
                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"> and </i> <code
                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Ellipse</code> <i
                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"> classes derive from
                            the base class </i> <code
                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Shape</code> <i
                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">. This is
                            inheritance.</i>
                        <font class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">注意 在形状示例中， <code
                                        xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Position</code>
                                    和 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Size</code>
                                    对象包含在 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Shape</code>
                                    类的对象中。这是组合的概念。 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Rectangle</code>
                                    和 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Ellipse</code>
                                    类继承自基类 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Shape</code>
                                    。这是继承。</font>
                            </font>
                        </font>
                    </p>
                    <div class="bottom hr" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                        <hr />
                    </div>
                </section>
            </aside>
            <section data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"><span id="c04-sec-0008"
                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"></span>
                <h3 id="head-3-107" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1">Virtual Methods <font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                        <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">虚拟方法</font>
                        </font>
                    </font>
                </h3>
                <p id="c04-para-0015" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1">By declaring a base class method as <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">virtual</code>, you allow
                    the method to be overridden in any derived classes.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">通过将基类方法声明为 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">virtual</code>
                                ，你允许该方法在任何派生类中被重写。</font>
                        </font>
                    </font>
                </p>
                <p data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1">The following code snippet shows the <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">DisplayShape</code>
                    method that is declared with the <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">virtual</code> modifier.
                    This method is invoked by the <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Draw</code> method of the
                    <code data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Shape</code>. Virtual
                    methods can be <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">public</code> or <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">protected</code>. The
                    access modifier cannot be changed when overriding this method in a derived class. Because the <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Draw</code> method has a
                    <code data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">public</code> access
                    modifier, this method can be used from the outside when using the <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Shape</code> or when
                    using any class deriving from <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Shape</code>. The <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Draw</code> method cannot
                    be overridden as it doesn't have the virtual modifier applied (code file <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">VirtualMethods/Shape.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">以下代码片段展示了使用 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">virtual</code>
                                修饰符声明的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">DisplayShape</code>
                                方法。该方法由 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Shape</code>
                                的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Draw</code>
                                方法调用。虚拟方法可以是 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">public</code>
                                或 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">protected</code>
                                。在派生类中重写该方法时，访问修饰符不能更改。因为 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Draw</code>
                                方法具有 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">public</code>
                                访问修饰符，所以当使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Shape</code>
                                或使用任何从 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Shape</code>
                                派生的类时，该方法可以从外部使用。 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Draw</code>
                                方法不能被重写，因为它没有应用虚拟修饰符（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">VirtualMethods/Shape.cs</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c04-code-0003"><code>public class Shape</code>
<code>{</code>
<code>  public void Draw() =&gt; DisplayShape();</code>
<code> </code>
<code>  protected <b>virtual</b> void DisplayShape()</code>
<code>  {</code>
<code>    Console.WriteLine($"Shape with {Position} and {Size}");</code>
<code>  }</code>
<code>}</code></pre>
                <aside data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                    <div class="top hr" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                        <hr />
                    </div>
                    <section class="feature2" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                        <p id="c04-para-0018" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                            data-immersive-translate-paragraph="1"><b
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">NOTE</b> <i
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">All the C# access
                                modifiers are discussed later in this chapter in detail.</i>
                            <font class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">注意 C# 的所有访问修饰符将在本章后面详细讨论。
                                    </font>
                                </font>
                            </font>
                        </p>
                        <div class="bottom hr" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                            <hr />
                        </div>
                    </section>
                </aside>
                <p data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1">You also may declare a property as <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">virtual</code>. For a
                    virtual or overridden property, the syntax is the same as for a nonvirtual property, with the
                    exception of the keyword <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">virtual</code>, which is
                    added to the definition:<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">你也可以将属性声明为 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">virtual</code>
                                。对于虚属性或重写属性，其语法与非虚属性相同，唯一的区别是在定义中添加了关键字 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">virtual</code>
                                。</font>
                        </font>
                    </font>
                </p>
                <pre id="c04-code-0004"><code>public virtual Size Size { get; set; }</code></pre>
                <p id="c04-para-0020" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1">For simplicity, the following discussion focuses mainly on
                    methods, but it applies equally well to properties.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">为简化起见，以下讨论主要关注方法，但它同样适用于属性。</font>
                        </font>
                    </font>
                </p>
                <p data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1">Methods that are declared virtual can be overridden in a
                    derived class. To declare a method that overrides a method from a base class, use the <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">override</code> keyword
                    (code file <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">VirtualMethods/ConcreteShapes.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">
                                被声明为虚拟的方法可以在派生类中被重写。要声明一个重写基类方法的方法，使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">override</code>
                                关键字（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">VirtualMethods/ConcreteShapes.cs</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c04-code-0005"><code>public class Rectangle : Shape</code>
<code>{</code>
<code>  <b>protected override void DisplayShape()</b></code>
<code>  {</code>
<code>    Console.WriteLine($"Rectangle at position {Position} with size {Size}");</code>
<code>  }</code>
<code>}</code></pre>
                <p id="c04-para-0022" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1">Virtual functions offer a core feature of OOP: <i
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">polymorphism</i>. With
                    virtual functions, the decision of which method to invoke is delayed during runtime. The compiler
                    creates a <i data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">virtual method
                        table</i> (vtable) that lists the methods that can be invoked during runtime, and it invokes the
                    method based on the type at runtime.<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">
                                虚拟函数提供了面向对象编程的核心特性：多态性。通过虚拟函数，调用哪个方法的决策被延迟到运行时。编译器创建一个虚拟方法表（vtable），其中列出了运行时可以调用的方法，并根据运行时的类型来调用相应的方法。
                            </font>
                        </font>
                    </font>
                </p>
                <p id="c04-para-0023" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1"><span aria-label="98" epub:type="pagebreak" id="Page_98"
                        role="doc-pagebreak"
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"></span>For performance
                    reasons, in C#, functions are not virtual by default. For nonvirtual functions, the vtable is not
                    needed, and the compiler directly addresses the method that's invoked.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">出于性能考虑，在 C#
                                中，函数默认不是虚拟的。对于非虚拟函数，不需要 vtable，编译器直接调用相应的方法。</font>
                        </font>
                    </font>
                </p>
                <p data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1">The <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Size</code> and <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Position</code> types
                    override the <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">ToString</code> method.
                    This method is declared as <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">virtual</code> in the
                    base class <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Object</code> (code file
                    <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">VirtualMethods/ConcreteShapes.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1"> <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Size</code> 和
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Position</code>
                                类型重写了 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">ToString</code>
                                方法。该方法在基类 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Object</code>
                                中被声明为 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">virtual</code>
                                （代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">VirtualMethods/ConcreteShapes.cs</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c04-code-0006"><code>public class Position</code>
<code>{</code>
<code>  public int X { get; set; }</code>
<code>  public int Y { get; set; }</code>
<code> </code>
<code>  <b>public override string ToString() =&gt; $"X: {X}, Y: {Y}";</b></code>
<code>}</code>
<code> </code>
<code>public class Size</code>
<code>{</code>
<code>  public int Width { get; set; }</code>
<code>  public int Height { get; set; }</code>
<code> </code>
<code>  <b>public override string ToString() =&gt; $"Width: {Width}, Height: {Height}";</b></code>
<code>}</code></pre>
                <p id="c04-para-0025" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1">Before C# 9, there was the rule that, when overriding methods
                    of the base class, the signature (all parameter types and the method name) and the return type must
                    match exactly. If you want different parameters, you need to create a new member that does not
                    override the base member.<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">在 C# 9
                                之前，有一个规则，即当重写基类的方法时，签名（所有参数类型和方法名）和返回类型必须完全匹配。如果你想要不同的参数，你需要创建一个不重写基类成员的新成员。</font>
                        </font>
                    </font>
                </p>
                <p data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1">With C# 9, there's a small change to this rule: when
                    overriding methods, the return type might differ, but only to return a type that derives from the
                    return type of the base class. One example where this can be used is to create a type-safe <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Clone</code> method. The
                    <code data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Shape</code> class
                    defines a virtual <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Clone</code> method that
                    returns a <code data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Shape</code>
                    (code file <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">VirtualMethods/Shape.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">在 C# 9
                                中，这条规则有一个小的变化：当重写方法时，返回类型可能会有所不同，但只能返回一个从基类返回类型派生出来的类型。一个可以应用这个规则的例子是创建一个类型安全的 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Clone</code>
                                方法。 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Shape</code>
                                类定义了一个返回 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Shape</code>
                                的虚拟 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Clone</code>
                                方法（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">VirtualMethods/Shape.cs</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre
                    id="c04-code-0007"><code>public virtual Shape Clone() =&gt; throw new NotImplementedException(); </code></pre>
                <p data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1">The <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Rectangle</code> class
                    overrides this method to return a <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Rectangle</code> type
                    instead of the base class <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Shape</code> by creating
                    a new instance and copying all the values from the existing instance to the newly created one:<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1"> <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Rectangle</code>
                                类通过创建一个新实例并将现有实例的所有值复制到新实例中来重写这个方法，从而返回 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Rectangle</code>
                                类型而不是基类的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Shape</code>
                                类型：</font>
                        </font>
                    </font>
                </p>
                <pre id="c04-code-0008"><code>public override Rectangle Clone()</code>
<code>{</code>
<code>  Rectangle r = new();</code>
<code>  r.Position.X = Position.X;</code>
<code>  r.Position.Y = Position.Y;</code>
<code>  r.Size.Width = Size.Width;</code>
<code>  r.Size.Height = Size.Width;</code>
<code>  return r;</code>
<code>}</code></pre>
                <p data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1">In the top-level statements of the <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Program.cs</code> file, a
                    rectangle and an ellipse are instantiated, properties are set, and the rectangle is cloned by
                    invoking the virtual <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Clone</code> method.
                    Finally, the <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">DisplayShapes</code>
                    method is invoked passing all the different created shapes. The <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Draw</code> method of the
                    <code data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Shape</code> class is
                    invoked to, in turn, invoke the overridden methods of the derived types. In this code snippet, you
                    also see the <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Ellipse</code> class
                    used; this is similar to the <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Rectangle</code> type,
                    deriving from <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Shape</code> (code file
                    <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">VirtualMethods/Program.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">在 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Program.cs</code>
                                文件的顶层语句中，实例化了一个矩形和一个椭圆，设置了属性，并通过调用虚拟的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Clone</code>
                                方法克隆了矩形。最后，调用了 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">DisplayShapes</code>
                                方法，传递了所有不同创建的形状。调用了 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Shape</code>
                                类的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Draw</code>
                                方法，进而调用了派生类型的重写方法。在这个代码片段中，还使用了 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Ellipse</code>
                                类；这与 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Rectangle</code>
                                类型类似，继承自 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Shape</code>
                                （代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">VirtualMethods/Program.cs</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c04-code-0009"><code>Rectangle r1 = new();</code>
<code>r1.Position.X = 33;</code>
<code>r1.Position.Y = 22;</code>
<code>r1.Size.Width = 200;</code>
<code>r1.Size.Height = 100;</code>
<code> <span aria-label="99" epub:type="pagebreak" id="Page_99" role="doc-pagebreak"></span></code>
<code>Rectangle r2 = r1.Clone();</code>
<code>r2.Position.X = 300;</code>
<code> </code>
<code>Ellipse e1 = new();</code>
<code>e1.Position.X = 122;</code>
<code>e1.Position.Y = 200;</code>
<code>e1.Size.Width = 40;</code>
<code>e1.Size.Height = 20;</code>
<code> </code>
<code>DisplayShapes(r1, r2, e1);</code>
<code> </code>
<code>void DisplayShapes(params Shape[] shapes)</code>
<code>{</code>
<code>  foreach (var shape in shapes)</code>
<code>  {</code>
<code>    shape.Draw();</code>
<code>  }</code>
<code>}</code></pre>
                <p data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1">Run the program to see the output of the <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Draw</code> method coming
                    from the implementation of the overridden <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Rectangle</code> and
                    <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Shape DisplayShape</code>
                    methods:<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">运行程序以查看来自重写方法 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Rectangle</code>
                                和 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Shape DisplayShape</code>
                                实现的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Draw</code>
                                方法的输出：</font>
                        </font>
                    </font>
                </p>
                <pre id="c04-code-0010"><code>Rectangle at position X: 33, Y: 22 with size Width: 200, Height: 100</code>
<code>Rectangle at position X: 300, Y: 22 with size Width: 200, Height: 200</code>
<code>Ellipse at position X: 122, Y: 200 with size Width: 40, Height: 20</code></pre>
                <aside data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                    <div class="top hr" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                        <hr />
                    </div>
                    <section class="feature2" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                        <p id="c04-para-0031" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                            data-immersive-translate-paragraph="1"><b
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">NOTE</b> <i
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Neither member
                                fields nor static methods can be declared as virtual. The concept of virtual members
                                doesn't make sense for anything other than instance function members.</i>
                            <font class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">
                                        注意：成员字段和静态方法都不能声明为虚拟的。虚拟成员的概念仅适用于实例函数成员。</font>
                                </font>
                            </font>
                        </p>
                        <div class="bottom hr" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                            <hr />
                        </div>
                    </section>
                </aside>
            </section>
            <section data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"><span id="c04-sec-0011"
                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"></span>
                <h3 id="head-3-108" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1">Hiding Methods <font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                        <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">隐藏方法</font>
                        </font>
                    </font>
                </h3>
                <p id="c04-para-0032" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1">If a method with the same signature is declared in both base
                    and derived classes, but the methods are not declared with the modifiers <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">virtual</code> and <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">override</code>,
                    respectively, then the derived class version is said to <i
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">hide</i> the base class
                    version.<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">如果基类和派生类中都声明了具有相同签名的成员，但它们分别没有使用
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">virtual</code>
                                和 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">override</code>
                                修饰符声明，那么派生类版本的成员会隐藏基类版本的成员。</font>
                        </font>
                    </font>
                </p>
                <p id="c04-para-0033" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1">For hiding methods, you can use the <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">new</code> keyword as a
                    modifier with the method declaration. In most cases, you would want to override methods rather than
                    hide them. By hiding them, you risk calling the wrong method for a given class instance. However, as
                    shown in the following example, C# syntax is designed to ensure that the developer is warned at
                    compile time about this potential problem, thus making it safer to hide methods if that is your
                    intention. This also has versioning benefits for developers of class libraries.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">要隐藏方法，可以在方法声明中使用 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">new</code>
                                修饰符。在大多数情况下，你希望重写方法而不是隐藏它们。通过隐藏它们，你可能会调用给定类实例的错误方法。然而，正如以下示例所示，C#语法设计为在编译时警告开发者关于这种潜在问题，因此如果这是你的意图，隐藏方法会更安全。这也为类库的开发者提供了版本控制的好处。
                            </font>
                        </font>
                    </font>
                </p>
                <p data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1">Suppose that you have a class called <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Shape</code> in a class
                    library:<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">假设你在类库中有一个名为 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Shape</code>
                                的类：</font>
                        </font>
                    </font>
                </p>
                <pre id="c04-code-0011"><code>public class Shape</code>
<code>{</code>
<code>  // various members</code>
<code>}</code></pre>
                <p data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1">At some point in the future, you write a derived class <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Ellipse</code> that adds
                    some functionality to the <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Shape</code> base class.
                    In particular, you add a method called <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">MoveBy</code>, which is
                    not present in the base class:<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">在未来某个时刻，你编写了一个派生类 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Ellipse</code>
                                ，它为 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Shape</code>
                                基类添加了一些功能。特别是，你添加了一个名为 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">MoveBy</code>
                                的方法，这个方法在基类中不存在：</font>
                        </font>
                    </font>
                </p>
                <pre id="c04-code-0012"><code>public class Ellipse: Shape</code>
<code>{</code>
<code>  public void MoveBy(int x, int y)<span aria-label="100" epub:type="pagebreak" id="Page_100" role="doc-pagebreak"></span></code>
<code>  {</code>
<code>    Position.X += x;</code>
<code>    Position.Y += y;</code>
<code>  }</code>
<code>}</code></pre>
                <p id="c04-para-0036" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1">At some later time, the developer of the base class decides
                    to extend the functionality of the base class and, by coincidence, adds a method that is also called
                    <code data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">MoveBy</code> and that
                    has the same name and signature as yours; however, it probably doesn't do the same thing. This new
                    method might be declared <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">virtual</code> or not.
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">
                                在稍后的某个时间，基类开发者决定扩展基类的功能，并且恰好添加了一个名为 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">MoveBy</code>
                                的方法，这个方法与你添加的方法具有相同的名称和签名；但是它很可能不会做同样的事情。这个新方法可能被声明为 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">virtual</code>
                                ，也可能没有被声明。</font>
                        </font>
                    </font>
                </p>
                <p id="c04-para-0037" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1">If you recompile the derived class, you get a compiler
                    warning because of a potential method clash. The application is still working, and where you've
                    written code to invoke the <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">MoveBy</code> method
                    using the <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Ellipse</code> class, the
                    method you've written is invoked. Hiding a method is the default behavior to avoid breaking changes
                    when adding methods to a base class.<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">
                                如果你重新编译派生类，你会因为潜在的函数冲突而得到一个编译器警告。应用程序仍然可以正常工作，并且在你使用 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Ellipse</code>
                                类调用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">MoveBy</code>
                                方法的地方，调用的是你编写的方法。隐藏方法是添加到基类中的方法时避免破坏性更改的默认行为。</font>
                        </font>
                    </font>
                </p>
                <p data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1">To get rid of the compilation error, you need to add the
                    <code data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">new</code> modifier to
                    the <code data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">MoveBy</code>
                    method. The code the compiler is creating with or without the <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">new</code> modifier is
                    the same; you just get rid of the compiler warning and flag this as a new method—a different one
                    from the base class:<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">为了消除编译错误，你需要向 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">MoveBy</code>
                                方法添加 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">new</code>
                                修饰符。无论编译器是否使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">new</code>
                                修饰符，生成的代码都是相同的；你只是消除了编译器警告，并将这个方法标记为一个新的方法——一个与基类不同的方法：</font>
                        </font>
                    </font>
                </p>
                <pre id="c04-code-0013"><code>public class Ellipse: Shape</code>
<code>{</code>
<code>  <b>new</b> public void MoveBy(int x, int y)</code>
<code>  {</code>
<code>    Position.X += x;</code>
<code>    Position.Y += y;</code>
<code>  }</code>
<code>  //…</code>
<code>}</code></pre>
                <p data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1">Instead of using the <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">new</code> keyword, you
                    can also rename the method or override the method of the base class if it is declared virtual and
                    serves the same purpose. However, if other methods already invoke this method, a simple rename can
                    lead to breaking other code.<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">除了使用 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">new</code>
                                关键字外，你也可以重命名方法，或者如果基类中的方法是虚拟的并且具有相同的功能，则可以重写基类的方法。但是，如果其他方法已经调用了这个方法，简单的重命名可能会导致其他代码失效。
                            </font>
                        </font>
                    </font>
                </p>
                <aside data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                    <div class="top hr" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                        <hr />
                    </div>
                    <section class="feature2" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                        <p id="c04-para-0040" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                            data-immersive-translate-paragraph="1"><b
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">NOTE</b> <i
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">You shouldn't use
                                the </i><code
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">new</code><i
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"> method modifier
                                to hide members of the base class deliberately. The main purpose of this modifier is to
                                deal with version conflicts and react to changes on base classes after the derived class
                                was done.</i>
                            <font class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">注意 你不应故意使用 <code
                                            xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">new</code>
                                        方法修饰符来隐藏基类的成员。这个修饰符的主要目的是处理版本冲突，并在派生类完成之后对基类做出反应。</font>
                                </font>
                            </font>
                        </p>
                        <div class="bottom hr" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                            <hr />
                        </div>
                    </section>
                </aside>
            </section>
            <section data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"><span id="c04-sec-0013"
                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"></span>
                <h3 id="head-3-109" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1">Calling Base Versions of Methods <font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">调用基类方法版本 </font>
                        </font>
                    </font>
                </h3>
                <p data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1">If a derived class overrides or hides a method in its base
                    class, then it can invoke the base class version of the method by using the <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">base</code> keyword. For
                    example, in the base class <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Shape</code>, the virtual
                    <code data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Move</code> method is
                    declared to change the actual position and write some information to the console. This method should
                    be called from the derived class <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Rectangle</code> to use
                    the implementation from the base class (code file <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">VirtualMethods/Shape.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">如果派生类重写或隐藏了基类中的方法，则可以通过使用 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">base</code>
                                关键字来调用基类的方法版本。例如，在基类 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Shape</code>
                                中，声明了一个虚拟的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Move</code>
                                方法来改变实际位置并将一些信息写入控制台。这个方法应该从派生类 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Rectangle</code>
                                中调用以使用基类的实现（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">VirtualMethods/Shape.cs</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c04-code-0014"><code>public class Shape</code>
<code>{</code>
<code>  public virtual void Move(Position newPosition)</code>
<code>  {</code>
<code>    Position.X = newPosition.X;</code>
<code>    Position.Y = newPosition.Y;</code>
<code>    Console.WriteLine($"moves to {Position}");</code>
<code>  }</code>
<code>  //…</code>
<code>}</code></pre>
                <p data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1"><span aria-label="101" epub:type="pagebreak" id="Page_101"
                        role="doc-pagebreak"
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"></span>The <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Move</code> method is
                    overridden in the <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Rectangle</code> class to
                    add the term <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Rectangle</code> to the
                    console. After this text is written, the method of the base class is invoked using the <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">base</code> keyword (code
                    file <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">VirtualMethods/ConcreteShapes.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">在 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Rectangle</code>
                                类中重写了 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Move</code>
                                方法以将 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Rectangle</code>
                                添加到控制台。在写入这段文本后，使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">base</code>
                                关键字调用基类的方法（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">VirtualMethods/ConcreteShapes.cs</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c04-code-0015"><code>public class Rectangle: Shape</code>
<code>{</code>
<code>  public override void Move(Position newPosition)</code>
<code>  {</code>
<code>    Console.Write("Rectangle ");</code>
<code>    <b>base.Move(newPosition);</b></code>
<code>  }</code>
<code>  //…</code>
<code>}</code></pre>
                <p data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1">Now move the rectangle to a new position (code file <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">VirtualMethods/Program.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">现在将矩形移动到新位置（代码文件 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">VirtualMethods/Program.cs</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c04-code-0016"><code>r1.Move(new Position { X = 120, Y = 40 });</code></pre>
                <p data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1">Run the application to see output that is a result of the
                    <code data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Move</code> method in
                    the <code data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Rectangle</code>
                    and the <code data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Shape</code>
                    classes:<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">运行应用程序以查看由 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Move</code>
                                类中的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Rectangle</code>
                                和 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Shape</code>
                                方法产生的输出：</font>
                        </font>
                    </font>
                </p>
                <pre id="c04-code-0017"><code>Rectangle moves to X: 120, Y: 40</code></pre>
                <aside data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                    <div class="top hr" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                        <hr />
                    </div>
                    <section class="feature2" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                        <p id="c04-para-0046" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                            data-immersive-translate-paragraph="1"><b
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">NOTE</b> <i
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Using the </i>
                            <code data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">base</code> <i
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"> keyword, you can
                                invoke any method of the base class—not just the method that is overridden.</i>
                            <font class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">注意 使用 <code
                                            xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">base</code>
                                        关键字，你可以调用基类的任何方法——而不仅仅是被重写的方法。</font>
                                </font>
                            </font>
                        </p>
                        <div class="bottom hr" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                            <hr />
                        </div>
                    </section>
                </aside>
            </section>
            <section data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"><span id="c04-sec-0015"
                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"></span>
                <h3 id="head-3-110" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1">Abstract Classes and Methods <font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">抽象类和方法</font>
                        </font>
                    </font>
                </h3>
                <p id="c04-para-0047" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1">C# allows both classes and methods to be declared as
                    abstract. An abstract class cannot be instantiated, whereas an <i
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">abstract</i> method does
                    not have an implementation and must be overridden in any nonabstract derived class. Obviously, an
                    abstract method is <i
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">automatically</i>
                    virtual. If any class contains any abstract methods, that class is also abstract and must be
                    declared as such.<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">C#
                                允许类和方法都被声明为抽象的。抽象类不能被实例化，而抽象方法没有实现，必须在任何非抽象派生类中被重写。显然，抽象方法是自动虚拟的。如果任何类包含任何抽象方法，该类也是抽象的，并且必须声明为抽象。
                            </font>
                        </font>
                    </font>
                </p>
                <p data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1">Let's change the <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Shape</code> class to be
                    <code data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">abstract</code>.
                    Instead of throwing a <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">NotImplementedException</code>,
                    the <code data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Clone</code> method
                    is now declared abstract, and thus it can't have any implementation in the <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Shape</code> class (code
                    file <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">AbstractClasses/Shape.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">让我们将 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Shape</code>
                                类改为 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">abstract</code>
                                。现在 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Clone</code>
                                方法声明为抽象，因此它不能在 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Shape</code>
                                类中有任何实现（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">AbstractClasses/Shape.cs</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c04-code-0018"><code>public <b>abstract</b> class Shape</code>
<code>{</code>
<code>  public <b>abstract</b> Shape Clone(); // abstract method</code>
<code>} </code></pre>
                <p data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1">When deriving a type from the abstract base class that itself
                    is not abstract, it's a concrete type. With a concreate class it is necessary to implement all
                    abstract members. Otherwise, the compiler complains (code file <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">AbstractClasses/ConcreteShapes.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">
                                当从一个本身不是抽象的抽象基类派生类型时，它是一个具体类型。对于具体类，必须实现所有抽象成员。否则，编译器会报错（代码文件 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">AbstractClasses/ConcreteShapes.cs</code>
                                ）。</font>
                        </font>
                    </font>
                </p>
                <pre id="c04-code-0019"><code>public class Rectangle : Shape</code>
<code>{</code>
<code>  //…</code>
<code>  public override Rectangle Clone()</code>
<code>  {</code>
<code>    Rectangle r = new();</code>
<code>    r.Position.X = Position.X;</code>
<code>    r.Position.Y = Position.Y;</code>
<code>    r.Size.Width = Size.Width;</code>
<code>    r.Size.Height = Size.Width;</code>
<code>    return r;</code>
<code>  }</code>
<code>}</code></pre>
                <p data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1"><span aria-label="102" epub:type="pagebreak" id="Page_102"
                        role="doc-pagebreak"
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"></span>Using the abstract
                    <code data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Shape</code> class and
                    the derived <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Ellipse</code> class, you
                    can declare a variable of a <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Shape</code>. You cannot
                    instantiate it, but you can instantiate an <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Ellipse</code> and assign
                    it to the <code data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Shape</code>
                    variable (code file <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">AbstractClasses/Program.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">使用抽象类 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Shape</code>
                                和派生类 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Ellipse</code>
                                ，你可以声明一个 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Shape</code>
                                类型的变量。你不能直接实例化它，但你可以实例化一个 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Ellipse</code>
                                对象，并将其赋值给 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Shape</code>
                                变量（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">AbstractClasses/Program.cs</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c04-code-0020"><code>Shape s1 = new Ellipse();</code>
<code>s1.Draw();</code></pre>
            </section>
            <section data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"><span id="c04-sec-0016"
                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"></span>
                <h3 id="head-3-111" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1">Sealed Classes and Methods <font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">密封类和方法</font>
                        </font>
                    </font>
                </h3>
                <p data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1">If you don't want to allow other classes to derive from your
                    class, your class should be sealed. Adding the <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">sealed</code> modifier to
                    a class doesn't allow you to create a subclass of it. Sealing a method means it's not possible to
                    override this method.<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">如果你不希望其他类从你的类中派生，你的类应该是密封的。给类添加
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">sealed</code>
                                修饰符并不能让你创建它的子类。密封一个方法意味着不可能重写这个方法。</font>
                        </font>
                    </font>
                </p>
                <pre id="c04-code-0021"><code><b>sealed</b> class FinalClass</code>
<code>{</code>
<code>  //…</code>
<code>}</code>
<code> </code>
<code>class DerivedClass: FinalClass // wrong. Cannot derive from sealed class.</code>
<code>{</code>
<code>  //…</code>
<code>}</code></pre>
                <p id="c04-para-0052" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1">The most likely situation in which you'll mark a class or
                    method as <code data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">sealed</code>
                    is if the class or method is internal to the operation of the library, class, or other classes that
                    you are writing. Overriding methods could lead to instability of the code. When you seal the class,
                    you make sure that overriding is not possible.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">你标记类或方法为 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">sealed</code>
                                的最可能情况是，该类或方法是你正在编写的库、类或其他类操作中的内部部分。重写方法可能会导致代码的不稳定。当你密封类时，你确保了重写是不可能的。</font>
                        </font>
                    </font>
                </p>
                <p id="c04-para-0053" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1">There's another reason to seal classes. With a sealed class,
                    the compiler knows that derived classes are not possible, and thus the virtual table used for
                    virtual methods can be reduced or eliminated, which can increase performance. The <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">string</code> class is
                    sealed. I haven't seen a single application that doesn't use strings, so it's best to have this type
                    as performant as possible. Making the class sealed is a good hint for the compiler.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">
                                密封类还有另一个原因。对于密封类，编译器知道不可能有派生类，因此可以减少或消除用于虚函数的虚函数表，从而提高性能。`string`类是密封的。我还没见过一个不使用字符串的应用程序，所以最好让这种类型尽可能高效。将类声明为密封是一个很好的提示给编译器。
                            </font>
                        </font>
                    </font>
                </p>
                <p data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1">Declaring a method as <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">sealed</code> serves a
                    purpose similar to that for a class. The method can be an overridden method from a base class, but
                    in the following example, the compiler knows another class cannot extend the virtual table for this
                    method; it ends here.<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">将方法声明为 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">sealed</code>
                                与将类声明为 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">sealed</code>
                                具有相似的目的。该方法可以是基类中的重写方法，但在以下示例中，编译器知道另一个类不能扩展此方法的虚拟表；到此为止。</font>
                        </font>
                    </font>
                </p>
                <pre id="c04-code-0022"><code>class MyClass: MyBaseClass</code>
<code>{</code>
<code>  public <b>sealed</b> override void FinalMethod()</code>
<code>  {</code>
<code>    // implementation</code>
<code>  }</code>
<code>}</code>
<code> </code>
<code>class DerivedClass: MyClass</code>
<code>{</code>
<code>  public override void FinalMethod() // wrong. Will give compilation error</code>
<code>  {</code>
<code>  }</code>
<code>}</code></pre>
                <p id="c04-para-0055" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1">To use the <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">sealed</code> keyword on
                    a method or property, the member must have first been overridden from a base class. If you do not
                    want a method or property in a base class overridden, then don't mark it as virtual.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">要在方法或属性上使用 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">sealed</code>
                                关键字，该成员必须首先从基类中重写。如果您不希望基类中的方法或属性被重写，那么就不要将其标记为虚拟。</font>
                        </font>
                    </font>
                </p>
            </section>
            <section data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"><span id="c04-sec-0017"
                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"></span>
                <h3 id="head-3-112" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1">Constructors of Derived Classes <font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">派生类的构造函数</font>
                        </font>
                    </font>
                </h3>
                <p id="c04-para-0056" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1"><a href="c03.xhtml"
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Chapter 3</a> discusses
                    how constructors can be applied to individual classes. An interesting question arises as to what
                    happens when you start defining your own constructors for classes that are part of a hierarchy,
                    inherited from other classes that may also have custom constructors.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">第 3
                                章讨论了构造函数如何应用于单个类。当您开始定义属于层次结构中的类的自定义构造函数时，会出现一个有趣的问题：如果这些类继承自可能也有自定义构造函数的其他类，会发生什么。
                            </font>
                        </font>
                    </font>
                </p>
                <p data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1"><span aria-label="103" epub:type="pagebreak" id="Page_103"
                        role="doc-pagebreak"
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"></span>In the sample
                    application that uses shapes, so far, custom constructors have not been specified. The compiler
                    creates a default constructor automatically to initialize all members to <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">null</code> or <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">0</code> (depending on
                    whether the types are reference or value types) or uses the code from specified property
                    initializers to add these to the default constructor. Now, let's change the implementation to create
                    immutable types and define custom constructors to initialize their values. The <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Position</code>, <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Size</code>, and <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Shape</code> classes are
                    changed to specify read-only properties, and the constructors are changed to initialize the
                    properties. The <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Shape</code> class is
                    still abstract, which doesn't allow creating instances of this type (code file <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">InheritanceWithConstructors/Shape.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">
                                在使用形状的示例应用程序中，到目前为止，尚未指定自定义构造函数。编译器会自动创建一个默认构造函数来将所有成员初始化为 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">null</code> 或
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">0</code>
                                （取决于类型是引用类型还是值类型），或者使用指定属性初始化器的代码将这些添加到默认构造函数中。现在，让我们更改实现以创建不可变类型，并定义自定义构造函数来初始化它们的值。
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Position</code>
                                、 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Size</code> 和
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Shape</code>
                                类被更改以指定只读属性，构造函数被更改以初始化这些属性。 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Shape</code>
                                类仍然是抽象的，这不允许创建该类型的实例（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">InheritanceWithConstructors/Shape.cs</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c04-code-0023"><code>public class Position</code>
<code>{</code>
<code>  <b>public Position(int x, int y) =&gt; (X, Y) = (x, y);</b></code>
<code> </code>
<code>  public int X { get; }</code>
<code>  public int Y { get; }</code>
<code> </code>
<code>  public override string ToString() =&gt; $"X: {X}, Y: {Y}";</code>
<code>}</code>
<code> </code>
<code>public class Size</code>
<code>{</code>
<code>  <b>public Size(int width, int height) =&gt; (Width, Height) = (width, height);</b></code>
<code> </code>
<code>  public int Width { get; }</code>
<code>  public int Height { get; }</code>
<code> </code>
<code>  public override string ToString() =&gt; $"Width: {Width}, Height: {Height}";</code>
<code>}</code>
<code> </code>
<code>public abstract class Shape</code>
<code>{</code>
<code>  <b>public Shape(int x, int y, int width, int height)</b></code>
<code>  <b>{</b></code>
<code>    <b>Position = new Position(x, y);</b></code>
<code>    <b>Size = new Size(width, height);</b></code>
<code>  <b>}</b></code>
<code> </code>
<code>  public Position Position { get; }</code>
<code>  public virtual Size Size { get; }</code>
<code> </code>
<code>  public void Draw() =&gt; DisplayShape();</code>
<code> </code>
<code>  protected virtual void DisplayShape()</code>
<code>  {</code>
<code>    Console.WriteLine($"Shape with {Position} and {Size}");</code>
<code>  }</code>
<code> </code>
<code>  public abstract Shape Clone();</code>
<code>}</code></pre>
                <p id="c04-para-0058" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1">Now the <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Rectangle</code> and
                    <code data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Ellipse</code> types
                    need to be changed as well. Because the <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Shape</code> class
                    doesn't have a parameterless constructor, the compiler complains because it cannot automatically
                    invoke the constructor of the base class. A custom constructor is required here as well.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">现在 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Rectangle</code>
                                和 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Ellipse</code>
                                类型也需要更改。因为 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Shape</code>
                                类没有无参构造函数，编译器会报错，因为它无法自动调用基类的构造函数。这里也需要一个自定义构造函数。</font>
                        </font>
                    </font>
                </p>
                <p data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1">With the new implementation of the <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Ellipse</code> class, a
                    constructor is defined to supply the position and size for the shape. To invoke the constructor from
                    the base class, such as invoking methods of the base class, you use the <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">base</code> keyword, but
                    you just can't use the <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">base</code> keyword in
                    the block of the constructor body. Instead, you need to <span aria-label="104" epub:type="pagebreak"
                        id="Page_104" role="doc-pagebreak"
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"></span>use the <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">base</code> keyword in
                    the constructor initializer and pass the required arguments. The <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Clone</code> method can
                    now be simplified to invoke the constructor to create a new <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Ellipse</code> object by
                    forwarding the values from the existing object (code file <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">InheritanceWithConstructors/ConcreteShapes.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">在新实现的 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Ellipse</code>
                                类中，定义了一个构造函数来为形状提供位置和大小。要从基类调用构造函数，就像调用基类的方法一样，您使用 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">base</code>
                                关键字，但在构造函数体的块中却不能使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">base</code>
                                关键字。相反，您需要在构造函数初始化器中使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">base</code>
                                关键字，并传递所需的参数。现在 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Clone</code>
                                方法可以简化为通过转发现有对象中的值来调用构造函数创建一个新的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Ellipse</code>
                                对象（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">InheritanceWithConstructors/ConcreteShapes.cs</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c04-code-0024"><code>public class Ellipse : Shape</code>
<code>{</code>
<code>  public Ellipse(int x, int y, int width, int height)</code>
<code>    : base(x, y, width, height) { }</code>
<code> </code>
<code>  protected override void DisplayShape()</code>
<code>  {</code>
<code>    Console.WriteLine($"Ellipse at position {Position} with size {Size}");</code>
<code>  }</code>
<code> </code>
<code>  public override Ellipse Clone() =&gt; </code>
<code>    new(Position.X, Position.Y, Size.Width, Size.Height);</code>
<code>}</code></pre>
                <aside data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                    <div class="top hr" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                        <hr />
                    </div>
                    <section class="feature2" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                        <p id="c04-para-0061" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                            data-immersive-translate-paragraph="1"><b
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">NOTE</b> <i
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"><a
                                    href="c03.xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Chapter 3</a>
                                covers constructor initializers with the </i> <code
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">this</code> <i
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"> keyword to
                                invoke other constructors of the same class. To invoke constructors of the base class,
                                you use the </i> <code
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">base</code> <i
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"> keyword.</i>
                            <font class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">注意：第 3 章介绍了使用 <code
                                            xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">this</code>
                                        关键字的构造函数初始化器来调用同一类的其他构造函数。要调用基类的构造函数，您使用 <code
                                            xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">base</code>
                                        关键字。</font>
                                </font>
                            </font>
                        </p>
                        <div class="bottom hr" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                            <hr />
                        </div>
                    </section>
                </aside>
            </section>
        </section>
        <section aria-labelledby="head-2-36" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
            <span id="c04-sec-0019" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"></span>
            <h2 id="head-2-36" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                data-immersive-translate-paragraph="1">MODIFIERS<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                    <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">修饰符</font>
                    </font>
                </font>
            </h2>
            <p id="c04-para-0062" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                data-immersive-translate-paragraph="1">You have already encountered quite a number of so-called
                modifiers—keywords that can be applied to a type or a member. Modifiers can indicate the visibility of a
                method, such as <code
                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">public</code> or <code
                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">private</code>, or the nature
                of an item, such as whether a method is <code
                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">virtual</code> or <code
                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">abstract</code>. C# has a
                number of modifiers, and at this point it's worth taking a minute to provide the complete list.<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">
                            您已经遇到了许多所谓的修饰符——可以应用于类型或成员的关键字。修饰符可以指示方法的可见性，例如 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">public</code> 或
                            <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">private</code>
                            ，或者项目的性质，例如方法是否为 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">virtual</code> 或
                            <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">abstract</code>
                            。C# 有许多修饰符，此时值得花一分钟提供完整的列表。</font>
                    </font>
                </font>
            </p>
            <section data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"><span id="c04-sec-0020"
                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"></span>
                <h3 id="head-3-113" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1">Access Modifiers <font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                        <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">访问修饰符</font>
                        </font>
                    </font>
                </h3>
                <p id="c04-para-0063" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1">Access modifiers indicate which other code items can access
                    an item.<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">访问修饰符表示哪些其他代码项可以访问一个项。</font>
                        </font>
                    </font>
                </p>
                <p data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1">You can use all the access modifiers with members of a type.
                    The <code data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">public</code> and
                    <code data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">internal</code> access
                    modifiers can also be applied to the type itself. With nested types (types that are specified within
                    types), you can apply all access modifiers. In regard to access modifiers, nested types are members
                    of the outer type, such as those shown in the following code snippet where the <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">OuterType</code> is
                    declared with the <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">public</code> access
                    modifier, and the type <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">InnerType</code> has the
                    <code data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">protected</code> access
                    modifier applied. With the <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">protected</code> access
                    modifier, the <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">InnerType</code> can be
                    accessed from the members of the <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">OuterType</code>, and all
                    types that derive from the <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">OuterType</code>
                    :<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">你可以对所有类型的成员使用所有访问修饰符。 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">public</code>
                                和 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">internal</code>
                                访问修饰符也可以应用于类型本身。对于嵌套类型（在类型内部指定的类型），你可以应用所有访问修饰符。关于访问修饰符，嵌套类型是外部类型的成员，例如以下代码片段中显示的 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">OuterType</code>
                                使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">public</code>
                                访问修饰符声明，而类型 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">InnerType</code>
                                应用了 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">protected</code>
                                访问修饰符。使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">protected</code>
                                访问修饰符，可以从 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">OuterType</code>
                                的成员以及所有从 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">OuterType</code>
                                派生的类型访问 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">InnerType</code>
                                。</font>
                        </font>
                    </font>
                </p>
                <pre id="c04-code-0025"><code>public class OuterType</code>
<code>{</code>
<code>  protected class InnerType</code>
<code>  {</code>
<code>    // members of the inner type</code>
<code>  }</code>
<code>  // more members of the outer type</code>
<code>}</code></pre>
                <p id="c04-para-0065" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1">The <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">public</code> access
                    modifier is the most open one; everyone has access to a class or a member that has the <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">public</code> access
                    modifier applied. The private access modifier is the most restrictive one. Members with this access
                    modifier can be used only within the class where the modifier is used. The <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">protected</code> access
                    modifier is in between these access restrictions. In addition to the <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">private</code> access
                    modifier, it allows access to all types that derive from the type where the <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">protected</code> access
                    modifier is used.<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1"> <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">public</code>
                                访问修饰符是最开放的；任何人都可访问应用了 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">public</code>
                                访问修饰符的类或成员。 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">protected</code>
                                访问修饰符是最严格的。具有此访问修饰符的成员只能在其被使用的类内部使用。 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">private</code>
                                访问修饰符介于这些访问限制之间。除了 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">private</code>
                                访问修饰符外，它还允许访问所有从应用了 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">protected</code>
                                访问修饰符的类型派生出的类型。</font>
                        </font>
                    </font>
                </p>
                <p id="c04-para-0066" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1"><span aria-label="105" epub:type="pagebreak" id="Page_105"
                        role="doc-pagebreak"
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"></span>The <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">internal</code> access
                    modifier is different. This access modifier has the scope of the assembly. All the types defined
                    within the same assembly have access to members and types where the internal access modifier is
                    used.<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1"> <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">internal</code>
                                访问修饰符有所不同。这种访问修饰符的作用域是程序集。同一个程序集中定义的所有类型都可以访问使用 internal 访问修饰符的成员和类型。</font>
                        </font>
                    </font>
                </p>
                <p id="c04-para-0067" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1">If you do not supply an access modifier with a type, by
                    default <code data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">internal</code>
                    access is specified. You can use this type only within the same assembly.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">如果你没有为类型指定访问修饰符，默认将指定 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">internal</code>
                                访问。你只能在这个类型所在的同一个程序集中使用它。</font>
                        </font>
                    </font>
                </p>
                <p id="c04-para-0068" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1">The <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">protected internal</code>
                    access modifier is a combination of <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">protected</code> and
                    <code data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">internal</code>
                    —combining these access modifiers with OR. <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">protected internal</code>
                    members can be used from any type in the same assembly or from types from another assembly if an
                    inheritance relationship is used. With the intermediate language (IL) code, this is known as <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">famorassem</code> (family
                    or assembly)—family for the <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">protected</code> C#
                    keyword and assembly for the <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">internal</code> keyword.
                    <code data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">famandassem</code> is
                    also available with the IL code. Because of the demand for an AND combination, the C# team had some
                    issues finding a good name for this, and finally it was decided to use <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">private protected</code>
                    to restrict access from within the assembly to types that have an inheritance relationship but no
                    types from any other assembly.<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1"> <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">protected internal</code>
                                访问修饰符是 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">protected</code>
                                和 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">internal</code>
                                的组合——通过 OR 操作结合这些访问修饰符。 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">protected internal</code>
                                成员可以从同一个程序集中的任何类型使用，或者在存在继承关系的情况下，可以从另一个程序集中的类型使用。在中间语言（IL）代码中，这被称为 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">famorassem</code>
                                （家族或程序集）——对于 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">protected</code>
                                C# 关键字是家族，对于 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">internal</code>
                                关键字是程序集。 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">famandassem</code>
                                也可以在 IL 代码中使用。由于需要 AND 组合，C# 团队曾遇到一些问题来为这个特性找到一个合适的名称，最终决定使用 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">private protected</code>
                                来限制程序集内部的访问，仅限于具有继承关系的类型，但不包括来自任何其他程序集的类型。</font>
                        </font>
                    </font>
                </p>
                <p id="c04-para-0069" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1">The following table lists all the access modifiers and their
                    uses:<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">下表列出了所有访问修饰符及其用途：</font>
                        </font>
                    </font>
                </p>
                <table border="1" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                    <thead data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                        <tr data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                            <th class="left bgcolor2" scope="col">MODIFIER</th>
                            <th class="left bgcolor2" scope="col"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                                data-immersive-translate-paragraph="1">APPLIES TO<font
                                    class="notranslate immersive-translate-target-wrapper"
                                    data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                                    <font class="notranslate" data-immersive-translate-translation-element-mark="1">  
                                    </font>
                                    <font
                                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                                        data-immersive-translate-translation-element-mark="1">
                                        <font
                                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                            data-immersive-translate-translation-element-mark="1">适用于</font>
                                    </font>
                                </font>
                            </th>
                            <th class="left bgcolor2" scope="col">DESCRIPTION</th>
                        </tr>
                    </thead>
                    <tbody data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                        <tr data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"><code
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">public</code>
                            </td>
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                                data-immersive-translate-paragraph="1">Any types or members<font
                                    class="notranslate immersive-translate-target-wrapper"
                                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                    <font
                                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                        data-immersive-translate-translation-element-mark="1">
                                        <font
                                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                            data-immersive-translate-translation-element-mark="1">任何类型或成员</font>
                                    </font>
                                </font>
                            </td>
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                                data-immersive-translate-paragraph="1">The item is visible to any other code.<font
                                    class="notranslate immersive-translate-target-wrapper"
                                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                    <font
                                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                        data-immersive-translate-translation-element-mark="1">
                                        <font
                                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                            data-immersive-translate-translation-element-mark="1">该项目对任何其他代码可见。</font>
                                    </font>
                                </font>
                            </td>
                        </tr>
                        <tr data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"><code
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">protected</code>
                            </td>
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                                data-immersive-translate-paragraph="1">Any member of a type and any nested type<font
                                    class="notranslate immersive-translate-target-wrapper"
                                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                    <font
                                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                        data-immersive-translate-translation-element-mark="1">
                                        <font
                                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                            data-immersive-translate-translation-element-mark="1">类型的任何成员和任何嵌套类型</font>
                                    </font>
                                </font>
                            </td>
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                                data-immersive-translate-paragraph="1">The item is visible only to the type and any
                                derived type.<font class="notranslate immersive-translate-target-wrapper"
                                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                    <font
                                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                        data-immersive-translate-translation-element-mark="1">
                                        <font
                                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                            data-immersive-translate-translation-element-mark="1">该项仅对类型及其派生类型可见。</font>
                                    </font>
                                </font>
                            </td>
                        </tr>
                        <tr data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"><code
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">internal</code>
                            </td>
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                                data-immersive-translate-paragraph="1">Any types or members<font
                                    class="notranslate immersive-translate-target-wrapper"
                                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                    <font
                                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                        data-immersive-translate-translation-element-mark="1">
                                        <font
                                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                            data-immersive-translate-translation-element-mark="1">任何类型或成员</font>
                                    </font>
                                </font>
                            </td>
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                                data-immersive-translate-paragraph="1">The item is visible only within its containing
                                assembly.<font class="notranslate immersive-translate-target-wrapper"
                                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                    <font
                                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                        data-immersive-translate-translation-element-mark="1">
                                        <font
                                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                            data-immersive-translate-translation-element-mark="1">该项仅在其包含的程序集中可见。</font>
                                    </font>
                                </font>
                            </td>
                        </tr>
                        <tr data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"><code
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">private</code>
                            </td>
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                                data-immersive-translate-paragraph="1">Any member of a type, and any nested type<font
                                    class="notranslate immersive-translate-target-wrapper"
                                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                    <font
                                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                        data-immersive-translate-translation-element-mark="1">
                                        <font
                                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                            data-immersive-translate-translation-element-mark="1">类型的任何成员，以及任何嵌套类型
                                        </font>
                                    </font>
                                </font>
                            </td>
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                                data-immersive-translate-paragraph="1">The item is visible only inside the type to which
                                it belongs.<font class="notranslate immersive-translate-target-wrapper"
                                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                    <font
                                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                        data-immersive-translate-translation-element-mark="1">
                                        <font
                                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                            data-immersive-translate-translation-element-mark="1">该项仅在它所属的类型内部可见。</font>
                                    </font>
                                </font>
                            </td>
                        </tr>
                        <tr data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"><code
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">protected internal</code>
                            </td>
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                                data-immersive-translate-paragraph="1">Any member of a type and any nested type<font
                                    class="notranslate immersive-translate-target-wrapper"
                                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                    <font
                                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                        data-immersive-translate-translation-element-mark="1">
                                        <font
                                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                            data-immersive-translate-translation-element-mark="1">类型的任何成员和任何嵌套类型</font>
                                    </font>
                                </font>
                            </td>
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                                data-immersive-translate-paragraph="1">The item is visible to any code within its
                                containing assembly and to any code inside a derived type.<font
                                    class="notranslate immersive-translate-target-wrapper"
                                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                    <font
                                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                        data-immersive-translate-translation-element-mark="1">
                                        <font
                                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                            data-immersive-translate-translation-element-mark="1">
                                            该项对包含它的程序集内的任何代码以及派生类型内的任何代码都可见。</font>
                                    </font>
                                </font>
                            </td>
                        </tr>
                        <tr data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"><code
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">private protected</code>
                            </td>
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                                data-immersive-translate-paragraph="1">Any members of a type and any nested type<font
                                    class="notranslate immersive-translate-target-wrapper"
                                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                    <font
                                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                        data-immersive-translate-translation-element-mark="1">
                                        <font
                                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                            data-immersive-translate-translation-element-mark="1">类型的任何成员和任何嵌套类型</font>
                                    </font>
                                </font>
                            </td>
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                                data-immersive-translate-paragraph="1">The item is visible to the type and any derived
                                type that is specified within the containing assembly.<font
                                    class="notranslate immersive-translate-target-wrapper"
                                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                    <font
                                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                        data-immersive-translate-translation-element-mark="1">
                                        <font
                                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                            data-immersive-translate-translation-element-mark="1">
                                            该项对包含程序集内的类型及其任何派生类型可见。</font>
                                    </font>
                                </font>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </section>
            <section data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"><span id="c04-sec-0021"
                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"></span>
                <h3 id="head-3-114" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1">Other Modifiers <font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                        <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">其他修饰符</font>
                        </font>
                    </font>
                </h3>
                <p id="c04-para-0071" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1">The modifiers in the following table can be applied to
                    members of types and have various uses. A few of these modifiers also make sense when applied to
                    types:<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">
                                下列表格中的修饰符可以应用于类型成员，并具有不同的用途。其中一些修饰符在应用于类型时也具有意义：</font>
                        </font>
                    </font>
                </p>
                <table border="1" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                    <thead data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                        <tr data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                            <th class="left bgcolor2" scope="col">MODIFIER</th>
                            <th class="left bgcolor2" scope="col"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                                data-immersive-translate-paragraph="1">APPLIES TO<font
                                    class="notranslate immersive-translate-target-wrapper"
                                    data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                                    <font class="notranslate" data-immersive-translate-translation-element-mark="1">  
                                    </font>
                                    <font
                                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                                        data-immersive-translate-translation-element-mark="1">
                                        <font
                                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                            data-immersive-translate-translation-element-mark="1">应用于</font>
                                    </font>
                                </font>
                            </th>
                            <th class="left bgcolor2" scope="col">DESCRIPTION</th>
                        </tr>
                    </thead>
                    <tbody data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                        <tr data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"><code
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">new</code>
                            </td>
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                                data-immersive-translate-paragraph="1">Function members<font
                                    class="notranslate immersive-translate-target-wrapper"
                                    data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                                    <font class="notranslate" data-immersive-translate-translation-element-mark="1">  
                                    </font>
                                    <font
                                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                                        data-immersive-translate-translation-element-mark="1">
                                        <font
                                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                            data-immersive-translate-translation-element-mark="1">函数成员</font>
                                    </font>
                                </font>
                            </td>
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                                data-immersive-translate-paragraph="1">The member hides an inherited member with the
                                same signature.<font class="notranslate immersive-translate-target-wrapper"
                                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                    <font
                                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                        data-immersive-translate-translation-element-mark="1">
                                        <font
                                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                            data-immersive-translate-translation-element-mark="1">该成员隐藏了具有相同签名的继承成员。
                                        </font>
                                    </font>
                                </font>
                            </td>
                        </tr>
                        <tr data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"><code
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">static</code>
                            </td>
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                                data-immersive-translate-paragraph="1">All members<font
                                    class="notranslate immersive-translate-target-wrapper"
                                    data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                                    <font class="notranslate" data-immersive-translate-translation-element-mark="1">  
                                    </font>
                                    <font
                                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                                        data-immersive-translate-translation-element-mark="1">
                                        <font
                                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                            data-immersive-translate-translation-element-mark="1">所有成员</font>
                                    </font>
                                </font>
                            </td>
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                                data-immersive-translate-paragraph="1">The member does not operate on a specific
                                instance of the class. This is also known as <i
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">class
                                    member</i> instead of instance member.<font
                                    class="notranslate immersive-translate-target-wrapper"
                                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                    <font
                                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                        data-immersive-translate-translation-element-mark="1">
                                        <font
                                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                            data-immersive-translate-translation-element-mark="1">
                                            该成员不操作类的特定实例。这也被称为类成员，而不是实例成员。</font>
                                    </font>
                                </font>
                            </td>
                        </tr>
                        <tr data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"><code
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">virtual</code>
                            </td>
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                                data-immersive-translate-paragraph="1">Function members only<font
                                    class="notranslate immersive-translate-target-wrapper"
                                    data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                                    <font class="notranslate" data-immersive-translate-translation-element-mark="1">  
                                    </font>
                                    <font
                                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                                        data-immersive-translate-translation-element-mark="1">
                                        <font
                                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                            data-immersive-translate-translation-element-mark="1">仅函数成员</font>
                                    </font>
                                </font>
                            </td>
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                                data-immersive-translate-paragraph="1">The member can be overridden by a derived class.
                                <font class="notranslate immersive-translate-target-wrapper"
                                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                    <font
                                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                        data-immersive-translate-translation-element-mark="1">
                                        <font
                                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                            data-immersive-translate-translation-element-mark="1">该成员可以被派生类重写。</font>
                                    </font>
                                </font>
                            </td>
                        </tr>
                        <tr data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"><code
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">abstract</code>
                            </td>
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                                data-immersive-translate-paragraph="1">Function members only<font
                                    class="notranslate immersive-translate-target-wrapper"
                                    data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                                    <font class="notranslate" data-immersive-translate-translation-element-mark="1">  
                                    </font>
                                    <font
                                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                                        data-immersive-translate-translation-element-mark="1">
                                        <font
                                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                            data-immersive-translate-translation-element-mark="1">仅限函数成员</font>
                                    </font>
                                </font>
                            </td>
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                                data-immersive-translate-paragraph="1">A virtual member that defines the signature of
                                the member but doesn't provide an implementation.<font
                                    class="notranslate immersive-translate-target-wrapper"
                                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                    <font
                                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                        data-immersive-translate-translation-element-mark="1">
                                        <font
                                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                            data-immersive-translate-translation-element-mark="1">
                                            一个虚拟成员，它定义了成员的签名但不提供实现。</font>
                                    </font>
                                </font>
                            </td>
                        </tr>
                        <tr data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"><code
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">override</code>
                            </td>
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                                data-immersive-translate-paragraph="1">Function members only<font
                                    class="notranslate immersive-translate-target-wrapper"
                                    data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                                    <font class="notranslate" data-immersive-translate-translation-element-mark="1">  
                                    </font>
                                    <font
                                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                                        data-immersive-translate-translation-element-mark="1">
                                        <font
                                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                            data-immersive-translate-translation-element-mark="1">仅限函数成员</font>
                                    </font>
                                </font>
                            </td>
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                                data-immersive-translate-paragraph="1">The member overrides an inherited virtual or
                                abstract member.<font class="notranslate immersive-translate-target-wrapper"
                                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                    <font
                                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                        data-immersive-translate-translation-element-mark="1">
                                        <font
                                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                            data-immersive-translate-translation-element-mark="1">该成员重写了继承的虚拟或抽象成员。
                                        </font>
                                    </font>
                                </font>
                            </td>
                        </tr>
                        <tr data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"><code
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">sealed</code>
                            </td>
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                                data-immersive-translate-paragraph="1">Classes, methods, and properties<font
                                    class="notranslate immersive-translate-target-wrapper"
                                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                    <font
                                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                        data-immersive-translate-translation-element-mark="1">
                                        <font
                                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                            data-immersive-translate-translation-element-mark="1">类、方法和属性</font>
                                    </font>
                                </font>
                            </td>
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                                data-immersive-translate-paragraph="1">For classes, the class cannot be inherited from.
                                For properties and methods, the member overrides an inherited virtual member but cannot
                                be overridden by any members in any derived classes. This must be used in conjunction
                                with <code
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">override</code>.
                                <font class="notranslate immersive-translate-target-wrapper"
                                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                    <font
                                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                        data-immersive-translate-translation-element-mark="1">
                                        <font
                                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                            data-immersive-translate-translation-element-mark="1">
                                            对于类，该类不能被继承。对于属性和方法，成员会覆盖继承的虚成员，但不会被任何派生类中的成员覆盖。这必须与 <code
                                                xmlns="http://www.w3.org/1999/xhtml"
                                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">override</code>
                                            结合使用。</font>
                                    </font>
                                </font>
                            </td>
                        </tr>
                        <tr data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"><code
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">extern</code>
                            </td>
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                                data-immersive-translate-paragraph="1">Static [<code
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">DllImport</code>]
                                methods only<font class="notranslate immersive-translate-target-wrapper"
                                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                    <font
                                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                        data-immersive-translate-translation-element-mark="1">
                                        <font
                                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                            data-immersive-translate-translation-element-mark="1">仅静态 [ <code
                                                xmlns="http://www.w3.org/1999/xhtml"
                                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">DllImport</code>
                                            ] 方法</font>
                                    </font>
                                </font>
                            </td>
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                                data-immersive-translate-paragraph="1">The member is implemented externally, in a
                                different language. The use of this keyword is explained in <a href="c13.xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Chapter
                                    13</a>, “Managed and Unmanaged Memory.“<font
                                    class="notranslate immersive-translate-target-wrapper"
                                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                    <font
                                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                        data-immersive-translate-translation-element-mark="1">
                                        <font
                                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                            data-immersive-translate-translation-element-mark="1">
                                            该成员在外部以不同语言实现。此关键字的使用方法在“托管和非托管内存”章节（第 13 章）中解释。</font>
                                    </font>
                                </font><span aria-label="106" epub:type="pagebreak" id="Page_106" role="doc-pagebreak"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"></span></td>
                        </tr>
                    </tbody>
                </table>
            </section>
        </section>
        <section aria-labelledby="head-2-37" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
            <span id="c04-sec-0022" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"></span>
            <h2 id="head-2-37" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                data-immersive-translate-paragraph="1">INHERITANCE WITH RECORDS<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">使用记录的继承</font>
                    </font>
                </font>
            </h2>
            <p id="c04-para-0073" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                data-immersive-translate-paragraph="1"><a href="c03.xhtml"
                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Chapter 3</a> discusses a new
                feature with C# 9: records. Behind the scenes, records are classes. However, you cannot derive a record
                from a class (other than the <code
                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">object</code> type), and a
                class cannot derive from a record. However, records can derive from other records.<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">第 3 章讨论了 C# 9
                            中的一个新特性：记录。在底层，记录是类。但是你不能让记录从类（除了 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">object</code>
                            类型）继承，类也不能从记录继承。然而，记录可以继承其他记录。</font>
                    </font>
                </font>
            </p>
            <p data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                data-immersive-translate-paragraph="1">Let's change the shapes sample to use positional records. With
                the following code snippet, <code
                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Position</code> and <code
                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Size</code> are records that
                contain <code data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">X</code>, <code
                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Y</code>, <code
                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Width</code>, and <code
                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Height</code> properties with
                set init-only accessors as specified by the primary constructor. <code
                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Shape</code> is an abstract
                record with <code data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Position</code>
                and <code data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Size</code> properties,
                a <code data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Draw</code> method, and a
                virtual <code data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">DisplayShape</code>
                method. As with classes, you can use modifiers with records, such as <code
                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">abstract</code> and <code
                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">virtual</code>. The
                previously specified <code
                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Clone</code> method is not
                needed with records because this is created automatically using the <code
                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">record</code> keyword (code
                file <code
                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">RecordsInheritance/Shape.cs</code>):
                <font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">让我们将形状示例改为使用位置记录。通过以下代码片段， <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Position</code> 和
                            <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Size</code>
                            是记录，它们包含 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">X</code> 、 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Y</code> 、 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Width</code> 和
                            <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Height</code>
                            属性，这些属性具有由主构造函数指定的只读初始化访问器。 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Shape</code>
                            是一个抽象记录，具有 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Position</code> 和
                            <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Size</code> 属性、一个
                            <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Draw</code>
                            方法和一个虚拟的 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">DisplayShape</code>
                            方法。与类一样，你可以使用修饰符与记录一起使用，例如 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">abstract</code> 和
                            <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">virtual</code>
                            。之前指定的 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Clone</code>
                            方法在记录中不再需要，因为这是使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">record</code>
                            关键字自动创建的（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">RecordsInheritance/Shape.cs</code>
                            ）：</font>
                    </font>
                </font>
            </p>
            <pre id="c04-code-0026"><code>public record Position(int X, int Y);</code>
<code> </code>
<code>public record Size(int Width, int Height);</code>
<code> </code>
<code>public abstract record Shape(Position Position, Size Size)</code>
<code>{</code>
<code>  public void Draw() =&gt; DisplayShape();</code>
<code> </code>
<code>  protected virtual void DisplayShape()</code>
<code>  {</code>
<code>    Console.WriteLine($"Shape with {Position} and {Size}");</code>
<code>  }</code>
<code>}</code></pre>
            <p data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                data-immersive-translate-paragraph="1">The <code
                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Rectangle</code> record
                derives from the <code
                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Shape</code> record. With the
                primary constructor syntax used with the <code
                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Rectangle</code> type,
                derivation from <code
                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Shape</code> passes the same
                values to the primary constructor of the <code
                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Shape</code>. Similar to the
                <code data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Rectangle</code> class
                created earlier, in the <code
                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Rectangle</code> record, the
                <code data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">DisplayShape</code> method
                is overridden (code file <code
                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">RecordsInheritance/ConcreteShapes.cs</code>):
                <font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1"> <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Rectangle</code>
                            记录派生自 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Shape</code>
                            记录。使用与 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Rectangle</code>
                            类型一起的主要构造函数语法时，从 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Shape</code>
                            派生会将相同的值传递给 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Shape</code>
                            的主要构造函数。类似于先前创建的 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Rectangle</code>
                            类，在 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Rectangle</code>
                            记录中， <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">DisplayShape</code>
                            方法被重写（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">RecordsInheritance/ConcreteShapes.cs</code>
                            ）：</font>
                    </font>
                </font>
            </p>
            <pre id="c04-code-0027"><code>public record Rectangle(Position Position, Size Size) : Shape(Position, Size)</code>
<code>{</code>
<code>  protected override void DisplayShape()<span aria-label="107" epub:type="pagebreak" id="Page_107" role="doc-pagebreak"></span></code>
<code>  {</code>
<code>    Console.WriteLine($"Rectangle at position {Position} with size {Size}");</code>
<code>  }</code>
<code>}</code></pre>
            <p data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                data-immersive-translate-paragraph="1">With the top-level statements in the <code
                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Program.cs</code> file, a
                <code data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Rectangle</code> and an
                <code data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Ellipse</code> are created
                using primary constructors. The implementation of the <code
                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Ellipse</code> record is
                similar to the <code
                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Rectangle</code> record. The
                first rectangle created is cloned by using the built-in functionality, and with the new <code
                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Rectangle</code>, the <code
                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Position</code> property is
                set to a new value using the <code
                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">with</code> expression. The
                <code data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">with</code> expression
                makes use of the init-only set accessors created from the primary constructor (code file <code
                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">RecordsInheritance/Program.cs</code>):
                <font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">在 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Program.cs</code>
                            文件中的顶层语句，使用主要构造函数创建了 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Rectangle</code>
                            和 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Ellipse</code> 。
                            <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Ellipse</code>
                            记录的实现与 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Rectangle</code>
                            记录相似。第一个创建的矩形通过内置功能进行克隆，并使用新的 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Rectangle</code>
                            ，通过 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">with</code> 表达式将
                            <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Position</code>
                            属性设置为新的值。 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">with</code>
                            表达式利用了从主要构造函数创建的仅初始化设置访问器（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">RecordsInheritance/Program.cs</code>
                            ）：</font>
                    </font>
                </font>
            </p>
            <pre id="c04-code-0028"><code>Rectangle r1 = new(new Position(33, 22), new Size(200, 100));</code>
<code>Rectangle r2 = r1 with { Position = new Position(100, 22) };</code>
<code>Ellipse e1 = new(new Position(122, 200), new Size(40, 20));</code>
<code> </code>
<code>DisplayShapes(r1, r2, e1);</code>
<code> </code>
<code>void DisplayShapes(params Shape[] shapes)</code>
<code>{</code>
<code>  foreach (var shape in shapes)</code>
<code>  {</code>
<code>    shape.Draw();</code>
<code>  }</code>
<code>}</code></pre>
            <aside data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                <div class="top hr" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                    <hr />
                </div>
                <section class="feature2" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                    <p id="c04-para-0078" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                        data-immersive-translate-paragraph="1"><b
                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">NOTE</b> <i
                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">With future C#
                            versions, the inheritance with records might be relaxed to allow inheritance from
                            classes.</i>
                        <font class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">注意 随着未来
                                    C#版本的发布，与记录的继承可能会放宽，以允许从类继承。</font>
                            </font>
                        </font>
                    </p>
                    <div class="bottom hr" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                        <hr />
                    </div>
                </section>
            </aside>
        </section>
        <section aria-labelledby="head-2-38" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
            <span id="c04-sec-0024" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"></span>
            <h2 id="head-2-38" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                data-immersive-translate-paragraph="1">USING INTERFACES<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                    <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">使用接口</font>
                    </font>
                </font>
            </h2>
            <p id="c04-para-0079" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                data-immersive-translate-paragraph="1">A class can derive from one class, and a record can derive from
                one record; you cannot use multiple inheritance with classes and records. You can use interfaces to
                bring multiple inheritance into C#. Both classes and records can implement multiple interfaces. Also,
                one interface can inherit from multiple interfaces.<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">
                            一个类可以继承自一个类，一个记录可以继承自一个记录；你不能用类和记录进行多重继承。你可以使用接口将多重继承引入 C#。类和记录都可以实现多个接口。此外，一个接口可以继承自多个接口。
                        </font>
                    </font>
                </font>
            </p>
            <p id="c04-para-0080" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                data-immersive-translate-paragraph="1">Before C# 8, an interface never had any implementation. In the
                versions since C# 8, you can create an implementation with interfaces, but this is very different from
                the implementation with classes and records; interfaces cannot keep state, so fields or automatic
                properties are not possible. Because method implementation is only an additional feature of interfaces,
                let's keep this discussion for later in this chapter and first focus on the contract aspect of
                interfaces.<font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">在 C# 8 之前，接口没有任何实现。在 C# 8
                            之后的版本中，你可以使用接口创建实现，但这与类和记录的实现非常不同；接口不能保持状态，所以字段或自动属性是不可能的。由于方法实现只是接口的一个附加功能，让我们在本章稍后讨论这个问题，并首先关注接口的契约方面。
                        </font>
                    </font>
                </font>
            </p>
            <section data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"><span id="c04-sec-0025"
                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"></span>
                <h3 id="head-3-115" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1">Predefined Interfaces <font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                        <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">预定义接口</font>
                        </font>
                    </font>
                </h3>
                <p data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1">Let's take a look at some predefined interfaces and how they
                    are used with .NET. Some C# keywords are even designed to work with particular predefined
                    interfaces. The <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">using</code> statement
                    and the <code data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">using</code>
                    declaration (covered in detail in <a href="c13.xhtml"
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Chapter 13</a>) use the
                    <code data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">IDisposable</code>
                    interface. This interface defines the method <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Dispose</code> without
                    any arguments and without return type. A class deriving from this interface needs to implement this
                    <code data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Dispose</code> method:
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">让我们看看一些预定义接口以及它们如何在.NET 中使用。有些
                                C#关键字甚至被设计为与特定的预定义接口协同工作。 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">using</code>
                                语句和 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">using</code>
                                声明（在第 13 章中详细讲解）使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">IDisposable</code>
                                接口。这个接口定义了一个不带参数且无返回值的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Dispose</code>
                                方法。从该接口派生的类需要实现这个 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Dispose</code>
                                方法：</font>
                        </font>
                    </font>
                </p>
                <pre id="c04-code-0029"><code>public IDisposable</code>
<code>{</code>
<code>  void Dispose();</code>
<code>}</code></pre>
                <p data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1"><span aria-label="108" epub:type="pagebreak" id="Page_108"
                        role="doc-pagebreak"
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"></span>The <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">using</code> statement
                    uses this interface. You can use this statement with any class (here, the <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Resource</code> class)
                    implementing this interface:<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1"> <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">using</code>
                                语句使用这个接口。你可以用这个语句与任何实现该接口的类（这里是指 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Resource</code>
                                类）一起使用：</font>
                        </font>
                    </font>
                </p>
                <pre id="c04-code-0030"><code>using (Resource resource = new())</code>
<code>{</code>
<code>  // use the resource</code>
<code>}</code></pre>
                <p data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1">The compiler converts the <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">using</code> statement to
                    this code to invoke the <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Dispose</code> method in
                    the <code data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">finally</code>
                    block of the <code data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">try</code>
                    /
                    <code data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">finally</code>
                    statement:<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">编译器将 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">using</code>
                                语句转换为以下代码，以调用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">try</code> /
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">finally</code>
                                语句中的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">finally</code>
                                块内的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Dispose</code>
                                方法：</font>
                        </font>
                    </font>
                </p>
                <pre id="c04-code-0031"><code>Resource resource = new();</code>
<code>try</code>
<code>{</code>
<code>  // use the resource</code>
<code>}</code>
<code>finally</code>
<code>{</code>
<code>  resource.Dispose();</code>
<code>}</code></pre>
                <aside data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                    <div class="top hr" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                        <hr />
                    </div>
                    <section class="feature2" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                        <p id="c04-para-0085" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                            data-immersive-translate-paragraph="1"><b
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">NOTE</b> <i
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">The </i> <code
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">try</code> <i
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">/</i> <code
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">finally</code> <i
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"> block is covered
                                in <a href="c10.xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Chapter
                                    10</a>, “Errors and Exceptions.”</i>
                            <font class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">注意： <code
                                            xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">try</code>
                                        / <code xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">finally</code>
                                        块在“错误和异常”章节（第 10 章）中介绍。</font>
                                </font>
                            </font>
                        </p>
                        <div class="bottom hr" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                            <hr />
                        </div>
                    </section>
                </aside>
                <p data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1">Another example where an interface is used with a language
                    keyword is the <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">foreach</code> statement
                    that's using the <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">IEnumerator</code> and
                    <code data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">IEnumerable</code>
                    interfaces. This code snippet<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">另一个使用语言关键字与接口的例子是使用 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">IEnumerator</code>
                                和 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">IEnumerable</code>
                                接口的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">foreach</code>
                                语句。这段代码</font>
                        </font>
                    </font>
                </p>
                <pre id="c04-code-0032"><code>string[] names = { "James", "Jack", "Jochen" };</code>
<code>foreach (var name in names)</code>
<code>{</code>
<code>  Console.WriteLine(name);</code>
<code>}</code></pre>
                <p data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1">is converted to access the <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">GetEnumerator</code>
                    method of the <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">IEnumerable</code>
                    interface and uses a <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">while</code> loop to
                    access the <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">MoveNext</code> method
                    and the <code data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Current</code>
                    property of the <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">IEnumerator</code>
                    interface:<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">转换为访问 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">GetEnumerator</code>
                                接口的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">IEnumerable</code>
                                方法，并使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">while</code>
                                循环来访问 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">MoveNext</code>
                                接口的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Current</code>
                                方法和 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">IEnumerator</code>
                                属性：</font>
                        </font>
                    </font>
                </p>
                <pre id="c04-code-0033"><code>string[] names = { "James", "Jack", "Jochen" };</code>
<code>var enumerator = names.GetEnumerator();</code>
<code>while (enumerator.MoveNext())</code>
<code>{</code>
<code>  var name = enumerator.Current;</code>
<code>  Console.WriteLine(name);</code>
<code>}</code></pre>
                <aside data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                    <div class="top hr" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                        <hr />
                    </div>
                    <section class="feature2" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                        <p id="c04-para-0089" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                            data-immersive-translate-paragraph="1"><b
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">NOTE</b> <i
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Creating a custom
                                implementation of the </i> <code
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">IEnumerable</code>
                            <i data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"> and </i> <code
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">IEnumerator</code>
                            <i data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"> interfaces with
                                the help of the </i> <code
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">yield</code> <i
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"> statement is
                                covered in <a href="c06.xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Chapter
                                    6</a>, “Arrays.”</i>
                            <font class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">注意：使用 <code
                                            xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">yield</code>
                                        语句创建自定义的 <code xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">IEnumerable</code>
                                        和 <code xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">IEnumerator</code>
                                        接口的实现方式在第六章“数组”中介绍。</font>
                                </font>
                            </font>
                        </p>
                        <div class="bottom hr" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                            <hr />
                        </div>
                    </section>
                </aside>
                <p data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1">Let's look at an example where an interface is used from a
                    .NET class, and you can easily implement this interface. The interface <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">IComparable&lt;T&gt;</code>
                    defines the <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">CompareTo</code> method
                    to sort objects of the type you need to specify with the generic parameter <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">T</code>. This interface
                    is used by various classes in .NET to order objects of any type:<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">让我们看一个示例，其中从 .NET
                                类中使用接口，并且可以轻松实现该接口。接口 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">IComparable&lt;T&gt;</code>
                                定义了 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">CompareTo</code>
                                方法来排序类型为 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">T</code>
                                的对象。该接口被 .NET 中的多个类使用，用于对任何类型的对象进行排序：</font>
                        </font>
                    </font>
                </p>
                <pre id="c04-code-0034"><code>public interface IComparable&lt;in T&gt;<span aria-label="109" epub:type="pagebreak" id="Page_109" role="doc-pagebreak"></span></code>
<code>{</code>
<code>  int CompareTo(T? other);</code>
<code>}</code></pre>
                <p data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1">With the following code snippet, the record <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Person</code> implements
                    this interface specifying <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Person</code> as a
                    generic parameter. <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Person</code> specifies
                    the properties <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">FirstName</code> and
                    <code data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">LastName</code>. The
                    <code data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">CompareTo</code> method
                    is defined to return 0 if both values (<code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">this</code> and <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">other</code>) are the
                    same, a value lower than 0 if <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">this</code> object should
                    come before the <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">other</code> object, and
                    a value greater than 0 if <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">other</code> should be
                    first. Because the <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">string</code> type also
                    implements <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">IComparable</code>, this
                    implementation is used to compare the <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">LastName</code>
                    properties. If the comparison on the last name returns <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">0</code>, a comparison is
                    done on the <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">FirstName</code> property
                    as well (code file <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">UsingInterfaces/Person.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">通过以下代码片段，记录 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Person</code>
                                实现了这个接口，并将 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Person</code>
                                作为泛型参数指定。 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Person</code>
                                指定了属性 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">FirstName</code>
                                和 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">LastName</code>
                                。 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">CompareTo</code>
                                方法被定义为如果两个值（ <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">this</code> 和
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">other</code>
                                ）相同则返回 0，如果 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">this</code>
                                对象应该排在 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">other</code>
                                对象之前则返回小于 0 的值，如果 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">other</code>
                                应该排在前面则返回大于 0 的值。因为 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">string</code>
                                类型也实现了 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">IComparable</code>
                                ，所以这个实现被用来比较 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">LastName</code>
                                属性。如果姓氏的比较返回 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">0</code>
                                ，则会进一步对 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">FirstName</code>
                                属性进行比较（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">UsingInterfaces/Person.cs</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c04-code-0035"><code>public record Person(string FirstName, string LastName) <b>: IComparable&lt;Person&gt;</b></code>
<code>{</code>
<code>  public int CompareTo(Person? other)</code>
<code>  {</code>
<code>    int compare = LastName.CompareTo(other?.LastName);</code>
<code>    if (compare is 0)</code>
<code>    {</code>
<code>      return FirstName.CompareTo(other?.FirstName);</code>
<code>    }</code>
<code>    return compare;</code>
<code>  }</code>
<code>}</code></pre>
                <p data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1">With the top-level statements in <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Program.cs</code>, three
                    <code data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Person</code> records
                    are created within an array, and the array's <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Sort</code> method is
                    used to sort the elements in the array (code file <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">UsingInterfaces/Program.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">在 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Program.cs</code>
                                的顶层语句中，创建了一个包含三个 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Person</code>
                                记录的数组，并使用数组的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Sort</code>
                                方法对数组中的元素进行排序（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">UsingInterfaces/Program.cs</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c04-code-0036"><code>Person p1 = new("Jackie", "Stewart");</code>
<code>Person p2 = new("Graham", "Hill");</code>
<code>Person p3 = new("Damon", "Hill");</code>
<code> </code>
<code>Person[] people = { p1, p2, p3 };</code>
<code>Array.Sort(people);</code>
<code>foreach (var p in people)</code>
<code>{</code>
<code>  Console.WriteLine(p);</code>
<code>}</code></pre>
                <p data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1">Running the application shows the <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">ToString</code> output of
                    the record type in a sorted order:<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">运行应用程序显示记录类型的 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">ToString</code>
                                输出按排序顺序：</font>
                        </font>
                    </font>
                </p>
                <pre id="c04-code-0037"><code>Person { FirstName = Damon, LastName = Hill }</code>
<code>Person { FirstName = Graham, LastName = Hill }</code>
<code>Person { FirstName = Jackie, LastName = Stewart }</code></pre>
                <p id="c04-para-0094" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1">Interfaces can act as a contract. The record <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Person</code> implements
                    the <code data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">IComparable</code>
                    contract that is used by the <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Sort</code> method of the
                    <code data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Array</code> class. The
                    <code data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Array</code> class just
                    needs to know the contract definition (the members of the interface) to know what it can use.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">接口可以充当契约。记录 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Person</code>
                                实现了 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">IComparable</code>
                                契约，该契约被 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Array</code>
                                类的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Sort</code>
                                方法使用。 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Array</code>
                                类只需要知道契约的定义（接口的成员）就知道它可以使用什么。</font>
                        </font>
                    </font>
                </p>
            </section>
            <section data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"><span id="c04-sec-0028"
                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"></span>
                <h3 id="head-3-116" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1">Dependency Injection with Interfaces <font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">使用接口进行依赖注入</font>
                        </font>
                    </font>
                </h3>
                <p data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1">Let's create a custom interface. With the shapes sample, the
                    <code data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Shape</code> and <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Rectangle</code> types
                    used the <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Console.WriteLine</code>
                    method to write a message to the console:<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">让我们创建一个自定义接口。在形状示例中， <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Shape</code>
                                和 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Rectangle</code>
                                类型使用了 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Console.WriteLine</code>
                                方法向控制台输出消息：</font>
                        </font>
                    </font>
                </p>
                <pre id="c04-code-0038"><code>protected virtual void DisplayShape()</code>
<code>{</code>
<code>  Console.WriteLine($"Shape with {Position} and {Size}");</code>
<code>}</code></pre>
                <p data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1"><span aria-label="110" epub:type="pagebreak" id="Page_110"
                        role="doc-pagebreak"
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"></span>This way, the
                    method <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">DisplayShape</code> has a
                    strong dependency on the <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Console</code> class. To
                    make this implementation independent of the <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Console</code> class and
                    to write to either the console or a file, you can define a contract such as the <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">ILogger</code> interface
                    in the following code snippet. This interface specifies the <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Log</code> method where a
                    string can be passed as an argument (code file <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">UsingInterfaces/ILogger.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">这种方式下， <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">DisplayShape</code>
                                方法对 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Console</code>
                                类有强烈的依赖。为了使这个实现与 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Console</code>
                                类独立，并且能够输出到控制台或文件，你可以定义一个如 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">ILogger</code>
                                接口的契约，如下面的代码片段所示。这个接口指定了 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Log</code>
                                方法，其中可以将字符串作为参数传递（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">UsingInterfaces/ILogger.cs</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c04-code-0039"><code>public interface ILogger</code>
<code>{</code>
<code>  void Log(string message);</code>
<code>}</code></pre>
                <p data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1">A new version of the <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Shape</code> class uses
                    <i data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">constructor injection</i>
                    where the interface is injected into an object of this class. In the constructor, the object passed
                    with the parameter is assigned to the read-only property <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Logger</code>. With the
                    implementation of the <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">DisplayShape</code>
                    method, the property of type <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">ILogger</code> is used to
                    write a message (code file <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">UsingInterfaces/Shape.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1"> <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Shape</code>
                                类的新版本使用了构造函数注入，其中将接口注入到该类的对象中。在构造函数中，通过参数传递的对象被赋值给只读属性 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Logger</code>
                                。通过 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">DisplayShape</code>
                                方法的实现，使用类型为 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">ILogger</code>
                                的属性来输出消息（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">UsingInterfaces/Shape.cs</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c04-code-0040"><code>public abstract class Shape</code>
<code>{</code>
<code>  <b>public Shape(ILogger logger)</b></code>
<code>  <b>{</b></code>
<code>    <b>Logger = logger;</b></code>
<code>  <b>}</b></code>
<code> </code>
<code>  protected ILogger Logger { get; }</code>
<code>  public Position? Position { get; init; }</code>
<code>  public Size? Size { get; init; }</code>
<code> </code>
<code>  public void Draw() =&gt; DisplayShape();</code>
<code> </code>
<code>  protected virtual void DisplayShape()</code>
<code>  {</code>
<code>    <b>Logger.Log($"Shape with {Position} and {Size}");</b></code>
<code>  }</code>
<code>}</code></pre>
                <p data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1">With a concrete implementation of the abstract <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Shape</code> class, in
                    the constructor, the <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">ILogger</code> interface
                    is forwarded to the constructor of the base class. With the <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">DisplayShape</code>
                    method, the protected property <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Logger</code> is used
                    from the base class (code file <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">UsingInterfaces/ConcreteShapes.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">通过抽象类 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Shape</code>
                                的具体实现，在构造函数中，将 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">ILogger</code>
                                接口传递给基类的构造函数。使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">DisplayShape</code>
                                方法，从基类中使用了受保护的属性 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Logger</code>
                                （代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">UsingInterfaces/ConcreteShapes.cs</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c04-code-0041"><code>public class Ellipse : Shape</code>
<code>{</code>
<code>  <b>public Ellipse(ILogger logger) : base(logger) { }</b></code>
<code> </code>
<code>  protected override void DisplayShape()</code>
<code>  {</code>
<code>    <b>Logger.Log($"Ellipse at position {Position} with size {Size}");</b></code>
<code>  }</code>
<code>}</code></pre>
                <p data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1">Next, a concrete implementation of the <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">ILogger</code> interface
                    is required. One way you can implement writing a message to the console is with the <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">ConsoleLogger</code>
                    class. This class implements the <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">ILogger</code> interface
                    to write a message to the console (code file <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">UsingInterfaces/ConsoleLogger.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">接下来需要一个 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">ILogger</code>
                                接口的具体实现。你可以使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">ConsoleLogger</code>
                                类来实现向控制台写入消息。这个类实现了 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">ILogger</code>
                                接口来向控制台写入消息（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">UsingInterfaces/ConsoleLogger.cs</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c04-code-0042"><code>public class ConsoleLogger : ILogger</code>
<code>{</code>
<code>  public void Log(string message) =&gt; Console.WriteLine(message);    </code>
<code>}</code></pre>
                <p data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"><span aria-label="111"
                        epub:type="pagebreak" id="Page_111" role="doc-pagebreak"
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"></span></p>
                <aside data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                    <div class="top hr" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                        <hr />
                    </div>
                    <section class="feature2" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                        <p id="c04-para-0101" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                            data-immersive-translate-paragraph="1"><b
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">NOTE</b> <i
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Using the </i>
                            <code data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">ILogger</code>
                            <i data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"> interface from
                                the </i> <code
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Microsoft.Extensions.Logging</code>
                            <i data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"> namespace is
                                discussed in <a href="c16.xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Chapter
                                    16</a>, “Diagnostics and Metrics.”</i>
                            <font class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">注意 在第 16 章“诊断和指标”中讨论了使用来自
                                        <code xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Microsoft.Extensions.Logging</code>
                                        命名空间的 <code xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">ILogger</code>
                                        接口。</font>
                                </font>
                            </font>
                        </p>
                        <div class="bottom hr" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                            <hr />
                        </div>
                    </section>
                </aside>
                <p data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1">For creating a <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Rectangle</code>, the
                    <code data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">ConsoleLogger</code>
                    can be created on passing an instance to implement the <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">ILogger</code> interface
                    (code file <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">UsingInterfaces/Program.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">为创建一个 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Rectangle</code>
                                ，可以在传递一个实例来实现 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">ILogger</code>
                                接口时创建 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">ConsoleLogger</code>
                                （代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">UsingInterfaces/Program.cs</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c04-code-0043"><code>Ellipse e1 = <b>new(new ConsoleLogger()) </b></code>
<code>{ </code>
<code>  Position = new(20, 30), </code>
<code>  Size = new(100, 120) </code>
<code>};</code>
<code>r1.Draw();</code></pre>
                <aside data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                    <div class="top hr" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                        <hr />
                    </div>
                    <section class="feature2" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                        <p id="c04-para-0104" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                            data-immersive-translate-paragraph="1"><b
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">NOTE</b> <i
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">With dependency
                                injection, the responsibility is turned over. Instead of having a strong dependency with
                                the implementation of the shape for the </i><code
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Console</code><i
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"> class, the
                                responsibility for what is used is turned over outside of the </i><code
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Shape</code><i
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"> type. This way
                                what is used can be specified from the outside. This is also known as the Hollywood
                                Principle—“Don't call us, we call you.” Dependency injection makes unit testing easier
                                because dependencies can be easily replaced with mock types. Another advantage when
                                using dependency injection is that you can create platform-specific implementations. For
                                example, showing a message box is different with the Universal Windows Platform
                                (</i><code
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">MessageDialog.ShowAsync</code><i
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">), WPF (</i><code
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">MessageBox.Show</code><i
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">), and
                                Xamarin.Forms (</i><code
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Page.Alert</code><i
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">). With a common
                                view model, you can use the interface </i><code
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">IDialogService</code><i
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"> and define
                                different implementations with the different platforms. Read more about dependency
                                injection using a dependency injection container in <a href="c15.xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Chapter
                                    15</a>, “Dependency Injection and Configuration.” Unit testing is covered in <a
                                    href="c23.xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Chapter
                                    23</a>, “Tests.”</i>
                            <font class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">注意：通过依赖注入，责任被转移。不再让 <code
                                            xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Console</code>
                                        类与形状的实现有强依赖，而是将使用什么的责任转移到了 <code xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Shape</code>
                                        类型之外。这样，使用什么就可以从外部指定。这也被称为好莱坞原则——“别调用我们，我们会调用你。”依赖注入使单元测试更容易，因为依赖关系可以轻松地被模拟类型替换。使用依赖注入的另一个优点是你可以创建特定平台的实现。例如，显示消息框在不同的
                                        Universal Windows Platform ( <code xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">MessageDialog.ShowAsync</code>
                                        )、WPF ( <code xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">MessageBox.Show</code>
                                        ) 和 Xamarin.Forms ( <code xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Page.Alert</code>
                                        ) 中是不同的。通过一个通用的视图模型，你可以使用接口 <code xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">IDialogService</code>
                                        并为不同的平台定义不同的实现。有关使用依赖注入容器的依赖注入和配置的更多信息，请参阅第 15 章“依赖注入和配置”。单元测试在第 23 章“测试”中介绍。
                                    </font>
                                </font>
                            </font>
                        </p>
                        <div class="bottom hr" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                            <hr />
                        </div>
                    </section>
                </aside>
            </section>
            <section data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"><span id="c04-sec-0031"
                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"></span>
                <h3 id="head-3-117" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1">Explicit and Implicit Implemented Interfaces <font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">显式和隐式实现的接口</font>
                        </font>
                    </font>
                </h3>
                <p data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1">Interfaces can be explicitly or implicitly implemented. With
                    the example so far, you've seen implicitly implemented interfaces, such as with the <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">ConsoleLogger</code>
                    class:<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">
                                接口可以显式或隐式实现。到目前为止的示例中，你已经看到了隐式实现的接口，例如 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">ConsoleLogger</code>
                                类：</font>
                        </font>
                    </font>
                </p>
                <pre id="c04-code-0044"><code>public class ConsoleLogger : ILogger</code>
<code>{</code>
<code>  public void Log(string message) =&gt; Console.WriteLine(message);    </code>
<code>}</code></pre>
                <p data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1">With an explicit interface implementation, the member
                    implemented doesn't have an access modifier and has the interface prefixed to the method name:<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">
                                对于显式接口实现，被实现的成员没有访问修饰符，并且方法名前缀有接口名：</font>
                        </font>
                    </font>
                </p>
                <pre id="c04-code-0045"><code>public class ConsoleLogger : ILogger</code>
<code>{</code>
<code>  <b>void ILogger.Log(string message)</b> =&gt; Console.WriteLine(message);</code>
<code>}</code></pre>
                <p id="c04-para-0107" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1">With an explicit interface implementation, the interface is
                    not accessible when you use a variable of type <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">ConsoleLogger</code>
                    (it's not public). If you use a variable of the interface type (<code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">ILogger</code>), you can
                    invoke the <code data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Log</code>
                    method; the contract of the interface is fulfilled. You can also cast the <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">ConsoleLogger</code>
                    variable to the interface <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">ILogger</code> to invoke
                    this method.<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">使用显式接口实现时，当你使用类型为 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">ConsoleLogger</code>
                                的变量（它不是公开的），接口不可访问。如果你使用接口类型的变量（ <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">ILogger</code>
                                ），可以调用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Log</code>
                                方法；接口的契约得以履行。你也可以将 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">ConsoleLogger</code>
                                变量转换为接口 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">ILogger</code>
                                来调用这个方法。</font>
                        </font>
                    </font>
                </p>
                <p id="c04-para-0108" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1"><span aria-label="112" epub:type="pagebreak" id="Page_112"
                        role="doc-pagebreak"
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"></span>Why would you want
                    to do this? One reason is to resolve a conflict. If different interfaces define the same method
                    signature, your class needs to implement all these interfaces, and the implementations need to
                    differ, you can use explicit interface implementation.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">
                                为什么要这样做？一个原因是解决冲突。如果不同的接口定义了相同的方法签名，你的类需要实现所有这些接口，并且实现需要不同，你可以使用显式接口实现。</font>
                        </font>
                    </font>
                </p>
                <p data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1">Another reason to use explicit interface implementation is to
                    hide the interface method from code outside of the class but still fulfill the contract from the
                    interface. An example is the <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">StringCollection</code>
                    class from the <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">System.Collections.Specialized</code>
                    namespace and the <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">IList</code> interface.
                    One of the members that's defined by the <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">IList</code> interface is
                    the <code data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Add</code> method:
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">
                                使用显式接口实现的另一个原因是将接口方法隐藏在类外部的代码中，但仍然满足接口的契约。例如，来自 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">System.Collections.Specialized</code>
                                命名空间的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">StringCollection</code>
                                类和 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">IList</code>
                                接口。 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">IList</code>
                                接口定义的成员之一是 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Add</code>
                                方法：</font>
                        </font>
                    </font>
                </p>
                <pre id="c04-code-0046"><code>int Add(object? value);</code></pre>
                <p data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1">The <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">StringCollection</code>
                    class is optimized for strings and thus prefers to use the string type with the <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Add</code> method:<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1"> <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">StringCollection</code>
                                类针对字符串进行了优化，因此更倾向于使用字符串类型与 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Add</code>
                                方法：</font>
                        </font>
                    </font>
                </p>
                <pre id="c04-code-0047"><code>public int Add(string? value);</code></pre>
                <p id="c04-para-0111" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1">The version to pass an object is hidden from the <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">StringCollection</code>
                    class because the <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">StringCollection</code>
                    class has an explicit interface implementation with this method. To use this type directly, you just
                    pass a string parameter. If a method uses <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">IList</code> as a
                    parameter, then you can use any object that implements <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">IList</code> for that
                    parameter. In particular, you can use a <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">StringCollection</code>
                    for the parameter because that class still implements that interface.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">传递对象的版本对 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">StringCollection</code>
                                类是隐藏的，因为 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">StringCollection</code>
                                类对这个方法使用了显式接口实现。要直接使用这种类型，你只需传递一个字符串参数。如果一个方法使用 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">IList</code>
                                作为参数，那么你可以为该参数使用任何实现了 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">IList</code>
                                的对象。特别是，你可以使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">StringCollection</code>
                                作为参数，因为那个类仍然实现了那个接口。</font>
                        </font>
                    </font>
                </p>
            </section>
            <section data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"><span id="c04-sec-0032"
                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"></span>
                <h3 id="head-3-118" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1">Comparing Interfaces and Classes <font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">比较接口和类</font>
                        </font>
                    </font>
                </h3>
                <p data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1">Now that you've seen the foundations of interfaces, let's
                    compare interfaces, classes, records, and structs with regard to object orientation:<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">
                                现在你已经了解了接口的基础，让我们从面向对象的角度来比较接口、类、记录和结构体：</font>
                        </font>
                    </font>
                </p>
                <ul class="check" id="c04-list-0003"
                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                    <li id="c04-li-0015" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                        data-immersive-translate-paragraph="1">You can declare a variable of the type of all these C#
                        constructs. You can declare a variable of a class, an interface, a record, or a struct.<font
                            class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">你可以声明所有这些
                                    C#结构的变量类型。你可以声明一个类、接口、记录或结构的变量。</font>
                            </font>
                        </font>
                    </li>
                    <li id="c04-li-0016" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                        data-immersive-translate-paragraph="1">You can instantiate a new object with classes, records,
                        and structs. You cannot instantiate a new object with an abstract class or an interface.<font
                            class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">
                                    你可以用类、记录和结构来实例化一个新对象。你不能用抽象类或接口来实例化一个新对象。</font>
                            </font>
                        </font>
                    </li>
                    <li id="c04-li-0017" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                        data-immersive-translate-paragraph="1">With a class, you can derive from a base class. With a
                        record, you can derive from a base record. Both with classes and records, implementation
                        inheritance is supported. Structs don't support inheritance.<font
                            class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">
                                    对于类，你可以从基类派生。对于记录，你可以从基记录派生。无论是类还是记录，都支持实现继承。结构不支持继承。</font>
                            </font>
                        </font>
                    </li>
                    <li id="c04-li-0018" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                        data-immersive-translate-paragraph="1">Classes, records, and structs can implement multiple
                        interfaces. Implementing interfaces is not possible with ref structs.<font
                            class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">类、记录和结构可以实现多个接口。ref 结构不支持实现接口。
                                </font>
                            </font>
                        </font>
                    </li>
                </ul>
            </section>
            <section data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"><span id="c04-sec-0033"
                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"></span>
                <h3 id="head-3-119" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1">Default Interface Methods <font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">默认接口方法</font>
                        </font>
                    </font>
                </h3>
                <p id="c04-para-0113" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1">Before C# 8, changing an interface was always a breaking
                    change. Even just adding a member to an interface is a breaking change. The type implementing this
                    interface needs to implement this new interface member. Because of this, many .NET libraries are
                    built with abstract base classes. When you add a new member to an abstract base class, if it's not
                    an abstract member, it is not a breaking change. With Microsoft's Component Object Model (COM),
                    which is based on interfaces, always a new interface was defined when a breaking change was
                    introduced—for example, <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">IViewObject</code>, <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">IViewObjectEx</code>,
                    <code data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">IViewObject2</code>,
                    <code data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">IViewObject3</code>.
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">在 C# 8
                                之前，修改接口总是会导致破坏性变更。即使只是在接口中添加一个成员也是破坏性变更。实现该接口的类型需要实现这个新的接口成员。由于这个原因，许多.NET
                                库都是使用抽象基类构建的。当你向抽象基类添加一个新成员时，如果它不是抽象成员，就不会导致破坏性变更。在基于接口的 Microsoft
                                组件对象模型（COM）中，每当引入破坏性变更时，总会定义一个新的接口——例如， <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">IViewObject</code>
                                、 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">IViewObjectEx</code>
                                、 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">IViewObject2</code>
                                、 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">IViewObject3</code>
                                。</font>
                        </font>
                    </font>
                </p>
                <p id="c04-para-0114" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1">As of C# 8, interfaces can have implementations. However, you
                    need to be aware where you can use this feature. C# 8 is supported by .NET Core 3.x. With older
                    technologies, you can change the compiler version at your own risk. To support default interface
                    members, a runtime change is required. This runtime change is available only with .NET Core 3.x+ and
                    .NET Standard 2.1+. You cannot use default interface members with .NET Framework applications or UWP
                    applications without .NET 5 support.<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">从 C# 8
                                开始，接口可以有实现。但是，你需要知道在哪里可以使用这个特性。C# 8 由.NET Core 3.x
                                支持。对于旧技术，你可以自行承担风险更改编译器版本。为了支持默认接口成员，需要运行时变更。这种运行时变更是.NET Core 3.x+和.NET Standard
                                2.1+才提供的。你不能在.NET Framework 应用程序或没有.NET 5 支持的 UWP 应用程序中使用默认接口成员。</font>
                        </font>
                    </font>
                </p>
                <section data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"><span id="c04-sec-0034"
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"></span>
                    <h4 id="head-4-25" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                        data-immersive-translate-paragraph="1">Avoiding Breaking Changes<font
                            class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">避免破坏性变更</font>
                            </font>
                        </font>
                    </h4>
                    <p data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                        data-immersive-translate-paragraph="1">Let's get into the main feature of default interface
                        members to avoid breaking changes. In a previous code sample, the <code
                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">ILogger</code>
                        interface has been specified:<font class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">
                                    让我们探讨默认接口成员的主要特性，以避免破坏性变更。在之前的代码示例中，已经指定了 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">ILogger</code>
                                    接口：</font>
                            </font>
                        </font>
                    </p>
                    <pre id="c04-code-0048"><code>public interface ILogger</code>
<code>{<span aria-label="113" epub:type="pagebreak" id="Page_113" role="doc-pagebreak"></span></code>
<code>  void Log(string message);</code>
<code>}</code></pre>
                    <p data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                        data-immersive-translate-paragraph="1">If you add any member without implementation, the <code
                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">ConsoleLogger</code>
                        class needs to be updated. To avoid a breaking change, an implementation to the new <code
                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Log</code> method
                        with the <code
                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Exception</code>
                        parameter is added. With the implementation, the previous <code
                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Log</code> method is
                        invoked by passing a <code
                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">string</code> (code
                        file <code
                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">DefaultInterfaceMethods/ILogger.cs</code>):
                        <font class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">如果你添加任何未实现的成员， <code
                                        xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">ConsoleLogger</code>
                                    类需要更新。为了避免破坏性变更，添加了对新 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Log</code>
                                    方法的实现，该方法带有 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Exception</code>
                                    参数。通过实现，通过传递 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">string</code>
                                    调用之前的 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Log</code>
                                    方法（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">DefaultInterfaceMethods/ILogger.cs</code>
                                    ）：</font>
                            </font>
                        </font>
                    </p>
                    <pre id="c04-code-0049"><code>public interface ILogger</code>
<code>{</code>
<code>  void Log(string message);</code>
<code>  <b>public void Log(Exception ex) =&gt; Log(ex.Message);</b></code>
<code>}</code></pre>
                    <aside data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                        <div class="top hr" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                            <hr />
                        </div>
                        <section class="feature2"
                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                            <p id="c04-para-0118" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                                data-immersive-translate-paragraph="1"><b
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">NOTE</b> <i
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">The
                                    implementation of the </i><code
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Log</code><i
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"> method has
                                    the </i><code
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">public</code><i
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"> access
                                    modifier applied. With interface members, </i><code
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">public</code><i
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"> is the
                                    default, so this access modifier is not required. However, with implementations in
                                    the interface, you can use the same modifiers you've seen with classes, including
                                </i><code
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">virtual</code><i
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">, </i><code
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">abstract</code><i
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">, </i><code
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">sealed</code><i
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">, and so
                                    on.</i>
                                <font class="notranslate immersive-translate-target-wrapper"
                                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                    <font
                                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                        data-immersive-translate-translation-element-mark="1">
                                        <font
                                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                            data-immersive-translate-translation-element-mark="1">注意 <code
                                                xmlns="http://www.w3.org/1999/xhtml"
                                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Log</code>
                                            方法的实现应用了 <code xmlns="http://www.w3.org/1999/xhtml"
                                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">public</code>
                                            访问修饰符。对于接口成员， <code xmlns="http://www.w3.org/1999/xhtml"
                                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">public</code>
                                            是默认的，因此不需要这个访问修饰符。但是，对于接口中的实现，你可以使用与类相同的方式来使用修饰符，包括 <code
                                                xmlns="http://www.w3.org/1999/xhtml"
                                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">virtual</code>
                                            、 <code xmlns="http://www.w3.org/1999/xhtml"
                                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">abstract</code>
                                            、 <code xmlns="http://www.w3.org/1999/xhtml"
                                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">sealed</code>
                                            等。</font>
                                    </font>
                                </font>
                            </p>
                            <div class="bottom hr"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                                <hr />
                            </div>
                        </section>
                    </aside>
                    <p data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                        data-immersive-translate-paragraph="1">The application can be built without changing the
                        implementation of the <code
                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">ConsoleLogger</code>
                        class. If a variable of the interface type is used, both <code
                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Log</code> methods
                        can be invoked: the <code
                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Log</code> method
                        with the string parameter and the <code
                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Log</code> method
                        with the <code
                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Exception</code>
                        parameter (code file <code
                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">DefaultInterfaceMethods/Program.cs</code>):
                        <font class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">应用程序无需更改 <code
                                        xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">ConsoleLogger</code>
                                    类的实现即可构建。如果使用接口类型的变量，可以调用 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Log</code>
                                    的两个方法：带有字符串参数的 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Log</code>
                                    方法和带有 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Exception</code>
                                    参数的 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Log</code>
                                    方法（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">DefaultInterfaceMethods/Program.cs</code>
                                    ）：</font>
                            </font>
                        </font>
                    </p>
                    <pre id="c04-code-0050"><code>ILogger logger = new ConsoleLogger();</code>
<code>logger.Log("message");</code>
<code>logger.Log(new Exception("sample exception"));</code></pre>
                    <p data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                        data-immersive-translate-paragraph="1">With a new implementation of the <code
                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">ConsoleLogger</code>
                        class, a different implementation of the new <code
                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Log</code> method
                        defined with the <code
                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">ILogger</code>
                        interface can be created. In this case, using the <code
                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">ILogger</code>
                        interface invokes the method implemented with the <code
                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">ConsoleLogger</code>
                        class. The method is implemented with explicit interface implementation but could be implemented
                        with implicit interface implementation as well (code file <code
                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">DefaultInterfaceMethods/ConsoleLogger.cs</code>):
                        <font class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">通过 <code
                                        xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">ConsoleLogger</code>
                                    类的新实现，可以创建一个使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">ILogger</code>
                                    接口定义的新 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Log</code>
                                    方法的不同实现。在这种情况下，使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">ILogger</code>
                                    接口会调用使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">ConsoleLogger</code>
                                    类实现的该方法。该方法使用显式接口实现，但也可以使用隐式接口实现（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">DefaultInterfaceMethods/ConsoleLogger.cs</code>
                                    ）：</font>
                            </font>
                        </font>
                    </p>
                    <pre id="c04-code-0051"><code>public class ConsoleLogger : ILogger</code>
<code>{</code>
<code>  public void Log(string message) =&gt; Console.WriteLine(message);</code>
<code> </code>
<code>  void ILogger.Log(Exception ex)</code>
<code>  {</code>
<code>    Console.WriteLine(</code>
<code>      $"exception type: {ex.GetType().Name}, message: {ex.Message}");</code>
<code>  }</code>
<code>}</code></pre>
                </section>
                <section data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"><span id="c04-sec-0036"
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"></span>
                    <h4 id="head-4-26" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                        data-immersive-translate-paragraph="1">Traits with C#<font
                            class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                            <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">C#中的特性</font>
                            </font>
                        </font>
                    </h4>
                    <p id="c04-para-0121" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                        data-immersive-translate-paragraph="1">Default interface members can be used to implement traits
                        with C#. <i data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Traits</i>
                        allow you to define methods for a group of types. One way to implement traits is with extension
                        methods; the other option is using default interface methods.<font
                            class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">C#
                                    可以使用默认接口成员来实现特征。特征允许你为一组类型定义方法。实现特征的一种方式是使用扩展方法；另一种选择是使用默认接口方法。</font>
                            </font>
                        </font>
                    </p>
                    <p data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                        data-immersive-translate-paragraph="1">With Language Integrated Query (LINQ), many LINQ
                        operators have been implemented with extension methods. With this new feature, it would be
                        possible to implement these methods with default interface members instead.<font
                            class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">使用语言集成查询（LINQ），许多 LINQ
                                    运算符都使用扩展方法实现。有了这个新特性，就有可能使用默认接口成员来替代这些方法。</font>
                            </font>
                        </font><span aria-label="114" epub:type="pagebreak" id="Page_114" role="doc-pagebreak"
                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"></span></p>
                    <aside data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                        <div class="top hr" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                            <hr />
                        </div>
                        <section class="feature2"
                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                            <p id="c04-para-0123" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                                data-immersive-translate-paragraph="1"><b
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">NOTE</b> <i
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Extension
                                    methods are introduced in <a href="c03.xhtml"
                                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Chapter
                                        3</a>. <a href="c09.xhtml"
                                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Chapter
                                        9</a>, “Language Integrated Query,” covers all the extension methods implemented
                                    with LINQ.</i>
                                <font class="notranslate immersive-translate-target-wrapper"
                                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                    <font
                                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                        data-immersive-translate-translation-element-mark="1">
                                        <font
                                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                            data-immersive-translate-translation-element-mark="1">注意
                                            扩展方法在第三章中介绍。第九章“语言集成查询”涵盖了所有使用 LINQ 实现的扩展方法。</font>
                                    </font>
                                </font>
                            </p>
                            <div class="bottom hr"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                                <hr />
                            </div>
                        </section>
                    </aside>
                    <p data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                        data-immersive-translate-paragraph="1">To demonstrate this, the <code
                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">IEnumerableEx&lt;T&gt;</code>
                        interface is defined that derives from the interface <code
                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">IEnumerable&lt;T&gt;</code>.
                        Deriving from this interface, <code
                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">IEnumerableEx&lt;T&gt;</code>
                        specifies the same contract as the base interface, but the <code
                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Where</code> method
                        is added. This method receives a delegate parameter to pass a predicate method that returns a
                        Boolean value, iterates through all the items, and invokes the method referenced by the
                        predicate. If the predicate returns true, the Where method returns the item with <code
                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">yield return</code>.
                        <font class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">为了演示这一点，定义了 <code
                                        xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">IEnumerableEx&lt;T&gt;</code>
                                    接口，该接口继承自 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">IEnumerable&lt;T&gt;</code>
                                    接口。从该接口继承的 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">IEnumerableEx&lt;T&gt;</code>
                                    指定了与基接口相同的契约，但添加了 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Where</code>
                                    方法。这个方法接收一个委托参数来传递一个返回布尔值的谓词方法，遍历所有项目，并调用谓词引用的方法。如果谓词返回 true，Where 方法返回带有 <code
                                        xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">yield return</code>
                                    的项目。</font>
                            </font>
                        </font>
                    </p>
                    <pre id="c04-code-0052"><code>using System;</code>
<code>using System.Collections.Generic;</code>
<code> </code>
<code>public interface IEnumerableEx&lt;T&gt; : IEnumerable&lt;T&gt;</code>
<code>{</code>
<code>  public IEnumerable&lt;T&gt; Where(Func&lt;T, bool&gt; pred)</code>
<code>  {</code>
<code>    foreach (T item in this)</code>
<code>    {</code>
<code>      if (pred(item))</code>
<code>      {</code>
<code>        yield return item;</code>
<code>      }</code>
<code>    }</code>
<code>  }</code>
<code>}</code></pre>
                    <aside data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                        <div class="top hr" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                            <hr />
                        </div>
                        <section class="feature2"
                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                            <p id="c04-para-0126" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                                data-immersive-translate-paragraph="1"><b
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">NOTE</b> <i
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">The </i>
                                <code
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">yield</code>
                                <i data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"> statement is
                                    covered in detail in <a href="c06.xhtml"
                                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Chapter
                                        6</a>.</i>
                                <font class="notranslate immersive-translate-target-wrapper"
                                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                    <font
                                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                        data-immersive-translate-translation-element-mark="1">
                                        <font
                                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                            data-immersive-translate-translation-element-mark="1">注意： <code
                                                xmlns="http://www.w3.org/1999/xhtml"
                                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">yield</code>
                                            语句在第六章中有详细说明。</font>
                                    </font>
                                </font>
                            </p>
                            <div class="bottom hr"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                                <hr />
                            </div>
                        </section>
                    </aside>
                    <p data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                        data-immersive-translate-paragraph="1">Now you need a collection to implement the interface
                        <code
                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">IEnumerableEx&lt;T&gt;</code>.
                        You can do this easily by creating a new collection type, <code
                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">MyCollection,</code>
                        that derives from the <code
                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Collection&lt;T&gt;</code>
                        base class defined in the <code
                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">System.Collections.ObjectModel</code>
                        namespace. Because the <code
                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Collection&lt;T&gt;</code>
                        class already implements the interface <code
                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">IEnumerable&lt;T&gt;</code>,
                        no additional implementation is needed to support <code
                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">IEnumerableEx&lt;T&gt;</code>
                        (code file <code
                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">DefaultInterfaceMethods/MyCollection.cs</code>):
                        <font class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">现在你需要一个集合来实现接口 <code
                                        xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">IEnumerableEx&lt;T&gt;</code>
                                    。你可以通过创建一个新的集合类型 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">MyCollection,</code>
                                    并让它继承 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">System.Collections.ObjectModel</code>
                                    命名空间中定义的 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Collection&lt;T&gt;</code>
                                    基类来轻松实现这一点。因为 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Collection&lt;T&gt;</code>
                                    类已经实现了接口 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">IEnumerable&lt;T&gt;</code>
                                    ，所以为了支持 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">IEnumerableEx&lt;T&gt;</code>
                                    不需要额外的实现（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">DefaultInterfaceMethods/MyCollection.cs</code>
                                    ）：</font>
                            </font>
                        </font>
                    </p>
                    <pre id="c04-code-0053"><code>class MyCollection&lt;T&gt; : Collection&lt;T&gt;, IEnumerableEx&lt;T&gt;</code>
<code>{</code>
<code>}</code></pre>
                    <p data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                        data-immersive-translate-paragraph="1">With this in place, a collection of type <code
                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">MyCollections&lt;string&gt;</code>
                        is created that's filled with names. A lambda expression that returns a Boolean value and
                        receives a string is passed to the <code
                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Where</code> method
                        that's defined with the interface. The <code
                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">foreach</code>
                        statement iterates through the result and only displays the names starting with <code
                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">J</code> (code file
                        <code
                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">DefaultInterfaceMethods/Program.cs</code>):
                        <font class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">这样，一个类型为 <code
                                        xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">MyCollections&lt;string&gt;</code>
                                    的集合就被创建出来，并填充了名字。一个返回布尔值并接收字符串的 lambda 表达式被传递给接口中定义的 <code
                                        xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Where</code>
                                    方法。 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">foreach</code>
                                    语句遍历结果，并只显示以 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">J</code>
                                    开头的名字（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">DefaultInterfaceMethods/Program.cs</code>
                                    ）：</font>
                            </font>
                        </font>
                    </p>
                    <pre id="c04-code-0054"><code>IEnumerableEx&lt;string&gt; names = new MyCollection&lt;string&gt; </code>
<code>  { "James", "Jack", "Jochen", "Sebastian", "Lewis", "Juan" };</code>
<code> </code>
<code>var jNames = names.Where(n =&gt; n.StartsWith("J"));</code>
<code>foreach (var name in jNames)</code>
<code>{</code>
<code>  Console.WriteLine(name);</code>
<code>}</code></pre>
                    <p data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"><span aria-label="115"
                            epub:type="pagebreak" id="Page_115" role="doc-pagebreak"
                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"></span></p>
                    <aside data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                        <div class="top hr" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                            <hr />
                        </div>
                        <section class="feature2"
                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                            <p id="c04-para-0130" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                                data-immersive-translate-paragraph="1"><b
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">NOTE</b> <i
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">When you
                                    invoke default interface members, you always need a variable of the interface type,
                                    similar to explicitly implemented interfaces.</i>
                                <font class="notranslate immersive-translate-target-wrapper"
                                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                    <font
                                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                        data-immersive-translate-translation-element-mark="1">
                                        <font
                                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                            data-immersive-translate-translation-element-mark="1">
                                            注意：当你调用默认接口成员时，你总是需要一个接口类型的变量，类似于显式实现的接口。</font>
                                    </font>
                                </font>
                            </p>
                            <p id="c04-para-0131"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"><i
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                                    data-immersive-translate-paragraph="1">What cannot be done with interfaces and
                                    default interface members is to add members that keep state. Fields, events (with
                                    delegates), and auto properties add state—these members are not allowed. If state is
                                    required, you should use abstract classes instead.<font
                                        class="notranslate immersive-translate-target-wrapper"
                                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                        <font
                                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                            data-immersive-translate-translation-element-mark="1">
                                            <font
                                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                                data-immersive-translate-translation-element-mark="1">
                                                接口和默认接口成员无法做到的是添加保持状态成员。字段、事件（带有委托）和自动属性会添加状态——这些成员是不允许的。如果需要状态，你应该使用抽象类。
                                            </font>
                                        </font>
                                    </font></i></p>
                            <div class="bottom hr"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                                <hr />
                            </div>
                        </section>
                    </aside>
                </section>
            </section>
        </section>
        <section aria-labelledby="head-2-39" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
            <span id="c04-sec-0040" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"></span>
            <h2 id="head-2-39" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                data-immersive-translate-paragraph="1">GENERICS<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                    <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">泛型</font>
                    </font>
                </font>
            </h2>
            <p id="c04-para-0132" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                data-immersive-translate-paragraph="1">One way to reduce the code you need to write is by using
                inheritance and adding functionality to base classes. Another way is to create generics where a type
                parameter is used, which allows specifying the type when instantiating the generic (which can also be
                combined with inheritance).<font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">
                            一种减少需要编写的代码的方法是使用继承并向基类添加功能。另一种方法是创建泛型，其中使用类型参数，这允许在实例化泛型时指定类型（这也可以与继承结合使用）。</font>
                    </font>
                </font>
            </p>
            <p data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                data-immersive-translate-paragraph="1">Let's get into an example to create a linked list of objects
                where every item references the next and previous items. The first generic type created is a record. The
                generic type parameter is specified using angle brackets. <code
                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">T</code> is the placeholder
                type parameter name. With the primary constructor, a property with an init-only set accessor is created.
                The record has two additional properties, <code
                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Next</code> and <code
                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Prev</code>, to reference the
                next and previous items. With these additional properties, the <code
                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">internal</code> access
                modifier is used to allow calling the set accessor only from within the same assembly (code file <code
                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">GenericTypes/LinkedListNode.cs</code>):
                <font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">
                            让我们通过一个示例来创建一个对象链表，其中每个项目都引用下一个和上一个项目。创建的第一个泛型类型是一个记录。使用尖括号指定泛型类型参数。 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">T</code>
                            是占位符类型参数名称。通过主构造函数，创建了一个具有 init-only 设置访问器的属性。记录有两个额外的属性 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Next</code> 和
                            <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Prev</code>
                            ，用于引用下一个和上一个项目。使用这些额外的属性， <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">internal</code>
                            访问修饰符用于仅从同一程序集（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">GenericTypes/LinkedListNode.cs</code>
                            ）内部调用设置访问器：</font>
                    </font>
                </font>
            </p>
            <pre id="c04-code-0055"><code>public record LinkedListNode&lt;T&gt;(T Value)</code>
<code>{</code>
<code>  public LinkedListNode&lt;T&gt;? Next { get; internal set; }</code>
<code>  public LinkedListNode&lt;T&gt;? Prev { get; internal set; }</code>
<code>  public override string? ToString() =&gt; Value?.ToString();</code>
<code>}</code></pre>
            <aside data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                <div class="top hr" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                    <hr />
                </div>
                <section class="feature2" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                    <p id="c04-para-0135" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                        data-immersive-translate-paragraph="1"><b
                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">NOTE</b> <i
                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Because the </i><code
                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">LinkedListNode</code><i
                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"> type is a record,
                            it's important to override the </i><code
                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">ToString</code><i
                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"> method. With the
                            default implementation of the </i><code
                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">ToString</code><i
                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"> method, the value of
                            all property members is shown, which invokes </i><code
                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">ToString</code><i
                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"> with every property
                            value. Because the </i><code
                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Next</code><i
                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"> and </i><code
                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Prev</code><i
                            data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"> properties reference
                            other objects, a stack overflow can occur.</i>
                        <font class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">注意 因为 <code
                                        xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">LinkedListNode</code>
                                    类型是一个记录，所以重写 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">ToString</code>
                                    方法很重要。使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">ToString</code>
                                    方法的默认实现，会显示所有属性成员的值，这会针对每个属性值调用 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">ToString</code>
                                    。因为 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Next</code>
                                    和 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Prev</code>
                                    属性引用其他对象，可能会发生堆栈溢出。</font>
                            </font>
                        </font>
                    </p>
                    <div class="bottom hr" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                        <hr />
                    </div>
                </section>
            </aside>
            <p data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                data-immersive-translate-paragraph="1">The generic class <code
                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">LinkedList</code> contains
                the properties <code data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">First</code>
                and <code data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Last</code> to access
                the first and last elements of the list, the method <code
                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">AddLast</code> to add a new
                node at the end of the list, and an implementation of the <code
                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">IEnumerable&lt;T&gt;</code>
                interface, which allows iterating through all elements (code file <code
                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">GenericTypes/LinkedList.cs</code>):
                <font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">泛型类 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">LinkedList</code>
                            包含了属性 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">First</code> 和
                            <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Last</code>
                            来访问列表的第一个和最后一个元素，方法 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">AddLast</code>
                            用于在列表末尾添加一个新节点，以及 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">IEnumerable&lt;T&gt;</code>
                            接口的实现，该接口允许遍历所有元素（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">GenericTypes/LinkedList.cs</code>
                            ）：</font>
                    </font>
                </font>
            </p>
            <pre id="c04-code-0056"><code>public class LinkedList&lt;T&gt; : IEnumerable&lt;T&gt;</code>
<code>{</code>
<code>  public LinkedListNode&lt;T&gt;? First { get; private set; }</code>
<code>  public LinkedListNode&lt;T&gt;? Last { get; private set; }</code>
<code>  public LinkedListNode&lt;T&gt; AddLast(T node)</code>
<code>  {</code>
<code>    LinkedListNode&lt;T&gt; newNode = new(node);</code>
<code>    if (First is null || Last is null)</code>
<code>    {</code>
<code>      First = newNode;<span aria-label="116" epub:type="pagebreak" id="Page_116" role="doc-pagebreak"></span></code>
<code>      Last = First;</code>
<code>    }</code>
<code>    else</code>
<code>    {</code>
<code>      newNode.Prev = Last;</code>
<code>      LinkedListNode&lt;T&gt; previous = Last;</code>
<code>      Last.Next = newNode;</code>
<code>      Last = newNode;</code>
<code>    }</code>
<code>    return newNode;</code>
<code>  }</code>
<code> </code>
<code>  public IEnumerator&lt;T&gt; GetEnumerator()</code>
<code>  {</code>
<code>    LinkedListNode&lt;T&gt;? current = First;</code>
<code>    while (current is not null)</code>
<code>    {</code>
<code>      yield return current.Value;</code>
<code>      current = current.Next;</code>
<code>    }</code>
<code>  }</code>
<code> </code>
<code>  IEnumerator IEnumerable.GetEnumerator() =&gt; GetEnumerator();</code>
<code>}</code></pre>
            <p data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                data-immersive-translate-paragraph="1">In the generated <code
                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Main</code> method, the <code
                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">LinkedList</code> is
                initiated by using the <code
                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">int</code> type by using the
                <code data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">string</code> type, a
                tuple, and a record. <code
                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">LinkedList</code> works with
                any type (code file <code
                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">GenericTypes/Program.cs</code>):
                <font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">在生成的 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Main</code> 方法中，
                            <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">LinkedList</code>
                            是通过使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">int</code>
                            类型来初始化的，使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">string</code>
                            类型，一个元组和一个记录。 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">LinkedList</code>
                            可以与任何类型一起工作（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">GenericTypes/Program.cs</code>
                            ）：</font>
                    </font>
                </font>
            </p>
            <pre id="c04-code-0057"><code><b>LinkedList&lt;int&gt; list1 = new();</b></code>
<code>list1.AddLast(1);</code>
<code>list1.AddLast(3);</code>
<code>list1.AddLast(2);</code>
<code> </code>
<code>foreach (var item in list1)</code>
<code>{</code>
<code>  Console.WriteLine(item);</code>
<code>}</code>
<code>Console.WriteLine();</code>
<code> </code>
<code><b>LinkedList&lt;string&gt; list2 = new();</b></code>
<code>list2.AddLast("two");</code>
<code>list2.AddLast("four");</code>
<code>list2.AddLast("six");</code>
<code> </code>
<code>Console.WriteLine(list2.Last);</code>
<code> </code>
<code>LinkedList&lt;(int, int)&gt; list3 = new();</code>
<code>list3.AddLast((1, 2));</code>
<code>list3.AddLast((3, 4));</code>
<code>foreach (var item in list3)</code>
<code>{</code>
<code>  Console.WriteLine(item);</code>
<code>}</code>
<code>Console.WriteLine();</code>
<code> <span aria-label="117" epub:type="pagebreak" id="Page_117" role="doc-pagebreak"></span></code>
<code>LinkedList&lt;Person&gt; list4 = new();</code>
<code>list4.AddLast(new Person("Stephanie", "Nagel"));</code>
<code>list4.AddLast(new Person("Matthias", "Nagel"));</code>
<code>list4.AddLast(new Person("Katharina", "Nagel"));</code>
<code> </code>
<code>// show the first</code>
<code>Console.WriteLine(list4.First);</code>
<code> </code>
<code>public record Person(string FirstName, string LastName);</code></pre>
            <section data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"><span id="c04-sec-0042"
                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"></span>
                <h3 id="head-3-120" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1">Constraints <font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                        <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">约束</font>
                        </font>
                    </font>
                </h3>
                <p id="c04-para-0138" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1">With the previous implementation of the <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">LinkedListNode&lt;T&gt;</code>
                    and <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">LinkedList&lt;T&gt;</code>
                    types there was not a special requirement on the generic type; any type can be used. This prevents
                    you from using any nonobject members with the implementation. The compiler doesn't accept invoking
                    any property or method on the generic type <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">T</code>.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">在之前的 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">LinkedListNode&lt;T&gt;</code>
                                和 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">LinkedList&lt;T&gt;</code>
                                类型实现中，对泛型类型没有特殊要求；任何类型都可以使用。这阻止了你使用任何非对象成员进行实现。编译器不接受在泛型类型 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">T</code>
                                上调用任何属性或方法。</font>
                        </font>
                    </font>
                </p>
                <p data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1">Adding the <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">DisplayAllTitles</code>
                    method to the <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">LinkedList&lt;T&gt;</code>
                    class results in a compiler error. <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">T</code> does not contain
                    a definition for <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Title</code>, and no
                    accessible extension method <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Title</code> accepting a
                    first argument of type <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">T</code> could be found
                    (code file <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">GenericTypesWithConstraints/LinkedList.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">向 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">LinkedList&lt;T&gt;</code>
                                类添加 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">DisplayAllTitles</code>
                                方法会导致编译器错误。 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">T</code> 不包含
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Title</code>
                                的定义，并且没有找到接受类型为 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">T</code>
                                的第一个参数的可访问扩展方法 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Title</code>
                                （代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">GenericTypesWithConstraints/LinkedList.cs</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c04-code-0058"><code>  public void DisplayAllTitles()</code>
<code>  {</code>
<code>    foreach (T item in this)</code>
<code>    {</code>
<code>      Console.WriteLine(item.Title);</code>
<code>    }</code>
<code>  }</code></pre>
                <p data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1">To resolve this, the interface <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">ITitle</code> is
                    specified that defines a <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Title</code> property
                    that needs to be implemented with the implementation of this interface:<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">为解决此问题，指定了接口 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">ITitle</code>
                                ，该接口定义了一个 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Title</code>
                                属性，需要在使用该接口的实现中实现此属性：</font>
                        </font>
                    </font>
                </p>
                <pre id="c04-code-0059"><code>public interface ITitle</code>
<code>{</code>
<code>  string Title { get; }</code>
<code>}</code></pre>
                <p data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1">Defining the generic <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">LinkedList&lt;T&gt;</code>,
                    now the constraint for the generic type <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">T</code>, can be
                    specified to implement the interface <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">ITitle</code>.
                    Constraints are specified with the <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">where</code> keyword
                    followed by the requirement on the type:<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">定义泛型 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">LinkedList&lt;T&gt;</code>
                                ，现在泛型类型 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">T</code>
                                的约束可以指定为实现接口 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">ITitle</code>
                                。约束使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">where</code>
                                关键字后跟类型要求来指定：</font>
                        </font>
                    </font>
                </p>
                <pre id="c04-code-0060"><code>public class LinkedList&lt;T&gt; : IEnumerable&lt;T&gt;</code>
<code>    <b>where T : ITitle</b></code>
<code>{</code>
<code>  //…</code>
<code>}</code></pre>
                <p data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1">With this change in place, the <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">DisplayAllTitles</code>
                    method compiles. This method uses the members specified by the <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">ITitle</code> interface,
                    and this is a requirement on the generic type. You can no longer use <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">int</code> and <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">string</code> for the
                    generic type parameter, but the <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Person</code> record can
                    be changed to implement this constraint (code file <code
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">GenericTypesWithConstraints/Program.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">有了这个更改， <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">DisplayAllTitles</code>
                                方法可以编译。这个方法使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">ITitle</code>
                                接口指定的成员，这是对泛型类型的约束。你不能再使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">int</code> 和
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">string</code>
                                作为泛型类型参数，但 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Person</code>
                                记录可以改为实现这个约束（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">GenericTypesWithConstraints/Program.cs</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c04-code-0061"><code>public record Person(string FirstName, string LastName, string Title) </code>
<code>  : ITitle { }</code></pre>
                <p id="c04-para-0143" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                    data-immersive-translate-paragraph="1"><span aria-label="118" epub:type="pagebreak" id="Page_118"
                        role="doc-pagebreak"
                        data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"></span>The following
                    table lists the constraints you can specify with a generic:<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">下表列出了您可以与泛型一起指定的约束：</font>
                        </font>
                    </font>
                </p>
                <table border="1" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                    <thead data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                        <tr data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                            <th class="left bgcolor2" scope="col">CONSTRAINT</th>
                            <th class="left bgcolor2" scope="col">DESCRIPTION</th>
                        </tr>
                    </thead>
                    <tbody data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                        <tr data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"><code
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">where T : struct</code>
                            </td>
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                                data-immersive-translate-paragraph="1">With a struct constraint, <code
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">T</code> must
                                be a value type.<font class="notranslate immersive-translate-target-wrapper"
                                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                    <font
                                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                        data-immersive-translate-translation-element-mark="1">
                                        <font
                                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                            data-immersive-translate-translation-element-mark="1">使用结构体约束时， <code
                                                xmlns="http://www.w3.org/1999/xhtml"
                                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">T</code>
                                            必须是值类型。</font>
                                    </font>
                                </font>
                            </td>
                        </tr>
                        <tr data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"><code
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">where T : class</code>
                            </td>
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                                data-immersive-translate-paragraph="1">With a class constraint, <code
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">T</code> must
                                be a reference type.<font class="notranslate immersive-translate-target-wrapper"
                                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                    <font
                                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                        data-immersive-translate-translation-element-mark="1">
                                        <font
                                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                            data-immersive-translate-translation-element-mark="1">使用类约束时， <code
                                                xmlns="http://www.w3.org/1999/xhtml"
                                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">T</code>
                                            必须是指类型。</font>
                                    </font>
                                </font>
                            </td>
                        </tr>
                        <tr data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"><code
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">where T : class?</code>
                            </td>
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                                data-immersive-translate-paragraph="1"><code
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">T</code> must
                                be a nullable or a non-nullable reference type.<font
                                    class="notranslate immersive-translate-target-wrapper"
                                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                    <font
                                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                        data-immersive-translate-translation-element-mark="1">
                                        <font
                                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                            data-immersive-translate-translation-element-mark="1"> <code
                                                xmlns="http://www.w3.org/1999/xhtml"
                                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">T</code>
                                            必须是可空或不可空的指类型。</font>
                                    </font>
                                </font>
                            </td>
                        </tr>
                        <tr data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"><code
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">where T : notnull</code>
                            </td>
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                                data-immersive-translate-paragraph="1"><code
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">T</code> must
                                be a non-nullable type. This can be a value or a reference type.<font
                                    class="notranslate immersive-translate-target-wrapper"
                                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                    <font
                                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                        data-immersive-translate-translation-element-mark="1">
                                        <font
                                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                            data-immersive-translate-translation-element-mark="1"> <code
                                                xmlns="http://www.w3.org/1999/xhtml"
                                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">T</code>
                                            必须是非空类型。这可以是值类型或指类型。</font>
                                    </font>
                                </font>
                            </td>
                        </tr>
                        <tr data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"><code
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">where T : unmanaged</code>
                            </td>
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                                data-immersive-translate-paragraph="1"><code
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">T</code> must
                                be a non-nullable unmanaged type.<font
                                    class="notranslate immersive-translate-target-wrapper"
                                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                    <font
                                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                        data-immersive-translate-translation-element-mark="1">
                                        <font
                                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                            data-immersive-translate-translation-element-mark="1"> <code
                                                xmlns="http://www.w3.org/1999/xhtml"
                                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">T</code>
                                            必须是非空值类型。</font>
                                    </font>
                                </font>
                            </td>
                        </tr>
                        <tr data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"><code
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">where T : IFoo</code>
                            </td>
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                                data-immersive-translate-paragraph="1">This specifies that the type <code
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">T</code> is
                                required to implement interface <code
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">IFoo</code>.
                                <font class="notranslate immersive-translate-target-wrapper"
                                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                    <font
                                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                        data-immersive-translate-translation-element-mark="1">
                                        <font
                                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                            data-immersive-translate-translation-element-mark="1">这指定了类型 <code
                                                xmlns="http://www.w3.org/1999/xhtml"
                                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">T</code>
                                            需要实现接口 <code xmlns="http://www.w3.org/1999/xhtml"
                                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">IFoo</code>
                                            。</font>
                                    </font>
                                </font>
                            </td>
                        </tr>
                        <tr data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"><code
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">where T : Foo</code>
                            </td>
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                                data-immersive-translate-paragraph="1">This specifies that the type <code
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">T</code> is
                                required to derive from base class <code
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Foo</code>.
                                <font class="notranslate immersive-translate-target-wrapper"
                                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                    <font
                                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                        data-immersive-translate-translation-element-mark="1">
                                        <font
                                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                            data-immersive-translate-translation-element-mark="1">这指定了类型 <code
                                                xmlns="http://www.w3.org/1999/xhtml"
                                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">T</code>
                                            必须从基类 <code xmlns="http://www.w3.org/1999/xhtml"
                                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">Foo</code>
                                            派生。</font>
                                    </font>
                                </font>
                            </td>
                        </tr>
                        <tr data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"><code
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">where T : new()</code>
                            </td>
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                                data-immersive-translate-paragraph="1">A constructor constraint; this specifies that
                                <code data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">T</code>
                                must have a parameterless constructor. You cannot specify a constraint for constructors
                                with parameters.<font class="notranslate immersive-translate-target-wrapper"
                                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                    <font
                                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                        data-immersive-translate-translation-element-mark="1">
                                        <font
                                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                            data-immersive-translate-translation-element-mark="1">构造函数约束；这指定了 <code
                                                xmlns="http://www.w3.org/1999/xhtml"
                                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">T</code>
                                            必须有一个无参数的构造函数。您不能为带参数的构造函数指定约束。</font>
                                    </font>
                                </font>
                            </td>
                        </tr>
                        <tr data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"><code
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">where T1 : T2</code>
                            </td>
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                                data-immersive-translate-paragraph="1">With constraints, it is also possible to specify
                                that type <code
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">T1</code>
                                derives from a generic type <code
                                    data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">T2</code>.
                                <font class="notranslate immersive-translate-target-wrapper"
                                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                    <font
                                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                        data-immersive-translate-translation-element-mark="1">
                                        <font
                                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                            data-immersive-translate-translation-element-mark="1">使用约束，还可以指定类型 <code
                                                xmlns="http://www.w3.org/1999/xhtml"
                                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">T1</code>
                                            派生自泛型类型 <code xmlns="http://www.w3.org/1999/xhtml"
                                                data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">T2</code>
                                            。</font>
                                    </font>
                                </font>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </section>
        </section>
        <section aria-labelledby="head-2-40" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82">
            <span id="c04-sec-0043" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"></span>
            <h2 id="head-2-40" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                data-immersive-translate-paragraph="1">SUMMARY<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                    <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">摘要</font>
                    </font>
                </font>
            </h2>
            <p id="c04-para-0145" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                data-immersive-translate-paragraph="1">This chapter described how to code inheritance in C#. You saw the
                rich support for both implementing multiple interfaces and single inheritance with classes and records.
                You saw how C# provides a number of useful syntactical constructs designed to assist in making code more
                robust, which includes different access modifiers, and the concept of nonvirtual and virtual methods.
                You also saw the new feature for interfaces, which allows adding code implementation. Generics have been
                covered as another concept to reuse code.<font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">本章介绍了如何在 C#
                            中编写继承代码。您看到了对实现多个接口和类与记录的单继承的丰富支持。您了解了 C#
                            如何提供多种有用的语法结构来帮助使代码更健壮，这包括不同的访问修饰符和非虚方法与虚方法的概念。您还看到了接口的新功能，它允许添加代码实现。泛型也被作为另一个概念来重用代码。
                        </font>
                    </font>
                </font>
            </p>
            <p id="c04-para-0146" data-immersive-translate-walked="9158227a-e190-4d6a-99a5-80c200bd1a82"
                data-immersive-translate-paragraph="1">The next chapter continues with all the C# operators and casts.
                <font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">下一章将继续介绍所有 C#运算符和类型转换。</font>
                    </font>
                </font>
            </p>
        </section>
    </section>
</body>
<div id="immersive-translate-popup" style="all: initial"></div>

</html>