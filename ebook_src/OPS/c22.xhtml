<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops"
    xmlns:svg="http://www.w3.org/2000/svg" epub:prefix="index: http://www.index.com/" lang="en" xml:lang="en"
    imt-state="dual" imt-trans-position="after">

<head>
    <title>22 本地化 --- 22 Localization</title>
    <link href="WileyTemplate_v5.5.css" rel="stylesheet" type="text/css" />
    <meta content="urn:uuid:e0000000-0000-0000-0000-000006715209" name="Adept.expected.resource" />
    <style data-id="immersive-translate-input-injected-css">
        .immersive-translate-input {
            position: absolute;
            top: 0;
            right: 0;
            left: 0;
            bottom: 0;
            z-index: 2147483647;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .immersive-translate-attach-loading::after {
            content: " ";

            --loading-color: #f78fb6;
            width: 6px;
            height: 6px;
            border-radius: 50%;
            display: block;
            margin: 12px auto;
            position: relative;
            color: white;
            left: -100px;
            box-sizing: border-box;
            animation: immersiveTranslateShadowRolling 1.5s linear infinite;

            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-2000%, -50%);
            z-index: 100;
        }

        .immersive-translate-loading-spinner {
            vertical-align: middle !important;
            width: 10px !important;
            height: 10px !important;
            display: inline-block !important;
            margin: 0 4px !important;
            border: 2px rgba(221, 244, 255, 0.6) solid !important;
            border-top: 2px rgba(0, 0, 0, 0.375) solid !important;
            border-left: 2px rgba(0, 0, 0, 0.375) solid !important;
            border-radius: 50% !important;
            padding: 0 !important;
            -webkit-animation: immersive-translate-loading-animation 0.6s infinite linear !important;
            animation: immersive-translate-loading-animation 0.6s infinite linear !important;
        }

        @-webkit-keyframes immersive-translate-loading-animation {
            from {
                -webkit-transform: rotate(0deg);
            }

            to {
                -webkit-transform: rotate(359deg);
            }
        }

        @keyframes immersive-translate-loading-animation {
            from {
                transform: rotate(0deg);
            }

            to {
                transform: rotate(359deg);
            }
        }

        .immersive-translate-input-loading {
            --loading-color: #f78fb6;
            width: 6px;
            height: 6px;
            border-radius: 50%;
            display: block;
            margin: 12px auto;
            position: relative;
            color: white;
            left: -100px;
            box-sizing: border-box;
            animation: immersiveTranslateShadowRolling 1.5s linear infinite;
        }

        @keyframes immersiveTranslateShadowRolling {
            0% {
                box-shadow: 0px 0 rgba(255, 255, 255, 0), 0px 0 rgba(255, 255, 255, 0),
                    0px 0 rgba(255, 255, 255, 0), 0px 0 rgba(255, 255, 255, 0);
            }

            12% {
                box-shadow: 100px 0 var(--loading-color), 0px 0 rgba(255, 255, 255, 0),
                    0px 0 rgba(255, 255, 255, 0), 0px 0 rgba(255, 255, 255, 0);
            }

            25% {
                box-shadow: 110px 0 var(--loading-color), 100px 0 var(--loading-color),
                    0px 0 rgba(255, 255, 255, 0), 0px 0 rgba(255, 255, 255, 0);
            }

            36% {
                box-shadow: 120px 0 var(--loading-color), 110px 0 var(--loading-color),
                    100px 0 var(--loading-color), 0px 0 rgba(255, 255, 255, 0);
            }

            50% {
                box-shadow: 130px 0 var(--loading-color), 120px 0 var(--loading-color),
                    110px 0 var(--loading-color), 100px 0 var(--loading-color);
            }

            62% {
                box-shadow: 200px 0 rgba(255, 255, 255, 0), 130px 0 var(--loading-color),
                    120px 0 var(--loading-color), 110px 0 var(--loading-color);
            }

            75% {
                box-shadow: 200px 0 rgba(255, 255, 255, 0), 200px 0 rgba(255, 255, 255, 0),
                    130px 0 var(--loading-color), 120px 0 var(--loading-color);
            }

            87% {
                box-shadow: 200px 0 rgba(255, 255, 255, 0), 200px 0 rgba(255, 255, 255, 0),
                    200px 0 rgba(255, 255, 255, 0), 130px 0 var(--loading-color);
            }

            100% {
                box-shadow: 200px 0 rgba(255, 255, 255, 0), 200px 0 rgba(255, 255, 255, 0),
                    200px 0 rgba(255, 255, 255, 0), 200px 0 rgba(255, 255, 255, 0);
            }
        }

        .immersive-translate-toast {
            display: flex;
            position: fixed;
            z-index: 2147483647;
            left: 0;
            right: 0;
            top: 1%;
            width: fit-content;
            padding: 12px 20px;
            margin: auto;
            overflow: auto;
            background: #fef6f9;
            box-shadow: 0px 4px 10px 0px rgba(0, 10, 30, 0.06);
            font-size: 15px;
            border-radius: 8px;
            color: #333;
        }

        .immersive-translate-toast-content {
            display: flex;
            flex-direction: row;
            align-items: center;
        }

        .immersive-translate-toast-hidden {
            margin: 0 20px 0 72px;
            text-decoration: underline;
            cursor: pointer;
        }

        .immersive-translate-toast-close {
            color: #666666;
            font-size: 20px;
            font-weight: bold;
            padding: 0 10px;
            cursor: pointer;
        }

        @media screen and (max-width: 768px) {
            .immersive-translate-toast {
                top: 0;
                padding: 12px 0px 0 10px;
            }

            .immersive-translate-toast-content {
                flex-direction: column;
                text-align: center;
            }

            .immersive-translate-toast-hidden {
                margin: 10px auto;
            }
        }

        .immersive-translate-modal {
            display: none;
            position: fixed;
            z-index: 2147483647;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgb(0, 0, 0);
            background-color: rgba(0, 0, 0, 0.4);
            font-size: 15px;
        }

        .immersive-translate-modal-content {
            background-color: #fefefe;
            margin: 10% auto;
            padding: 40px 24px 24px;
            border: 1px solid #888;
            border-radius: 10px;
            width: 80%;
            max-width: 270px;
            font-family: system-ui, -apple-system, "Segoe UI", "Roboto", "Ubuntu",
                "Cantarell", "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji",
                "Segoe UI Symbol", "Noto Color Emoji";
            position: relative;
        }

        @media screen and (max-width: 768px) {
            .immersive-translate-modal-content {
                margin: 50% auto !important;
            }
        }

        .immersive-translate-modal .immersive-translate-modal-content-in-input {
            max-width: 500px;
        }

        .immersive-translate-modal-content-in-input .immersive-translate-modal-body {
            text-align: left;
            max-height: unset;
        }

        .immersive-translate-modal-title {
            text-align: center;
            font-size: 16px;
            font-weight: 700;
            color: #333333;
        }

        .immersive-translate-modal-body {
            text-align: center;
            font-size: 14px;
            font-weight: 400;
            color: #333333;
            word-break: break-all;
            margin-top: 24px;
        }

        @media screen and (max-width: 768px) {
            .immersive-translate-modal-body {
                max-height: 250px;
                overflow-y: auto;
            }
        }

        .immersive-translate-close {
            color: #666666;
            position: absolute;
            right: 16px;
            top: 16px;
            font-size: 20px;
            font-weight: bold;
        }

        .immersive-translate-close:hover,
        .immersive-translate-close:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }

        .immersive-translate-modal-footer {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 24px;
        }

        .immersive-translate-btn {
            width: fit-content;
            color: #fff;
            background-color: #ea4c89;
            border: none;
            font-size: 16px;
            margin: 0 8px;
            padding: 9px 30px;
            border-radius: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        .immersive-translate-btn:hover {
            background-color: #f082ac;
        }

        .immersive-translate-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .immersive-translate-btn:disabled:hover {
            background-color: #ea4c89;
        }

        .immersive-translate-cancel-btn {
            /* gray color */
            background-color: rgb(89, 107, 120);
        }

        .immersive-translate-cancel-btn:hover {
            background-color: hsl(205, 20%, 32%);
        }

        .immersive-translate-action-btn {
            background-color: transparent;
            color: #ea4c89;
            border: 1px solid #ea4c89;
        }

        .immersive-translate-btn svg {
            margin-right: 5px;
        }

        .immersive-translate-link {
            cursor: pointer;
            user-select: none;
            -webkit-user-drag: none;
            text-decoration: none;
            color: #007bff;
            -webkit-tap-highlight-color: rgba(0, 0, 0, 0.1);
        }

        .immersive-translate-primary-link {
            cursor: pointer;
            user-select: none;
            -webkit-user-drag: none;
            text-decoration: none;
            color: #ea4c89;
            -webkit-tap-highlight-color: rgba(0, 0, 0, 0.1);
        }

        .immersive-translate-modal input[type="radio"] {
            margin: 0 6px;
            cursor: pointer;
        }

        .immersive-translate-modal label {
            cursor: pointer;
        }

        .immersive-translate-close-action {
            position: absolute;
            top: 2px;
            right: 0px;
            cursor: pointer;
        }

        .imt-image-status {
            background-color: rgba(0, 0, 0, 0.5) !important;
            display: flex !important;
            flex-direction: column !important;
            align-items: center !important;
            justify-content: center !important;
            border-radius: 16px !important;
        }

        .imt-image-status img,
        .imt-image-status svg,
        .imt-img-loading {
            width: 28px !important;
            height: 28px !important;
            margin: 0 0 8px 0 !important;
            min-height: 28px !important;
            min-width: 28px !important;
            position: relative !important;
        }

        .imt-img-loading {
            background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4CAMAAACfWMssAAAAtFBMVEUAAAD////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////oK74hAAAAPHRSTlMABBMIDyQXHwyBfFdDMSw+OjXCb+5RG51IvV/k0rOqlGRM6KKMhdvNyZBz9MaupmxpWyj437iYd/yJVNZeuUC7AAACt0lEQVRIx53T2XKiUBCA4QYOiyCbiAsuuGBcYtxiYtT3f6/pbqoYHVFO5r+iivpo6DpAWYpqeoFfr9f90DsYAuRSWkFnPO50OgR9PwiCUFcl2GEcx+N/YBh6pvKaefHlUgZd1zVe0NbYcQjGBfzrPE8Xz8aF+71D8gG6DHFPpc4a7xFiCDuhaWgKgGIJQ3d5IMGDrpS4S5KgpIm+en9f6PlAhKby4JwEIxlYJV9h5k5nee9GoxHJ2IDSNB0dwdad1NAxDJ/uXDHYmebdk4PdbkS58CIVHdYSUHTYYRWOJblWSyu2lmy3KNFVJNBhxcuGW4YBVCbYGRZwIooipHsNqjM4FbgOQqQqSKQQU9V8xmi1QlgHqQQ6DDBvRUVCDirs+EzGDGOQTCATgtYTnbCVLgsVgRE0T1QE0qHCFAht2z6dLvJQs3Lo2FQoDxWNUiBhaP4eRgwNkI+dAjVOA/kUrIDwf3CG8NfNOE0eiFotSuo+rBiq8tD9oY4Qzc6YJw99hl1wzpQvD7ef2M8QgnOGJfJw+EltQc+oX2yn907QB22WZcvlUpd143dqQu+8pCJZuGE4xCuPXJqqcs5sNpsI93Rmzym1k4Npk+oD1SH3/a3LOK/JpUBpWfqNySxWzCfNCUITuDG5dtuphrUJ1myeIE9bIsPiKrfqTai5WZxbhtNphYx6GEIHihyGFTI69lje/rxajdh0s0msZ0zYxyPLhYCb1CyHm9Qsd2H37Y3lugVwL9kNh8Ot8cha6fUNQ8nuXi5z9/ExsAO4zQrb/ev1yrCB7lGyQzgYDGuxq1toDN/JGvN+HyWNHKB7zEoK+PX11e12G431erGYzwmytAWU56fkMHY5JJnDRR2eZji3AwtIcrEV8Cojat/BdQ7XOwGV1e1hDjGGjXbdArm8uJZtCH5MbcctVX8A1WpqumJHwckAAAAASUVORK5CYII=");
            background-size: 28px 28px;
            animation: image-loading-rotate 1s linear infinite !important;
        }

        .imt-image-status span {
            color: var(--bg-2, #fff) !important;
            font-size: 14px !important;
            line-height: 14px !important;
            font-weight: 500 !important;
            font-family: "PingFang SC", Arial, sans-serif !important;
        }

        @keyframes image-loading-rotate {
            from {
                transform: rotate(360deg);
            }

            to {
                transform: rotate(0deg);
            }
        }
    </style>
    <style data-id="immersive-translate-default-injected-css">
        :root {
            --immersive-translate-theme-underline-borderColor: #72ece9;
            --immersive-translate-theme-nativeUnderline-borderColor: #72ece9;
            --immersive-translate-theme-nativeDashed-borderColor: #72ece9;
            --immersive-translate-theme-nativeDotted-borderColor: #72ece9;
            --immersive-translate-theme-highlight-backgroundColor: #ffff00;
            --immersive-translate-theme-dashed-borderColor: #59c1bd;
            --immersive-translate-theme-blockquote-borderColor: #cc3355;
            --immersive-translate-theme-thinDashed-borderColor: #ff374f;
            --immersive-translate-theme-dashedBorder-borderColor: #94a3b8;
            --immersive-translate-theme-dashedBorder-borderRadius: 0;
            --immersive-translate-theme-solidBorder-borderColor: #94a3b8;
            --immersive-translate-theme-solidBorder-borderRadius: 0;
            --immersive-translate-theme-dotted-borderColor: #94a3b8;
            --immersive-translate-theme-wavy-borderColor: #72ece9;
            --immersive-translate-theme-dividingLine-borderColor: #94a3b8;
            --immersive-translate-theme-grey-textColor: #2f4f4f;
            --immersive-translate-theme-marker-backgroundColor: #fbda41;
            --immersive-translate-theme-marker-backgroundColor-rgb: 251, 218, 65;
            --immersive-translate-theme-marker2-backgroundColor: #ffff00;
            --immersive-translate-theme-background-backgroundColor: #dbafaf;
            --immersive-translate-theme-background-backgroundColor-rgb: 219, 175, 175;
            --immersive-translate-theme-background-backgroundOpacity: 12;
            --immersive-translate-theme-opacity-opacity: 10;
        }

        [imt-state="dual"] .immersive-translate-target-translation-pre-whitespace {
            white-space: pre-wrap !important;
        }

        [imt-state="dual"] .immersive-translate-pdf-target-container {
            position: absolute;
            background-color: #fff;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica,
                sans-serif;
            top: 0;
            width: 600px;
            height: 100%;
            z-index: 2;
            line-height: 1.3;
            font-size: 16px;
        }

        [imt-state="dual"] .immersive-translate-target-wrapper[dir="rtl"] {
            text-align: right;
        }

        [imt-state="dual"] .immersive-translate-pdf-target-container .immersive-translate-target-wrapper {
            color: rgb(0, 0, 0);
            white-space: normal;
            position: absolute;
        }

        [imt-state="dual"] .immersive-translate-pdf-target-container .immersive-translate-target-wrapper font {
            color: inherit;
            white-space: inherit;
            position: unset;
        }

        [imt-state="translation"] .immersive-translate-target-wrapper &gt;

        br {
            display: none;
        }

        [imt-state="translation"] .immersive-translate-target-translation-block-wrapper {
            margin: 0 !important;
        }

        [imt-state="dual"] .immersive-translate-target-translation-block-wrapper {
            margin: 8px 0 !important;
            display: inline-block;
        }

        [imt-trans-position="before"] .immersive-translate-target-translation-block-wrapper {
            display: block;
        }

        [imt-trans-position="before"] .immersive-translate-target-translation-block-wrapper {
            margin-top: 0 !important;
        }

        [imt-state="dual"] .immersive-translate-target-translation-pdf-block-wrapper {
            margin: 0 !important;
            display: inline-block;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-grey-inner {
            color: var(--immersive-translate-theme-grey-textColor);
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-underline-inner {
            border-bottom: 1px solid var(--immersive-translate-theme-underline-borderColor) !important;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-nativeUnderline-inner {
            text-decoration: underline !important;
            text-decoration-color: var(--immersive-translate-theme-nativeUnderline-borderColor) !important;
        }

        [imt-state="dual"] .immersive-translate-target-translation-block-wrapper-theme-dashedBorder {
            border: 1px dashed var(--immersive-translate-theme-dashedBorder-borderColor) !important;
            border-radius: var(--immersive-translate-theme-dashedBorder-borderRadius) !important;
            padding: 6px;
            margin-top: 2px;
            display: inline-block;
        }

        [imt-state="dual"] .immersive-translate-target-translation-inline-wrapper-theme-dashedBorder {
            border: 1px dashed var(--immersive-translate-theme-dashedBorder-borderColor) !important;
            border-radius: var(--immersive-translate-theme-dashedBorder-borderRadius) !important;
            padding: 2px;
        }

        [imt-state="dual"] .immersive-translate-target-translation-block-wrapper-theme-solidBorder {
            border: 1px solid var(--immersive-translate-theme-solidBorder-borderColor) !important;
            border-radius: var(--immersive-translate-theme-solidBorder-borderRadius) !important;
            padding: 6px;
            margin-top: 2px;
            display: inline-block;
        }

        [imt-state="dual"] .immersive-translate-target-translation-inline-wrapper-theme-solidBorder {
            border: 1px solid var(--immersive-translate-theme-solidBorder-borderColor) !important;
            border-radius: var(--immersive-translate-theme-solidBorder-borderRadius) !important;
            padding: 2px;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-nativeDashed-inner {
            text-decoration: underline !important;
            text-decoration-color: var(--immersive-translate-theme-nativeDashed-borderColor) !important;
            text-decoration-style: dashed !important;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-thinDashed-inner {
            border-bottom: 1px dashed var(--immersive-translate-theme-thinDashed-borderColor) !important;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-dotted-inner {
            background-image: linear-gradient(to right,
                    var(--immersive-translate-theme-dotted-borderColor) 30%,
                    rgba(255, 255, 255, 0) 0%);
            background-position: bottom;
            background-size: 5px 1px;
            background-repeat: repeat-x;
            padding-bottom: 3px;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-nativeDotted-inner {
            text-decoration: underline !important;
            text-decoration-color: var(--immersive-translate-theme-nativeDotted-borderColor) !important;
            text-decoration-style: dotted !important;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-wavy-inner {
            text-decoration: underline !important;
            text-decoration-color: var(--immersive-translate-theme-wavy-borderColor) !important;
            text-decoration-style: wavy !important;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-dashed-inner {
            background: linear-gradient(to right,
                    var(--immersive-translate-theme-dashed-borderColor) 0%,
                    var(--immersive-translate-theme-dashed-borderColor) 50%,
                    transparent 50%,
                    transparent 100%) repeat-x left bottom;
            background-size: 8px 2px;
            padding-bottom: 2px;
        }

        [imt-state="dual"] .immersive-translate-target-translation-block-wrapper-theme-dividingLine::before {
            content: "";
            display: block;
            max-width: 80px;
            width: 10%;
            border-top: 1px dashed var(--immersive-translate-theme-dividingLine-borderColor);
            padding-top: 8px;
        }

        [imt-state="dual"] .immersive-translate-target-translation-inline-wrapper-theme-dividingLine::before {
            content: "";
            border-left: 1px dashed var(--immersive-translate-theme-dividingLine-borderColor);
            max-height: 16px;
            height: 16px;
            padding-left: 8px;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-highlight-inner {
            background: var(--immersive-translate-theme-highlight-backgroundColor);
            box-decoration-break: clone;
            -webkit-box-decoration-break: clone;
        }

        [imt-state="dual"] .immersive-translate-target-translation-block-wrapper-theme-marker {
            line-height: 1.5em;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-marker2-inner {
            font-weight: bold;
            text-shadow: 10px 0px 3px var(--immersive-translate-theme-marker2-backgroundColor),
                16px 3px 9px var(--immersive-translate-theme-marker2-backgroundColor),
                2px 0px 6px var(--immersive-translate-theme-marker2-backgroundColor),
                -12px 0px 12px var(--immersive-translate-theme-marker2-backgroundColor) !important;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-marker-inner {
            /* TODO: add more texture */
            background: linear-gradient(to right,
                    rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.1),
                    rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 3%,
                    rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 35%,
                    rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 70%,
                    rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.8) 95%,
                    rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.3));
            box-decoration-break: clone;
            -webkit-box-decoration-break: clone;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-weakening {
            opacity: 0.618 !important;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-italic {
            font-style: italic !important;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-bold {
            font-weight: bold !important;
        }

        [imt-state="dual"] .immersive-translate-target-translation-block-wrapper-theme-paper {
            margin: 8px 0;
            box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;
            padding: 16px 32px;
            display: inline-block;
        }

        [imt-state="dual"] .immersive-translate-target-translation-block-wrapper-theme-blockquote {
            border-left: 4px solid var(--immersive-translate-theme-blockquote-borderColor) !important;
            padding-left: 12px !important;
            margin-top: 4px;
            margin-bottom: 4px;
            padding-top: 4px;
            padding-bottom: 4px;
            display: inline-block;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-mask-inner {
            filter: blur(5px) !important;
            transition: filter 0.3s ease !important;
            border-radius: 10px;
            display: inline-block;
        }

        [data-immersive-translate-root-translation-theme="none"] .immersive-translate-target-translation-theme-mask-inner {
            filter: none !important;
        }

        [data-immersive-translate-root-translation-theme="mask"] .immersive-translate-target-inner {
            filter: blur(5px) !important;
            transition: filter 0.3s ease !important;
            border-radius: 10px;
            display: inline-block;
        }

        /* opacity theme start */

        [imt-state="dual"] .immersive-translate-target-translation-theme-opacity-inner {
            filter: opacity(calc(var(--immersive-translate-theme-opacity-opacity) * 1%)) !important;
            transition: filter 0.3s ease !important;
            border-radius: 10px;
            display: inline-block;
        }

        [data-immersive-translate-root-translation-theme="none"] .immersive-translate-target-translation-theme-opacity-inner {
            filter: none !important;
        }

        [data-immersive-translate-root-translation-theme="opacity"] .immersive-translate-target-inner,
        [imt-state="dual"] .immersive-translate-target-translation-theme-opacity-inner:hover {
            filter: opacity(calc(var(--immersive-translate-theme-opacity-opacity) * 1%)) !important;
            transition: filter 0.3s ease !important;
            border-radius: 10px;
            display: inline-block;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-opacity-inner:hover {
            filter: none !important;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-mask-inner:hover {
            filter: none !important;
        }

        [data-immersive-translate-root-translation-theme="opacity"] .immersive-translate-target-inner:hover {
            filter: none !important;
        }

        [data-immersive-translate-root-translation-theme="mask"] .immersive-translate-target-inner:hover {
            filter: none !important;
        }

        /* opacity theme end */

        /* background theme start */
        [imt-state="dual"] .immersive-translate-target-translation-block-wrapper-theme-background {
            margin: 8px 0;
            background: rgba(var(--immersive-translate-theme-background-backgroundColor-rgb),
                    calc(var(--immersive-translate-theme-background-backgroundOpacity) * 1%));
            border-radius: 4px;
            box-shadow: unset !important;
            padding: 12px;
            display: inline-block;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-background-inner {
            background: rgba(var(--immersive-translate-theme-background-backgroundColor-rgb),
                    calc(var(--immersive-translate-theme-background-backgroundOpacity) * 1%));
            padding-left: 6px;
            padding-right: 6px;
            box-decoration-break: clone;
            -webkit-box-decoration-break: clone;
        }

        [imt-state="dual"] .immersive-translate-target-translation-block-wrapper .immersive-translate-target-translation-theme-background-inner {
            background: unset;
            padding-left: unset;
            padding-right: unset;
        }

        /* background theme end */

        /* vertical css , please remain it in the last one. */
        .immersive-translate-target-translation-vertical-block-wrapper {
            margin: 0px 8px !important;
        }

        .immersive-translate-text {
            font-size: 15px !important;
        }

        .immersive-translate-error-toast {
            position: fixed;
            top: 5%;
            z-index: 99999999;
            left: 0;
            right: 0;
            margin: auto;
            max-width: 300px;
            padding: 16px;
            border-radius: 12px;
            background-color: rgba(0, 0, 0, 0.8);
            display: flex;
            flex-direction: row;
            justify-content: space-between;
        }

        @media all and (min-width: 750px) {
            .immersive-translate-error-toast {
                max-width: 400px;
            }
        }

        .immersive-translate-clickable-button {
            cursor: pointer;
        }

        .immersive-translate-help-button {
            cursor: pointer;
        }

        .immersive-translate-loading-text:before {
            content: "...";
        }

        /* dark mode for loading */

        @media only screen and (prefers-color-scheme: dark) {
            .immersive-translate-loading {
                border: 2px rgba(255, 255, 255, 0.25) solid !important;
                border-top: 2px rgba(255, 255, 255, 1) solid !important;
            }
        }

        .immersive-translate-error-wrapper {
            position: relative;
            display: inline-flex;
            padding: 6px;
            margin: 0 12px;
            white-space: nowrap;
            font-size: 0.9em;
        }

        [lang="zh-CN"] .immersive-translate-error-wrapper {
            font-size: 0.75em;
        }

        [lang="zh-TW"] .immersive-translate-error-wrapper {
            font-size: 0.75em;
        }

        .immersive-translate-tooltip {
            position: relative;
            display: inline-flex;
            /* little indicater to indicate it's hoverable */
        }

        .immersive-translate-tooltip-content {
            /* here's the magic */
            position: absolute;
            z-index: 100000000000;

            left: 50%;
            bottom: 0;
            transform: translate(-50%, 110%);
            line-height: 1;
            /* and add a small left margin */

            /* basic styles */
            width: max-content;
            max-width: 250px;
            word-wrap: break-word;
            white-space: pre-line;
            padding: 10px;
            border-radius: 10px;
            background: #000c;
            color: #fff;
            text-align: center;
            font-size: 14px;
            display: none;
            /* hide by default */
        }

        .immersive-translate-tooltip:hover .immersive-translate-tooltip-content {
            display: inline-block;
        }

        .immersive-translate-tooltip:hover+.immersive-translate-tooltip-content {
            display: inline-block;
        }

        .immersive-translate-tooltip-content-table {
            left: unset !important;
            bottom: unset !important;
            transform: translate(-10%, 50%) !important;
        }

        .immersive-translate-tooltip:hover:before {
            display: inline-block;
        }

        .immersive-translate-loading-spinner {
            vertical-align: middle !important;
            width: 10px !important;
            height: 10px !important;
            display: inline-block !important;
            margin: 0 4px !important;
            border: 2px rgba(221, 244, 255, 0.6) solid !important;
            border-top: 2px rgba(0, 0, 0, 0.375) solid !important;
            border-left: 2px rgba(0, 0, 0, 0.375) solid !important;
            border-radius: 50% !important;
            padding: 0 !important;
            -webkit-animation: immersive-translate-loading-animation 0.6s infinite linear !important;
            animation: immersive-translate-loading-animation 0.6s infinite linear !important;
        }

        @-webkit-keyframes immersive-translate-loading-animation {
            from {
                -webkit-transform: rotate(0deg);
            }

            to {
                -webkit-transform: rotate(359deg);
            }
        }

        @keyframes immersive-translate-loading-animation {
            from {
                transform: rotate(0deg);
            }

            to {
                transform: rotate(359deg);
            }
        }

        .imt-image-status {
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: var(--bg-2, #fff);
            font-size: 14px;
        }
    </style>
    <style data-id="immersive-translate-user-custom-style">
        :root {

            .immersive-translate-target-inner {
                font-family: inherit;
            }


            .immersive-translate-target-inner {
                font-family: inherit;
            }
        }
    </style>
    <style data-id="immersive-translate-dynamic-injected-css">
        .immersive-translate-target-wrapper[dir='rtl'] {
            text-align: right;
        }

        .immersive-translate-target-wrapper[dir='rtl'] [data-immersive-translate-class-bak*='block-wrapper'] {
            display: block;
        }

        .immersive-translate-target-wrapper {
            word-break: break-word;
            user-select: text;
        }

        [imt-state="translation"] .immersive-translate-target-wrapper[dir='rtl'] {
            display: inline-block;
        }

        [dir='rtl'] .immersive-translate-target-wrapper:not([dir]) {
            text-align: left;
        }

        [imt-state=dual] .immersive-translate-target-translation-block-wrapper-theme-dividingLine::before {
            display: block;
        }

        [imt-trans-position=before] .immersive-translate-target-translation-block-wrapper {
            display: block !important;
        }

        [imt-state][data-immersive-translate_rtl] .immersive-translate-target-wrapper {
            display: block !important;
        }
    </style>
</head>

<body epub:type="bodymatter" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">
    <section aria-labelledby="c22_1" epub:type="chapter" role="doc-chapter"
        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">
        <header data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">
            <h1 id="c22_1" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                data-immersive-translate-paragraph="1"><span aria-label="644" epub:type="pagebreak" id="Page_644"
                    role="doc-pagebreak"
                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"></span><span id="c22"
                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"></span><span
                    class="chapterNumber"
                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">22</span><br /><span
                    class="chapterTitle"
                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Localization</span>
                <font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                    <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">22 本地化</font>
                    </font>
                </font>
            </h1>
        </header>
        <section aria-label="chapter opening" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">
            <span id="c22-sec-0001" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"></span>
            <aside data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">
                <div class="top hr" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">
                    <hr />
                </div>
                <section class="feature3" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">
                    <h3 data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                        data-immersive-translate-paragraph="1">WHAT'S IN THIS CHAPTER?<font
                            class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">本章包含什么内容？</font>
                            </font>
                        </font>
                    </h3>
                    <ul class="check2" id="c22-list-0001"
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">
                        <li id="c22-li-0001" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                            data-immersive-translate-paragraph="1">Formatting numbers and dates<font
                                class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">格式化数字和日期 </font>
                                </font>
                            </font>
                        </li>
                        <li id="c22-li-0002" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                            data-immersive-translate-paragraph="1">Using resources for localized content<font
                                class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">使用资源进行本地化内容 </font>
                                </font>
                            </font>
                        </li>
                        <li id="c22-li-0003" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                            data-immersive-translate-paragraph="1">Localizing ASP.NET Core Web Applications<font
                                class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">本地化 ASP.NET Core Web 应用程序
                                    </font>
                                </font>
                            </font>
                        </li>
                        <li id="c22-li-0004" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                            data-immersive-translate-paragraph="1">Localizing WinUI apps<font
                                class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                                <font class="notranslate" data-immersive-translate-translation-element-mark="1">  
                                </font>
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">本地化 WinUI 应用</font>
                                </font>
                            </font>
                        </li>
                    </ul>
                    <div class="bottom hr" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">
                        <hr />
                    </div>
                </section>
            </aside>
            <aside data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">
                <div class="top hr" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">
                    <hr />
                </div>
                <section class="feature3" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"><span
                        id="c22-fea-0001" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"></span>
                    <h3 id="head-2-204" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                        data-immersive-translate-paragraph="1">CODE DOWNLOADS FOR THIS CHAPTER<font
                            class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">本章代码下载</font>
                            </font>
                        </font>
                    </h3>
                    <section data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"><span
                            id="c22-sec-0003"
                            data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"></span>
                        <p id="c22-para-0003" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                            data-immersive-translate-paragraph="1">The source code for this chapter is available on the
                            book page at <code
                                data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"><a href="http://www.wiley.com">www.wiley.com</a></code>.
                            Click the Downloads link. The code can also be found at <code
                                data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"><a href="https://github.com/ProfessionalCSharp/ProfessionalCSharp2021">https://github.com/ProfessionalCSharp/ProfessionalCSharp2021</a></code>
                            in the directory <code
                                data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">2_Libs/Localization</code>.
                            <font class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">本章的源代码可在书籍页面 <code
                                            xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"><a href="http://www.wiley.com">www.wiley.com</a></code>
                                        上找到。点击下载链接。代码也可以在目录 <code xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">2_Libs/Localization</code>
                                        中的 <code xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"><a href="https://github.com/ProfessionalCSharp/ProfessionalCSharp2021">https://github.com/ProfessionalCSharp/ProfessionalCSharp2021</a></code>
                                        找到。</font>
                                </font>
                            </font>
                        </p>
                        <p data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                            data-immersive-translate-paragraph="1">The code for this chapter is divided into the
                            following major examples:<font class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">本章的代码分为以下主要示例：</font>
                                </font>
                            </font>
                        </p>
                        <ul class="check" id="c22-list-0002"
                            data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">
                            <li id="c22-li-0005" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                                data-immersive-translate-paragraph="1">NumberAndDateFormatting<font
                                    class="notranslate immersive-translate-target-wrapper"
                                    data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                                    <font class="notranslate" data-immersive-translate-translation-element-mark="1">  
                                    </font>
                                    <font
                                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                                        data-immersive-translate-translation-element-mark="1">
                                        <font
                                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                            data-immersive-translate-translation-element-mark="1">数字与日期格式化</font>
                                    </font>
                                </font>
                            </li>
                            <li id="c22-li-0006" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                                data-immersive-translate-paragraph="1">SortingDemo<font
                                    class="notranslate immersive-translate-target-wrapper"
                                    data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                                    <font class="notranslate" data-immersive-translate-translation-element-mark="1">  
                                    </font>
                                    <font
                                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                                        data-immersive-translate-translation-element-mark="1">
                                        <font
                                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                            data-immersive-translate-translation-element-mark="1">排序演示</font>
                                    </font>
                                </font>
                            </li>
                            <li id="c22-li-0007" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                                data-immersive-translate-paragraph="1">CreateResource<font
                                    class="notranslate immersive-translate-target-wrapper"
                                    data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                                    <font class="notranslate" data-immersive-translate-translation-element-mark="1">  
                                    </font>
                                    <font
                                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                                        data-immersive-translate-translation-element-mark="1">
                                        <font
                                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                            data-immersive-translate-translation-element-mark="1">创建资源</font>
                                    </font>
                                </font>
                            </li>
                            <li id="c22-li-0008" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                                data-immersive-translate-paragraph="1">WinUICultureDemo</li>
                            <li id="c22-li-0009" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                                data-immersive-translate-paragraph="1">ResourcesDemo</li>
                            <li id="c22-li-0010" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                                data-immersive-translate-paragraph="1">ASPNETCoreLocalization</li>
                            <li id="c22-li-0011" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                                data-immersive-translate-paragraph="1">WinUILocalization</li>
                        </ul>
                        <p id="c22-para-0005" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                            data-immersive-translate-paragraph="1">Samples from this chapter mainly use the namespaces
                            <code
                                data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">System.Globalization</code>
                            and <code
                                data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">System.Resources</code>.
                            All the sample projects have <i
                                data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">nullable
                                reference types</i> enabled.<font class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">本章的示例主要使用命名空间 <code
                                            xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">System.Globalization</code>
                                        和 <code xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">System.Resources</code>
                                        。所有示例项目都启用了可空引用类型。</font>
                                </font>
                            </font>
                        </p>
                    </section>
                    <div class="bottom hr" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">
                        <hr />
                    </div>
                </section>
            </aside>
        </section> <span aria-label="645" epub:type="pagebreak" id="Page_645" role="doc-pagebreak"
            data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"></span>
        <section aria-labelledby="head-2-205" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">
            <span id="c22-sec-0004" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"></span>
            <h2 id="head-2-205" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                data-immersive-translate-paragraph="1">GLOBAL MARKETS<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                    <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">全球市场 </font>
                    </font>
                </font>
            </h2>
            <p id="c22-para-0006" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                data-immersive-translate-paragraph="1">NASA's Mars Climate Orbiter was lost on September 23, 1999, at a
                cost of $125 million, because one engineering team used metric units, whereas another used inches for
                the same key spacecraft operation. When writing applications for international distribution, different
                cultures and regions must be kept in mind.<font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">美国宇航局的火星气候探测器于 1999 年 9 月 23 日失事，耗资
                            1.25 亿美元，因为一个工程团队使用公制单位，而另一个团队则对同一关键航天器操作使用英寸。在为国际市场编写应用程序时，必须考虑到不同的文化和地区。</font>
                    </font>
                </font>
            </p>
            <p id="c22-para-0007" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                data-immersive-translate-paragraph="1">Different cultures have diverging calendars and use different
                number and date formats, and sorting strings may lead to unexpected results because the order of A to Z
                is defined differently based on the culture. To make usable applications for global markets, you must
                globalize and localize them.<font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">
                            不同的文化有不同的日历，并使用不同的数字和日期格式，排序字符串可能会导致意外结果，因为根据文化定义的 A 到 Z
                            的顺序不同。为了为全球市场制作可用应用程序，你必须进行全球化并本地化它们。</font>
                    </font>
                </font>
            </p>
            <p id="c22-para-0008" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                data-immersive-translate-paragraph="1">This chapter covers the globalization and localization of .NET
                applications. <i
                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Globalization</i> relates to
                internationalizing applications: preparing applications for international markets. With globalization,
                the application supports number and date formats that vary according to culture, calendars, and so on.
                <i data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Localization</i> is about
                translating applications for specific cultures. For translations of strings, you can use resources such
                as .NET resources or WPF resource dictionaries.<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">本章涵盖了.NET
                            应用程序的全球化和本地化。全球化涉及应用程序国际化：为国际市场准备应用程序。通过全球化，应用程序支持根据文化、日历等不同的数字和日期格式。本地化是指为特定文化翻译应用程序。对于字符串的翻译，您可以使用.NET
                            资源或 WPF 资源字典等资源。</font>
                    </font>
                </font>
            </p>
            <p id="c22-para-0009" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                data-immersive-translate-paragraph="1">.NET supports globalization and localization. To globalize an
                application, you can use classes from the namespace <code
                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">System.Globalization</code>
                ; to localize an application, you can use resources supported by the namespace <code
                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">System.Resources</code>.<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">.NET 支持全球化和本地化。要全球化应用程序，您可以使用 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">System.Globalization</code>
                            命名空间中的类；要本地化应用程序，您可以使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">System.Resources</code>
                            命名空间支持的资源。</font>
                    </font>
                </font>
            </p>
        </section>
        <section aria-labelledby="head-2-206" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">
            <span id="c22-sec-0005" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"></span>
            <h2 id="head-2-206" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                data-immersive-translate-paragraph="1">NAMESPACE SYSTEM.GLOBALIZATION</h2>
            <p id="c22-para-0010" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                data-immersive-translate-paragraph="1">The <code
                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">System.Globalization</code>
                namespace holds all the culture and region classes necessary to support different date formats,
                different number formats, and even different calendars that are represented in classes such as <code
                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">GregorianCalendar</code>,
                <code data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">HebrewCalendar</code>,
                <code data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">JapaneseCalendar</code>,
                and so on. By using these classes, you can display different representations according to the user's
                locale.<font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1"> <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">System.Globalization</code>
                            命名空间包含所有支持不同日期格式、不同数字格式，甚至不同日历的文化和区域类，这些类在 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">GregorianCalendar</code>
                            、 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">HebrewCalendar</code>
                            、 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">JapaneseCalendar</code>
                            等类中表示。通过使用这些类，您可以根据用户的区域设置显示不同的表示形式。</font>
                    </font>
                </font>
            </p>
            <p data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                data-immersive-translate-paragraph="1">This section looks at the following issues and considerations
                when using the <code
                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">System.Globalization</code>
                namespace:<font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">本节探讨了在使用 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">System.Globalization</code>
                            命名空间时需要考虑的以下问题和注意事项：</font>
                    </font>
                </font>
            </p>
            <ul class="check" id="c22-list-0003" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">
                <li id="c22-li-0012" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                    data-immersive-translate-paragraph="1">Unicode issues<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                        <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">Unicode 问题</font>
                        </font>
                    </font>
                </li>
                <li id="c22-li-0013" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                    data-immersive-translate-paragraph="1">Cultures and regions<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                        <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">文化和地区</font>
                        </font>
                    </font>
                </li>
                <li id="c22-li-0014" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                    data-immersive-translate-paragraph="1">An example showing all cultures and their characteristics
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">一个展示所有文化和其特征的示例</font>
                        </font>
                    </font>
                </li>
                <li id="c22-li-0015" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                    data-immersive-translate-paragraph="1">Sorting<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                        <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">排序</font>
                        </font>
                    </font>
                </li>
            </ul>
            <section data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"><span id="c22-sec-0006"
                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"></span>
                <h3 id="head-3-433" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                    data-immersive-translate-paragraph="1">Unicode Issues <font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                        <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">Unicode 问题</font>
                        </font>
                    </font>
                </h3>
                <p id="c22-para-0012" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                    data-immersive-translate-paragraph="1">A Unicode character has 16 bits, so there is room for 65,536
                    characters. Is this enough for all languages currently used in information technology? In the case
                    of the Chinese language, for example, more than 80,000 characters are needed. Fortunately, Unicode
                    has been designed to deal with this issue. With Unicode, you must differentiate between base
                    characters and combining characters. You can add multiple combining characters to a base character
                    to build a single display character or a text element.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">一个 Unicode 字符有 16 位，因此可以容纳 65,536
                                个字符。这对于信息技术中当前使用的所有语言来说足够吗？以中文为例，例如，需要超过 80,000 个字符。幸运的是，Unicode 被设计用来处理这个问题。使用 Unicode
                                时，你必须区分基本字符和组合字符。你可以将多个组合字符添加到一个基本字符上，以构建一个单独的显示字符或文本元素。</font>
                        </font>
                    </font>
                </p>
                <p id="c22-para-0013" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                    data-immersive-translate-paragraph="1">Take, for example, the Icelandic character Ogonek. Ogonek can
                    be created by using the base character 0x006F (Latin small letter o) and the combining characters
                    0x0328 (combining Ogonek) and 0x0304 (combining Macron), as shown in <a href="#c22-fig-0001"
                        id="R_c22-fig-0001"
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Figure 22-1</a>.
                    Combining characters are defined within ranges from 0x0300 to 0x0345. For American and European
                    markets, predefined characters exist to facilitate dealing with special characters. The character
                    Ogonek is also defined by the predefined character 0x01ED.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">以冰岛字符 Ogonek 为例。Ogonek 可以通过使用基本字符
                                0x006F（拉丁小写字母 o）和组合字符 0x0328（组合 Ogonek）以及 0x0304（组合 Macron）来创建，如图 22-1 所示。组合字符定义在 0x0300
                                到 0x0345 的范围内。对于美国和欧洲市场，预定义字符存在以方便处理特殊字符。Ogonek 字符也由预定义字符 0x01ED 定义。</font>
                        </font>
                    </font>
                </p>
                <figure data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"> <img
                        alt="Snapshot of the Unicode issues." class="center" src="images/c22f001.png" />
                    <figcaption data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">
                        <p data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"><span
                                class="figureLabel"
                                data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"><a
                                    href="#R_c22-fig-0001" id="c22-fig-0001" role="doc-backlink"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"><b
                                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                                        data-immersive-translate-paragraph="1">FIGURE 22-1<font
                                            class="notranslate immersive-translate-target-wrapper"
                                            data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                                            <font class="notranslate"
                                                data-immersive-translate-translation-element-mark="1">  </font>
                                            <font
                                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                                                data-immersive-translate-translation-element-mark="1">
                                                <font
                                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                                    data-immersive-translate-translation-element-mark="1">图 22-1</font>
                                            </font>
                                        </font></b></a></span></p>
                    </figcaption>
                </figure>
                <p id="c22-para-0014" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                    data-immersive-translate-paragraph="1">For Asian markets, where more than 80,000 characters are
                    necessary for Chinese alone, such predefined characters do not exist. In Asian languages, you always
                    have to deal with combining characters. The problem is getting <span aria-label="646"
                        epub:type="pagebreak" id="Page_646" role="doc-pagebreak"
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"></span>the right number
                    of display characters or text elements and getting to the base characters instead of the combined
                    characters. The namespace <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">System.Globalization</code>
                    offers the class <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">StringInfo</code>, which
                    you can use to deal with this issue.<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">对于亚洲市场，仅中文就需要超过 80,000
                                个字符，因此不存在预定义的字符。在亚洲语言中，你总是需要处理组合字符。问题在于获取正确的显示字符或文本元素数量，并获取基本字符而不是组合字符。命名空间 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">System.Globalization</code>
                                提供了类 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">StringInfo</code>
                                ，你可以使用它来处理这个问题。</font>
                        </font>
                    </font>
                </p>
                <p id="c22-para-0015" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                    data-immersive-translate-paragraph="1">The following table lists the static methods of the class
                    <code data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">StringInfo</code> that
                    help in dealing with combined characters:<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">下表列出了类 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">StringInfo</code>
                                的静态方法，这些方法有助于处理组合字符：</font>
                        </font>
                    </font>
                </p>
                <table border="1" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">
                    <thead data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">
                        <tr data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">
                            <th class="left bgcolor2" scope="col">METHOD</th>
                            <th class="left bgcolor2" scope="col">DESCRIPTION</th>
                        </tr>
                    </thead>
                    <tbody data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">
                        <tr data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"><code
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">GetNextTextElement</code>
                            </td>
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                                data-immersive-translate-paragraph="1">Returns the first text element (base character
                                and all combining characters) of a specified string<font
                                    class="notranslate immersive-translate-target-wrapper"
                                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                    <font
                                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                        data-immersive-translate-translation-element-mark="1">
                                        <font
                                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                            data-immersive-translate-translation-element-mark="1">
                                            返回指定字符串的第一个文本元素（基本字符和所有组合字符）</font>
                                    </font>
                                </font>
                            </td>
                        </tr>
                        <tr data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"><code
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">GetTextElementEnumerator</code>
                            </td>
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                                data-immersive-translate-paragraph="1">Returns a <code
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">TextElementEnumerator</code>
                                object that allows iterating all text elements of a string<font
                                    class="notranslate immersive-translate-target-wrapper"
                                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                    <font
                                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                        data-immersive-translate-translation-element-mark="1">
                                        <font
                                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                            data-immersive-translate-translation-element-mark="1">返回一个 <code
                                                xmlns="http://www.w3.org/1999/xhtml"
                                                data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">TextElementEnumerator</code>
                                            对象，允许迭代字符串的所有文本元素</font>
                                    </font>
                                </font>
                            </td>
                        </tr>
                        <tr data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"><code
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ParseCombiningCharacters</code>
                            </td>
                            <td class="left bgcolor3"
                                data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                                data-immersive-translate-paragraph="1">Returns an integer array referencing all base
                                characters of a string<font class="notranslate immersive-translate-target-wrapper"
                                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                    <font
                                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                        data-immersive-translate-translation-element-mark="1">
                                        <font
                                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                            data-immersive-translate-translation-element-mark="1">返回一个整数数组，引用字符串中所有基本字符
                                        </font>
                                    </font>
                                </font>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <aside data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">
                    <div class="top hr" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">
                        <hr />
                    </div>
                    <section class="feature2" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">
                        <p id="c22-para-0017" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                            data-immersive-translate-paragraph="1"><b
                                data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">NOTE</b> <i
                                data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">A single display
                                character can contain multiple Unicode characters. To address this issue, when you write
                                applications that support international markets, don't use the data type </i><code
                                data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">char</code><i
                                data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">; use </i><code
                                data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">string</code><i
                                data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"> instead. A
                            </i><code
                                data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">string</code><i
                                data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"> can hold a text
                                element that contains both base characters and combining characters, whereas a </i><code
                                data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">char</code><i
                                data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"> cannot.</i>
                            <font class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">注意：单个显示字符可以包含多个 Unicode
                                        字符。为解决此问题，在编写支持国际市场的应用程序时，不要使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">char</code>
                                        数据类型；应使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">string</code>
                                        代替。 <code xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">string</code>
                                        可以容纳包含基本字符和组合字符的文本元素，而 <code xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">char</code>
                                        则不能。</font>
                                </font>
                            </font>
                        </p>
                        <div class="bottom hr" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">
                            <hr />
                        </div>
                    </section>
                </aside>
            </section>
            <section data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"><span id="c22-sec-0008"
                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"></span>
                <h3 id="head-3-434" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                    data-immersive-translate-paragraph="1">Cultures and Regions <font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                        <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">文化和地区</font>
                        </font>
                    </font>
                </h3>
                <p id="c22-para-0018" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                    data-immersive-translate-paragraph="1">The world is divided into multiple cultures and regions, and
                    applications must be aware of these cultural and regional differences. A culture is a set of
                    preferences based on a user's language and cultural habits. RFC 4646 (<code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"><a href="http://www.ietf.org/rfc/rfc4646.txt">http://www.ietf.org/rfc/rfc4646.txt</a></code>)
                    defines culture names that are used worldwide, depending on a language and a country or region. Some
                    examples are en-AU, en-CA, en-GB, and en-US for the English language in Australia, Canada, the
                    United Kingdom, and the United States, respectively.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">
                                世界被划分为多个文化和地区，应用程序必须意识到这些文化和地区的差异。文化是基于用户语言和文化习惯的一组偏好。RFC 4646（ <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"><a href="http://www.ietf.org/rfc/rfc4646.txt">http://www.ietf.org/rfc/rfc4646.txt</a></code>
                                ）定义了全球通用的文化名称，这些名称取决于语言和国家或地区。例如，en-AU、en-CA、en-GB 和 en-US 分别代表澳大利亚、加拿大、英国和美国的英语。</font>
                        </font>
                    </font>
                </p>
                <p id="c22-para-0019" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                    data-immersive-translate-paragraph="1">Possibly the most important class in the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">System.Globalization</code>
                    namespace is <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CultureInfo</code>. <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CultureInfo</code>
                    represents a culture and defines calendars, formatting of numbers and dates, and sorting strings
                    used with the culture.<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1"> <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">System.Globalization</code>
                                命名空间中可能最重要的类是 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CultureInfo</code>
                                。 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CultureInfo</code>
                                表示一种文化，并定义了与该文化一起使用的日历、数字和日期的格式化以及字符串的排序。</font>
                        </font>
                    </font>
                </p>
                <p id="c22-para-0020" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                    data-immersive-translate-paragraph="1">The class <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">RegionInfo</code>
                    represents regional settings (such as the currency) and indicates whether the region uses the metric
                    system. Some regions can use multiple languages. One example is the region of Spain, which has
                    Basque (eu-ES), Catalan (ca-ES), Spanish (es-ES), and Galician (gl-ES) cultures. Just as one region
                    can have multiple languages, one language can be spoken in different regions; for example, Spanish
                    is spoken in Mexico, Spain, Guatemala, Argentina, and Peru, to name only a few countries.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">类 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">RegionInfo</code>
                                代表区域设置（例如货币）并指示该地区是否使用公制单位。一些地区可以使用多种语言。以西班牙为例，该地区有巴斯克语（eu-ES）、加泰罗尼亚语（ca-ES）、西班牙语（es-ES）和加利西亚语（gl-ES）等文化。正如一个地区可以有多种语言一样，一种语言也可以在不同地区使用；例如，西班牙语在墨西哥、西班牙、危地马拉、阿根廷和秘鲁等几个国家使用，仅列举几个国家。
                            </font>
                        </font>
                    </font>
                </p>
                <p id="c22-para-0021" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                    data-immersive-translate-paragraph="1">Later in this chapter a sample application demonstrates these
                    characteristics of cultures and regions.<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">本章稍后通过一个示例应用程序演示了文化和地区的这些特征。
                            </font>
                        </font>
                    </font>
                </p>
                <section data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"><span id="c22-sec-0009"
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"></span>
                    <h4 id="head-4-56" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                        data-immersive-translate-paragraph="1">Specific, Neutral, and Invariant Cultures<font
                            class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">特定、中性和不变文化</font>
                            </font>
                        </font>
                    </h4>
                    <p id="c22-para-0022" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                        data-immersive-translate-paragraph="1">When using cultures with .NET, you must differentiate
                        between three types: specific, neutral, and invariant cultures. A <i
                            data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">specific culture</i>
                        is associated with a real, existing culture defined with RFC 4646, as described in the preceding
                        section. A specific culture can be mapped to a neutral culture. For example, de is the neutral
                        culture of the specific cultures de-AT, de-DE, de-CH, and others. de is shorthand for the German
                        language (Deutsch); AT, DE, and CH are shorthand for the countries Austria, Germany, and
                        Switzerland, respectively.<font class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">在使用 .NET
                                    时，你必须区分三种类型：特定文化、中性文化和不变文化。特定文化与 RFC 4646 中定义的真实存在的文化相关联，如前一节所述。特定文化可以映射到中性文化。例如，de
                                    是特定文化 de-AT、de-DE、de-CH 等的中性文化。de 是德语（Deutsch）的简称；AT、DE 和 CH 分别是奥地利、德国和瑞士的简称。</font>
                            </font>
                        </font>
                    </p>
                    <p id="c22-para-0023" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                        data-immersive-translate-paragraph="1">When translating applications, it is typically not
                        necessary to do translations for every region; not much difference exists between the German
                        language in the countries Austria and Germany. Instead of using specific cultures, you can use a
                        <i data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">neutral culture</i> to
                        localize applications.<font class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">
                                    在翻译应用程序时，通常没有必要为每个地区进行翻译；奥地利和德国的德语之间差异不大。你可以使用中性文化来本地化应用程序，而不是使用特定文化。</font>
                            </font>
                        </font>
                    </p>
                    <p id="c22-para-0024" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                        data-immersive-translate-paragraph="1"><span aria-label="647" epub:type="pagebreak"
                            id="Page_647" role="doc-pagebreak"
                            data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"></span>The <i
                            data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">invariant culture</i>
                        is independent of a real culture. When storing formatted numbers or dates in files or sending
                        them across a network to a server, using a culture that is independent of any user settings is
                        the best option.<font class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">
                                    不变量文化独立于真实文化。当在文件中存储格式化的数字或日期，或通过网络发送到服务器时，使用一个独立于任何用户设置的文化是最佳选择。</font>
                            </font>
                        </font>
                    </p>
                    <p id="c22-para-0025" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                        data-immersive-translate-paragraph="1"><a href="#c22-fig-0002" id="R_c22-fig-0002"
                            data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Figure 22-2</a> shows
                        how the culture types relate to each other.<font
                            class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">图 22-2 显示了文化类型如何相互关联。</font>
                            </font>
                        </font>
                    </p>
                    <figure data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"> <img
                            alt="Schematic illustration of Current Culture and Current UI Culture." class="center"
                            src="images/c22f002.png" />
                        <figcaption data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">
                            <p data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"><span
                                    class="figureLabel"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"><a
                                        href="#R_c22-fig-0002" id="c22-fig-0002" role="doc-backlink"
                                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"><b
                                            data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                                            data-immersive-translate-paragraph="1">FIGURE 22-2<font
                                                class="notranslate immersive-translate-target-wrapper"
                                                data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                                                <font class="notranslate"
                                                    data-immersive-translate-translation-element-mark="1">  </font>
                                                <font
                                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                                                    data-immersive-translate-translation-element-mark="1">
                                                    <font
                                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                                        data-immersive-translate-translation-element-mark="1">图 22-2
                                                    </font>
                                                </font>
                                            </font></b></a></span></p>
                        </figcaption>
                    </figure>
                </section>
                <section data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"><span id="c22-sec-0010"
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"></span>
                    <h4 id="head-4-57" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                        data-immersive-translate-paragraph="1">Current Culture and Current UI Culture<font
                            class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">当前文化和当前 UI 文化</font>
                            </font>
                        </font>
                    </h4>
                    <p id="c22-para-0026" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                        data-immersive-translate-paragraph="1">When you set cultures, you need to differentiate between
                        a culture for the user interface and a culture for the number and date formats. Cultures are
                        associated with a thread, and with these two culture types, you can apply two culture settings
                        to a thread. The <code
                            data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CultureInfo</code>
                        class has the static properties <code
                            data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CurrentCulture</code>
                        and <code
                            data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CurrentUICulture</code>.
                        The property <code
                            data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CurrentCulture</code>
                        is for setting the culture that is used with formatting and sort options, whereas the property
                        <code
                            data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CurrentUICulture</code>
                        is used for the language of the user interface.<font
                            class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">
                                    在设置文化时，你需要区分用户界面文化和数字与日期格式文化。文化与线程相关联，通过这两种文化类型，你可以将两种文化设置应用于一个线程。 <code
                                        xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CultureInfo</code>
                                    类具有静态属性 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CurrentCulture</code>
                                    和 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CurrentUICulture</code>
                                    。属性 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CurrentCulture</code>
                                    用于设置用于格式化和排序选项的文化，而属性 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CurrentUICulture</code>
                                    用于用户界面的语言。</font>
                            </font>
                        </font>
                    </p>
                    <p data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                        data-immersive-translate-paragraph="1">On Windows, the configured culture is used as the default
                        culture of the running thread. On Linux, culture information comes from the ICU library (<code
                            data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"><a href="http://site.icu-project.org/">http://site.icu-project.org/</a></code>),
                        which is installed on Linux distributions. Be aware that not all Linux distributions have this
                        library available. For example, an advantage of Alpine Linux is that it's very small, and the
                        ICU is not installed by default. To deal with such issues, .NET implements the <i
                            data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Global Invariant
                            Mode</i>. With this mode (which is enabled on Alpine Linux), all the cultures behave like
                        the invariant culture. You can enable the invariant mode with a configuration in the project
                        file:<font class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">在 Windows
                                    上，配置的文化被用作运行线程的默认文化。在 Linux 上，文化信息来自 ICU 库（ <code
                                        xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"><a href="http://site.icu-project.org/">http://site.icu-project.org/</a></code>
                                    ），该库安装在 Linux 发行版上。请注意，并非所有 Linux 发行版都提供此库。例如，Alpine Linux 的一个优点是它非常小，ICU
                                    默认未安装。为了处理此类问题，.NET 实现了全局不变模式。在这种模式下（在 Alpine Linux
                                    上启用），所有文化都表现得像不变文化。你可以通过项目文件中的配置来启用不变模式：</font>
                            </font>
                        </font>
                    </p>
                    <pre id="c22-code-0001"><code>&lt;ItemGroup&gt;</code>
<code>  &lt;RuntimeHostConfigurationOption Include="System.Globalization.Invariant" Value="true"/&gt;</code>
<code>&lt;/ItemGroup&gt;</code></pre>
                    <p id="c22-para-0027" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                        data-immersive-translate-paragraph="1">or by setting the environment variable <code
                            data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">DOTNET_SYSTEM_GLOBALIZATION_INVARIANT</code>
                        to <code data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">true</code>.
                        <font class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">或者通过设置环境变量 <code
                                        xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">DOTNET_SYSTEM_GLOBALIZATION_INVARIANT</code>
                                    为 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">true</code>
                                    。</font>
                            </font>
                        </font>
                    </p>
                    <p data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                        data-immersive-translate-paragraph="1">In many cases, you won't need to change the current
                        culture; you can just use the culture configured from the user. In cases where you need to
                        change the culture, you can easily do this programmatically by changing both cultures to, say,
                        the Spanish culture, as shown in this code snippet (using the namespace <code
                            data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">System.Globalization</code>):
                        <font class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">
                                    在许多情况下，你不需要更改当前文化；你可以直接使用用户配置的文化。在需要更改文化的场合，你可以通过将两种文化都更改为例如西班牙文化来轻松地以编程方式完成，如这段代码片段所示（使用命名空间
                                    <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">System.Globalization</code>
                                    ）：</font>
                            </font>
                        </font>
                    </p>
                    <pre id="c22-code-0002"><code>CultureInfo ci = new("es-ES");</code>
<code>CultureInfo.CurrentCulture = ci;</code>
<code>CultureInfo.CurrentUICulture = ci;</code></pre>
                    <p id="c22-para-0030" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                        data-immersive-translate-paragraph="1">Now that you know how to set the culture, the following
                        sections discuss number and date formatting, which are influenced by the <code
                            data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CurrentCulture</code>
                        setting.<font class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">
                                    现在你已经知道如何设置文化，接下来的几节将讨论数字和日期格式化，这些都会受到 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CurrentCulture</code>
                                    设置的 影响。</font>
                            </font>
                        </font>
                    </p>
                </section>
                <section data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"><span id="c22-sec-0011"
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"></span>
                    <h4 id="head-4-58" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                        data-immersive-translate-paragraph="1">Number Formatting<font
                            class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                            <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">数字格式化</font>
                            </font>
                        </font>
                    </h4>
                    <p id="c22-para-0031" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                        data-immersive-translate-paragraph="1">The number structures <code
                            data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Int16</code>, <code
                            data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Int32</code>, <code
                            data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Int64</code>, and so
                        on, in the <code
                            data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">System</code>
                        namespace have an overloaded <code
                            data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ToString</code>
                        method. You can use this method to create a different representation of the number, depending on
                        the locale. For the <code
                            data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Int32</code>
                        structure, <code
                            data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ToString</code> is
                        overloaded to pass a format string and an object implementing <code
                            data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">IFormatProvider</code>.
                        <font class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1"> <code
                                        xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">System</code>
                                    命名空间中的 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Int16</code>
                                    、 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Int32</code>
                                    、 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Int64</code>
                                    等数字结构有一个重载的 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ToString</code>
                                    方法。你可以使用这个方法根据区域设置创建数字的不同表示形式。对于 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Int32</code>
                                    结构， <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ToString</code>
                                    被重载以传递一个格式字符串和一个实现 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">IFormatProvider</code>
                                    的对象。</font>
                            </font>
                        </font>
                    </p>
                    <p id="c22-para-0032" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                        data-immersive-translate-paragraph="1">The string specifies the format of the representation.
                        The format can be a standard numeric formatting string or a picture numeric formatting string.
                        For standard numeric formatting, strings are predefined where <code
                            data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">C</code> specifies
                        the currency notation, <code
                            data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">D</code> creates a
                        decimal output, <code
                            data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">E</code> creates
                        scientific output, <code
                            data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">F</code> creates
                        fixed-point output, <code
                            data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">G</code> creates
                        general output, <code
                            data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">N</code> creates
                        number output, and <code
                            data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">X</code> creates
                        hexadecimal output. With a picture numeric formatting <span aria-label="648"
                            epub:type="pagebreak" id="Page_648" role="doc-pagebreak"
                            data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"></span>string, it is
                        possible to specify the number of digits, section and group separators, percent notation, and so
                        on. The picture numeric format string <code
                            data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">###,###</code> means
                        two three-digit blocks separated by a group separator.<font
                            class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">
                                    字符串指定了表示的格式。格式可以是一个标准数值格式字符串或一个图像数值格式字符串。对于标准数值格式，字符串是预定义的，其中 <code
                                        xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">C</code>
                                    指定货币符号， <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">D</code>
                                    创建十进制输出， <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">E</code>
                                    创建科学输出， <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">F</code>
                                    创建固定点输出， <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">G</code>
                                    创建一般输出， <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">N</code>
                                    创建数字输出， <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">X</code>
                                    创建十六进制输出。使用图像数值格式字符串，可以指定数字位数、分隔符、百分比符号等。图像数值格式字符串 <code
                                        xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">###,###</code>
                                    表示两个三位数字块，用分隔符隔开。</font>
                            </font>
                        </font>
                    </p>
                    <p id="c22-para-0033" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                        data-immersive-translate-paragraph="1">The <code
                            data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">IFormatProvider</code>
                        interface is implemented by the <code
                            data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">NumberFormatInfo</code>,
                        <code
                            data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">DateTimeFormatInfo</code>,
                        and <code
                            data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CultureInfo</code>
                        classes. This interface defines a single method, <code
                            data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">GetFormat</code>,
                        that returns a format object.<font class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1"> <code
                                        xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">IFormatProvider</code>
                                    接口由 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">NumberFormatInfo</code>
                                    、 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">DateTimeFormatInfo</code>
                                    和 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CultureInfo</code>
                                    类实现。该接口定义了一个方法 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">GetFormat</code>
                                    ，返回一个格式对象。</font>
                            </font>
                        </font>
                    </p>
                    <p id="c22-para-0034" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                        data-immersive-translate-paragraph="1">You can use <code
                            data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">NumberFormatInfo</code>
                        to define custom formats for numbers. With the default constructor of <code
                            data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">NumberFormatInfo</code>,
                        a culture-independent or invariant object is created. In using the properties of <code
                            data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">NumberFormatInfo</code>,
                        it is possible to change all the formatting options, such as a positive sign, a percent symbol,
                        a number group separator, a currency symbol, and a lot more. A read-only, culture-independent
                        <code
                            data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">NumberFormatInfo</code>
                        object is returned from the static property <code
                            data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">InvariantInfo</code>.
                        A <code
                            data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">NumberFormatInfo</code>
                        object in which the format values are based on the <code
                            data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CultureInfo</code> of
                        the current thread is returned from the static property <code
                            data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CurrentInfo</code>.
                        <font class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">你可以使用 <code
                                        xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">NumberFormatInfo</code>
                                    来定义数字的自定义格式。通过 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">NumberFormatInfo</code>
                                    的默认构造函数，会创建一个与文化无关或不依赖文化的对象。在使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">NumberFormatInfo</code>
                                    的属性时，可以更改所有格式选项，例如正号、百分号符号、数字组分隔符、货币符号等。从静态属性 <code
                                        xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">InvariantInfo</code>
                                    返回的是一个只读的、与文化无关的 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">NumberFormatInfo</code>
                                    对象。从静态属性 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CurrentInfo</code>
                                    返回的是一个 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">NumberFormatInfo</code>
                                    对象，其格式值基于当前线程的 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CultureInfo</code>
                                    设置。</font>
                            </font>
                        </font>
                    </p>
                    <p data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                        data-immersive-translate-paragraph="1">To create the next example, you can start with a console
                        application project. In this code, the first example shows a number displayed in the format of
                        the current culture (here: U.S. English, the setting of the operating system). The second
                        example uses the <code
                            data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ToString</code>
                        method with the <code
                            data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">IFormatProvider</code>
                        argument. <code
                            data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CultureInfo</code>
                        implements <code
                            data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">IFormatProvider</code>,
                        so create a <code
                            data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CultureInfo</code>
                        object using the French culture. The third example changes the current culture. The culture is
                        changed to German by using the property <code
                            data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CurrentCulture</code>
                        of the <code
                            data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CultureInfo</code>
                        instance (code file <code
                            data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">NumberAndDateFormatting\Program.cs</code>):
                        <font class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">
                                    要创建下一个示例，你可以从一个控制台应用程序项目开始。在这个代码中，第一个示例显示了一个以当前文化格式（此处：美国英语，操作系统设置）显示的数字。第二个示例使用了带
                                    <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">IFormatProvider</code>
                                    参数的 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ToString</code>
                                    方法。 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CultureInfo</code>
                                    实现了 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">IFormatProvider</code>
                                    ，因此使用法语文化创建一个 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CultureInfo</code>
                                    对象。第三个示例更改了当前文化。通过使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CultureInfo</code>
                                    实例的 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CurrentCulture</code>
                                    属性（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">NumberAndDateFormatting\Program.cs</code>
                                    ）将文化更改为德语：</font>
                            </font>
                        </font>
                    </p>
                    <pre id="c22-code-0003"><code>void NumberFormatDemo()</code>
<code>{</code>
<code>  int val = 1234567890;</code>
<code> </code>
<code>  // culture of the current thread</code>
<code>  string output = val.ToString("N");</code>
<code>  Console.WriteLine($"Current thread culture: {CultureInfo.CurrentCulture}: {output}");</code>
<code> </code>
<code>  // use IFormatProvider</code>
<code>  output = val.ToString("N", new CultureInfo("fr-FR"));</code>
<code>  Console.WriteLine($"IFormatProvider with fr-FR culture {output}");</code>
<code> </code>
<code>  // change the culture of the thread</code>
<code>  CultureInfo.CurrentCulture = new("de-DE");</code>
<code>  output = val.ToString("N");</code>
<code>  Console.WriteLine($"Changed culture of the thread to de-DE: {output}");</code>
<code>}</code>
<code> </code></pre>
                    <p data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                        data-immersive-translate-paragraph="1">You can compare the following different output for U.S.
                        English, French, and German, respectively, shown here:<font
                            class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">你可以比较这里分别展示的美国英语、法语和德语的以下不同输出：
                                </font>
                            </font>
                        </font>
                    </p>
                    <pre id="c22-code-0004"><code>Current thread culture: en-US: 1,234,567,890.00</code>
<code>IFormatProvider with fr-FR culture 1 234 567 890,000</code>
<code>Changed culture of the thread to de-DE: 1.234.567.890,000</code></pre>
                </section>
                <section data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"><span id="c22-sec-0012"
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"></span>
                    <h4 id="head-4-59" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                        data-immersive-translate-paragraph="1">Date Formatting<font
                            class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                            <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">日期格式化</font>
                            </font>
                        </font>
                    </h4>
                    <p data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                        data-immersive-translate-paragraph="1">The same support for numbers is available for dates. With
                        the string argument of the <code
                            data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ToString</code>
                        method, you can specify a predefined format character or a custom format string for converting
                        the date to a string. The class <code
                            data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">DateTimeFormatInfo</code>
                        specifies the possible values. With <code
                            data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">DateTimeFormatInfo</code>,
                        the case of the format strings has a different meaning. <code
                            data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">D</code> defines a
                        long date format; <code
                            data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">d</code> defines a
                        short date format. Other examples of possible formats are <code
                            data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ddd</code> for the
                        abbreviated day of the week, <code
                            data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">dddd</code> for the
                        full day of the week, <code
                            data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">yyyy</code> for the
                        year, <code data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">T</code> for
                        a long time, and <code
                            data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">t</code> for a short
                        time. With the <code
                            data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">IFormatProvider</code>
                        argument, you can specify the culture. Using an <span aria-label="649" epub:type="pagebreak"
                            id="Page_649" role="doc-pagebreak"
                            data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"></span>overloaded
                        method without the <code
                            data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">IFormatProvider</code>
                        argument implies that the current culture is used (code file <code
                            data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">NumberAndDateFormatting/Program.cs</code>):
                        <font class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">日期也支持相同的数字功能。通过 <code
                                        xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ToString</code>
                                    方法的字符串参数，你可以指定预定义的格式字符或自定义的格式字符串来将日期转换为字符串。类 <code
                                        xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">DateTimeFormatInfo</code>
                                    指定了可能的值。使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">DateTimeFormatInfo</code>
                                    时，格式字符串的大小写具有不同的含义。 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">D</code>
                                    定义了长日期格式； <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">d</code>
                                    定义了短日期格式。其他可能的格式示例包括 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ddd</code>
                                    用于缩写星期几， <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">dddd</code>
                                    用于完整星期几， <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">yyyy</code>
                                    用于年份， <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">T</code>
                                    用于长时间表示，以及 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">t</code>
                                    用于短时间表示。使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">IFormatProvider</code>
                                    参数，你可以指定文化。使用不带 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">IFormatProvider</code>
                                    参数的重载方法意味着使用当前的文化（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">NumberAndDateFormatting/Program.cs</code>
                                    ）：</font>
                            </font>
                        </font>
                    </p>
                    <pre id="c22-code-0005"><code>void DateFormatDemo()</code>
<code>{</code>
<code>  DateTime d = new(2024, 09, 17);</code>
<code> </code>
<code>  // current culture</code>
<code>  string output = d.ToString("D");</code>
<code>  Console.WriteLine($"Current thread culture: {CultureInfo.CurrentCulture}: {output}");</code>
<code> </code>
<code>  // use IFormatProvider</code>
<code>  output = d.ToString("D", new CultureInfo("fr-FR"));</code>
<code>  Console.WriteLine($"IFormatProvider with fr-FR culture: {output}");</code>
<code> </code>
<code>  CultureInfo.CurrentCulture = new("es-ES");</code>
<code>  output = d.ToString("D");</code>
<code>  Console.WriteLine($"Changed culture of the thread {CultureInfo.CurrentCulture}:"+     $"{output}");</code>
<code>}</code></pre>
                    <p data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                        data-immersive-translate-paragraph="1">The output of this example program shows <code
                            data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ToLongDateString</code>
                        with the current culture of the thread, a French version where a <code
                            data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CultureInfo</code>
                        instance is passed to the <code
                            data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ToString</code>
                        method, and a Spanish version where the <code
                            data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CurrentCulture</code>
                        property of the thread is changed to es-ES:<font
                            class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">这个示例程序的输出显示了 <code
                                        xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ToLongDateString</code>
                                    使用线程的当前文化，一个法语版本，其中将 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CultureInfo</code>
                                    实例传递给 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ToString</code>
                                    方法，以及一个西班牙语版本，其中将线程的 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CurrentCulture</code>
                                    属性更改为 es-ES：</font>
                            </font>
                        </font>
                    </p>
                    <pre id="c22-code-0006"><code>Current thread culture: de-DE: Dienstag, 17. September 2024</code>
<code>IFormatProvider with fr-FR culture: mardi 17 septembre 2024</code>
<code>Changed culture of the thread es-ES: martes, 17 de septiembre de 2024</code></pre>
                </section>
            </section>
            <section data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"><span id="c22-sec-0013"
                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"></span>
                <h3 id="head-3-435" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                    data-immersive-translate-paragraph="1">Cultures in Action <font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                        <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">实际应用中的文化</font>
                        </font>
                    </font>
                </h3>
                <p id="c22-para-0039" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                    data-immersive-translate-paragraph="1">To see all cultures in action, you can use a sample WinUI app
                    that lists all cultures and demonstrates different characteristics of culture properties. On the
                    left side of the UI, a tree view is used to display all the cultures. On the right side is a user
                    control that displays relevant information about the selected culture and region.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">要查看所有文化在操作中的表现，你可以使用一个示例 WinUI
                                应用，该应用列出了所有文化并展示了不同文化属性的特点。在 UI 的左侧，使用树形视图来显示所有文化。右侧是一个用户控件，用于显示所选文化和地区的相关信息。</font>
                        </font>
                    </font>
                </p>
                <p data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                    data-immersive-translate-paragraph="1">During initialization of the application, all available
                    cultures are added to the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">TreeView</code> control
                    that is placed on the left side of the application. This initialization happens in a view model in
                    the method <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">SetupCultures</code>,
                    which is called in the constructor of the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CulturesViewModel</code>
                    class (code file <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">WinUICultureDemo/CulturesViewModel.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">在应用程序初始化期间，所有可用的文化都被添加到放置在应用程序左侧的
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">TreeView</code>
                                控件中。这个初始化发生在 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">SetupCultures</code>
                                方法中的视图模型里，该方法在 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CulturesViewModel</code>
                                类的构造函数中调用（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">WinUICultureDemo/CulturesViewModel.cs</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c22-code-0007"><code>public CulturesViewModel() =&gt; SetupCultures();</code></pre>
                <p data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                    data-immersive-translate-paragraph="1">For the data that is shown in the user interface, the custom
                    class <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CultureData</code> is
                    created. This class can be bound to a <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">TreeView</code> control
                    because it has a property <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">SubCultures</code> that
                    contains a list of <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CultureData</code>.
                    Therefore, the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">TreeView</code> control
                    enables walking through this tree. Other than the subcultures, <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CultureData</code>
                    contains the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CultureInfo</code> type
                    and sample values for a number, a date, and a time. The number returns a string in the number format
                    for the specific culture, and the date and time return strings in the specific culture formats as
                    well. <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CultureData</code>
                    contains a <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">RegionInfo</code> class
                    to display regions. With some neutral cultures (for example, English), creating a <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">RegionInfo</code> throws
                    an exception because there are regions only with specific cultures. However, with other neutral
                    cultures (for example, German), creating a <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">RegionInfo</code>
                    succeeds and is mapped to a default region. The exception thrown here is handled (code file <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">WinUICultureDemo/CultureData.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">对于在用户界面中显示的数据，创建了自定义类 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CultureData</code>
                                。这个类可以绑定到 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">TreeView</code>
                                控件，因为它有一个包含 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CultureData</code>
                                列表的属性 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">SubCultures</code>
                                。因此， <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">TreeView</code>
                                控件能够遍历这棵树。除了子文化之外， <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CultureData</code>
                                还包含数字、日期和时间类型的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CultureInfo</code>
                                类型及示例值。数字返回特定文化的数字格式字符串，日期和时间也返回特定文化的格式字符串。 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CultureData</code>
                                包含一个用于显示地区的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">RegionInfo</code>
                                类。对于一些中立文化（例如英语），创建 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">RegionInfo</code>
                                会抛出异常，因为地区只有特定文化才有。然而，对于其他中立文化（例如德语），创建 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">RegionInfo</code>
                                会成功，并映射到默认地区。这里抛出的异常被处理（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">WinUICultureDemo/CultureData.cs</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c22-code-0008"><code>public record CultureData(CultureInfo CultureInfo)</code>
<code>{</code>
<code>  public IList&lt;CultureData&gt; SubCultures { get; } = new List&lt;CultureData&gt;();<span aria-label="650" epub:type="pagebreak" id="Page_650" role="doc-pagebreak"></span></code>
<code>  double numberSample = 9876543.21;</code>
<code>  public string NumberSample =&gt; numberSample.ToString("N", CultureInfo);</code>
<code>  public string DateSample =&gt; DateTime.Today.ToString("D", CultureInfo);</code>
<code>  public string TimeSample =&gt; DateTime.Now.ToString("T", CultureInfo);</code>
<code> </code>
<code>  private RegionInfo? _regionInfo;</code>
<code>  public RegionInfo? RegionInfo</code>
<code>  {</code>
<code>    get</code>
<code>    {</code>
<code>      try</code>
<code>      {</code>
<code>        return _regionInfo ??= new RegionInfo(CultureInfo.Name);</code>
<code>      }</code>
<code>      catch (ArgumentException)</code>
<code>      {</code>
<code>        // with some neutral cultures regions are not available</code>
<code>        return null;</code>
<code>      }</code>
<code>      return ri;</code>
<code>    }</code>
<code>  }</code>
<code>}</code></pre>
                <p id="c22-para-0042" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                    data-immersive-translate-paragraph="1">In the method <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">SetupCultures</code>, you
                    get all cultures from the static method <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CultureInfo.GetCultures</code>.
                    Passing <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CultureTypes.AllCultures</code>
                    to this method returns an unsorted array of all available cultures. The result is sorted by the name
                    of the culture. With the result of the sorted cultures, a collection of <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CultureData</code>
                    objects is created, and the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CultureInfo</code> and
                    <code data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">SubCultures</code>
                    properties are assigned. With the result of this, a dictionary is created to enable fast access to
                    the culture name.<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">在方法 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">SetupCultures</code>
                                中，你可以通过静态方法 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CultureInfo.GetCultures</code>
                                获取所有文化。将 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CultureTypes.AllCultures</code>
                                传递给这个方法会返回一个未排序的所有可用文化的数组。结果会按文化的名称进行排序。使用排序后的文化结果，创建了一个 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CultureData</code>
                                对象的集合，并分配了 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CultureInfo</code>
                                和 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">SubCultures</code>
                                属性。通过这个结果，创建了一个字典，以便快速访问文化名称。</font>
                        </font>
                    </font>
                </p>
                <p id="c22-para-0043" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                    data-immersive-translate-paragraph="1">For the data that should be shown in the UI, a list of <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CultureData</code>
                    objects is created that contains all the root cultures for the tree view after the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">foreach</code> statement
                    is completed. Root cultures can be verified to determine whether they have the invariant culture as
                    their parent. The invariant culture has the locale identifier (LCID) <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">0x7f</code>. Every
                    culture has a unique identifier that can be used for a fast verification. In the code snippet, root
                    cultures are added to the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">rootCultures</code>
                    collection within the block of the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">if</code> statement. If a
                    culture has the invariant culture as its parent, it is a root culture.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">对于需要在 UI 中显示的数据，在 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">foreach</code>
                                语句完成后会创建一个包含所有树形视图根文化的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CultureData</code>
                                对象列表。根文化可以验证以确定它们是否以不变文化为其父级。不变文化具有区域设置标识符（LCID） <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">0x7f</code>
                                。每个文化都有一个唯一标识符，可用于快速验证。在代码片段中，根文化被添加到 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">if</code>
                                语句块内的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">rootCultures</code>
                                集合中。如果一个文化以不变文化为其父级，它就是一个根文化。</font>
                        </font>
                    </font>
                </p>
                <p data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                    data-immersive-translate-paragraph="1">If the culture does not have a parent culture, it is added to
                    the root nodes of the tree. To find parent cultures, all cultures are remembered inside a
                    dictionary. (See <a href="c08.xhtml"
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Chapter 8</a>,
                    “Collections,” for more information about dictionaries.) If the culture iterated is not a root
                    culture, it is added to the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">SubCultures</code>
                    collection of the parent culture. The parent culture can be quickly found by using the dictionary.
                    In the last step, the root cultures are made available to the UI by assigning them to the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">RootCultures</code>
                    property (code file <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">WinUICultureDemo/CulturesViewModel.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">
                                如果文化没有父级文化，它会被添加到树的根节点中。为了找到父级文化，所有文化都会被保存在一个字典中。（有关字典的更多信息，请参阅第 8
                                章“集合”。）如果迭代的文化不是根文化，它会被添加到父级文化的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">SubCultures</code>
                                集合中。可以通过使用字典快速找到父级文化。在最后一步，通过将它们分配给 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">RootCultures</code>
                                属性（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">WinUICultureDemo/CulturesViewModel.cs</code>
                                ），根文化会提供给 UI。</font>
                        </font>
                    </font>
                </p>
                <pre id="c22-code-0009"><code>private void SetupCultures()</code>
<code>{</code>
<code>  var cultureDataDict = CultureInfo.GetCultures(CultureTypes.AllCultures)</code>
<code>    .OrderBy(c =&gt; c.Name)</code>
<code>    .Select(c =&gt; new CultureData(c))</code>
<code>    .ToDictionary(c =&gt; c.CultureInfo.Name);</code>
<code> </code>
<code>  List&lt;CultureData&gt; rootCultures = new();</code>
<code>  foreach (var cd in cultureDataDict.Values)</code>
<code>  {</code>
<code>    if (cd.CultureInfo.Parent.LCID == 0x7f)  // check for invariant culture<span aria-label="651" epub:type="pagebreak" id="Page_651" role="doc-pagebreak"></span></code>
<code>    {</code>
<code>      rootCultures.Add(cd);</code>
<code>    }</code>
<code>    else // add to parent culture</code>
<code>    {</code>
<code>      if (cultureDataDict.TryGetValue(cd.CultureInfo.Parent.Name, </code>
<code>        out CultureData? parentCultureData))</code>
<code>      {</code>
<code>        parentCultureData.SubCultures.Add(cd);</code>
<code>        continue;</code>
<code>      }</code>
<code> </code>
<code>      // with the latest culture updates, some cultures don't have the </code>
<code>      // direct parent name in the list, take the next parent</code>
<code>      string parent = cd.CultureInfo.Parent.Name;</code>
<code>      int index = parent.IndexOf("-");</code>
<code>      if (index &lt; 0)</code>
<code>      {</code>
<code>        // just add this culture to the root cultures</code>
<code>        rootCultures.Add(cd);</code>
<code>        continue;</code>
<code>      }</code>
<code>      string grandParent = parent[..index];</code>
<code>      if (cultureDataDict.TryGetValue(grandParent, </code>
<code>        out CultureData? grandParentCultureData))</code>
<code>      {</code>
<code>        grandParentCultureData.SubCultures.Add(cd);</code>
<code>      }</code>
<code>      else // parent also not found to the root cultures, add it directly</code>
<code>      {</code>
<code>        rootCultures.Add(cd);</code>
<code>      }</code>
<code>    }</code>
<code>  }</code>
<code> </code>
<code>  foreach (var rootCulture in rootCultures.OrderBy(cd =&gt; cd.CultureInfo.EnglishName))</code>
<code>  {</code>
<code>    RootCultures.Add(rootCulture);</code>
<code>  }</code>
<code>}</code>
<code> </code>
<code>public IList&lt;CultureData&gt; RootCultures { get; } = new List&lt;CultureData&gt;();</code></pre>
                <p data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                    data-immersive-translate-paragraph="1">Now let's get into the XAML code for the display. A <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">TreeView</code> is used
                    to display all the cultures. For the display of items inside the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">TreeView</code>, an item
                    template is used. This template uses a <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">TextBlock</code> that is
                    bound to the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">EnglishName</code>
                    property of the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CultureInfo</code> class
                    (code file <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">WinUICultureDemo/MainWindow.xaml</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">现在让我们来看看用于显示的 XAML 代码。使用 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">TreeView</code>
                                来显示所有文化。要在 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">TreeView</code>
                                内部显示项目，则使用一个项目模板。此模板使用一个 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">TextBlock</code>
                                ，它绑定到 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CultureInfo</code>
                                类的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">EnglishName</code>
                                属性（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">WinUICultureDemo/MainWindow.xaml</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c22-code-0010"><code>&lt;TreeView x:Name="treeView1" </code>
<code>  Style="{StaticResource TreeViewStyle1}"</code>
<code>  ItemInvoked="{x:Bind OnSelectionChanged, Mode=OneTime}"</code>
<code>  SelectionMode="Single"&gt;</code>
<code>&lt;/TreeView&gt;</code></pre>
                <p data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                    data-immersive-translate-paragraph="1">In the code-behind file, the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">TreeView</code> is
                    initialized by accessing the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CultureData</code>
                    objects from the view model. Using the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CultureData</code>
                    objects, <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">TreeNode</code> objects
                    are created for the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">TreeView</code>. The
                    <code data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">TreeNode</code> class
                    defines a <span aria-label="652" epub:type="pagebreak" id="Page_652" role="doc-pagebreak"
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"></span>
                    <code data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Data</code> property
                    where the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CultureData</code> object
                    is assigned. The <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Add</code> method of the
                    <code data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">TreeNode</code> allows
                    adding child objects. Child objects are added by recursively invoking the local function <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">AddSubNodes</code> (code
                    file <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">WinUICultureDemo/MainWindow.xaml.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">在后台代码文件中， <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">TreeView</code>
                                通过访问视图模型中的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CultureData</code>
                                对象进行初始化。使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CultureData</code>
                                对象，为 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">TreeView</code>
                                创建 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">TreeNode</code>
                                对象。 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">TreeNode</code>
                                类定义了一个 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Data</code>
                                属性，其中分配了 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CultureData</code>
                                对象。 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">TreeNode</code>
                                的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Add</code>
                                方法允许添加子对象。通过递归调用本地函数 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">AddSubNodes</code>
                                （代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">WinUICultureDemo/MainWindow.xaml.cs</code>
                                ）添加子对象：</font>
                        </font>
                    </font>
                </p>
                <pre id="c22-code-0011"><code>private void OnActivated(object sender, WindowActivatedEventArgs args)</code>
<code>{</code>
<code>  void AddSubNodes(TreeViewNode parent)</code>
<code>  {</code>
<code>    if (parent.Content is CultureData cd &amp;&amp; cd.SubCultures is not null)</code>
<code>    {</code>
<code>      foreach (var culture in cd.SubCultures)</code>
<code>      {</code>
<code>        TreeViewNode node = new()</code>
<code>        {</code>
<code>          Content = culture</code>
<code>        };</code>
<code>        parent.Children.Add(node);</code>
<code> </code>
<code>        foreach (var subCulture in culture.SubCultures)</code>
<code>        {</code>
<code>          AddSubNodes(node);</code>
<code>        }</code>
<code>      }</code>
<code>    }</code>
<code>  }</code>
<code> </code>
<code>  var rootNodes = ViewModel.RootCultures.Select(cd =&gt; new TreeViewNode</code>
<code>  {</code>
<code>    Content = cd</code>
<code>  });</code>
<code> </code>
<code>  foreach (var node in rootNodes)</code>
<code>  {</code>
<code>    treeView1.RootNodes.Add(node);</code>
<code>    AddSubNodes(node);</code>
<code>  }</code>
<code>}</code></pre>
                <p data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                    data-immersive-translate-paragraph="1">When the user selects a node inside the tree, the handler of
                    the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">SelectedItemChanged</code>
                    event of the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">TreeView</code> is
                    called. In the following code snippet, the handler is implemented in the method <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">OnSelectionChanged</code>.
                    With the implementation, the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">SelectedCulture</code>
                    property of the associated <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ViewModel</code> is set
                    to the selected <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CultureData</code> object
                    (code file <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">WinUICultureDemo/MainWindow.xaml.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">当用户在树中选择一个节点时，会调用 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">SelectedItemChanged</code>
                                的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">TreeView</code>
                                事件处理器。在以下代码片段中，处理器在方法 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">OnSelectionChanged</code>
                                中实现。通过该实现，关联的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ViewModel</code>
                                的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">SelectedCulture</code>
                                属性被设置为选中的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CultureData</code>
                                对象（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">WinUICultureDemo/MainWindow.xaml.cs</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c22-code-0012"><code>private void OnSelectionChanged(TreeView sender, TreeViewItemInvokedEventArgs args)</code>
<code>{</code>
<code>  if (args.InvokedItem is TreeViewNode node &amp;&amp; node.Content is CultureData cd)</code>
<code>  {</code>
<code>    ViewModel.SelectedCulture = cd;</code>
<code>  }</code>
<code>}</code></pre>
                <p data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                    data-immersive-translate-paragraph="1">To display the values of the selected item, you use several
                    <code data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">TextBlock</code>
                    controls. These bind to the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CultureInfo</code>
                    property of the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CultureData</code> class
                    and in turn to properties of the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CultureInfo</code> type
                    that is returned from <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CultureInfo</code>, such
                    as <code data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Name</code>, <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">IsNeutralCulture</code>,
                    <code data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">EnglishName</code>,
                    <code data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">NativeName</code>, and
                    so on. To convert a Boolean <span aria-label="653" epub:type="pagebreak" id="Page_653"
                        role="doc-pagebreak"
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"></span>value, as returned
                    from the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">IsNeutralCulture</code>
                    property, to a <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Visibility</code>
                    enumeration value, and to display calendar names, you use converters (XAML file <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">WinUICultureDemo/CultureDetailUC.xaml</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">为了显示选中项的值，你使用多个 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">TextBlock</code>
                                控件。这些控件绑定到 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CultureData</code>
                                类的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CultureInfo</code>
                                属性，进而绑定到从 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CultureInfo</code>
                                返回的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CultureInfo</code>
                                类型属性，例如 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Name</code> 、
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">IsNeutralCulture</code>
                                、 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">EnglishName</code>
                                、 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">NativeName</code>
                                等。为了将 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">IsNeutralCulture</code>
                                属性返回的布尔值转换为 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Visibility</code>
                                枚举值，并显示日历名称，你使用转换器（XAML 文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">WinUICultureDemo/CultureDetailUC.xaml</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c22-code-0013"><code>&lt;TextBlock Grid.Row="0" Grid.Column="0" Text="Culture Name:"/&gt;</code>
<code>&lt;TextBlock Grid.Row="0" Grid.Column="1" </code>
<code>  Text="{x:Bind CultureData.CultureInfo.Name, Mode=OneWay}"</code>
<code>  Width="100"/&gt;</code>
<code>&lt;TextBlock Grid.Row="0" Grid.Column="2" Text="Neutral Culture"</code>
<code>  Visibility="{x:Bind CultureData.CultureInfo.IsNeutralCulture, Mode=OneWay}"/&gt;</code>
<code> </code>
<code>&lt;TextBlock Grid.Row="1" Grid.Column="0" Text="English Name:"/&gt;</code>
<code>&lt;TextBlock Grid.Row="1" Grid.Column="1" Grid.ColumnSpan="2"</code>
<code>  Text="{x:Bind CultureData.CultureInfo.EnglishName, Mode=OneWay}"/&gt;</code>
<code> </code>
<code>&lt;TextBlock Grid.Row="2" Grid.Column="0" Text="Native Name:"/&gt;</code>
<code>&lt;TextBlock Grid.Row="2" Grid.Column="1" Grid.ColumnSpan="2"</code>
<code>  Text="{x:Bind CultureData.CultureInfo.NativeName}"/&gt;</code>
<code> </code>
<code>&lt;TextBlock Grid.Row="3" Grid.Column="0" Text="Default Calendar:"/&gt;</code>
<code>&lt;TextBlock Grid.Row="3" Grid.Column="1" Grid.ColumnSpan="2"</code>
<code>  Text="{x:Bind CultureData.CultureInfo.Calendar, Mode=OneWay</code>
<code>  Converter={StaticResource calendarConverter}}"/&gt;</code>
<code> </code>
<code>&lt;TextBlock Grid.Row="4" Grid.Column="0" Text="Optional Calendars:"/&gt;</code>
<code>&lt;ListBox Grid.Row="4" Grid.Column="1" Grid.ColumnSpan="2"</code>
<code>  ItemsSource="{x:Bind CultureData.CultureInfo.OptionalCalendars}"&gt;</code>
<code>  &lt;ListBox.ItemTemplate&gt;</code>
<code>    &lt;DataTemplate&gt;</code>
<code>      &lt;TextBlock Text="{Binding</code>
<code>        Converter={StaticResource calendarConverter}}"/&gt;</code>
<code>    &lt;/DataTemplate&gt;</code>
<code>  &lt;/ListBox.ItemTemplate&gt;</code>
<code>&lt;/ListBox&gt;</code></pre>
                <p data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                    data-immersive-translate-paragraph="1">To display the calendar text, you use an object that
                    implements <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">IValueConverter</code>.
                    Here is the implementation of the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Convert</code> method in
                    the class <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CalendarTypeToCalendarInformationConverter</code>.
                    The implementation uses the class name and calendar type name to return a useful value for the
                    calendar (code file <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">WinUICultureDemo/Converters/CalendarTypeToCalendarInformationConverter.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">要显示日历文本，您使用一个实现了 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">IValueConverter</code>
                                的对象。以下是类 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CalendarTypeToCalendarInformationConverter</code>
                                中的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Convert</code>
                                方法的实现。该实现使用类名和日历类型名来为日历返回一个有用值（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">WinUICultureDemo/Converters/CalendarTypeToCalendarInformationConverter.cs</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c22-code-0014"><code>public object? Convert(object? value, Type targetType, object? parameter, </code>
<code>  string? language)</code>
<code>{</code>
<code>  if (value is Calendar cal)</code>
<code>  {</code>
<code>    StringBuilder calText = new(50);</code>
<code>    calText.Append(cal.ToString());</code>
<code>    calText.Remove(0, 21);</code>
<code>    calText.Replace("Calendar", "");</code>
<code>    if (cal is GregorianCalendar gregCal)</code>
<code>    {</code>
<code>      calText.Append($" {gregCal.CalendarType}");</code>
<code>    }</code>
<code>    return calText.ToString();</code>
<code>  }<span aria-label="654" epub:type="pagebreak" id="Page_654" role="doc-pagebreak"></span></code>
<code>  else</code>
<code>  {</code>
<code>    return null;</code>
<code>  }</code>
<code>}</code></pre>
                <p data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                    data-immersive-translate-paragraph="1">The <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CultureData</code> class
                    contains properties to display sample information for number, date, and time formats. These
                    properties are bound with the following <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">TextBlock</code> elements
                    (XAML file <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">WinUICultureDemo/CultureDetailUC.xaml</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1"> <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CultureData</code>
                                类包含用于显示数字、日期和时间格式样例信息的属性。这些属性与以下 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">TextBlock</code>
                                元素绑定（XAML 文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">WinUICultureDemo/CultureDetailUC.xaml</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c22-code-0015"><code>&lt;TextBlock Grid.Row="0" Grid.Column="0" Text="Number"/&gt;</code>
<code>&lt;TextBlock Grid.Row="0" Grid.Column="1" </code>
<code>  Text="{x:Bind CultureData.NumberSample, Mode=OneWay}"/&gt;</code>
<code>&lt;TextBlock Grid.Row="1" Grid.Column="0" Text="Full Date"/&gt;</code>
<code>&lt;TextBlock Grid.Row="1" Grid.Column="1" </code>
<code>  Text="{x:Bind CultureData.DateSample, Mode=OneWay}"/&gt;</code>
<code>&lt;TextBlock Grid.Row="2" Grid.Column="0" Text="Time"/&gt;</code>
<code>&lt;TextBlock Grid.Row="2" Grid.Column="1" </code>
<code>  Text="{x:Bind CultureData.TimeSample, Mode=OneWay}"/&gt;</code></pre>
                <p data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                    data-immersive-translate-paragraph="1">The information about the region is shown with the last part
                    of the XAML code. The complete area is hidden if the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">RegionInfo</code> is not
                    available. The <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">TextBlock</code> elements
                    bind the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">DisplayName</code>, <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CurrencySymbol</code>,
                    <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ISOCurrencySymbol</code>,
                    and <code data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">IsMetric</code>
                    properties of the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">RegionInfo</code> type:
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">区域信息通过 XAML 代码的最后一部分显示。如果 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">RegionInfo</code>
                                不可用，则完整区域会被隐藏。 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">TextBlock</code>
                                元素绑定 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">RegionInfo</code>
                                类型的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">DisplayName</code>
                                、 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CurrencySymbol</code>
                                、 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ISOCurrencySymbol</code>
                                和 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">IsMetric</code>
                                属性：</font>
                        </font>
                    </font>
                </p>
                <pre id="c22-code-0016"><code>&lt;Grid Grid.Row="6" Grid.Column="0" Grid.ColumnSpan="3" </code>
<code>  Visibility="{x:Bind CultureData.RegionInfo, Mode=OneWay,</code>
<code>  Converter={StaticResource NullConverter}}"&gt;</code>
<code>  &lt;!-- … --&gt;</code>
<code>  &lt;TextBlock Grid.Row="0" Grid.Column="0" Text="Region Information" </code>
<code>    Style="{StaticResource SubheaderTextBlockStyle"/&gt;</code>
<code>  &lt;TextBlock Grid.Row="0" Grid.Column="1" Grid.ColumnSpan="2"</code>
<code>    Text="{x:Bind CultureData.RegionInfo.DisplayName, Mode=OneWay}"/&gt;</code>
<code> </code>
<code>  &lt;TextBlock Grid.Row="1" Grid.Column="0" Text="Currency"/&gt;</code>
<code>  &lt;TextBlock Grid.Row="1" Grid.Column="1"</code>
<code>    Text="{x:Bind CultureData.RegionInfo.CurrencySymbol, Mode=OneWay}"/&gt;</code>
<code> </code>
<code>  &lt;TextBlock Grid.Row="1" Grid.Column="2"</code>
<code>    Text="{x:Bind CultureData.RegionInfo.ISOCurrencySymbol, Mode=OneWay}"/&gt;</code>
<code> </code>
<code>  &lt;TextBlock Grid.Row="2" Grid.Column="1" Text="Is Metric"</code>
<code>    Visibility="{x:Bind CultureData.RegionInfo.IsMetric, Mode=OneWay}"/&gt;</code>
<code>&lt;/Grid&gt;</code></pre>
                <p id="c22-para-0052" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                    data-immersive-translate-paragraph="1">When you start the application, you can see all available
                    cultures in the tree view, and selecting a culture lists its characteristics, as shown in <a
                        href="#c22-fig-0003" id="R_c22-fig-0003"
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Figure 22-3</a>.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">
                                当你启动应用程序时，你可以在树视图中看到所有可用的文化，选择一个文化会列出其特征，如图 22-3 所示。</font>
                        </font>
                    </font>
                </p>
            </section>
            <section data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"><span id="c22-sec-0014"
                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"></span>
                <h3 id="head-3-436" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                    data-immersive-translate-paragraph="1">Sorting <font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                        <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">排序</font>
                        </font>
                    </font>
                </h3>
                <p id="c22-para-0053" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                    data-immersive-translate-paragraph="1">Sorting strings varies according to the culture. With the
                    Finnish language, some vowels with an accent are sorted after <i
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Z</i>, whereas in many
                    other countries accented vowels come right after nonaccented vowels. With Asian languages, sort
                    order rules are based on phonetics, radical orders, and number of pen strokes. With an application,
                    you might need to sort for a user or independent of a user to have sorted results on a server.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">字符串排序根据文化而变化。使用芬兰语时，带重音的某些元音字母会排在
                                Z
                                之后，而在许多其他国家，带重音的元音字母会紧跟在无重音的元音字母之后。对于亚洲语言，排序规则基于语音、部首顺序和笔画数量。在应用程序中，你可能需要为用户排序或独立于用户进行排序，以便在服务器上获得排序结果。
                            </font>
                        </font>
                    </font>
                </p>
                <p id="c22-para-0054" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                    data-immersive-translate-paragraph="1">By default, sorting with .NET is culture-specific, but you
                    can specify to do a culture-invariant sort.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">默认情况下，.NET
                                的排序是特定于文化的，但你也可以指定进行文化无关的排序。</font>
                        </font>
                    </font>
                </p>
                <figure data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"> <img
                        alt="Snapshot of Win U I desktop window." class="center" src="images/c22f003.png" />
                    <figcaption data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">
                        <p data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"><span
                                class="figureLabel"
                                data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"><a
                                    href="#R_c22-fig-0003" id="c22-fig-0003" role="doc-backlink"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"><b
                                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                                        data-immersive-translate-paragraph="1">FIGURE 22-3<font
                                            class="notranslate immersive-translate-target-wrapper"
                                            data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                                            <font class="notranslate"
                                                data-immersive-translate-translation-element-mark="1">  </font>
                                            <font
                                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                                                data-immersive-translate-translation-element-mark="1">
                                                <font
                                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                                    data-immersive-translate-translation-element-mark="1">图 22-3</font>
                                            </font>
                                        </font></b></a></span></p>
                    </figcaption>
                </figure>
                <p id="c22-para-0055" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                    data-immersive-translate-paragraph="1"><span aria-label="655" epub:type="pagebreak" id="Page_655"
                        role="doc-pagebreak"
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"></span>Let's get into a
                    sample application to sort strings based on a specific culture and with an invariant culture.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">
                                让我们通过一个示例应用程序来学习如何根据特定文化以及不变文化对字符串进行排序。</font>
                        </font>
                    </font>
                </p>
                <p data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                    data-immersive-translate-paragraph="1">The method <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">DisplayNames</code> shown
                    here is used to display all elements of an array or a collection on the console (code file <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">SortingDemo/Program.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">这里展示的 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">DisplayNames</code>
                                方法用于在控制台上显示数组或集合的所有元素（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">SortingDemo/Program.cs</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c22-code-0017"><code>void DisplayNames(string title, IEnumerable&lt;string&gt; names)</code>
<code>{</code>
<code>  Console.WriteLine(title);</code>
<code>  Console.WriteLine(string.Join("-", names));</code>
<code>  Console.WriteLine();</code>
<code>}</code></pre>
                <p data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                    data-immersive-translate-paragraph="1">In the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Main</code> method, after
                    creating the array with countries from the European Union with native country names, the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CultureInfo.CurrentCulture</code>
                    property is set to the Finnish culture so that the following <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Array.Sort</code> uses
                    the Finnish sort order. Calling the method <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">DisplayNames</code>
                    displays all the countries on the console:<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">在 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Main</code>
                                方法中，首先创建了一个包含欧盟国家名称的数组，然后将 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CultureInfo.CurrentCulture</code>
                                属性设置为芬兰文化，以便后续的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Array.Sort</code>
                                使用芬兰的排序顺序。调用方法 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">DisplayNames</code>
                                将在控制台上显示所有国家：</font>
                        </font>
                    </font>
                </p>
                <pre id="c22-code-0018"><code>string[] countries = { "Österreich", "België", "България", "Hrvatska", "Česko", </code>
<code>  "Danmark", "Eesti", "Suomi", "France", "Deutschland", "Ελλáδα", </code>
<code>  "Magyarország", "Ireland", "Italia", "Latvija", "Lietuva", "Lëtzebuerg", </code>
<code>  "Malta", "Nederland", "Polska", "Portugal", "România", "Slovensko", </code>
<code>  "Slovenija", "España", "Sverige" };</code>
<code> <span aria-label="656" epub:type="pagebreak" id="Page_656" role="doc-pagebreak"></span></code>
<code>CultureInfo.CurrentCulture = new CultureInfo("fi-FI");</code>
<code> </code>
<code>Array.Sort(countries);</code>
<code>DisplayNames("Sorted using the Finnish culture", countries);</code></pre>
                <p id="c22-para-0058" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                    data-immersive-translate-paragraph="1">After the first display of the countries in the Finnish sort
                    order, the array is sorted once again. If you want a sort that is independent of the users’ culture,
                    which would be useful when the sorted array is sent to a server or stored somewhere, you can use the
                    invariant culture.<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">
                                在以芬兰排序顺序首次显示国家之后，数组再次被排序。如果你需要一个与用户文化无关的排序，这在将排序后的数组发送到服务器或存储时非常有用，你可以使用不变文化。</font>
                        </font>
                    </font>
                </p>
                <p data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                    data-immersive-translate-paragraph="1">You can do this by passing a second argument to <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Array.Sort</code>. The
                    <code data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Sort</code> method
                    expects an object implementing <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">IComparer</code> with the
                    second argument. The <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Comparer</code> class
                    from the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">System.Collections</code>
                    namespace implements <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">IComparer</code>. <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Comparer.DefaultInvariant</code>
                    returns a <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Comparer</code> object
                    that uses the invariant culture for comparing the array values for a culture-independent sort:<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">你可以通过向 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Array.Sort</code>
                                传递第二个参数来实现这一点。 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Sort</code>
                                方法期望第二个参数实现 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">IComparer</code>
                                接口。 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">System.Collections</code>
                                命名空间中的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Comparer</code>
                                类实现了 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">IComparer</code>
                                接口。 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Comparer.DefaultInvariant</code>
                                返回一个 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Comparer</code>
                                对象，该对象使用不变文化来比较数组值，以进行文化无关的排序：</font>
                        </font>
                    </font>
                </p>
                <pre id="c22-code-0019"><code>// sort using the invariant culture</code>
<code> </code>
<code>Array.Sort(countries, Comparer.DefaultInvariant);</code>
<code>DisplayNames("Sorted using the invariant culture", countries);</code></pre>
                <p data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                    data-immersive-translate-paragraph="1">The program output shows different sort results with the
                    Finnish and culture-independent cultures—Österreich is positioned after Sverige with the Finnish
                    culture and after Nederland with the invariant culture:<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">
                                程序输出显示了使用芬兰文化和文化无关文化时的不同排序结果——在芬兰文化中，Österreich 位于 Sverige 之后，而在不变文化中，Österreich 位于
                                Nederland 之后：</font>
                        </font>
                    </font>
                </p>
                <pre id="c22-code-0020"><code>Sorted using the Finnish culture</code>
<code>België-Česko-Danmark-Deutschland-Eesti-España-France-Hrvatska-Ireland-Italia-Latvija-</code>
<code>Lëtzebuerg-Lietuva-Magyarország-Malta-Nederland-Polska-Portugal-România-Slovenija-</code>
<code>Slovensko-Suomi-Sverige-Österreich-Ελλáδα-България</code>
<code> </code>
<code>Sorted using the invariant culture</code>
<code>België-Česko-Danmark-Deutschland-Eesti-España-France-Hrvatska-Ireland-Italia-Latvija-</code>
<code>Lëtzebuerg-Lietuva-Magyarország-Malta-Nederland-Österreich-Polska-Portugal-România-</code>
<code>Slovenija-Slovensko-Suomi-Sverige-Ελλáδα-България</code></pre>
                <aside data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">
                    <div class="top hr" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">
                        <hr />
                    </div>
                    <section class="feature2" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">
                        <p id="c22-para-0062" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                            data-immersive-translate-paragraph="1"><b
                                data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">NOTE</b> <i
                                data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">If sorting a
                                collection should be independent of a culture, the collection must be sorted with the
                                invariant culture. This can be particularly useful when sending the sort result to a
                                server or storing it inside a file. To display a sorted collection to the user, it's
                                best to sort it with the user's culture.</i>
                            <font class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">注意
                                        如果需要对集合进行文化无关的排序，必须使用不变文化进行排序。这在将排序结果发送到服务器或存储在文件中时特别有用。要向用户显示排序后的集合，最好使用用户的文化进行排序。
                                    </font>
                                </font>
                            </font>
                        </p>
                        <div class="bottom hr" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">
                            <hr />
                        </div>
                    </section>
                </aside>
                <p id="c22-para-0063" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                    data-immersive-translate-paragraph="1">In addition to a locale-dependent formatting and measurement
                    system, text and colors may differ depending on the culture. This is where resources come into play.
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">
                                除了具有文化相关的格式和测量系统外，文本和颜色也可能因文化而异。这就是资源发挥作用的地方。</font>
                        </font>
                    </font>
                </p>
            </section>
        </section>
        <section aria-labelledby="head-2-207" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">
            <span id="c22-sec-0016" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"></span>
            <h2 id="head-2-207" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                data-immersive-translate-paragraph="1">RESOURCES<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                    <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">资源</font>
                    </font>
                </font>
            </h2>
            <p id="c22-para-0064" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                data-immersive-translate-paragraph="1">You can put resources such as pictures or string tables into
                resource files or assemblies. Such resources can be very helpful when localizing applications, and .NET
                has built-in support to search for localized resources. A <i
                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">satellite assembly</i> is an
                assembly that just contains localized resources. With an application, you can add multiple satellite
                assemblies for all the different languages supported by the application.<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">
                            你可以将图片或字符串表等资源放入资源文件或程序集中。在本地化应用程序时，这些资源会非常有帮助，而.NET
                            提供了内置支持来搜索本地化资源。卫星程序集是一个仅包含本地化资源的程序集。对于应用程序，你可以添加多个卫星程序集，以支持应用程序所支持的所有不同语言。</font>
                    </font>
                </font>
            </p>
            <p id="c22-para-0065" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                data-immersive-translate-paragraph="1">Resource files can be simple text-based files (which only support
                strings for the resources), binary files, or XML files. XML resource files usually have the <code
                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">.resx</code> file extension.
                With WinUI and UWP applications, the <code
                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">.resw</code> file extension
                is used with the same XML syntax.<font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">资源文件可以是基于文本的简单文件（仅支持用于资源的字符串）、二进制文件或
                            XML 文件。XML 资源文件通常具有 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">.resx</code>
                            文件扩展名。在使用 WinUI 和 UWP 应用程序时，使用相同的 XML 语法，但使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">.resw</code>
                            文件扩展名。</font>
                    </font>
                </font>
            </p>
            <p id="c22-para-0066" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                data-immersive-translate-paragraph="1">Before you see how to use resources to localize applications, the
                following sections explain how you can create and read resources without looking at language aspects.
                <font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">
                            在了解如何使用资源来本地化应用程序之前，以下部分将解释如何创建和读取资源，而不考虑语言方面。</font>
                    </font>
                </font>
            </p> <span aria-label="657" epub:type="pagebreak" id="Page_657" role="doc-pagebreak"
                data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"></span>
            <section data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"><span id="c22-sec-0017"
                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"></span>
                <h3 id="head-3-437" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                    data-immersive-translate-paragraph="1">Resource Readers and Writers <font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">资源读取器和写入器</font>
                        </font>
                    </font>
                </h3>
                <p data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                    data-immersive-translate-paragraph="1">
                    <code data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ResourceWriter</code>
                    (from the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">System.Resources</code>
                    namespace) enables you to create binary resource files. The constructor of the writer requires a
                    <code data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Stream</code> that is
                    created using the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">File</code> class. You
                    add resources by using the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">AddResource</code> method
                    (code file <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CreateResource/Program.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1"> <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ResourceWriter</code>
                                （来自 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">System.Resources</code>
                                命名空间）使您能够创建二进制资源文件。写入器的构造函数需要一个使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">File</code>
                                类创建的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Stream</code>
                                。您通过使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">AddResource</code>
                                方法添加资源（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CreateResource/Program.cs</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c22-code-0021"><code>private const string ResourceFile = "Demo.resources";</code>
<code>public static void CreateResource()</code>
<code>{</code>
<code>  FileStream stream = File.OpenWrite(ResourceFile);</code>
<code>  using var writer = new ResourceWriter(stream);</code>
<code>  <b>writer.AddResource("Title", "Professional C#");</b></code>
<code>  <b>writer.AddResource("Author", "Christian Nagel");</b></code>
<code>  <b>writer.AddResource("Publisher", "Wrox Press");</b></code>
<code>}</code></pre>
                <p data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                    data-immersive-translate-paragraph="1">To read the resources of a binary resource file, you can use
                    <code data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ResourceReader</code>.
                    The <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">GetEnumerator</code>
                    method of the reader returns an <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">IDictionaryEnumerator</code>
                    that is used within the following <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">foreach</code> statement
                    to access the key and value of the resource:<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">要读取二进制资源文件中的资源，你可以使用 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ResourceReader</code>
                                。读取器的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">GetEnumerator</code>
                                方法返回一个 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">IDictionaryEnumerator</code>
                                ，该 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">IDictionaryEnumerator</code>
                                在以下 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">foreach</code>
                                语句中被用于访问资源的键和值：</font>
                        </font>
                    </font>
                </p>
                <pre id="c22-code-0022"><code>public static void ReadResource()</code>
<code>{</code>
<code>  FileStream stream = File.OpenRead(ResourceFile);</code>
<code>  using (var reader = new ResourceReader(stream))</code>
<code>  {</code>
<code>    foreach (DictionaryEntry resource in reader)</code>
<code>    {</code>
<code>      Console.WriteLine($"{resource.Key} {resource.Value}");</code>
<code>    }</code>
<code>  }</code>
<code>}</code></pre>
                <p id="c22-para-0069" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                    data-immersive-translate-paragraph="1">Running the application returns the keys and values that have
                    been written to the binary resource file. To create XML-based <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">.resx</code> files, you
                    can use the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ResXResourceWriter</code>
                    class in the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">System.Resources</code>
                    namespace. At the time of this writing, this class is defined in the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">System.Windows.Forms</code>
                    assembly. The <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">.resw</code> files with
                    UWP applications are based on <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">System.Windows.Forms</code>
                    as well. The tool to convert resource files (<code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">resgen</code>) is part of
                    the .NET Framework SDK on the Windows platform. To solve some of the issues here, <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">msbuild</code> has
                    built-in support to work with resource files on all platforms.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">运行应用程序会返回写入到二进制资源文件中的键和值。要创建基于 XML
                                的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">.resx</code>
                                文件，你可以使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">System.Resources</code>
                                命名空间中的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ResXResourceWriter</code>
                                类。在撰写本文时，该类定义在 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">System.Windows.Forms</code>
                                程序集中。UWP 应用程序中的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">.resw</code>
                                文件也是基于 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">System.Windows.Forms</code>
                                的。用于转换资源文件（ <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">resgen</code>
                                ）的工具是 Windows 平台上 .NET Framework SDK 的一部分。为了解决这里的一些问题， <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">msbuild</code>
                                具有内置支持，可在所有平台上处理资源文件。</font>
                        </font>
                    </font>
                </p>
            </section>
            <section data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"><span id="c22-sec-0018"
                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"></span>
                <h3 id="head-3-438" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                    data-immersive-translate-paragraph="1">Using Resource Files with ResourceManager<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">使用 ResourceManager 处理资源文件</font>
                        </font>
                    </font>
                </h3>
                <p data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                    data-immersive-translate-paragraph="1">With the default SDK definitions for project files, resource
                    files are embedded in the assembly. You can customize this—for example, you can remove resources
                    from the assembly by adding an <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">EmbeddedResource</code>
                    element with the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Remove</code> attribute
                    to an <code data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ItemGroup</code>
                    in the project file as shown:<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">默认的项目文件 SDK
                                定义中，资源文件会嵌入到程序集中。你可以自定义这个行为——例如，你可以在项目文件中的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ItemGroup</code>
                                元素添加一个带有 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Remove</code>
                                属性的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">EmbeddedResource</code>
                                元素来从程序集中移除资源，具体操作如下：</font>
                        </font>
                    </font>
                </p>
                <pre id="c22-code-0023"><code>&lt;ItemGroup&gt;</code>
<code>  &lt;EmbeddedResource Remove="Resources\Messages.de.resx"/&gt;</code>
<code>&lt;/ItemGroup&gt;</code></pre>
                <p id="c22-para-0071" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                    data-immersive-translate-paragraph="1">The sample application uses embedded resources. To see how
                    resource files can be loaded with the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ResourceManager</code>
                    class, create a console application and name it <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ResourcesDemo</code>.
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">示例应用程序使用嵌入资源。要了解如何使用 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ResourceManager</code>
                                类加载资源文件，可以创建一个控制台应用程序并将其命名为 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ResourcesDemo</code>
                                。</font>
                        </font>
                    </font>
                </p>
                <p id="c22-para-0072" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                    data-immersive-translate-paragraph="1">Create a <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Resources</code> folder
                    and add a <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Messages.resx</code> file
                    to this folder. The <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Messages.resx</code> file
                    is filled with a key and value for U.S. English content—for example, the key <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">GoodMorning</code> and
                    the value <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Good Morning!</code>.
                    <span aria-label="658" epub:type="pagebreak" id="Page_658" role="doc-pagebreak"
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"></span>This will be the
                    default language. You can add other language resource files with the naming convention to add the
                    culture to the resource file, for example, <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Messages.de.resx</code>
                    for German languages. Translations that are different for regional languages—for example, languages
                    for Switzerland—can be added to <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Messages.de-CH.resx</code>.
                    “Good Morning” translates to German “Guten Morgen” and to Swiss-German “Guata Morga.”<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">创建一个 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Resources</code>
                                文件夹并向该文件夹添加一个 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Messages.resx</code>
                                文件。 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Messages.resx</code>
                                文件包含用于美国英语内容的键和值——例如，键 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">GoodMorning</code>
                                和值 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Good Morning!</code>
                                。这将作为默认语言。你可以使用命名约定来添加文化信息到资源文件，例如，为德语添加 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Messages.de.resx</code>
                                。对于区域性语言的不同翻译——例如，瑞士语言的翻译——可以添加到 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Messages.de-CH.resx</code>
                                。 “Good Morning”翻译成德语是“Guten Morgen”，翻译成瑞士德语是“Guata Morga。”</font>
                        </font>
                    </font>
                </p>
                <p data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                    data-immersive-translate-paragraph="1">The XML content of the file contains <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">data</code> elements with
                    <code data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">name</code> attributes
                    and <code data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">value</code> child
                    elements (XML file <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ResourcesDemo/Resources/Messages.resx</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">该文件的 XML 内容包含带有 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">name</code>
                                属性的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">data</code>
                                元素和 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">value</code>
                                子元素（XML 文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ResourcesDemo/Resources/Messages.resx</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c22-code-0024"><code>&lt;data name="GoodMorning" xml:space="preserve"&gt;</code>
<code>  &lt;value&gt;Good Morning!&lt;/value&gt;</code>
<code>&lt;/data&gt;</code></pre>
                <p id="c22-para-0074" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                    data-immersive-translate-paragraph="1">When you add XML resource files to the project using a .NET
                    SDK, by default, resource files are built using Embedded Resource. This adds the resource to the
                    assembly. With localized versions of these files, after the build, you'll find subdirectories for
                    the different languages—for example, <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">de</code> and <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">de-CH</code>. These
                    subdirectories contain satellite assemblies. Satellite assemblies are assemblies that contain only
                    binary resources and do not contain code. Depending on the culture setting for the user, resources
                    from the satellite assemblies are retrieved.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">当你使用.NET SDK 向项目中添加 XML
                                资源文件时，默认情况下，资源文件会以嵌入式资源的方式构建。这会将资源添加到程序集中。对于这些文件的本地化版本，在构建完成后，你会发现在不同语言下有子目录——例如 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">de</code> 和
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">de-CH</code>
                                。这些子目录包含卫星程序集。卫星程序集仅包含二进制资源，不包含代码。根据用户的区域文化设置，会从卫星程序集中检索资源。</font>
                        </font>
                    </font>
                </p>
                <p data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                    data-immersive-translate-paragraph="1">To access the embedded resource, use the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ResourceManager</code>
                    class from the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">System.Resources</code>
                    namespace. When you're instantiating the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ResourceManager</code>,
                    one overload of the constructor needs the name of the resource and the assembly. The namespace of
                    the application is <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ResourcesDemo</code>
                    ; the resource file is in the folder <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Resources</code>, which
                    defines the subnamespace <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Resources</code>, and it
                    has the name <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Messages.resx</code>.
                    This defines the name <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ResourcesDemo.Resources.Messages</code>.
                    You can retrieve the assembly of the resource using the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">GetTypeInfo</code> method
                    of the <code data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Program</code>
                    type, which defines an <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Assembly</code> property.
                    When using resources from the current assembly, you also can use <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Assembly.GetExecutingAssembly</code>
                    to retrieve the current assembly. Using the resources instance, the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">GetString</code> method
                    returns the value of the key passed from the resource file. Passing a culture such as <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">de-CH</code> for the
                    second argument looks for resources in the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">de-CH</code> satellite
                    assembly. If it's not found there, the neutral language for <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">de</code> is taken, the
                    <code data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">de</code> resource
                    file. If it's not found there, the default resource file without culture naming succeeds to return
                    the value (code file <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ResourcesDemo/Program.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">要访问嵌入式资源，使用来自 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">System.Resources</code>
                                命名空间的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ResourceManager</code>
                                类。当您实例化 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ResourceManager</code>
                                时，构造函数的一个重载需要资源的名称和程序集。应用程序的命名空间是 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ResourcesDemo</code>
                                ；资源文件位于 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Resources</code>
                                文件夹中，该文件夹定义了子命名空间 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Resources</code>
                                ，其名称为 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Messages.resx</code>
                                。这定义了名称 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ResourcesDemo.Resources.Messages</code>
                                。您可以使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Program</code>
                                类型的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">GetTypeInfo</code>
                                方法检索资源的程序集，该方法定义了一个 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Assembly</code>
                                属性。当使用当前程序集的资源时，您也可以使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Assembly.GetExecutingAssembly</code>
                                来检索当前程序集。使用资源实例， <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">GetString</code>
                                方法返回从资源文件传递的键的值。将 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">de-CH</code>
                                作为第二个参数传递，会在 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">de-CH</code>
                                卫星程序集中查找资源。如果在那里找不到，则使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">de</code>
                                的中性语言，即 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">de</code>
                                资源文件。如果在那里也找不到，则成功返回默认的、不带文化命名的资源文件（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ResourcesDemo/Program.cs</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c22-code-0025"><code><b>ResourceManager resources = new("ResourcesDemo.Resources.Messages",</b></code>
<code>  <b>typeof(Program).GetTypeInfo().Assembly);</b></code>
<code>string goodMorning = resources.GetString("GoodMorning", <b>new CultureInfo("de-CH));</b></code>
<code>Console.WriteLine(goodMorning);</code></pre>
                <p data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                    data-immersive-translate-paragraph="1">Another overload of the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ResourceManager</code>
                    constructor just requires the type of the class. This <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ResourceManager</code>
                    looks for a resource file named <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Program.resx</code>
                    :<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1"> <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ResourceManager</code>
                                构造函数的另一个重载只需要类的类型。这个 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ResourceManager</code>
                                会查找一个名为 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Program.resx</code>
                                的资源文件：</font>
                        </font>
                    </font>
                </p>
                <pre id="c22-code-0026"><code>ResourceManager programResources = new(typeof(Program));</code>
<code>Console.WriteLine(programResources.GetString("Resource1"));</code></pre>
            </section>
        </section>
        <section aria-labelledby="head-2-208" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">
            <span id="c22-sec-0019" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"></span>
            <h2 id="head-2-208" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                data-immersive-translate-paragraph="1">LOCALIZATION WITH ASP.NET CORE<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">使用 ASP.NET CORE 进行本地化</font>
                    </font>
                </font>
            </h2>
            <p data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                data-immersive-translate-paragraph="1">For localization of ASP.NET Core web applications, you can use
                the <code data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CultureInfo</code>
                class and resources like those already discussed in this chapter, but there are some additional issues
                that you need to resolve. Setting the culture for the complete application doesn't fulfill usual needs
                because users are coming from different cultures. So, it's necessary to set the culture with every
                request to the server.<font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">对于 ASP.NET Core 网络应用程序的本地化，你可以使用本章已讨论的
                            <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CultureInfo</code>
                            类和资源，但还有一些额外的问题需要解决。为整个应用程序设置文化并不满足通常的需求，因为用户来自不同的文化。因此，有必要在每次向服务器发送请求时设置文化。</font>
                    </font>
                </font><span aria-label="659" epub:type="pagebreak" id="Page_659" role="doc-pagebreak"
                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"></span></p>
            <aside data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">
                <div class="top hr" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">
                    <hr />
                </div>
                <section class="feature2" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">
                    <p id="c22-para-0078" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                        data-immersive-translate-paragraph="1"><b
                            data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">NOTE</b> <i
                            data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">For using
                            localization with ASP.NET Core, you need to know about both cultures and resources that are
                            discussed in this chapter as well as creating ASP.NET Core applications. In case you haven't
                            created ASP.NET Core web applications with .NET before, you should read <a href="c24.xhtml"
                                data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Chapter 24</a>,
                            “ASP.NET Core,” before continuing with this part of the chapter.</i>
                        <font class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">注意 要使用 ASP.NET Core
                                    进行本地化，你需要了解本章讨论的文化和资源，以及创建 ASP.NET Core 应用程序。如果你之前没有使用 .NET 创建过 ASP.NET Core
                                    网络应用程序，你应该在继续本章的这一部分之前阅读第 24 章，“ASP.NET Core”。</font>
                            </font>
                        </font>
                    </p>
                    <div class="bottom hr" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">
                        <hr />
                    </div>
                </section>
            </aside>
            <p id="c22-para-0080" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                data-immersive-translate-paragraph="1">How do you know about the culture of the user? There are
                different options. The browser sends preferred languages within the HTTP header with every request. This
                information from the browser can come from browser settings or when the browser itself checks the
                installed languages. Another option is to define URL parameters or use different domain names for
                different languages. You can use different domain names in some scenarios, such as <code
                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"><a href="http://www.cninnovation.com">www.cninnovation.com</a></code>
                for an English version of the site and <code
                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"><a href="http://www.cninnovation.de">www.cninnovation.de</a></code>
                for a German version. But what about <code
                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"><a href="http://www.cninnovation.ch">www.cninnovation.ch</a></code>?
                This should be offered both in German and French and probably Italian. URL parameters such as <code
                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"><a href="http://www.cninnovation.com/culture=de">www.cninnovation.com/culture=de</a></code>
                could help here. Using <code
                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"><a href="http://www.cninnovation.com/de">www.cninnovation.com/de</a></code>
                works like the URL parameter by defining a specific route. <code
                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"><a href="https://docs.microsoft.com">https://docs.microsoft.com</a></code>
                uses language routes such as <code
                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"><a href="https://docs.microsoft.com/de-AT">https://docs.microsoft.com/de-AT</a></code>.
                Another option is to allow the user to select the language and define a cookie to remember this option.
                <font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">你如何了解用户的文化的？有几种不同的选项。浏览器在每次请求中通过 HTTP
                            头发送首选语言。这些来自浏览器的信息可能来自浏览器设置，或者当浏览器本身检查已安装的语言时获取。另一个选项是为不同的语言定义 URL
                            参数或使用不同的域名。在某些情况下，你可以使用不同的域名，例如使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"><a href="http://www.cninnovation.com">www.cninnovation.com</a></code>
                            表示网站的英文版本，使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"><a href="http://www.cninnovation.de">www.cninnovation.de</a></code>
                            表示德文版本。但 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"><a href="http://www.cninnovation.ch">www.cninnovation.ch</a></code>
                            呢？这应该同时提供德语、法语，可能还有意大利语。URL 参数如 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"><a href="http://www.cninnovation.com/culture=de">www.cninnovation.com/culture=de</a></code>
                            可能有助于此目的。使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"><a href="http://www.cninnovation.com/de">www.cninnovation.com/de</a></code>
                            类似于 URL 参数，通过定义特定路由来工作。 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"><a href="https://docs.microsoft.com">https://docs.microsoft.com</a></code>
                            使用语言路由，如 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"><a href="https://docs.microsoft.com/de-AT">https://docs.microsoft.com/de-AT</a></code>
                            。另一个选项是允许用户选择语言并定义一个 cookie 来记住这个选项。</font>
                    </font>
                </font>
            </p>
            <p id="c22-para-0081" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                data-immersive-translate-paragraph="1">All these scenarios are supported out of the box by ASP.NET Core.
                <font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">所有这些场景都由 ASP.NET Core 开箱即用支持。</font>
                    </font>
                </font>
            </p>
            <section data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"><span id="c22-sec-0021"
                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"></span>
                <h3 id="head-3-439" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                    data-immersive-translate-paragraph="1">Registering Localization Services <font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">注册本地化服务</font>
                        </font>
                    </font>
                </h3>
                <p id="c22-para-0082" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                    data-immersive-translate-paragraph="1">To start seeing this in action, create a new ASP.NET Core Web
                    App with Razor Pages. With the .NET CLI, the command is <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">dotnet new webapp</code>.
                    The additional namespaces used with the ASP.NET Core sample are <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Microsoft.AspNetCore.Localization</code>,
                    <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Microsoft.Extensions.Localization</code>,
                    and <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">System.ComponentModel</code>.
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">要开始看到这个效果，创建一个新的 ASP.NET Core Web
                                应用，使用 Razor Pages。使用.NET CLI，命令是 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">dotnet new webapp</code>
                                。与 ASP.NET Core 示例一起使用的附加命名空间是 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Microsoft.AspNetCore.Localization</code>
                                、 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Microsoft.Extensions.Localization</code>
                                和 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">System.ComponentModel</code>
                                。</font>
                        </font>
                    </font>
                </p>
                <p data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                    data-immersive-translate-paragraph="1">Within the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Startup</code> class, you
                    need to invoke the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">AddLocalization</code>
                    extension method to register services for localization (code file <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ASPNETCoreLocalization/Startup.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">在 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Startup</code>
                                类中，你需要调用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">AddLocalization</code>
                                扩展方法来注册本地化服务（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ASPNETCoreLocalization/Startup.cs</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c22-code-0027"><code>public void ConfigureServices(IServiceCollection services)</code>
<code>{</code>
<code>  services.AddLocalization(options =&gt; options.ResourcesPath =     </code>
<code>    "Resources");</code>
<code>  //…</code>
<code>  services.AddRazorPages();</code>
<code>}</code></pre>
                <p id="c22-para-0084" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                    data-immersive-translate-paragraph="1">The <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">AddLocalization</code>
                    method registers services for the interfaces <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">IStringLocalizerFactory</code>
                    and <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">IStringLocalizer</code>.
                    With the registration code, the type <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ResourceManagerStringLocalizerFactory</code>
                    is registered as a singleton, and <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">StringLocalizer</code> is
                    registered with transient lifetime. The class <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ResourceManagerStringLocalizerFactory</code>
                    is a factory for <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ResourceManagerStringLocalizer</code>.
                    This class in turn makes use of the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ResourceManager</code>
                    class shown earlier for retrieving strings from resource files.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1"> <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">AddLocalization</code>
                                方法注册了 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">IStringLocalizerFactory</code>
                                和 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">IStringLocalizer</code>
                                接口的服务。通过注册代码，类型 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ResourceManagerStringLocalizerFactory</code>
                                被注册为单例，而 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">StringLocalizer</code>
                                以瞬态生命周期被注册。类 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ResourceManagerStringLocalizerFactory</code>
                                是 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ResourceManagerStringLocalizer</code>
                                的工厂。这个类反过来又使用了前面展示的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ResourceManager</code>
                                类来从资源文件中获取字符串。</font>
                        </font>
                    </font>
                </p>
            </section>
            <section data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"><span id="c22-sec-0022"
                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"></span>
                <h3 id="head-3-440" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                    data-immersive-translate-paragraph="1">Configuring the Middleware <font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">配置中间件</font>
                        </font>
                    </font>
                </h3>
                <p data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                    data-immersive-translate-paragraph="1">After localization is configured with the dependency
                    injection container, you can configure localization with the middleware. Middleware functionality is
                    invoked with every HTTP request and is configured in the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Configure</code> method
                    of the <code data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Startup</code>
                    class. The <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">UseRequestLocalization</code>
                    method defines an overload where you can pass <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">RequestLocalizationOptions</code>.
                    Setting the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">RequestLocalizationOptions</code>
                    properties enables you to customize what cultures should be supported and to set the default
                    culture. Here, the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">DefaultRequestCulture</code>
                    is set to <code data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">en-US</code>.
                    The class <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">RequestCulture</code> is
                    just a small wrapper around the culture for formatting—which is accessible via the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Culture</code>
                    property—and the culture for using the resources (<code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">UICulture</code>
                    property). The sample <span aria-label="660" epub:type="pagebreak" id="Page_660"
                        role="doc-pagebreak"
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"></span>code accepts <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">en-US</code>, <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">en</code>, <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">de-AT</code>, and <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">de</code> cultures for
                    <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">SupportedCultures</code>
                    and <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">SupportedUICultures</code>
                    (code file <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ASPNETCoreLocalization/Startup.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">
                                在将本地化配置到依赖注入容器后，您可以通过中间件进行本地化配置。中间件功能会在每个 HTTP 请求中被调用，并在 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Startup</code>
                                类的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Configure</code>
                                方法中配置。 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">UseRequestLocalization</code>
                                方法定义了一个重载，您可以在其中传递 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">RequestLocalizationOptions</code>
                                。设置 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">RequestLocalizationOptions</code>
                                属性使您能够自定义应支持哪些文化，并设置默认文化。在此处， <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">DefaultRequestCulture</code>
                                被设置为 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">en-US</code>
                                。类 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">RequestCulture</code>
                                只是一个围绕文化进行格式化的小型包装器——可通过 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Culture</code>
                                属性访问——以及用于使用资源的文化（ <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">UICulture</code>
                                属性）。示例代码接受 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">en-US</code>
                                、 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">en</code> 、
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">de-AT</code>
                                和 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">de</code>
                                文化用于 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">SupportedCultures</code>
                                和 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">SupportedUICultures</code>
                                （代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ASPNETCoreLocalization/Startup.cs</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c22-code-0028"><code>public void Configure(IApplicationBuilder app, IWebHostEnvironment env)</code>
<code>{</code>
<code>  //…</code>
<code> </code>
<code>  <b>CultureInfo[] supportedCultures = { new("en-US"), new("en"), new("de-AT"),     new("de") };</b></code>
<code> </code>
<code>  <b>RequestLocalizationOptions localizationOptions = new()</b></code>
<code>  <b>{</b></code>
<code>    <b>DefaultRequestCulture = new RequestCulture(new CultureInfo("en-US")),</b></code>
<code>    <b>SupportedCultures = supportedCultures,</b></code>
<code>    <b>SupportedUICultures = supportedCultures</b></code>
<code>  <b>};</b></code>
<code> </code>
<code>  <b>app.UseRequestLocalization(localizationOptions);</b></code>
<code> </code>
<code>  app.UseHttpsRedirection();</code>
<code>  app.UseStaticFiles();</code>
<code> </code>
<code>  app.UseRouting();</code>
<code> </code>
<code>  app.UseAuthorization();</code>
<code> </code>
<code>  app.UseEndpoints(endpoints =&gt;</code>
<code>  {</code>
<code>    endpoints.MapRazorPages();</code>
<code>  });</code>
<code>}</code></pre>
                <p id="c22-para-0086" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                    data-immersive-translate-paragraph="1">With the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">RequestLocalizationOptions</code>
                    settings, you can configure <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">RequestCultureProviders</code>
                    invoking the method <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">AddInitialRequestCultureProvider</code>
                    and supplying classes that derive from the base class <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">RequestCultureProvider</code>.
                    By default, three providers are configured that probably fulfill your needs: <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">QueryStringRequestCultureProvider</code>,
                    <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CookieRequestCultureProvider</code>,
                    and <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">AcceptLanguageHeaderRequestCultureProvider</code>.
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">使用 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">RequestLocalizationOptions</code>
                                设置，您可以通过调用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">AddInitialRequestCultureProvider</code>
                                方法并传入派生自基础类 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">RequestCultureProvider</code>
                                的类来配置 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">RequestCultureProviders</code>
                                。默认情况下，配置了三个可能满足您需求的提供程序： <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">QueryStringRequestCultureProvider</code>
                                、 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CookieRequestCultureProvider</code>
                                和 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">AcceptLanguageHeaderRequestCultureProvider</code>
                                。</font>
                        </font>
                    </font>
                </p>
            </section>
            <section data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"><span id="c22-sec-0023"
                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"></span>
                <h3 id="head-3-441" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                    data-immersive-translate-paragraph="1">ASP . NET Core Culture Providers</h3>
                <p id="c22-para-0087" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                    data-immersive-translate-paragraph="1">Let's look at these culture providers in more detail. The
                    <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">QueryStringRequestCultureProvider</code>
                    uses the query string to retrieve the culture. By default, the query parameters <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">culture</code> and <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ui-culture</code> are
                    used with this provider, as shown with this URL: <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"><a href="https://localhost:5001/?culture=de&amp;ui-culture=en-US">https://localhost:5001/?culture=de&amp;ui-culture=en-US</a></code>.
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">让我们更详细地了解一下这些文化提供程序。 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">QueryStringRequestCultureProvider</code>
                                使用查询字符串来检索文化。默认情况下，此提供程序使用查询参数 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">culture</code>
                                和 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ui-culture</code>
                                ，如这个 URL 所示： <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"><a href="https://localhost:5001/?culture=de&amp;ui-culture=en-US">https://localhost:5001/?culture=de&amp;ui-culture=en-US</a></code>
                                。</font>
                        </font>
                    </font>
                </p>
                <p id="c22-para-0088" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                    data-immersive-translate-paragraph="1">You can also change the query parameters by setting the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">QueryStringKey</code> and
                    <code data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">UIQueryStringKey</code>
                    properties of the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">QueryStringRequestCultureProvider</code>.
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">您也可以通过设置 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">QueryStringRequestCultureProvider</code>
                                的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">QueryStringKey</code>
                                和 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">UIQueryStringKey</code>
                                属性来更改查询参数。</font>
                        </font>
                    </font>
                </p>
                <p id="c22-para-0089" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                    data-immersive-translate-paragraph="1">The <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CookieRequestCultureProvider</code>
                    defines the cookie named <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ASPNET_CULTURE</code>
                    (which can be set using the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CookieName</code>
                    property). The values from this cookie are retrieved to set the culture. To create a cookie and send
                    it to the client, you can use the static method <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">MakeCookieValue</code> to
                    create a cookie from a <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">RequestCulture</code> and
                    send it to the client. The <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CookieRequestCultureProvider</code>
                    uses the static method <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ParseCookieValue</code>
                    to get a <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">RequestCulture</code>.
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1"> <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CookieRequestCultureProvider</code>
                                定义了名为 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ASPNET_CULTURE</code>
                                的 cookie（可以使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CookieName</code>
                                属性设置）。从该 cookie 中获取的值用于设置文化。要创建一个 cookie 并发送给客户端，您可以使用 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">MakeCookieValue</code>
                                静态方法从 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">RequestCulture</code>
                                创建一个 cookie 并发送给客户端。 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CookieRequestCultureProvider</code>
                                使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ParseCookieValue</code>
                                静态方法获取一个 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">RequestCulture</code>
                                。</font>
                        </font>
                    </font>
                </p>
                <p data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                    data-immersive-translate-paragraph="1"><span aria-label="661" epub:type="pagebreak" id="Page_661"
                        role="doc-pagebreak"
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"></span>With the third
                    option for culture settings, you can use the HTTP header information that is sent by the browser.
                    The HTTP header that is sent looks like this:<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">使用文化设置的第三种选项，您可以使用浏览器发送的 HTTP
                                头信息。发送的 HTTP 头信息如下：</font>
                        </font>
                    </font>
                </p>
                <pre id="c22-code-0029"><code>Accept-Language: en-us, de-at;q=0.8, it;q=0.7</code></pre>
                <p id="c22-para-0091" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                    data-immersive-translate-paragraph="1">The <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">AcceptLanguageHeaderRequestCultureProvider</code>
                    uses this information to set the culture. You use up to three language values in the order defined
                    by the quality value to find a first match with the supported cultures.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1"> <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">AcceptLanguageHeaderRequestCultureProvider</code>
                                使用这些信息来设置文化。您使用最多三个语言值，按照质量值的定义顺序，查找与支持的文化匹配的第一个匹配项。</font>
                        </font>
                    </font>
                </p>
            </section>
            <section data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"><span id="c22-sec-0024"
                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"></span>
                <h3 id="head-3-442" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                    data-immersive-translate-paragraph="1">Using a Culture with ASP.NET Core<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">使用 ASP.NET Core 的文化设置</font>
                        </font>
                    </font>
                </h3>
                <p data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                    data-immersive-translate-paragraph="1">In a new Razor page (you can create this with <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">dotnet new page</code> or
                    using Visual Studio), the request culture is accessed and used for date formatting. The request
                    culture is automatically set with the current thread, but to get more information about it with
                    ASP.NET Core, you can access the request culture using the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">IRequestCultureFeature</code>
                    contract. The <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">RequestCultureFeature</code>
                    that implements the interface <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">IRequestCultureFeature</code>
                    uses the first culture provider that matches the culture setting. If a URL defines a query string
                    that matches the culture parameter, the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">QueryStringRequestCultureProvider</code>
                    is used to return the requested culture. If the URL does not match, but a cookie with the name <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ASPNET_CULTURE</code> is
                    received, the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CookieRequestCultureProvider</code>
                    is used; otherwise, the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">AcceptLanguageHeaderRequestCultureProvider</code>
                    is used. With the following code snippet, the culture information is used to assign the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">RequestCulture</code>
                    property. Then, today's date is written to the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Today</code> property
                    (code file <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ASPNETCoreLocalization/Pages/RequestCulture.cshtml.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">在一个新的 Razor 页面（你可以使用 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">dotnet new page</code>
                                创建或使用 Visual Studio 创建），请求文化被访问并用于日期格式化。请求文化会自动与当前线程设置，但要通过 ASP.NET Core
                                获取更多关于它的信息，你可以使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">IRequestCultureFeature</code>
                                合约访问请求文化。实现 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">IRequestCultureFeature</code>
                                接口的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">RequestCultureFeature</code>
                                会使用与文化设置匹配的第一个文化提供者。如果 URL 定义了一个与文化参数匹配的查询字符串，则使用 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">QueryStringRequestCultureProvider</code>
                                返回请求的文化。如果 URL 不匹配，但收到了一个名为 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ASPNET_CULTURE</code>
                                的 cookie，则使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CookieRequestCultureProvider</code>
                                ；否则，使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">AcceptLanguageHeaderRequestCultureProvider</code>
                                。通过以下代码片段，使用文化信息为 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">RequestCulture</code>
                                属性赋值。然后，将今天的日期写入 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Today</code>
                                属性（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ASPNETCoreLocalization/Pages/RequestCulture.cshtml.cs</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c22-code-0030"><code>public class RequestCultureModel : PageModel</code>
<code>{</code>
<code>  public void OnGet()</code>
<code>  {</code>
<code>    <b>var features = HttpContext.Features.ToList();</b></code>
<code>    <b>var feature = HttpContext.Features.Get&lt;IRequestCultureFeature&gt;();</b></code>
<code>    <b>RequestCulture requestCulture = feature.RequestCulture;</b></code>
<code>    RequestCulture = requestCulture.UICulture.ToString();</code>
<code>    Today = DateTime.Today.ToLongDateString();</code>
<code>  }</code>
<code>  public string? RequestCulture { get; private set; }</code>
<code>  public string? Today { get; private set; }</code>
<code>}</code></pre>
                <p data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                    data-immersive-translate-paragraph="1">With the HTML and Razor code of the page, the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">RequestCulture</code> and
                    <code data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Today</code> properties
                    are accessed and shown to the user (code file <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ASPNETCoreLocalization/Pages/RequestCulture.cshtml</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">通过页面的 HTML 和 Razor 代码，访问并显示 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">RequestCulture</code>
                                和 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Today</code>
                                属性（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ASPNETCoreLocalization/Pages/RequestCulture.cshtml</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c22-code-0031"><code>@page</code>
<code>@model ASPNETCoreLocalization.Pages.RequestCultureModel</code>
<code> </code>
<code>&lt;h1&gt;Show Request Culture&lt;/h1&gt;</code>
<code>&lt;div&gt;@Model.RequestCulture&lt;/div&gt;</code>
<code>&lt;div&gt;@Model.Today&lt;/div&gt;</code></pre>
                <p id="c22-para-0094" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                    data-immersive-translate-paragraph="1">When you run the application, you can pass the culture and
                    see the results, as shown in <a href="#c22-fig-0004" id="R_c22-fig-0004"
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Figure 22-4</a>. When you
                    pass cultures that aren't supported with the URL request, you can see an output of the default
                    culture.<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">运行应用程序时，您可以通过传递文化信息来查看结果，如图 22-4
                                所示。当您传递 URL 请求中不支持的 culture 时，您将看到默认文化的输出。</font>
                        </font>
                    </font>
                </p>
            </section>
            <section data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"><span id="c22-sec-0025"
                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"></span>
                <h3 id="head-3-443" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                    data-immersive-translate-paragraph="1">Using Resources with ASP.NET Core<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">使用资源文件与 ASP.NET Core</font>
                        </font>
                    </font>
                </h3>
                <p id="c22-para-0095" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                    data-immersive-translate-paragraph="1">Let's add resource files to the ASP.NET Core application. The
                    sample project adds the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Resources</code> folder
                    and the file <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Startup.resx</code>
                    within it. In addition, <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Pages</code> and <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Models</code> subfolders
                    are created. Within the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Pages</code> subfolder,
                    <span aria-label="662" epub:type="pagebreak" id="Page_662" role="doc-pagebreak"
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"></span>you find resource
                    files for pages, such as <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">UseResourceModel.resx</code>,
                    with localized versions with the file extensions <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">resx.de</code> and <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">resx.de-AT</code>. In the
                    <code data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Models</code>
                    subfolder, you find the resource files <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Book.resx</code> and
                    <code data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Book.resx.de</code>.
                    The name of the folder where the resources are found has been defined with the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ResourcePath</code>
                    property of the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">LocalizationOptions</code>
                    class when invoking the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">AddLocalization</code>
                    method in the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Startup</code> class to
                    configure the DI container, as shown earlier.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">让我们向 ASP.NET Core
                                应用程序添加资源文件。示例项目添加了 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Resources</code>
                                文件夹及其中的文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Startup.resx</code>
                                。此外，创建了 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Pages</code>
                                和 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Models</code>
                                子文件夹。在 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Pages</code>
                                子文件夹中，您会找到页面资源文件，例如 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">UseResourceModel.resx</code>
                                ，这些文件具有 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">resx.de</code>
                                和 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">resx.de-AT</code>
                                扩展名的本地化版本。在 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Models</code>
                                子文件夹中，您会找到资源文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Book.resx</code>
                                和 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Book.resx.de</code>
                                。资源所在的文件夹名称是通过在 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Startup</code>
                                类中调用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">AddLocalization</code>
                                方法配置 DI 容器时， <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">LocalizationOptions</code>
                                类的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ResourcePath</code>
                                属性定义的，如前文所述。</font>
                        </font>
                    </font>
                </p>
                <figure data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"> <img
                        alt="Snapshot of a webpage displaying show request culture." class="center"
                        src="images/c22f004.png" />
                    <figcaption data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">
                        <p data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"><span
                                class="figureLabel"
                                data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"><a
                                    href="#R_c22-fig-0004" id="c22-fig-0004" role="doc-backlink"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"><b
                                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                                        data-immersive-translate-paragraph="1">FIGURE 22-4<font
                                            class="notranslate immersive-translate-target-wrapper"
                                            data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                                            <font class="notranslate"
                                                data-immersive-translate-translation-element-mark="1">  </font>
                                            <font
                                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                                                data-immersive-translate-translation-element-mark="1">
                                                <font
                                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                                    data-immersive-translate-translation-element-mark="1">图 22-4</font>
                                            </font>
                                        </font></b></a></span></p>
                    </figcaption>
                </figure>
                <p data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                    data-immersive-translate-paragraph="1">With the code-behind of the Razor page <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">UseResource</code>, <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">IStringLocalizer</code>
                    is injected with two different generic parameters. The parameter <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">UseResourceModel</code>
                    is used for resources only required with the page and retrieved from the corresponding resource
                    files; the parameter <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Startup</code> is used
                    for shared resources. You can use any common class for shared resources. When you use <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">IStringLocalizer</code>,
                    the indexer and the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">GetString</code> method
                    (both used with the sample code) can be used to access language-specific resource values (code file
                    <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ASPNETCoreLocalization/Pages/UseResource.cshtml.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">在 Razor 页面 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">UseResource</code>
                                的后端代码中， <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">IStringLocalizer</code>
                                被注入了两个不同的泛型参数。参数 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">UseResourceModel</code>
                                仅用于页面所需且从相应资源文件中检索的资源；参数 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Startup</code>
                                用于共享资源。你可以使用任何通用类作为共享资源。当你使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">IStringLocalizer</code>
                                时，可以使用索引器和 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">GetString</code>
                                方法（示例代码中均使用）来访问特定语言的资源值（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ASPNETCoreLocalization/Pages/UseResource.cshtml.cs</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c22-code-0032"><code>public class UseResourceModel : PageModel</code>
<code>{</code>
<code>  private readonly IStringLocalizer _localizer;</code>
<code>  private readonly IStringLocalizer _sharedLocalizer;</code>
<code>  public UseResourceModel(IStringLocalizer&lt;UseResourceModel&gt; localizer, </code>
<code>    IStringLocalizer&lt;Startup&gt; sharedLocalizer)</code>
<code>  {</code>
<code>    _localizer = localizer;</code>
<code>    _sharedLocalizer = sharedLocalizer;</code>
<code>  }</code>
<code> </code>
<code>  public void OnGet()</code>
<code>  {</code>
<code>    var feature = HttpContext.Features.Get&lt;IRequestCultureFeature&gt;();</code>
<code>    RequestCulture requestCulture = feature.RequestCulture;</code>
<code>    Message1 = _localizer["Message1"];</code>
<code>    Message2 = _localizer.GetString("Message2", </code>
<code>      feature.RequestCulture.Culture, feature.RequestCulture.UICulture);</code>
<code>    Message3 = _sharedLocalizer.GetString("SharedText");</code>
<code>  }</code>
<code> </code>
<code>  public string? Message1 { get; private set; }</code>
<code>  public string? Message2 { get; private set; }</code>
<code>  public string? Message3 { get; private set; }</code>
<code>}</code></pre>
                <p data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                    data-immersive-translate-paragraph="1"><span aria-label="663" epub:type="pagebreak" id="Page_663"
                        role="doc-pagebreak"
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"></span>The resource for
                    the key <code data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Message1</code>
                    is a simple string; the resource for <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Message2</code> is
                    defined with string format placeholders: <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Using culture {0} and UI culture {1}</code>.
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">键 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Message1</code>
                                的资源是一个简单的字符串；键 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Message2</code>
                                的资源使用字符串格式占位符定义： <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Using culture {0} and UI culture {1}</code>
                                。</font>
                        </font>
                    </font>
                </p>
                <aside data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">
                    <div class="top hr" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">
                        <hr />
                    </div>
                    <section class="feature2" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">
                        <p id="c22-para-0098" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                            data-immersive-translate-paragraph="1"><b
                                data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">NOTE</b> <i
                                data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">When you use
                                formatted strings in resources, the syntax with interpolated strings cannot be used. The
                                variables or expressions used with interpolated strings in the placeholders are not
                                available from resources.</i>
                            <font class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">注意
                                        当你在资源中使用格式化字符串时，不能使用插值字符串的语法。占位符中使用的插值字符串的变量或表达式在资源中不可用。</font>
                                </font>
                            </font>
                        </p>
                        <div class="bottom hr" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">
                            <hr />
                        </div>
                    </section>
                </aside>
                <p id="c22-para-0099" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                    data-immersive-translate-paragraph="1">When you add <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">?culture=de-AT</code> to
                    the URL request (which uses the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">QueryStringRequestCultureProvider</code>),
                    you can see output as shown in <a href="#c22-fig-0005" id="R_c22-fig-0005"
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Figure 22-5</a>.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">当你向使用 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">QueryStringRequestCultureProvider</code>
                                的 URL 请求中添加 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">?culture=de-AT</code>
                                时，你可以看到如图 22-5 所示的输出。</font>
                        </font>
                    </font>
                </p>
                <figure data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"> <img
                        alt="Snapshot of a webpage displaying use resource." class="center" src="images/c22f005.png" />
                    <figcaption data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">
                        <p data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"><span
                                class="figureLabel"
                                data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"><a
                                    href="#R_c22-fig-0005" id="c22-fig-0005" role="doc-backlink"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"><b
                                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                                        data-immersive-translate-paragraph="1">FIGURE 22-5<font
                                            class="notranslate immersive-translate-target-wrapper"
                                            data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                                            <font class="notranslate"
                                                data-immersive-translate-translation-element-mark="1">  </font>
                                            <font
                                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                                                data-immersive-translate-translation-element-mark="1">
                                                <font
                                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                                    data-immersive-translate-translation-element-mark="1">图 22-5</font>
                                            </font>
                                        </font></b></a></span></p>
                    </figcaption>
                </figure>
            </section>
            <section data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"><span id="c22-sec-0027"
                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"></span>
                <h3 id="head-3-444" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                    data-immersive-translate-paragraph="1">Localization with Data Annotations <font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">使用数据注解进行本地化</font>
                        </font>
                    </font>
                </h3>
                <p data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                    data-immersive-translate-paragraph="1">Another way to retrieve resource values with ASP.NET Core is
                    via applying annotations. To see the annotations in action, the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Book</code> record type
                    is defined in the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Models</code> directory.
                    This type has <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">DisplayName</code>
                    attributes added to the properties <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Title</code> and <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Publisher</code> (code
                    file <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ASPNETCoreLocalization/Models/Book.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">另一种使用 ASP.NET Core
                                获取资源值的方法是通过应用注解。要查看注解的效果，在 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Models</code>
                                目录中定义了 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Book</code>
                                记录类型。该类型在属性 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Title</code>
                                和 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Publisher</code>
                                上添加了 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">DisplayName</code>
                                注解（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ASPNETCoreLocalization/Models/Book.cs</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c22-code-0033"><code>using System.ComponentModel;</code>
<code> </code>
<code>namespace ASPNETCoreLocalization.Models</code>
<code>{</code>
<code>  public record Book(</code>
<code>    <b>[property: DisplayName("BookTitle")]</b> string Title,</code>
<code>    <b>[property: DisplayName("Publisher")]</b> string Publisher);</code>
<code>}</code></pre>
                <p data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                    data-immersive-translate-paragraph="1">The resource file <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Book.resx</code> together
                    with localized versions contains resource values for the keys <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">BookTitle</code> and
                    <code data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Publisher</code>—the
                    names specified with the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">DisplayName</code>
                    attribute. With the code-behind file of the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">EditBook</code> Razor
                    page, a new <code data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Book</code>
                    instance is created, and the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Book</code> property is
                    set (code file <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ASPNETCoreLocalization/Pages/EditBook.cshtml.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">资源文件 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Book.resx</code>
                                以及本地化版本包含了键 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">BookTitle</code>
                                和 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Publisher</code>
                                的资源值——这些值是通过 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">DisplayName</code>
                                属性指定的。通过 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">EditBook</code>
                                Razor 页面的代码隐藏文件，创建了一个新的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Book</code>
                                实例，并设置了 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Book</code>
                                属性（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ASPNETCoreLocalization/Pages/EditBook.cshtml.cs</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c22-code-0034"><code>public class EditBookModel : PageModel</code>
<code>{</code>
<code>  public void OnGet()</code>
<code>  {<span aria-label="664" epub:type="pagebreak" id="Page_664" role="doc-pagebreak"></span></code>
<code>    Book = new Book("Professional C#", "Wrox Press");</code>
<code>  }</code>
<code> </code>
<code>  public Book? Book { get; set; }</code>
<code>}</code></pre>
                <p data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                    data-immersive-translate-paragraph="1">The Razor page shows edit fields for all the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Book</code> properties by
                    using the HTML helper <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">EditorFor</code> (code
                    file <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ASPNETCoreLocalization/Pagesd/EditBook.cshtml</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">Razor 页面通过 HTML 辅助工具 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">EditorFor</code>
                                显示所有 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Book</code>
                                属性的编辑字段（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ASPNETCoreLocalization/Pagesd/EditBook.cshtml</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c22-code-0035"><code>@page</code>
<code>@model ASPNETCoreLocalization.Pages.EditBookModel</code>
<code> </code>
<code>@Html.EditorFor(model =&gt; model.Book)</code></pre>
                <p id="c22-para-0103" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                    data-immersive-translate-paragraph="1">When you run the application and access the link <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">/EditBook?culture=de-at</code>,
                    resources are retrieved from both the controller and the view, as shown in <a href="#c22-fig-0006"
                        id="R_c22-fig-0006"
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Figure 22-6</a>. Defining
                    resources just for English (<code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Book.resx</code>) and
                    German (<code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Book.de.resx</code>)
                    returns values defined with the German culture passing the Austrian culture <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">de-at</code>.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">当运行应用程序并访问链接 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">/EditBook?culture=de-at</code>
                                时，资源会从控制器和视图获取，如图 22-6 所示。仅定义英语（ <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Book.resx</code>
                                ）和德语（ <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Book.de.resx</code>
                                ）的资源，在通过奥地利文化 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">de-at</code>
                                时会返回德语文化定义的值。</font>
                        </font>
                    </font>
                </p>
                <figure data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"> <img
                        alt="Snapshot of a webpage displaying the title name and verlag." class="center"
                        src="images/c22f006.png" />
                    <figcaption data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">
                        <p data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"><span
                                class="figureLabel"
                                data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"><a
                                    href="#R_c22-fig-0006" id="c22-fig-0006" role="doc-backlink"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"><b
                                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                                        data-immersive-translate-paragraph="1">FIGURE 22-6<font
                                            class="notranslate immersive-translate-target-wrapper"
                                            data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                                            <font class="notranslate"
                                                data-immersive-translate-translation-element-mark="1">  </font>
                                            <font
                                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                                                data-immersive-translate-translation-element-mark="1">
                                                <font
                                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                                    data-immersive-translate-translation-element-mark="1">图 22-6</font>
                                            </font>
                                        </font></b></a></span></p>
                    </figcaption>
                </figure>
                <aside data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">
                    <div class="top hr" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">
                        <hr />
                    </div>
                    <section class="feature2" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">
                        <p id="c22-para-0105" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                            data-immersive-translate-paragraph="1"><b
                                data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">NOTE</b> <i
                                data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Don't forget to
                                enable annotations for localization by invoking the method</i> <code
                                data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">AddDataAnnotationsLocalization</code><i
                                data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"> in the</i> <code
                                data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Startup</code><i
                                data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"> class.</i>
                            <font class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">注意 不要忘记通过在 <code
                                            xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Startup</code>
                                        类中调用方法 <code xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">AddDataAnnotationsLocalization</code>
                                        来启用本地化注释。</font>
                                </font>
                            </font>
                        </p>
                        <div class="bottom hr" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">
                            <hr />
                        </div>
                    </section>
                </aside>
            </section>
        </section>
        <section aria-labelledby="head-2-209" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">
            <span id="c22-sec-0029" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"></span>
            <h2 id="head-2-209" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                data-immersive-translate-paragraph="1">LOCALIZATION WITH WINUI<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                    <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">使用 WinUI 进行本地化</font>
                    </font>
                </font>
            </h2>
            <p id="c22-para-0106" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                data-immersive-translate-paragraph="1">Localization with WinUI is based on the concepts you've learned
                so far, but there are some differences. As part of the Project Reunion, resources are managed by MRT
                Core. MRT Core is the modern version of the Windows Resource Management System.<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">使用 WinUI 进行本地化基于您迄今为止学到的概念，但存在一些差异。作为
                            Project Reunion 的一部分，资源由 MRT Core 管理。MRT Core 是 Windows 资源管理系统的现代版本。</font>
                    </font>
                </font>
            </p>
            <p id="c22-para-0107" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                data-immersive-translate-paragraph="1">The concepts of cultures, regions, and resources are the same,
                but because Windows apps can be written with C# or C++ with XAML (many of the built-in Windows apps like
                the Windows Calculator are built with C++ and XAML), these concepts need to be available with all
                programming languages. Unlike the previous version of UWP apps, to manage resources, MRT Core is
                independent of the Windows 10 version. MRT offers more than just support localization of resources.
                Besides selecting resources based on the language, different resources can be used based on a theme, the
                device family, the scale, the layout direction, the contrast needs, and more.<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">文化和区域以及资源的基本概念相同，但由于 Windows 应用程序可以使用
                            C# 或 C++ 与 XAML 编写（许多内置的 Windows 应用程序，如 Windows 计算器，都是使用 C++ 和 XAML 构建的），这些概念需要在所有编程语言中可用。与
                            UWP 应用的先前版本不同，为了管理资源，MRT Core 与 Windows 10 版本无关。MRT
                            不仅仅是支持资源的本地化。除了根据语言选择资源外，还可以根据主题、设备系列、比例、布局方向、对比需求等使用不同的资源。</font>
                    </font>
                </font>
            </p>
            <p id="c22-para-0108" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                data-immersive-translate-paragraph="1"><span aria-label="665" epub:type="pagebreak" id="Page_665"
                    role="doc-pagebreak"
                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"></span>The namespaces for
                resources are available with the <code
                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Microsoft.ApplicationModel.Resources</code>
                namespace. Let's get into an example so you can see localization with a WinUI Windows app in action.
                Create a small application using the Visual Studio project template Blank App, Packaged (WinUI in
                Desktop). Add two <code
                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">TextBlock</code> controls and
                one <code data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">TextBox</code> control
                to the page.<font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">资源命名空间可通过 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Microsoft.ApplicationModel.Resources</code>
                            命名空间访问。让我们通过一个示例来了解 WinUI Windows 应用中的本地化效果。使用 Visual Studio 项目模板 Blank App, Packaged (WinUI
                            in Desktop) 创建一个小应用程序。向页面添加两个 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">TextBlock</code>
                            控件和一个 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">TextBox</code>
                            控件。</font>
                    </font>
                </font>
            </p>
            <p data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                data-immersive-translate-paragraph="1">With the <code
                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">OnLaunched</code> method of
                the <code data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">App</code> class, a new
                <code data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ResourceLoader</code> and a
                <code data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ResourceManager</code> are
                created and passed to the constructor of the <code
                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">MainWindow</code> class. If
                you need to access strings with your application, you just need to use the <code
                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ResourceLoader</code>. For
                more complex scenarios, instead use the <code
                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ResourceManager</code>. The
                sample application demonstrates using both of these types (code file <code
                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">WinUILocalization/App.xaml.cs</code>):
                <font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">通过 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">App</code> 类的
                            <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">OnLaunched</code>
                            方法，创建一个新的 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ResourceLoader</code>
                            和一个 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ResourceManager</code>
                            ，并将它们传递给 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">MainWindow</code>
                            类的构造函数。如果需要使用应用程序中的字符串，只需使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ResourceLoader</code>
                            即可。对于更复杂的场景，应使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ResourceManager</code>
                            。示例应用程序演示了这两种类型的用法（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">WinUILocalization/App.xaml.cs</code>
                            ）：</font>
                    </font>
                </font>
            </p>
            <pre id="c22-code-0036"><code>protected override void OnLaunched(Microsoft.UI.Xaml.LaunchActivatedEventArgs args)</code>
<code>{</code>
<code>  ResourceLoader resourceLoader = new();</code>
<code>  ResourceManager resourceManager = new();</code>
<code>  m:window = new MainWindow(resourceLoader, resourceManager);</code>
<code>  m:window.Activate();</code>
<code>}</code></pre>
            <p id="c22-para-0110" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                data-immersive-translate-paragraph="1">With the implementation, the default constructor of the <code
                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ResourceLoader</code> class
                is used. Using the default constructor, a resource with the name <code
                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Resources</code> is looked
                for. Other constructors allow passing a filename and a resource map. The resource map is discussed later
                in the section about using the <code
                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ResourceManager</code>. With
                the constructor of the <code
                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ResourceManager</code>, you
                can also pass a resource name. By default, the <code
                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ResourceManager</code> uses
                the root resource.<font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">在实现中，使用 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ResourceLoader</code>
                            类的默认构造函数。通过默认构造函数，会查找名为 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Resources</code>
                            的资源。其他构造函数允许传递文件名和资源映射。资源映射将在后续使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ResourceManager</code>
                            的部分中讨论。通过 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ResourceManager</code>
                            的构造函数，也可以传递资源名称。默认情况下， <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ResourceManager</code>
                            使用根资源。</font>
                    </font>
                </font>
            </p>
            <p data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                data-immersive-translate-paragraph="1">The resource files added to the project need to have the build
                action defined to <code
                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">PRIResource</code>. In the
                project file, this is specified with the <code
                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">PRIResource</code> element
                (project file <code
                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">WinUILocalization/WinUILocalization.csproj</code>):
                <font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">添加到项目中的资源文件需要将构建操作定义为 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">PRIResource</code>
                            。在项目文件中，这通过 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">PRIResource</code>
                            元素指定（项目文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">WinUILocalization/WinUILocalization.csproj</code>
                            ）：</font>
                    </font>
                </font>
            </p>
            <pre id="c22-code-0037"><code>&lt;ItemGroup&gt;</code>
<code>  &lt;PRIResource Include="Resources.lang-de-de.resw"/&gt;</code>
<code>  &lt;PRIResource Include="Resources.resw"/&gt;</code>
<code>&lt;/ItemGroup&gt;</code></pre>
            <section data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"><span id="c22-sec-0030"
                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"></span>
                <h3 id="head-3-445" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                    data-immersive-translate-paragraph="1">Using the MRT ResourceLoader<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">使用 MRT ResourceLoader </font>
                        </font>
                    </font>
                </h3>
                <p data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                    data-immersive-translate-paragraph="1">Using the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ResurceLoader</code> is a
                    simple task. With the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">MainWindow</code>, the
                    <code data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ResourceLoader</code>
                    is passed to the constructor (code file <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">WinUILocalization/MainWindow.xaml.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">使用 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ResurceLoader</code>
                                是一项简单任务。通过 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">MainWindow</code>
                                ， <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ResourceLoader</code>
                                被传递给构造函数（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">WinUILocalization/MainWindow.xaml.cs</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c22-code-0038"><code>private readonly ResourceLoader _resourceLoader;</code>
<code>private readonly ResourceManager _resourceManager;</code>
<code>private readonly ResourceContext _resourceContext;</code>
<code>public MainWindow(ResourceLoader resourceLoader, ResourceManager resourceManager)</code>
<code>{</code>
<code>  _resourceLoader = resourceLoader;</code>
<code>  _resourceManager = resourceManager;</code>
<code>  //…</code>
<code>  this.InitializeComponent();</code>
<code>}</code></pre>
                <p data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                    data-immersive-translate-paragraph="1">In the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">OnGetResource</code>
                    method, the <code data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Text</code>
                    property of the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">textDate</code> field is
                    filled with today's date using the current culture. The <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">_resourceLoader</code>
                    variable retrieves the resource for the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Hello</code> key from the
                    <code data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Resources.resw</code>
                    file (code file <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">WinUILocalization/MainWindow.xaml.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">在 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">OnGetResource</code>
                                方法中， <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">textDate</code>
                                字段的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Text</code>
                                属性使用当前文化填充为今天的日期。 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">_resourceLoader</code>
                                变量从 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Resources.resw</code>
                                文件中检索 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Hello</code>
                                键的资源（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">WinUILocalization/MainWindow.xaml.cs</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c22-code-0039"><code>private void OnGetResource(object sender, RoutedEventArgs e)</code>
<code>{<span aria-label="666" epub:type="pagebreak" id="Page_666" role="doc-pagebreak"></span></code>
<code>  textDate.Text = DateTime.Today.ToString("D");</code>
<code>  textHello.Text = _resourceLoader.GetString("Hello");</code>
<code>}</code></pre>
            </section>
            <section data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"><span id="c22-sec-0031"
                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"></span>
                <h3 id="head-3-446" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                    data-immersive-translate-paragraph="1">Using the MRT ResourceManager<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">使用 MRT ResourceManager</font>
                        </font>
                    </font>
                </h3>
                <p data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                    data-immersive-translate-paragraph="1">The <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ResourceManager</code>
                    class offers more functionality. To access the resource, first the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ResourceMap</code> is
                    retrieved using the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">MainResourceMap</code>
                    property. A resource map is a collection of resources—for example, resources with a specific
                    language or resources from an app package. With the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ResourceMap</code> class,
                    you can get the count of resources (<code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ResourceCount</code>
                    property), access resources by index (<code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">GetValueByIndex</code>),
                    or access resources by value (<code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">GetValue</code> or <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">TryGetValue</code>). The
                    <code data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">TryGetValue</code>
                    method returns null if the resource is not found. If the resource is found, <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">TryGetValue</code>
                    returns a <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ResourceCandidate</code>
                    object. With this class, you can access binary resources (<code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ValueAsBytes</code>) or
                    string resources (<code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ValueAsString</code>).
                    You also can use the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ResourceCandidate</code>
                    class to find out where the resource was coming from—from a string, a file path, or embedded data in
                    the assembly. With the following code snippet, <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">TryGetValue</code> is
                    used to access the resource <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">GoodMorning</code> from
                    the file <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Resources</code> (code
                    file <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">WinUILocalization/MainWindow.xaml.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1"> <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ResourceManager</code>
                                类提供了更多功能。要访问资源，首先使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">MainResourceMap</code>
                                属性获取 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ResourceMap</code>
                                。资源映射是一个资源集合——例如，具有特定语言的资源或来自应用程序包的资源。使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ResourceMap</code>
                                类，您可以获取资源数量（ <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ResourceCount</code>
                                属性）、通过索引访问资源（ <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">GetValueByIndex</code>
                                ）、或通过值访问资源（ <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">GetValue</code>
                                或 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">TryGetValue</code>
                                ）。如果资源未找到， <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">TryGetValue</code>
                                方法返回 null。如果找到资源， <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">TryGetValue</code>
                                返回一个 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ResourceCandidate</code>
                                对象。使用这个类，您可以访问二进制资源（ <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ValueAsBytes</code>
                                ）或字符串资源（ <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ValueAsString</code>
                                ）。您还可以使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ResourceCandidate</code>
                                类来确定资源来源——是来自字符串、文件路径还是程序集中的嵌入数据。在以下代码片段中，使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">TryGetValue</code>
                                访问来自文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Resources</code>
                                （代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">WinUILocalization/MainWindow.xaml.cs</code>
                                ）的资源 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">GoodMorning</code>
                                ：</font>
                        </font>
                    </font>
                </p>
                <pre id="c22-code-0040"><code>private void OnUseResourceManager(object sender, RoutedEventArgs e)</code>
<code>{</code>
<code>  ResourceMap map = _resourceManager.MainResourceMap;        </code>
<code>  ResourceCandidate candidate = map.TryGetValue("Resources/GoodMorning");</code>
<code>  textGoodMorning.Text = candidate.ValueAsString;</code>
<code>}</code></pre>
            </section>
            <section data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"><span id="c22-sec-0032"
                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"></span>
                <h3 id="head-3-447" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                    data-immersive-translate-paragraph="1">Changing the Language with a ResourceContext<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">使用 ResourceContext 更改语言</font>
                        </font>
                    </font>
                </h3>
                <p data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                    data-immersive-translate-paragraph="1">When you use the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ResourceManager</code>,
                    you can create a <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ResourceContext</code>,
                    which allows looking for localized resources or resources based on device families or the layout. As
                    shown in the following code snippet, you create resource contexts by invoking the method <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CreateResourceContext</code>
                    of the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ResourceManager</code>.
                    The property <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">QualifierValues</code>
                    returns a dictionary. Here you can define the qualifier name and the values that will be used to
                    search for resources. To specify the language, you need to set languages for the key value language,
                    or <code data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">lang</code>. In the
                    sample code, the context is set to <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">de</code> for German
                    resources. Examples of other key values you can use are <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">devicefamily</code>,
                    <code data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">layoutdirection</code>,
                    <code data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">scale</code>, and <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">theme</code> (code file
                    <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">WinUILocalization/MainWindow.xaml.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">当你使用 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ResourceManager</code>
                                时，你可以创建一个 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ResourceContext</code>
                                ，它允许查找本地化资源或基于设备系列或布局的资源。如以下代码片段所示，你通过调用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ResourceManager</code>
                                的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">CreateResourceContext</code>
                                方法来创建资源上下文。属性 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">QualifierValues</code>
                                返回一个字典。在这里你可以定义限定符名称和将用于搜索资源的值。要指定语言，你需要为键值语言设置语言，或 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">lang</code>
                                。在示例代码中，上下文设置为 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">de</code>
                                以获取德语资源。其他你可以使用的键值示例包括 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">devicefamily</code>
                                、 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">layoutdirection</code>
                                、 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">scale</code>
                                和 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">theme</code>
                                （代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">WinUILocalization/MainWindow.xaml.cs</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c22-code-0041"><code>public MainWindow(ResourceLoader resourceLoader, ResourceManager resourceManager)</code>
<code>{</code>
<code>  _resourceLoader = resourceLoader;</code>
<code>  _resourceManager = resourceManager;</code>
<code>  _resourceContext = _resourceManager.CreateResourceContext();</code>
<code>  _resourceContext.QualifierValues["language"] = "de"; </code>
<code> </code>
<code>  this.InitializeComponent();</code>
<code>}</code></pre>
                <p data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                    data-immersive-translate-paragraph="1">To use the localized resource, the resource context can be
                    passed to the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">TryGetValue</code> method
                    of the <code
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ResourceMap</code>
                    :<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">要使用本地化资源，可以将资源上下文传递给 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">ResourceMap</code>
                                的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">TryGetValue</code>
                                方法：</font>
                        </font>
                    </font>
                </p>
                <pre id="c22-code-0042"><code>private void OnUseContext(object sender, RoutedEventArgs e)</code>
<code>{</code>
<code>  ResourceMap map = _resourceManager.MainResourceMap;</code>
<code>  ResourceCandidate candidate = map.TryGetValue(<span aria-label="667" epub:type="pagebreak" id="Page_667" role="doc-pagebreak"></span></code>
<code>    "Resources/GoodEvening", _resourceContext);</code>
<code>  textGoodEvening.Text = candidate.ValueAsString;</code>
<code>}</code></pre>
                <p id="c22-para-0117" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                    data-immersive-translate-paragraph="1">When you run the application, you can see the resources
                    retrieved, as shown in <a href="#c22-fig-0007" id="R_c22-fig-0007"
                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">Figure 22-7</a>.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">当你运行应用程序时，可以看到检索到的资源，如图 22-7 所示。
                            </font>
                        </font>
                    </font>
                </p>
                <figure data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"> <img
                        alt="Snapshot of getting a string resource." class="center" src="images/c22f007.png" />
                    <figcaption data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">
                        <p data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"><span
                                class="figureLabel"
                                data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"><a
                                    href="#R_c22-fig-0007" id="c22-fig-0007" role="doc-backlink"
                                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"><b
                                        data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                                        data-immersive-translate-paragraph="1">FIGURE 22-7<font
                                            class="notranslate immersive-translate-target-wrapper"
                                            data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                                            <font class="notranslate"
                                                data-immersive-translate-translation-element-mark="1">  </font>
                                            <font
                                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                                                data-immersive-translate-translation-element-mark="1">
                                                <font
                                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                                    data-immersive-translate-translation-element-mark="1">图 22-7</font>
                                            </font>
                                        </font></b></a></span></p>
                    </figcaption>
                </figure>
            </section>
        </section>
        <section aria-labelledby="head-2-210" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">
            <span id="c22-sec-0033" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"></span>
            <h2 id="head-2-210" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                data-immersive-translate-paragraph="1">SUMMARY<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                    <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">摘要</font>
                    </font>
                </font>
            </h2>
            <p id="c22-para-0118" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                data-immersive-translate-paragraph="1">This chapter demonstrated how to globalize and localize .NET
                applications. For the globalization of applications, you learned about using the namespace <code
                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">System.Globalization</code>
                to format culture-dependent numbers and dates. Furthermore, you learned that sorting strings by default
                varies according to the culture, and you looked at using the invariant culture for a culture-independent
                sort.<font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">本章展示了如何全球化和国本地化.NET
                            应用程序。对于应用程序的全球化，你学习了使用命名空间 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">System.Globalization</code>
                            来格式化与文化相关的数字和日期。此外，你了解到默认情况下字符串的排序会根据文化而变化，并学习了使用不变文化来进行文化无关的排序。</font>
                    </font>
                </font>
            </p>
            <p id="c22-para-0119" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                data-immersive-translate-paragraph="1">Localizing an application is accomplished by using resources,
                which you can pack into files or satellite assemblies. The classes used with localization are in the
                namespace <code
                    data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">System.Resources</code>.<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">
                            应用程序的本地化是通过使用资源来完成的，这些资源可以打包到文件或卫星程序集中。用于本地化的类位于命名空间 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e">System.Resources</code>
                            中。</font>
                    </font>
                </font>
            </p>
            <p id="c22-para-0120" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                data-immersive-translate-paragraph="1">You also learned how to localize ASP.NET Core, used special
                features for ASP.NET Core, and localized apps using WinUI with MRT.<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">你还学习了如何本地化 ASP.NET Core，使用了 ASP.NET
                            Core 的特殊功能，并使用 MRT 通过 WinUI 本地化应用程序。</font>
                    </font>
                </font>
            </p>
            <p id="c22-para-0121" data-immersive-translate-walked="89477a59-1ccd-4392-8b12-35099423d83e"
                data-immersive-translate-paragraph="1">The next chapter provides information about testing. You learn
                how to create unit tests with xUnit and use mocking libraries.<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">下一章提供了关于测试的信息。你将学习如何使用 xUnit
                            创建单元测试，以及如何使用模拟库。</font>
                    </font>
                </font>
            </p>
        </section>
    </section>
</body>
<div id="immersive-translate-popup" style="all: initial"></div>

</html>