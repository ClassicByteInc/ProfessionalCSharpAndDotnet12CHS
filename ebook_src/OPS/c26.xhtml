<!-- 这行注释会存在于经过翻译的源文件中。除非您获得许可请不要删除这个注释。
    翻译由 ClassicByte Org 的 higashitani yume 完成
    使用工具 沉浸式翻译 智谱GLM模型
    您可以阅读这个源代码，也可以向他人分发此源代码，但是不得用于商业用途。
    您也可以自己将这些代码打包成epub分发给别人，但是不得用于商业用途。
    如果此源代码侵犯了您的权益，请联系我我将会删除侵权内容。
    您在阅读此源代码时，可能会看到一些英文内容，这些内容是原书的内容，可能是因为翻译不准确或者是因为原书的内容没有被翻译。
    如果您发现了错误，请联系我我会进行修正。
  -->
<!--This line of comments will exist in the translated source file. Do not delete this comment unless you have permission.
    Translation is done by ClassicByte Org's higashitani yume
    Usage Tools Immersive Translation Zhipu GLM Model
    You can read this source code or distribute it to others, but it may not be used for commercial purposes.
    You can also package these codes yourself into epub and distribute them to others, but they may not be used for commercial purposes.
    If this source code infringes your rights, please contact me and I will delete the infringing content.
    When you read this source code, you may see some English content, which is the content of the original book, which may be because the translation is inaccurate or because the content of the original book has not been translated.
    If you find an error, please contact me and I will correct it.
  -->
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops"
    xmlns:svg="http://www.w3.org/2000/svg" epub:prefix="index: http://www.index.com/" lang="en" xml:lang="en"
    imt-state="dual" imt-trans-position="after">

<head>
    <title>26 Razor Pages 和 MVC --- 26 Razor Pages and MVC</title>
    <link href="WileyTemplate_v5.5.css" rel="stylesheet" type="text/css" />
    <meta content="urn:uuid:e0000000-0000-0000-0000-000006715209" name="Adept.expected.resource" />
    <style data-id="immersive-translate-default-injected-css">
        :root {
            --immersive-translate-theme-underline-borderColor: #72ece9;
            --immersive-translate-theme-nativeUnderline-borderColor: #72ece9;
            --immersive-translate-theme-nativeDashed-borderColor: #72ece9;
            --immersive-translate-theme-nativeDotted-borderColor: #72ece9;
            --immersive-translate-theme-highlight-backgroundColor: #ffff00;
            --immersive-translate-theme-dashed-borderColor: #59c1bd;
            --immersive-translate-theme-blockquote-borderColor: #cc3355;
            --immersive-translate-theme-thinDashed-borderColor: #ff374f;
            --immersive-translate-theme-dashedBorder-borderColor: #94a3b8;
            --immersive-translate-theme-dashedBorder-borderRadius: 0;
            --immersive-translate-theme-solidBorder-borderColor: #94a3b8;
            --immersive-translate-theme-solidBorder-borderRadius: 0;
            --immersive-translate-theme-dotted-borderColor: #94a3b8;
            --immersive-translate-theme-wavy-borderColor: #72ece9;
            --immersive-translate-theme-dividingLine-borderColor: #94a3b8;
            --immersive-translate-theme-grey-textColor: #2f4f4f;
            --immersive-translate-theme-marker-backgroundColor: #fbda41;
            --immersive-translate-theme-marker-backgroundColor-rgb: 251, 218, 65;
            --immersive-translate-theme-marker2-backgroundColor: #ffff00;
            --immersive-translate-theme-background-backgroundColor: #dbafaf;
            --immersive-translate-theme-background-backgroundColor-rgb: 219, 175, 175;
            --immersive-translate-theme-background-backgroundOpacity: 12;
            --immersive-translate-theme-opacity-opacity: 10;
        }

        [imt-state="dual"] .immersive-translate-target-translation-pre-whitespace {
            white-space: pre-wrap !important;
        }

        [imt-state="dual"] .immersive-translate-pdf-target-container {
            position: absolute;
            background-color: #fff;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica,
                sans-serif;
            top: 0;
            width: 600px;
            height: 100%;
            z-index: 2;
            line-height: 1.3;
            font-size: 16px;
        }

        [imt-state="dual"] .immersive-translate-target-wrapper[dir="rtl"] {
            text-align: right;
        }

        [imt-state="dual"] .immersive-translate-pdf-target-container .immersive-translate-target-wrapper {
            color: rgb(0, 0, 0);
            white-space: normal;
            position: absolute;
        }

        [imt-state="dual"] .immersive-translate-pdf-target-container .immersive-translate-target-wrapper font {
            color: inherit;
            white-space: inherit;
            position: unset;
        }

        [imt-state="translation"] .immersive-translate-target-wrapper &gt;

        br {
            display: none;
        }

        [imt-state="translation"] .immersive-translate-target-translation-block-wrapper {
            margin: 0 !important;
        }

        [imt-state="dual"] .immersive-translate-target-translation-block-wrapper {
            margin: 8px 0 !important;
            display: inline-block;
        }

        [imt-trans-position="before"] .immersive-translate-target-translation-block-wrapper {
            display: block;
        }

        [imt-trans-position="before"] .immersive-translate-target-translation-block-wrapper {
            margin-top: 0 !important;
        }

        [imt-state="dual"] .immersive-translate-target-translation-pdf-block-wrapper {
            margin: 0 !important;
            display: inline-block;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-grey-inner {
            color: var(--immersive-translate-theme-grey-textColor);
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-underline-inner {
            border-bottom: 1px solid var(--immersive-translate-theme-underline-borderColor) !important;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-nativeUnderline-inner {
            text-decoration: underline !important;
            text-decoration-color: var(--immersive-translate-theme-nativeUnderline-borderColor) !important;
        }

        [imt-state="dual"] .immersive-translate-target-translation-block-wrapper-theme-dashedBorder {
            border: 1px dashed var(--immersive-translate-theme-dashedBorder-borderColor) !important;
            border-radius: var(--immersive-translate-theme-dashedBorder-borderRadius) !important;
            padding: 6px;
            margin-top: 2px;
            display: inline-block;
        }

        [imt-state="dual"] .immersive-translate-target-translation-inline-wrapper-theme-dashedBorder {
            border: 1px dashed var(--immersive-translate-theme-dashedBorder-borderColor) !important;
            border-radius: var(--immersive-translate-theme-dashedBorder-borderRadius) !important;
            padding: 2px;
        }

        [imt-state="dual"] .immersive-translate-target-translation-block-wrapper-theme-solidBorder {
            border: 1px solid var(--immersive-translate-theme-solidBorder-borderColor) !important;
            border-radius: var(--immersive-translate-theme-solidBorder-borderRadius) !important;
            padding: 6px;
            margin-top: 2px;
            display: inline-block;
        }

        [imt-state="dual"] .immersive-translate-target-translation-inline-wrapper-theme-solidBorder {
            border: 1px solid var(--immersive-translate-theme-solidBorder-borderColor) !important;
            border-radius: var(--immersive-translate-theme-solidBorder-borderRadius) !important;
            padding: 2px;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-nativeDashed-inner {
            text-decoration: underline !important;
            text-decoration-color: var(--immersive-translate-theme-nativeDashed-borderColor) !important;
            text-decoration-style: dashed !important;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-thinDashed-inner {
            border-bottom: 1px dashed var(--immersive-translate-theme-thinDashed-borderColor) !important;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-dotted-inner {
            background-image: linear-gradient(to right,
                    var(--immersive-translate-theme-dotted-borderColor) 30%,
                    rgba(255, 255, 255, 0) 0%);
            background-position: bottom;
            background-size: 5px 1px;
            background-repeat: repeat-x;
            padding-bottom: 3px;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-nativeDotted-inner {
            text-decoration: underline !important;
            text-decoration-color: var(--immersive-translate-theme-nativeDotted-borderColor) !important;
            text-decoration-style: dotted !important;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-wavy-inner {
            text-decoration: underline !important;
            text-decoration-color: var(--immersive-translate-theme-wavy-borderColor) !important;
            text-decoration-style: wavy !important;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-dashed-inner {
            background: linear-gradient(to right,
                    var(--immersive-translate-theme-dashed-borderColor) 0%,
                    var(--immersive-translate-theme-dashed-borderColor) 50%,
                    transparent 50%,
                    transparent 100%) repeat-x left bottom;
            background-size: 8px 2px;
            padding-bottom: 2px;
        }

        [imt-state="dual"] .immersive-translate-target-translation-block-wrapper-theme-dividingLine::before {
            content: "";
            display: block;
            max-width: 80px;
            width: 10%;
            border-top: 1px dashed var(--immersive-translate-theme-dividingLine-borderColor);
            padding-top: 8px;
        }

        [imt-state="dual"] .immersive-translate-target-translation-inline-wrapper-theme-dividingLine::before {
            content: "";
            border-left: 1px dashed var(--immersive-translate-theme-dividingLine-borderColor);
            max-height: 16px;
            height: 16px;
            padding-left: 8px;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-highlight-inner {
            background: var(--immersive-translate-theme-highlight-backgroundColor);
            box-decoration-break: clone;
            -webkit-box-decoration-break: clone;
        }

        [imt-state="dual"] .immersive-translate-target-translation-block-wrapper-theme-marker {
            line-height: 1.5em;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-marker2-inner {
            font-weight: bold;
            text-shadow: 10px 0px 3px var(--immersive-translate-theme-marker2-backgroundColor),
                16px 3px 9px var(--immersive-translate-theme-marker2-backgroundColor),
                2px 0px 6px var(--immersive-translate-theme-marker2-backgroundColor),
                -12px 0px 12px var(--immersive-translate-theme-marker2-backgroundColor) !important;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-marker-inner {
            /* TODO: add more texture */
            background: linear-gradient(to right,
                    rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.1),
                    rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 3%,
                    rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 35%,
                    rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 70%,
                    rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.8) 95%,
                    rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.3));
            box-decoration-break: clone;
            -webkit-box-decoration-break: clone;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-weakening {
            opacity: 0.618 !important;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-italic {
            font-style: italic !important;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-bold {
            font-weight: bold !important;
        }

        [imt-state="dual"] .immersive-translate-target-translation-block-wrapper-theme-paper {
            margin: 8px 0;
            box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;
            padding: 16px 32px;
            display: inline-block;
        }

        [imt-state="dual"] .immersive-translate-target-translation-block-wrapper-theme-blockquote {
            border-left: 4px solid var(--immersive-translate-theme-blockquote-borderColor) !important;
            padding-left: 12px !important;
            margin-top: 4px;
            margin-bottom: 4px;
            padding-top: 4px;
            padding-bottom: 4px;
            display: inline-block;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-mask-inner {
            filter: blur(5px) !important;
            transition: filter 0.3s ease !important;
            border-radius: 10px;
            display: inline-block;
        }

        [data-immersive-translate-root-translation-theme="none"] .immersive-translate-target-translation-theme-mask-inner {
            filter: none !important;
        }

        [data-immersive-translate-root-translation-theme="mask"] .immersive-translate-target-inner {
            filter: blur(5px) !important;
            transition: filter 0.3s ease !important;
            border-radius: 10px;
            display: inline-block;
        }

        /* opacity theme start */

        [imt-state="dual"] .immersive-translate-target-translation-theme-opacity-inner {
            filter: opacity(calc(var(--immersive-translate-theme-opacity-opacity) * 1%)) !important;
            transition: filter 0.3s ease !important;
            border-radius: 10px;
            display: inline-block;
        }

        [data-immersive-translate-root-translation-theme="none"] .immersive-translate-target-translation-theme-opacity-inner {
            filter: none !important;
        }

        [data-immersive-translate-root-translation-theme="opacity"] .immersive-translate-target-inner,
        [imt-state="dual"] .immersive-translate-target-translation-theme-opacity-inner:hover {
            filter: opacity(calc(var(--immersive-translate-theme-opacity-opacity) * 1%)) !important;
            transition: filter 0.3s ease !important;
            border-radius: 10px;
            display: inline-block;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-opacity-inner:hover {
            filter: none !important;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-mask-inner:hover {
            filter: none !important;
        }

        [data-immersive-translate-root-translation-theme="opacity"] .immersive-translate-target-inner:hover {
            filter: none !important;
        }

        [data-immersive-translate-root-translation-theme="mask"] .immersive-translate-target-inner:hover {
            filter: none !important;
        }

        /* opacity theme end */

        /* background theme start */
        [imt-state="dual"] .immersive-translate-target-translation-block-wrapper-theme-background {
            margin: 8px 0;
            background: rgba(var(--immersive-translate-theme-background-backgroundColor-rgb),
                    calc(var(--immersive-translate-theme-background-backgroundOpacity) * 1%));
            border-radius: 4px;
            box-shadow: unset !important;
            padding: 12px;
            display: inline-block;
        }

        [imt-state="dual"] .immersive-translate-target-translation-theme-background-inner {
            background: rgba(var(--immersive-translate-theme-background-backgroundColor-rgb),
                    calc(var(--immersive-translate-theme-background-backgroundOpacity) * 1%));
            padding-left: 6px;
            padding-right: 6px;
            box-decoration-break: clone;
            -webkit-box-decoration-break: clone;
        }

        [imt-state="dual"] .immersive-translate-target-translation-block-wrapper .immersive-translate-target-translation-theme-background-inner {
            background: unset;
            padding-left: unset;
            padding-right: unset;
        }

        /* background theme end */

        /* vertical css , please remain it in the last one. */
        .immersive-translate-target-translation-vertical-block-wrapper {
            margin: 0px 8px !important;
        }

        .immersive-translate-text {
            font-size: 15px !important;
        }

        .immersive-translate-error-toast {
            position: fixed;
            top: 5%;
            z-index: 99999999;
            left: 0;
            right: 0;
            margin: auto;
            max-width: 300px;
            padding: 16px;
            border-radius: 12px;
            background-color: rgba(0, 0, 0, 0.8);
            display: flex;
            flex-direction: row;
            justify-content: space-between;
        }

        @media all and (min-width: 750px) {
            .immersive-translate-error-toast {
                max-width: 400px;
            }
        }

        .immersive-translate-clickable-button {
            cursor: pointer;
        }

        .immersive-translate-help-button {
            cursor: pointer;
        }

        .immersive-translate-loading-text:before {
            content: "...";
        }

        /* dark mode for loading */

        @media only screen and (prefers-color-scheme: dark) {
            .immersive-translate-loading {
                border: 2px rgba(255, 255, 255, 0.25) solid !important;
                border-top: 2px rgba(255, 255, 255, 1) solid !important;
            }
        }

        .immersive-translate-error-wrapper {
            position: relative;
            display: inline-flex;
            padding: 6px;
            margin: 0 12px;
            white-space: nowrap;
            font-size: 0.9em;
        }

        [lang="zh-CN"] .immersive-translate-error-wrapper {
            font-size: 0.75em;
        }

        [lang="zh-TW"] .immersive-translate-error-wrapper {
            font-size: 0.75em;
        }

        .immersive-translate-tooltip {
            position: relative;
            display: inline-flex;
            /* little indicater to indicate it's hoverable */
        }

        .immersive-translate-tooltip-content {
            /* here's the magic */
            position: absolute;
            z-index: 100000000000;

            left: 50%;
            bottom: 0;
            transform: translate(-50%, 110%);
            line-height: 1;
            /* and add a small left margin */

            /* basic styles */
            width: max-content;
            max-width: 250px;
            word-wrap: break-word;
            white-space: pre-line;
            padding: 10px;
            border-radius: 10px;
            background: #000c;
            color: #fff;
            text-align: center;
            font-size: 14px;
            display: none;
            /* hide by default */
        }

        .immersive-translate-tooltip:hover .immersive-translate-tooltip-content {
            display: inline-block;
        }

        .immersive-translate-tooltip:hover+.immersive-translate-tooltip-content {
            display: inline-block;
        }

        .immersive-translate-tooltip-content-table {
            left: unset !important;
            bottom: unset !important;
            transform: translate(-10%, 50%) !important;
        }

        .immersive-translate-tooltip:hover:before {
            display: inline-block;
        }

        .immersive-translate-loading-spinner {
            vertical-align: middle !important;
            width: 10px !important;
            height: 10px !important;
            display: inline-block !important;
            margin: 0 4px !important;
            border: 2px rgba(221, 244, 255, 0.6) solid !important;
            border-top: 2px rgba(0, 0, 0, 0.375) solid !important;
            border-left: 2px rgba(0, 0, 0, 0.375) solid !important;
            border-radius: 50% !important;
            padding: 0 !important;
            -webkit-animation: immersive-translate-loading-animation 0.6s infinite linear !important;
            animation: immersive-translate-loading-animation 0.6s infinite linear !important;
        }

        @-webkit-keyframes immersive-translate-loading-animation {
            from {
                -webkit-transform: rotate(0deg);
            }

            to {
                -webkit-transform: rotate(359deg);
            }
        }

        @keyframes immersive-translate-loading-animation {
            from {
                transform: rotate(0deg);
            }

            to {
                transform: rotate(359deg);
            }
        }

        .imt-image-status {
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: var(--bg-2, #fff);
            font-size: 14px;
        }
    </style>
    <style data-id="immersive-translate-user-custom-style">
        :root {

            .immersive-translate-target-inner {
                font-family: inherit;
            }


            .immersive-translate-target-inner {
                font-family: inherit;
            }
        }
    </style>
    <style data-id="immersive-translate-dynamic-injected-css">
        .immersive-translate-target-wrapper[dir='rtl'] {
            text-align: right;
        }

        .immersive-translate-target-wrapper[dir='rtl'] [data-immersive-translate-class-bak*='block-wrapper'] {
            display: block;
        }

        .immersive-translate-target-wrapper {
            word-break: break-word;
            user-select: text;
        }

        [imt-state="translation"] .immersive-translate-target-wrapper[dir='rtl'] {
            display: inline-block;
        }

        [dir='rtl'] .immersive-translate-target-wrapper:not([dir]) {
            text-align: left;
        }

        [imt-state=dual] .immersive-translate-target-translation-block-wrapper-theme-dividingLine::before {
            display: block;
        }

        [imt-trans-position=before] .immersive-translate-target-translation-block-wrapper {
            display: block !important;
        }

        [imt-state][data-immersive-translate_rtl] .immersive-translate-target-wrapper {
            display: block !important;
        }
    </style>
    <style data-id="immersive-translate-input-injected-css">
        .immersive-translate-input {
            position: absolute;
            top: 0;
            right: 0;
            left: 0;
            bottom: 0;
            z-index: 2147483647;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .immersive-translate-attach-loading::after {
            content: " ";

            --loading-color: #f78fb6;
            width: 6px;
            height: 6px;
            border-radius: 50%;
            display: block;
            margin: 12px auto;
            position: relative;
            color: white;
            left: -100px;
            box-sizing: border-box;
            animation: immersiveTranslateShadowRolling 1.5s linear infinite;

            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-2000%, -50%);
            z-index: 100;
        }

        .immersive-translate-loading-spinner {
            vertical-align: middle !important;
            width: 10px !important;
            height: 10px !important;
            display: inline-block !important;
            margin: 0 4px !important;
            border: 2px rgba(221, 244, 255, 0.6) solid !important;
            border-top: 2px rgba(0, 0, 0, 0.375) solid !important;
            border-left: 2px rgba(0, 0, 0, 0.375) solid !important;
            border-radius: 50% !important;
            padding: 0 !important;
            -webkit-animation: immersive-translate-loading-animation 0.6s infinite linear !important;
            animation: immersive-translate-loading-animation 0.6s infinite linear !important;
        }

        @-webkit-keyframes immersive-translate-loading-animation {
            from {
                -webkit-transform: rotate(0deg);
            }

            to {
                -webkit-transform: rotate(359deg);
            }
        }

        @keyframes immersive-translate-loading-animation {
            from {
                transform: rotate(0deg);
            }

            to {
                transform: rotate(359deg);
            }
        }

        .immersive-translate-input-loading {
            --loading-color: #f78fb6;
            width: 6px;
            height: 6px;
            border-radius: 50%;
            display: block;
            margin: 12px auto;
            position: relative;
            color: white;
            left: -100px;
            box-sizing: border-box;
            animation: immersiveTranslateShadowRolling 1.5s linear infinite;
        }

        @keyframes immersiveTranslateShadowRolling {
            0% {
                box-shadow: 0px 0 rgba(255, 255, 255, 0), 0px 0 rgba(255, 255, 255, 0),
                    0px 0 rgba(255, 255, 255, 0), 0px 0 rgba(255, 255, 255, 0);
            }

            12% {
                box-shadow: 100px 0 var(--loading-color), 0px 0 rgba(255, 255, 255, 0),
                    0px 0 rgba(255, 255, 255, 0), 0px 0 rgba(255, 255, 255, 0);
            }

            25% {
                box-shadow: 110px 0 var(--loading-color), 100px 0 var(--loading-color),
                    0px 0 rgba(255, 255, 255, 0), 0px 0 rgba(255, 255, 255, 0);
            }

            36% {
                box-shadow: 120px 0 var(--loading-color), 110px 0 var(--loading-color),
                    100px 0 var(--loading-color), 0px 0 rgba(255, 255, 255, 0);
            }

            50% {
                box-shadow: 130px 0 var(--loading-color), 120px 0 var(--loading-color),
                    110px 0 var(--loading-color), 100px 0 var(--loading-color);
            }

            62% {
                box-shadow: 200px 0 rgba(255, 255, 255, 0), 130px 0 var(--loading-color),
                    120px 0 var(--loading-color), 110px 0 var(--loading-color);
            }

            75% {
                box-shadow: 200px 0 rgba(255, 255, 255, 0), 200px 0 rgba(255, 255, 255, 0),
                    130px 0 var(--loading-color), 120px 0 var(--loading-color);
            }

            87% {
                box-shadow: 200px 0 rgba(255, 255, 255, 0), 200px 0 rgba(255, 255, 255, 0),
                    200px 0 rgba(255, 255, 255, 0), 130px 0 var(--loading-color);
            }

            100% {
                box-shadow: 200px 0 rgba(255, 255, 255, 0), 200px 0 rgba(255, 255, 255, 0),
                    200px 0 rgba(255, 255, 255, 0), 200px 0 rgba(255, 255, 255, 0);
            }
        }

        .immersive-translate-toast {
            display: flex;
            position: fixed;
            z-index: 2147483647;
            left: 0;
            right: 0;
            top: 1%;
            width: fit-content;
            padding: 12px 20px;
            margin: auto;
            overflow: auto;
            background: #fef6f9;
            box-shadow: 0px 4px 10px 0px rgba(0, 10, 30, 0.06);
            font-size: 15px;
            border-radius: 8px;
            color: #333;
        }

        .immersive-translate-toast-content {
            display: flex;
            flex-direction: row;
            align-items: center;
        }

        .immersive-translate-toast-hidden {
            margin: 0 20px 0 72px;
            text-decoration: underline;
            cursor: pointer;
        }

        .immersive-translate-toast-close {
            color: #666666;
            font-size: 20px;
            font-weight: bold;
            padding: 0 10px;
            cursor: pointer;
        }

        @media screen and (max-width: 768px) {
            .immersive-translate-toast {
                top: 0;
                padding: 12px 0px 0 10px;
            }

            .immersive-translate-toast-content {
                flex-direction: column;
                text-align: center;
            }

            .immersive-translate-toast-hidden {
                margin: 10px auto;
            }
        }

        .immersive-translate-modal {
            display: none;
            position: fixed;
            z-index: 2147483647;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgb(0, 0, 0);
            background-color: rgba(0, 0, 0, 0.4);
            font-size: 15px;
        }

        .immersive-translate-modal-content {
            background-color: #fefefe;
            margin: 10% auto;
            padding: 40px 24px 24px;
            border: 1px solid #888;
            border-radius: 10px;
            width: 80%;
            max-width: 270px;
            font-family: system-ui, -apple-system, "Segoe UI", "Roboto", "Ubuntu",
                "Cantarell", "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji",
                "Segoe UI Symbol", "Noto Color Emoji";
            position: relative;
        }

        @media screen and (max-width: 768px) {
            .immersive-translate-modal-content {
                margin: 50% auto !important;
            }
        }

        .immersive-translate-modal .immersive-translate-modal-content-in-input {
            max-width: 500px;
        }

        .immersive-translate-modal-content-in-input .immersive-translate-modal-body {
            text-align: left;
            max-height: unset;
        }

        .immersive-translate-modal-title {
            text-align: center;
            font-size: 16px;
            font-weight: 700;
            color: #333333;
        }

        .immersive-translate-modal-body {
            text-align: center;
            font-size: 14px;
            font-weight: 400;
            color: #333333;
            word-break: break-all;
            margin-top: 24px;
        }

        @media screen and (max-width: 768px) {
            .immersive-translate-modal-body {
                max-height: 250px;
                overflow-y: auto;
            }
        }

        .immersive-translate-close {
            color: #666666;
            position: absolute;
            right: 16px;
            top: 16px;
            font-size: 20px;
            font-weight: bold;
        }

        .immersive-translate-close:hover,
        .immersive-translate-close:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }

        .immersive-translate-modal-footer {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 24px;
        }

        .immersive-translate-btn {
            width: fit-content;
            color: #fff;
            background-color: #ea4c89;
            border: none;
            font-size: 16px;
            margin: 0 8px;
            padding: 9px 30px;
            border-radius: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        .immersive-translate-btn:hover {
            background-color: #f082ac;
        }

        .immersive-translate-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .immersive-translate-btn:disabled:hover {
            background-color: #ea4c89;
        }

        .immersive-translate-cancel-btn {
            /* gray color */
            background-color: rgb(89, 107, 120);
        }

        .immersive-translate-cancel-btn:hover {
            background-color: hsl(205, 20%, 32%);
        }

        .immersive-translate-action-btn {
            background-color: transparent;
            color: #ea4c89;
            border: 1px solid #ea4c89;
        }

        .immersive-translate-btn svg {
            margin-right: 5px;
        }

        .immersive-translate-link {
            cursor: pointer;
            user-select: none;
            -webkit-user-drag: none;
            text-decoration: none;
            color: #007bff;
            -webkit-tap-highlight-color: rgba(0, 0, 0, 0.1);
        }

        .immersive-translate-primary-link {
            cursor: pointer;
            user-select: none;
            -webkit-user-drag: none;
            text-decoration: none;
            color: #ea4c89;
            -webkit-tap-highlight-color: rgba(0, 0, 0, 0.1);
        }

        .immersive-translate-modal input[type="radio"] {
            margin: 0 6px;
            cursor: pointer;
        }

        .immersive-translate-modal label {
            cursor: pointer;
        }

        .immersive-translate-close-action {
            position: absolute;
            top: 2px;
            right: 0px;
            cursor: pointer;
        }

        .imt-image-status {
            background-color: rgba(0, 0, 0, 0.5) !important;
            display: flex !important;
            flex-direction: column !important;
            align-items: center !important;
            justify-content: center !important;
            border-radius: 16px !important;
        }

        .imt-image-status img,
        .imt-image-status svg,
        .imt-img-loading {
            width: 28px !important;
            height: 28px !important;
            margin: 0 0 8px 0 !important;
            min-height: 28px !important;
            min-width: 28px !important;
            position: relative !important;
        }

        .imt-img-loading {
            background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4CAMAAACfWMssAAAAtFBMVEUAAAD////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////oK74hAAAAPHRSTlMABBMIDyQXHwyBfFdDMSw+OjXCb+5RG51IvV/k0rOqlGRM6KKMhdvNyZBz9MaupmxpWyj437iYd/yJVNZeuUC7AAACt0lEQVRIx53T2XKiUBCA4QYOiyCbiAsuuGBcYtxiYtT3f6/pbqoYHVFO5r+iivpo6DpAWYpqeoFfr9f90DsYAuRSWkFnPO50OgR9PwiCUFcl2GEcx+N/YBh6pvKaefHlUgZd1zVe0NbYcQjGBfzrPE8Xz8aF+71D8gG6DHFPpc4a7xFiCDuhaWgKgGIJQ3d5IMGDrpS4S5KgpIm+en9f6PlAhKby4JwEIxlYJV9h5k5nee9GoxHJ2IDSNB0dwdad1NAxDJ/uXDHYmebdk4PdbkS58CIVHdYSUHTYYRWOJblWSyu2lmy3KNFVJNBhxcuGW4YBVCbYGRZwIooipHsNqjM4FbgOQqQqSKQQU9V8xmi1QlgHqQQ6DDBvRUVCDirs+EzGDGOQTCATgtYTnbCVLgsVgRE0T1QE0qHCFAht2z6dLvJQs3Lo2FQoDxWNUiBhaP4eRgwNkI+dAjVOA/kUrIDwf3CG8NfNOE0eiFotSuo+rBiq8tD9oY4Qzc6YJw99hl1wzpQvD7ef2M8QgnOGJfJw+EltQc+oX2yn907QB22WZcvlUpd143dqQu+8pCJZuGE4xCuPXJqqcs5sNpsI93Rmzym1k4Npk+oD1SH3/a3LOK/JpUBpWfqNySxWzCfNCUITuDG5dtuphrUJ1myeIE9bIsPiKrfqTai5WZxbhtNphYx6GEIHihyGFTI69lje/rxajdh0s0msZ0zYxyPLhYCb1CyHm9Qsd2H37Y3lugVwL9kNh8Ot8cha6fUNQ8nuXi5z9/ExsAO4zQrb/ev1yrCB7lGyQzgYDGuxq1toDN/JGvN+HyWNHKB7zEoK+PX11e12G431erGYzwmytAWU56fkMHY5JJnDRR2eZji3AwtIcrEV8Cojat/BdQ7XOwGV1e1hDjGGjXbdArm8uJZtCH5MbcctVX8A1WpqumJHwckAAAAASUVORK5CYII=");
            background-size: 28px 28px;
            animation: image-loading-rotate 1s linear infinite !important;
        }

        .imt-image-status span {
            color: var(--bg-2, #fff) !important;
            font-size: 14px !important;
            line-height: 14px !important;
            font-weight: 500 !important;
            font-family: "PingFang SC", Arial, sans-serif !important;
        }

        @keyframes image-loading-rotate {
            from {
                transform: rotate(360deg);
            }

            to {
                transform: rotate(0deg);
            }
        }
    </style>
</head>

<body epub:type="bodymatter" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">
    <section aria-labelledby="c26_1" epub:type="chapter" role="doc-chapter"
        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">
        <header data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">
            <h1 id="c26_1" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                data-immersive-translate-paragraph="1"><span aria-label="752" epub:type="pagebreak" id="Page_752"
                    role="doc-pagebreak"
                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"></span><span id="c26"
                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"></span><span
                    class="chapterNumber"
                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">26</span><br /><span
                    class="chapterTitle" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Razor
                    Pages and MVC</span>
                <font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                    <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">26Razor Pages 和 MVC</font>
                    </font>
                </font>
            </h1>
        </header>
        <section aria-label="chapter opening" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">
            <span id="c26-sec-0001" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"></span>
            <aside data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">
                <div class="top hr" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">
                    <hr />
                </div>
                <section class="feature3" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">
                    <h3 data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                        data-immersive-translate-paragraph="1">WHAT'S IN THIS CHAPTER?<font
                            class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">本章内容</font>
                            </font>
                        </font>
                    </h3>
                    <ul class="check2" id="c26-list-0001"
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">
                        <li id="c26-li-0001" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                            data-immersive-translate-paragraph="1">Working with Razor Pages<font
                                class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">使用 Razor Pages</font>
                                </font>
                            </font>
                        </li>
                        <li id="c26-li-0002" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                            data-immersive-translate-paragraph="1">Using Razor syntax<font
                                class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                                <font class="notranslate" data-immersive-translate-translation-element-mark="1">  
                                </font>
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">使用 Razor 语法</font>
                                </font>
                            </font>
                        </li>
                        <li id="c26-li-0003" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                            data-immersive-translate-paragraph="1">Routing with Razor Pages and MVC<font
                                class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">使用 Razor Pages 和 MVC 进行路由
                                    </font>
                                </font>
                            </font>
                        </li>
                        <li id="c26-li-0004" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                            data-immersive-translate-paragraph="1">Implementing Razor Pages in a library<font
                                class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">在库中实现 Razor Pages</font>
                                </font>
                            </font>
                        </li>
                        <li id="c26-li-0005" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                            data-immersive-translate-paragraph="1">Injecting services<font
                                class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                                <font class="notranslate" data-immersive-translate-translation-element-mark="1">  
                                </font>
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">注入服务</font>
                                </font>
                            </font>
                        </li>
                        <li id="c26-li-0006" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                            data-immersive-translate-paragraph="1">Using HTML Helpers<font
                                class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                                <font class="notranslate" data-immersive-translate-translation-element-mark="1">  
                                </font>
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">使用 HTML 辅助工具</font>
                                </font>
                            </font>
                        </li>
                        <li id="c26-li-0007" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                            data-immersive-translate-paragraph="1">Creating and using Tag Helpers<font
                                class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">创建和使用 Tag Helper</font>
                                </font>
                            </font>
                        </li>
                        <li id="c26-li-0008" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                            data-immersive-translate-paragraph="1">Creating and using view components<font
                                class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">创建和使用视图组件</font>
                                </font>
                            </font>
                        </li>
                        <li id="c26-li-0009" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                            data-immersive-translate-paragraph="1">Differences between Razor Pages and ASP.NET Core MVC
                            <font class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">Razor Pages 和 ASP.NET Core
                                        MVC 的区别</font>
                                </font>
                            </font>
                        </li>
                    </ul>
                    <div class="bottom hr" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">
                        <hr />
                    </div>
                </section>
            </aside>
            <aside data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">
                <div class="top hr" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">
                    <hr />
                </div>
                <section class="feature3" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"><span
                        id="c26-fea-0001" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"></span>
                    <h3 id="head-2-238" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                        data-immersive-translate-paragraph="1">CODE DOWNLOADS FOR THIS CHAPTER<font
                            class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">本章代码下载</font>
                            </font>
                        </font>
                    </h3>
                    <section data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"><span
                            id="c26-sec-0003"
                            data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"></span>
                        <p id="c26-para-0003" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                            data-immersive-translate-paragraph="1">The source code for this chapter is available on the
                            book page at <code
                                data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"><a href="http://www.wiley.com">www.wiley.com</a></code>.
                            Click the Downloads link. The code can also be found at <code
                                data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"><a href="https://github.com/ProfessionalCSharp/ProfessionalCSharp2021">https://github.com/ProfessionalCSharp/ProfessionalCSharp2021</a></code>
                            in the directory <code
                                data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">3_Web/RazorAndMVC</code>.
                            <font class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">本章的源代码可在 <code
                                            xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"><a href="http://www.wiley.com">www.wiley.com</a></code>
                                        书籍页面获取。点击下载链接。代码也可以在 <code xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"><a href="https://github.com/ProfessionalCSharp/ProfessionalCSharp2021">https://github.com/ProfessionalCSharp/ProfessionalCSharp2021</a></code>
                                        目录下的 <code xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">3_Web/RazorAndMVC</code>
                                        中找到。</font>
                                </font>
                            </font>
                        </p>
                        <p data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                            data-immersive-translate-paragraph="1">The code for this chapter is divided into the
                            following major examples:<font class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">本章的代码分为以下主要示例：</font>
                                </font>
                            </font>
                        </p>
                        <ul class="check" id="c26-list-0002"
                            data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">
                            <li id="c26-li-0010" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                                data-immersive-translate-paragraph="1">WebAppSample (Razor Pages web application)<font
                                    class="notranslate immersive-translate-target-wrapper"
                                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                    <font
                                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                        data-immersive-translate-translation-element-mark="1">
                                        <font
                                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                            data-immersive-translate-translation-element-mark="1">WebAppSample（Razor
                                            Pages Web 应用程序）</font>
                                    </font>
                                </font>
                            </li>
                            <li id="c26-li-0011" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                                data-immersive-translate-paragraph="1">BooksViews (Razor Pages in a library)<font
                                    class="notranslate immersive-translate-target-wrapper"
                                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                    <font
                                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                        data-immersive-translate-translation-element-mark="1">
                                        <font
                                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                            data-immersive-translate-translation-element-mark="1">BooksViews（图书馆中的 Razor
                                            Pages）</font>
                                    </font>
                                </font>
                            </li>
                            <li id="c26-li-0012" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                                data-immersive-translate-paragraph="1">CustomTagHelpers</li>
                            <li id="c26-li-0013" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                                data-immersive-translate-paragraph="1">EventViews (view components)<font
                                    class="notranslate immersive-translate-target-wrapper"
                                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                    <font
                                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                        data-immersive-translate-translation-element-mark="1">
                                        <font
                                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                            data-immersive-translate-translation-element-mark="1">事件视图（视图组件）</font>
                                    </font>
                                </font>
                            </li>
                            <li id="c26-li-0014" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                                data-immersive-translate-paragraph="1">MVCSample (ASP.NET Core MVC web application)<font
                                    class="notranslate immersive-translate-target-wrapper"
                                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                    <font
                                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                        data-immersive-translate-translation-element-mark="1">
                                        <font
                                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                            data-immersive-translate-translation-element-mark="1">MVCSample（ASP.NET Core
                                            MVC Web 应用程序）</font>
                                    </font>
                                </font>
                            </li>
                        </ul>
                        <p id="c26-para-0005" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                            data-immersive-translate-paragraph="1">All the projects have nullable reference types
                            enabled.<font class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">所有项目都已启用可空引用类型。</font>
                                </font>
                            </font>
                        </p>
                    </section>
                    <div class="bottom hr" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">
                        <hr />
                    </div>
                </section>
            </aside>
        </section> <span aria-label="753" epub:type="pagebreak" id="Page_753" role="doc-pagebreak"
            data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"></span>
        <section aria-labelledby="head-2-239" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">
            <span id="c26-sec-0004" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"></span>
            <h2 id="head-2-239" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                data-immersive-translate-paragraph="1">SETTING UP SERVICES FOR RAZOR PAGES AND MVC<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">为 Razor Pages 和 MVC 设置服务</font>
                    </font>
                </font>
            </h2>
            <p id="c26-para-0006" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                data-immersive-translate-paragraph="1"><a href="c24.xhtml"
                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Chapter 24</a>, “ASP.NET
                Core,” explains the foundation of ASP.NET Core with dependency injection and middleware and the features
                of HTTP requests and responses. This chapter makes use of dependency injection and middleware for Razor
                Pages and MVC to reduce the code needed for creating full-featured web applications.<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">第 24 章《ASP.NET Core》解释了 ASP.NET Core
                            的基础，包括依赖注入和中间件，以及 HTTP 请求和响应的特性。本章利用依赖注入和中间件为 Razor Pages 和 MVC 减少创建功能完备的 Web 应用所需的代码。
                        </font>
                    </font>
                </font>
            </p>
            <p id="c26-para-0007" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                data-immersive-translate-paragraph="1">Web pages built based on the <i
                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Model-View-Controller</i>
                (MVC) pattern (<a href="#c26-fig-0001" id="R_c26-fig-0001"
                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Figure 26-1</a>) clearly
                separate models (entity objects representing data), views (the user interface, including HTML code), and
                functionality (controllers).<font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">基于模型-视图-控制器（MVC）模式构建的网页（图
                            26-1）清晰地分离了模型（代表数据的实体对象）、视图（用户界面，包括 HTML 代码）和功能（控制器）。</font>
                    </font>
                </font>
            </p>
            <figure data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"> <img
                    alt="Snapshot of setting up services for razor pages and M V C." class="center"
                    src="images/c26f001.png" />
                <figcaption data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">
                    <p data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"><span class="figureLabel"
                            data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"><a
                                href="#R_c26-fig-0001" id="c26-fig-0001" role="doc-backlink"
                                data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"><b
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                                    data-immersive-translate-paragraph="1">FIGURE 26-1<font
                                        class="notranslate immersive-translate-target-wrapper"
                                        data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                                        <font class="notranslate" data-immersive-translate-translation-element-mark="1">
                                              </font>
                                        <font
                                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                                            data-immersive-translate-translation-element-mark="1">
                                            <font
                                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                                data-immersive-translate-translation-element-mark="1">图 26-1</font>
                                        </font>
                                    </font></b></a></span></p>
                </figcaption>
            </figure>
            <p id="c26-para-0008" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                data-immersive-translate-paragraph="1"><i
                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Razor Pages</i> give you a
                simpler concept where you mix HTML code with C# within a single page, but you can also separate this
                using a code-behind file, which you probably already know from WPF or WinUI applications. Dependency
                injection is an important concept that's needed both with Razor Pages and MVC.<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">Razor Pages 提供了一个更简单的概念，你可以在单个页面中混合
                            HTML 代码和 C#，但也可以使用代码隐藏文件将其分离，你可能已经从 WPF 或 WinUI 应用中了解到了这一点。依赖注入是一个重要的概念，无论是对于 Razor Pages 还是
                            MVC 都是必需的。</font>
                    </font>
                </font>
            </p>
            <section data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"><span id="c26-sec-0005"
                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"></span>
                <h3 id="head-3-488" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">Creating Razor Pages Projects <font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">创建 Razor Pages 项目</font>
                        </font>
                    </font>
                </h3>
                <p id="c26-para-0009" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">Razor Pages were introduced with ASP.NET Core 2.0 to remove
                    the complexity with MVC. Razor Pages offer an easier way to start creating web applications. In case
                    you already have experience with MVC, many of the same features of MVC can be used with Razor Pages.
                    You can also mix MVC projects with Razor Pages.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">Razor Pages 是随着 ASP.NET Core 2.0
                                引入的，旨在简化 MVC 的复杂性。Razor Pages 提供了一种更便捷的方式来开始创建 Web 应用程序。如果你已经具备 MVC 的使用经验，许多 MVC
                                的相同功能也可以在 Razor Pages 中使用。你还可以将 MVC 项目与 Razor Pages 混合使用。</font>
                        </font>
                    </font>
                </p>
                <p data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">When you're using Visual Studio, you can create a Razor Pages
                    application by using the project template Web Application. You use the command line to create the
                    sample application with this:<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">在使用 Visual Studio 时，你可以通过使用 Web
                                Application 项目模板来创建一个 Razor Pages 应用程序。你可以使用以下命令行来创建这个示例应用程序：</font>
                        </font>
                    </font>
                </p>
                <pre id="c26-code-0001"><code>&gt; dotnet new webapp -o WebAppSample</code></pre>
                <p data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">With this template, the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Main</code> method uses
                    the <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Host</code> class
                    in the same way as you saw in <a href="c24.xhtml"
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Chapter 24</a>, “ASP.NET
                    Core,” with the empty web application. The configuration of the DI container is done in the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">ConfigureServices</code>
                    method of the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Startup</code> class.
                    With Razor Pages, the extension method <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">AddRazorPages</code> is
                    used to register all the services required; the most important are the Razor view engine and
                    services to find and activate pages (code file <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">WebAppSample/Startup.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">使用这个模板， <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Main</code>
                                方法与你在第 24 章“ASP.NET Core”中看到的空 Web 应用程序中的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Host</code>
                                类使用方式相同。DI 容器的配置是在 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">ConfigureServices</code>
                                类的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Startup</code>
                                方法中完成的。在 Razor Pages 中，使用扩展方法 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">AddRazorPages</code>
                                来注册所有所需的服务；其中最重要的是 Razor 视图引擎和用于查找和激活页面的服务（代码文件 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">WebAppSample/Startup.cs</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c26-code-0002"><code>public void ConfigureServices(IServiceCollection services)</code>
<code>{</code>
<code>  <b>services.AddRazorPages();</b></code>
<code>}</code></pre>
                <p data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">With the configuration of the middleware, static files are
                    added by default (with web applications, you usually need static files such as CSS files and
                    JavaScript files). With endpoint routing, routes for Razor Pages are added by invoking the method
                    <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">MapRazorPages</code>
                    (code file <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">WebAppSample/Startup.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">在中间件配置中，静态文件默认被添加（对于 Web
                                应用程序，你通常需要静态文件，如 CSS 文件和 JavaScript 文件）。在端点路由中，通过调用 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">MapRazorPages</code>
                                方法来添加 Razor Pages 的路由（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">WebAppSample/Startup.cs</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c26-code-0003"><code>public void Configure(IApplicationBuilder app, IWebHostEnvironment env)</code>
<code>{</code>
<code>  if (env.IsDevelopment())<span aria-label="754" epub:type="pagebreak" id="Page_754" role="doc-pagebreak"></span></code>
<code>  {</code>
<code>    app.UseDeveloperExceptionPage();</code>
<code>  }</code>
<code>  else</code>
<code>  {</code>
<code>    app.UseExceptionHandler("/Error");</code>
<code>    app.UseHsts();</code>
<code>  }</code>
<code> </code>
<code>  app.UseHttpsRedirection();</code>
<code>  <b>app.UseStaticFiles();</b></code>
<code> </code>
<code>  app.UseRouting();</code>
<code> </code>
<code>  app.UseAuthorization();</code>
<code> </code>
<code>  app.UseEndpoints(endpoints =&gt;</code>
<code>  {</code>
<code>    <b>endpoints.MapRazorPages();</b></code>
<code>  });</code>
<code>}</code></pre>
                <p id="c26-para-0013" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">With the default configuration, Razor Pages routing uses a
                    <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Pages</code> folder and
                    subfolders and maps the URL to the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">.cshtml</code> files in
                    that folder. You can override settings by using the methods <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">AddRazorOptions</code>
                    and <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">AddRazorPageOptions</code>.
                    If you're accessing the URL <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">/Hello</code>, the page
                    <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Pages/Hello.cshtml</code>
                    is searched. With the URL <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">/Admin/User</code>, the
                    page <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Pages/Admin/User.cshtml</code>
                    is expected. If these pages are not found, search continues in the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Views/Shared</code>
                    folder. When you set the property <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">PageViewLocationFormats</code>
                    with the method <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">AddRazorOptions</code>,
                    this behavior can be changed. Just by changing the folder <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Pages</code> to a
                    different folder, the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">AddRazorPagesOptions</code>
                    method can be used to set the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">RootDirectory</code>
                    property of the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">RazorPagesOptions</code>.
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">在默认配置下，Razor Pages 路由使用 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Pages</code>
                                文件夹及其子文件夹，并将 URL 映射到该文件夹中的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">.cshtml</code>
                                文件。您可以通过使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">AddRazorOptions</code>
                                和 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">AddRazorPageOptions</code>
                                方法来覆盖设置。如果您访问 URL <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">/Hello</code>
                                ，则会搜索页面 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Pages/Hello.cshtml</code>
                                。而 URL <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">/Admin/User</code>
                                则期望找到页面 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Pages/Admin/User.cshtml</code>
                                。如果这些页面未找到，搜索将在 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Views/Shared</code>
                                文件夹中继续。当您使用方法 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">AddRazorOptions</code>
                                设置属性 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">PageViewLocationFormats</code>
                                时，此行为可以被更改。只需将文件夹 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Pages</code>
                                更改为不同的文件夹，就可以使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">AddRazorPagesOptions</code>
                                方法来设置 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">RazorPagesOptions</code>
                                的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">RootDirectory</code>
                                属性。</font>
                        </font>
                    </font>
                </p>
            </section>
            <section data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"><span id="c26-sec-0006"
                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"></span>
                <h3 id="head-3-489" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">Understanding Razor Syntax <font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">理解 Razor 语法</font>
                        </font>
                    </font>
                </h3>
                <p id="c26-para-0014" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">Razor Pages (and also Razor views, as with MVC, and Razor
                    components used with Blazor) use Razor syntax. With Razor syntax, you can mix HTML and C# code.
                    Razor uses the <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">@</code>
                    character as a transition character to switch from HTML to C#.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">Razor Pages（以及 MVC 中的 Razor 视图和
                                Blazor 中使用的 Razor 组件）使用 Razor 语法。通过 Razor 语法，你可以混合 HTML 和 C#代码。Razor 使用 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">@</code>
                                字符作为过渡字符，用于从 HTML 切换到 C#。</font>
                        </font>
                    </font>
                </p>
                <p data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">An important distinction you need to make here is with
                    statements that return a value and statements that don't. A value that is returned can be used
                    directly with an <i data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">implicit
                        Razor expression</i>. For example, <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">ViewData["Title"]</code>
                    returns a string. The returned string is put directly between the HTML title tags as shown in the
                    following code snippet. After this expression, Razor switches to HTML, and the following string
                    before the <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">title</code>
                    end element is simple HTML:<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">
                                这里需要区分的一个重要点是返回值的语句和不返回值的语句。返回的值可以直接与隐式 Razor 表达式一起使用。例如， <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">ViewData["Title"]</code>
                                返回一个字符串。返回的字符串直接放在 HTML 标题标签之间，如下面的代码片段所示。在这个表达式之后，Razor 切换到 HTML， <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">title</code>
                                结束元素之前的字符串是简单的 HTML：</font>
                        </font>
                    </font>
                </p>
                <pre id="c26-code-0004"><code>&lt;title&gt;@ViewData["Title"] - WebAppSample&lt;/title&gt;</code></pre>
                <p data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">With the Razor syntax, the engine automatically detects the
                    end of the C# code when it finds an HTML element. There are some cases in which the end of the C#
                    code cannot be detected automatically. You can resolve this by using parentheses, as shown in the
                    following example to mark a variable, and then the normal text continues. This is an <i
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">explicit Razor
                        expression</i>:<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">使用 Razor 语法时，引擎在找到 HTML 元素时会自动检测
                                C#代码的结束。在某些情况下，C#代码的结束无法自动检测。你可以通过使用括号来解决，如下面的示例所示，用括号标记一个变量，然后普通文本继续。这是一个显式的 Razor 表达式：
                            </font>
                        </font>
                    </font>
                </p>
                <pre id="c26-code-0005"><code>&lt;div&gt;<b>@(name)</b>, Stephanie&lt;/div&gt;</code></pre>
                <p data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">When you're invoking methods that return void or specifying
                    some other statements that don't return a value, you need a <i
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Razor code block</i>. The
                    following code block defines a string variable:<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">当你调用返回 void 的方法或指定其他不返回值的语句时，你需要一个
                                Razor 代码块。以下代码块定义了一个字符串变量：</font>
                        </font>
                    </font>
                </p>
                <pre id="c26-code-0006"><code>@{</code>
<code>  string name = "Angela";</code>
<code>}</code></pre>
                <p data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1"><span aria-label="755" epub:type="pagebreak" id="Page_755"
                        role="doc-pagebreak"
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"></span>You can now use
                    the variable with an implicit Razor expression; you just use the transition character <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">@</code> to access the
                    variable:<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">现在您可以使用隐式 Razor 表达式来使用变量；您只需使用过渡字符
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">@</code>
                                来访问变量：</font>
                        </font>
                    </font>
                </p>
                <pre id="c26-code-0007"><code>&lt;div&gt;@name&lt;/div&gt;</code></pre>
                <p data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">Another way to start a <i
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Razor code block</i> is
                    with the <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">foreach</code>
                    statement:<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">另一种开始 Razor 代码块的方法是使用 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">foreach</code>
                                语句：</font>
                        </font>
                    </font>
                </p>
                <pre id="c26-code-0008"><code><b>@foreach</b>(var item in list)</code>
<code>{</code>
<code>  &lt;li&gt;The item name is @item.&lt;/li&gt;</code>
<code>}</code></pre>
                <p data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">With Razor, you can also use control structures with <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">@if</code>, <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">else if</code>, <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">else</code>, and <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">@switch</code>. Looping
                    can be done with <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">@for</code>, <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">@foreach</code>, <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">@while</code>, and <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">@do while</code>.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">使用 Razor，您还可以使用 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">@if</code> 、
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">else if</code>
                                、 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">else</code> 和
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">@switch</code>
                                的控制结构。循环可以使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">@for</code> 、
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">@foreach</code>
                                、 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">@while</code>
                                和 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">@do while</code>
                                完成。</font>
                        </font>
                    </font>
                </p>
                <aside data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">
                    <div class="top hr" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">
                        <hr />
                    </div>
                    <section class="feature2" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">
                        <p id="c26-para-0021" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                            data-immersive-translate-paragraph="1"><b
                                data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">NOTE</b> <i
                                data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Usually, text
                                content is automatically detected with Razor—for example, Razor detects an opening angle
                                bracket or parenthesis with a variable. There are a few cases in which this does not
                                work. Here, you can explicitly use </i><code
                                data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">@:</code><i
                                data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"> to define the
                                start of text.</i>
                            <font class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">注意 通常情况下，Razor
                                        会自动检测文本内容——例如，Razor 会检测到用变量打开的角度括号或括号。在某些情况下，这种方法不起作用。在这里，您可以使用 <code
                                            xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">@:</code>
                                        显式地定义文本的开始。</font>
                                </font>
                            </font>
                        </p>
                        <div class="bottom hr" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">
                            <hr />
                        </div>
                    </section>
                </aside>
                <p data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">Instead of importing namespaces with every Razor Page, you
                    can import namespaces with the file <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">_ViewImports.cshtml</code>
                    that's defined in the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Pages</code> folder with
                    <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">@using</code>. To
                    declare a namespace for the types defined in the folder, you can use <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">@namespace</code> (code
                    file <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">WebAppSample/Pages/_ViewImports.cshtml</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">与其在每个 Razor 页面中导入命名空间，你可以通过在 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Pages</code>
                                文件夹中用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">@using</code>
                                定义的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">_ViewImports.cshtml</code>
                                文件来导入命名空间。要为文件夹中定义的类型声明命名空间，可以使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">@namespace</code>
                                （代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">WebAppSample/Pages/_ViewImports.cshtml</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c26-code-0009"><code>@using WebAppSample</code>
<code>@namespace WebAppSample.Pages</code>
<code>@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers</code></pre>
                <p id="c26-para-0023" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">Tag helpers opened with <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">@addTagHelper</code> in
                    this file are explained later in the section “Working with Tag Helpers.”<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">本文件中以 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">@addTagHelper</code>
                                开头的标签助手将在“使用标签助手”一节中详细解释。</font>
                        </font>
                    </font>
                </p>
            </section>
        </section>
        <section aria-labelledby="head-2-240" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">
            <span id="c26-sec-0008" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"></span>
            <h2 id="head-2-240" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                data-immersive-translate-paragraph="1">RAZOR PAGES</h2>
            <p data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                data-immersive-translate-paragraph="1">Razor Pages have the file extension <code
                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">.cshtml</code> and start with
                a <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">@page</code> directive.
                This is a simple Razor Page with HTML code:<font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">Razor 页面具有 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">.cshtml</code>
                            文件扩展名，并以 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">@page</code>
                            指令开头。这是一个简单的 Razor 页面，包含 HTML 代码：</font>
                    </font>
                </font>
            </p>
            <pre id="c26-code-0010"><code><b>@page</b></code>
<code>&lt;h2&gt;HTML Heading&lt;/h2&gt;</code></pre>
            <p data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                data-immersive-translate-paragraph="1">You can create a Razor Page with <code
                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">dotnet new page</code> and
                pass a name to the <code
                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">--name</code> option:<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">你可以使用 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">dotnet new page</code>
                            创建一个 Razor 页面，并通过 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">--name</code>
                            选项传递一个名称：</font>
                    </font>
                </font>
            </p>
            <pre id="c26-code-0011"><code>&gt; dotnet new page --name PageWithCodeBehind</code>
<code>&gt; dotnet new page --name InlinePage --no-pagemodel</code></pre>
            <p data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                data-immersive-translate-paragraph="1">Razor Pages can be created with inline code (using the <code
                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">--no-pagemodel</code>
                option). With this, C# methods can be declared in a <code
                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">@functions</code> code block.
                Everything is in a single file. Without using the <code
                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">--no-pagemodel</code> option,
                a code-behind file is generated, and C# methods are declared within a page-model class in the
                code-behind file with the <code
                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">.cshtml.cs</code> file
                extension. By default, a code-behind file is used as shown with the <code
                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Error</code> page (code file
                <code
                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">WebAppSample/Pages/Error.cshtml</code>):
                <font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">Razor 页面可以使用内联代码（使用 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">--no-pagemodel</code>
                            选项）创建。通过这种方式，可以在 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">@functions</code>
                            代码块中声明 C#方法。所有内容都在一个文件中。如果不使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">--no-pagemodel</code>
                            选项，则会生成一个代码隐藏文件，C#方法会在代码隐藏文件中的以 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">.cshtml.cs</code>
                            扩展名的页面模型类中声明。默认情况下，会使用代码隐藏文件，如 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Error</code>
                            页面（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">WebAppSample/Pages/Error.cshtml</code>
                            ）所示：</font>
                    </font>
                </font>
            </p>
            <pre id="c26-code-0012"><code>@page</code>
<code>@model ErrorModel</code>
<code>@* … *@</code></pre>
            <p id="c26-para-0027" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                data-immersive-translate-paragraph="1"><span aria-label="756" epub:type="pagebreak" id="Page_756"
                    role="doc-pagebreak"
                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"></span>With a Razor Page, a
                class is created that derives from the base class <code
                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Microsoft.AspNetCore.Mvc.RazorPages.Page</code>.
                The <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">@model</code> directive
                uses a generic version of this base class and specifies the type of the model as the generic parameter.
                With this, the <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Model</code>
                property of the generated class can be used to access data of the underlying code.<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">使用 Razor 页面时，会创建一个继承自基础类 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Microsoft.AspNetCore.Mvc.RazorPages.Page</code>
                            的类。 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">@model</code>
                            指令使用该基础类的泛型版本，并将模型类型指定为泛型参数。通过这种方式，可以使用生成的类的 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Model</code>
                            属性来访问底层代码的数据。</font>
                    </font>
                </font>
            </p>
            <p data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                data-immersive-translate-paragraph="1">With the code-behind file, you can see the class declared with
                the <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">@model</code> directive
                deriving from the base class <code
                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">PageModel</code> (code file
                <code
                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">WebAppSample/Pages/Error.cshtml.cs</code>):
                <font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">使用代码隐藏文件时，可以看到使用 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">@model</code>
                            指令声明的类继承自基础类 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">PageModel</code>
                            （代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">WebAppSample/Pages/Error.cshtml.cs</code>
                            ）：</font>
                    </font>
                </font>
            </p>
            <pre id="c26-code-0013"><code>public class ErrorModel : PageModel</code>
<code>{</code>
<code>  //…</code>
<code>}</code></pre>
            <p id="c26-para-0029" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                data-immersive-translate-paragraph="1">Other than using inline code with an <code
                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">@functions</code> code block
                or using a code-behind file with a <code
                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">PageModel</code>
                -derived class in the code-behind file, you have a third option: you can create a <code
                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">PageModel</code>
                -derived class in the <code
                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">@functions</code> code block.
                The model declaration is the same in this variant; you're just using one file instead of two files to
                implement the Razor Page. It's a matter of taste. By default, Visual Studio creates Razor Pages with
                code-behind files. Razor components that you'll create in the next chapter use inline code.<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">除了使用带 <code
                                xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">@functions</code>
                            代码块的行内代码或使用代码隐藏文件并在代码隐藏文件中创建 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">PageModel</code>
                            派生类之外，您还有一个第三种选择：您可以在 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">@functions</code>
                            代码块中创建 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">PageModel</code>
                            派生类。在这种变体中，模型声明是相同的；您只是使用一个文件而不是两个文件来实现 Razor 页面。这取决于个人喜好。默认情况下，Visual Studio 使用代码隐藏文件创建
                            Razor 页面。您将在下一章中创建的 Razor 组件使用行内代码。</font>
                    </font>
                </font>
            </p>
            <section data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"><span id="c26-sec-0009"
                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"></span>
                <h3 id="head-3-490" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">Layouts <font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                        <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">布局 </font>
                        </font>
                    </font>
                </h3>
                <p id="c26-para-0030" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">Usually, many pages of web applications share some of the
                    same content—for example, copyright information, a logo, and a main navigation structure. Using
                    layout pages, you can share HTML code with different Razor Pages.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">通常，许多 Web
                                应用程序的页面共享一些相同的内容——例如，版权信息、标志和主要导航结构。使用布局页面，您可以将 HTML 代码与不同的 Razor 页面共享。</font>
                        </font>
                    </font>
                </p>
                <p data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">To use a layout, the Razor Page base class <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">PageModel</code> defines
                    the <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Layout</code>
                    property. To specify default settings for Razor Pages, you use the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">_ViewStart.cshml</code>
                    file. In the following code snippet, you can see the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Layout</code> property
                    set to <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">_Layout</code>
                    (code file <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">WebAppSample/Pages/_ViewStart.cshtml</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">要使用布局，Razor 页面基类 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">PageModel</code>
                                定义了 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Layout</code>
                                属性。要为 Razor 页面指定默认设置，您使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">_ViewStart.cshml</code>
                                文件。在以下代码片段中，您可以看到 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Layout</code>
                                属性设置为 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">_Layout</code>
                                （代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">WebAppSample/Pages/_ViewStart.cshtml</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c26-code-0014"><code>@{</code>
<code>  Layout = "_Layout";</code>
<code>}</code></pre>
                <p id="c26-para-0032" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">You can override this setting in specific pages to reference
                    other layout files, or you can create other <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">_Layout.cshtml</code>
                    files with changed content in other folders.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">
                                你可以在特定页面中覆盖此设置以引用其他布局文件，或者在其他文件夹中创建具有更改内容的其他 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">_Layout.cshtml</code>
                                文件。</font>
                        </font>
                    </font>
                </p>
                <p id="c26-para-0033" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">The layout page contains the HTML declaration, <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">html</code>, <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">head</code>, and <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">body</code> elements, and
                    in the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">body header</code> and
                    <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">footer</code> elements.
                    Of course, you can also use Razor syntax within this file. With the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">.cshtml</code> file
                    extension (and without a <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">@page</code> directive),
                    the class used behind the scenes for the layout page is the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">RazorPage</code> class.
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">布局页面包含 HTML 声明、 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">html</code> 、
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">head</code> 和
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">body</code>
                                元素，以及在 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">body header</code>
                                和 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">footer</code>
                                元素中。当然，你也可以在此文件中使用 Razor 语法。使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">.cshtml</code>
                                文件扩展名（且没有 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">@page</code>
                                指令），布局页面背后使用的类是 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">RazorPage</code>
                                类。</font>
                        </font>
                    </font>
                </p>
                <p data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">The invocation of the method <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">RenderBody</code> is
                    important with layout pages. This method is implemented with the base class and renders the content
                    of the Razor Page.<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">在布局页面中调用 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">RenderBody</code>
                                方法很重要。该方法由基类实现，并渲染 Razor 页面的内容。</font>
                        </font>
                    </font>
                </p>
                <pre id="c26-code-0015"><code>&lt;div class="container"&gt;</code>
<code>  &lt;main role="main" class="pb-3"&gt;</code>
<code>    <b>@RenderBody()</b></code>
<code>  &lt;/main&gt;</code>
<code>&lt;/div&gt;</code></pre>
                <p id="c26-para-0035" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">After you know the details, let's recapitulate how this
                    process works: based on the route, a Razor Page is selected. With the Razor Page, the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Layout</code> property is
                    set (either within the page itself or with the default settings from <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">_ViewStart.csthml</code>).
                    Based on this information, the page is processed, and a layout file is selected that's rendered.
                    With the layout file, the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">@RenderBody</code> method
                    defines the position within the UI where the result of the Razor Page is rendered. <a
                        href="#c26-fig-0002" id="R_c26-fig-0002"
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Figure 26-2</a> shows the
                    rendering of the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Index</code> page within
                    the layout showing menu and footer information.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">在了解这些细节后，让我们回顾一下此过程的工作原理：根据路由选择一个
                                Razor 页面。使用该 Razor 页面设置 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Layout</code>
                                属性（可以在页面本身内部设置，也可以使用来自 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">_ViewStart.csthml</code>
                                的默认设置）。根据这些信息，页面被处理，并选择一个要渲染的布局文件。使用布局文件， <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">@RenderBody</code>
                                方法定义了 UI 中 Razor 页面结果渲染的位置。图 26-2 显示了在显示菜单和页脚信息的布局中渲染 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Index</code>
                                页面的情况。</font>
                        </font>
                    </font>
                </p> <span aria-label="757" epub:type="pagebreak" id="Page_757" role="doc-pagebreak"
                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"></span>
                <figure data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"> <img
                        alt="Snapshot shows welcome message for web app sample." class="center"
                        src="images/c26f002.png" />
                    <figcaption data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">
                        <p data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"><span
                                class="figureLabel"
                                data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"><a
                                    href="#R_c26-fig-0002" id="c26-fig-0002" role="doc-backlink"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"><b
                                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                                        data-immersive-translate-paragraph="1">FIGURE 26-2<font
                                            class="notranslate immersive-translate-target-wrapper"
                                            data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                                            <font class="notranslate"
                                                data-immersive-translate-translation-element-mark="1">  </font>
                                            <font
                                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                                                data-immersive-translate-translation-element-mark="1">
                                                <font
                                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                                    data-immersive-translate-translation-element-mark="1">图 26-2</font>
                                            </font>
                                        </font></b></a></span></p>
                    </figcaption>
                </figure>
            </section>
            <section data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"><span id="c26-sec-0010"
                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"></span>
                <h3 id="head-3-491" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">Passing Data Between Views <font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">在视图之间传递数据</font>
                        </font>
                    </font>
                </h3>
                <p id="c26-para-0036" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">Often you need to pass information from one view to the
                    other. Of course, you can create a service that shares state during a request (for example,
                    registered as scoped within the DI container) and inject the service in the views. However, this is
                    too much to do to share just simple data, such as a title that should be set with a Razor Page and
                    shown within the layout. To do this, you use the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">ViewData</code> property
                    of the page. <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">ViewData</code> offers a
                    dictionary where you can use a string as the key and pass and access the data using an indexer. The
                    data can be any object.<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">
                                通常你需要从一个视图传递信息到另一个视图。当然，你可以创建一个服务来在请求期间共享状态（例如，在 DI
                                容器中注册为作用域），并在视图中注入该服务。然而，对于只是共享简单数据（例如，应该由 Razor 页面设置并在布局中显示的标题）来说，这样做过于复杂。为此，你使用页面的
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">ViewData</code>
                                属性。 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">ViewData</code>
                                提供了一个字典，你可以使用字符串作为键，并使用索引器来传递和访问数据。数据可以是任何对象。</font>
                        </font>
                    </font>
                </p>
                <p data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">The <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Index</code> page sets
                    <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">ViewData</code> with
                    the <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Title</code> index
                    (code file <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">WebAppSample/Pages/Index.cshtml</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1"> <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Index</code>
                                页面使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Title</code>
                                索引设置 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">ViewData</code>
                                （代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">WebAppSample/Pages/Index.cshtml</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c26-code-0016"><code>@{</code>
<code>  ViewData["Title"] = "Home page";</code>
<code>}</code></pre>
                <p data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">With the layout, the value from the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">ViewData</code> is
                    retrieved to show it with the title element (code file <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">WebAppSample/Pages/Shared/_Layout.cshtml</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">在布局中，从 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">ViewData</code>
                                获取值以使用标题元素显示它（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">WebAppSample/Pages/Shared/_Layout.cshtml</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre
                    id="c26-code-0017"><code>&lt;title&gt;<b>@ViewData["Title"]</b> - WebAppSample&lt;/title&gt;</code></pre>
                <p data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">Instead of using the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">ViewData</code> property,
                    you can use the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">ViewBag</code> property.
                    <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">ViewBag</code> accesses
                    the same dictionary, but you can use property-like syntax:<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">不用 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">ViewData</code>
                                属性，你可以使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">ViewBag</code>
                                属性。 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">ViewBag</code>
                                访问相同的字典，但你可以使用类似属性的语法：</font>
                        </font>
                    </font>
                </p>
                <pre id="c26-code-0018"><code>ViewBag.Title = "Home page";</code></pre>
                <p id="c26-para-0040" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">This looks like cleaner code, but IntelliSense doesn't offer
                    you the property names. The <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">ViewBag</code> property
                    is of type <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">dynamic</code> (see <a
                        href="c12.xhtml" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Chapter
                        12</a>, “Reflection, Metadata, and Source Generators,” for more information on <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">dynamic</code>), and thus
                    the compiler does not complain if you use an incorrect string.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">这看起来像是更干净的代码，但 IntelliSense
                                没有提供属性名称。 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">ViewBag</code>
                                属性的类型是 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">dynamic</code>
                                （有关 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">dynamic</code>
                                的更多信息，请参阅第 12 章“反射、元数据和源生成器”），因此如果你使用错误的字符串，编译器不会报错。</font>
                        </font>
                    </font>
                </p>
                <p id="c26-para-0041" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">For information that should be read only once, you can use
                    the <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">TempData</code>
                    property. A <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">TempData</code> value can
                    be read only once and is released after reading.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">对于只需要读取一次的信息，你可以使用 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">TempData</code>
                                属性。 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">TempData</code>
                                值只能读取一次，读取后会释放。</font>
                        </font>
                    </font>
                </p>
            </section>
            <section data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"><span id="c26-sec-0011"
                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"></span>
                <h3 id="head-3-492" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">Render Sections <font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                        <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">渲染部分</font>
                        </font>
                    </font>
                </h3>
                <p data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">In case you want to put your page content in different parts
                    of the layout, you can render sections. To do this, you invoke the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">RenderSectionAsync</code>
                    method in the layout page, as shown in the following code snippet. The layout has JavaScript files
                    referenced that are useful for all the pages of the web application. With the section <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Scripts</code>,
                    additional JavaScript files useful only for specific pages can be referenced. If you don't want to
                    require every page to have a <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Scripts</code> section,
                    the <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">required</code>
                    argument is set to false (code file <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">WebAppSample/Pages/Shared/_Layout.cshtml</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">
                                如果你想把页面内容放在布局的不同部分，可以渲染区域。为此，你需要在布局页面中调用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">RenderSectionAsync</code>
                                方法，如下面的代码片段所示。布局中引用了所有页面都需要的 JavaScript 文件。通过区域 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Scripts</code>
                                ，可以为特定页面引用额外的 JavaScript 文件。如果你不希望每个页面都需要 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Scripts</code>
                                区域，则将 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">required</code>
                                参数设置为 false（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">WebAppSample/Pages/Shared/_Layout.cshtml</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c26-code-0019"><code>&lt;body&gt;</code>
<code>  &lt;!-- --&gt; </code>
<code>  &lt;script src="~/lib/jquery/dist/jquery.min.js"&gt;&lt;/script&gt;<span aria-label="758" epub:type="pagebreak" id="Page_758" role="doc-pagebreak"></span></code>
<code>  &lt;script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"&gt;&lt;/script&gt;</code>
<code>  &lt;script src="~/js/site.js" asp-append-version="true"&gt;&lt;/script&gt;</code>
<code>   <b>@await RenderSectionAsync("Scripts", required: false)</b></code>
<code>&lt;/body&gt;</code></pre>
                <p data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">Within the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">head</code> element of
                    the layout page, the section with the name <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Keywords</code> is
                    referenced. Within the head element, every page can add HTML keyword meta values (code file <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">WebAppSample/Pages/Shared/_Layout.cshtml</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">在布局页面的 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">head</code>
                                元素中，引用了名为 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Keywords</code>
                                的区域。在 head 元素中，每个页面都可以添加 HTML 关键字 meta 值（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">WebAppSample/Pages/Shared/_Layout.cshtml</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c26-code-0020"><code>&lt;head&gt;</code>
<code>  &lt;meta charset="utf-8"/&gt;</code>
<code>  &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"/&gt;</code>
<code>  &lt;title&gt;@ViewData["Title"] - WebAppSample&lt;/title&gt;</code>
<code>  <b>@await RenderSectionAsync("Keywords", required:false)</b></code>
<code>  &lt;link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css"/&gt;</code>
<code>  &lt;link rel="stylesheet" href="~/css/site.css"/&gt;</code>
<code>&lt;/head&gt;</code></pre>
                <p data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">A Razor Page can now supply sections as shown in the
                    following code snippet using the Razor directive <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">@section</code> and using
                    the name of the section (code file <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">WebAppSample/Pages/Index.cshtml</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">现在，Razor 页面可以使用 Razor 指令 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">@section</code>
                                并使用区域名称（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">WebAppSample/Pages/Index.cshtml</code>
                                ）来提供区域，如下面的代码片段所示：</font>
                        </font>
                    </font>
                </p>
                <pre id="c26-code-0021"><code>@section Keywords {</code>
<code>  &lt;meta name="keywords" content="C#, .NET, Azure"&gt;</code>
<code>}</code></pre>
            </section>
            <section data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"><span id="c26-sec-0012"
                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"></span>
                <h3 id="head-3-493" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">Routing with Parameters <font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                        <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">带参数的路由</font>
                        </font>
                    </font>
                </h3>
                <p data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">Routing with Razor Pages is defined with a simple convention:
                    the filename of a Razor Page within the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Pages</code> folder is
                    used with the URI. In addition to this, you can pass parameters to the page as shown with the
                    following inline Razor Page. With Razor Pages depending on the HTTP verbs sent, you specify the
                    methods <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">OnGet</code>
                    and <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">OnPost</code>. The
                    parameters that you specify with these methods are mapped from the request. Here, the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">title</code> and <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">publisher</code>
                    parameters are assigned to the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Title</code> and <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Publisher</code>
                    properties, which in turn are used with the HTML content with implicit Razor expressions accessing
                    the properties (code file <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">WebAppSample/Pages/ShowBook.cshtml</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">使用 Razor Pages 进行路由是通过一个简单的约定来定义的：
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Pages</code>
                                文件夹中 Razor Pages 的文件名用于 URI。除此之外，你可以像以下内联 Razor Pages 示例那样向页面传递参数。根据发送的 HTTP 动词，Razor
                                Pages 会指定 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">OnGet</code>
                                和 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">OnPost</code>
                                方法。你使用这些方法指定的参数是从请求中映射的。在这里， <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">title</code>
                                和 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">publisher</code>
                                参数被分配给 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Title</code>
                                和 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Publisher</code>
                                属性，这些属性反过来又用于 HTML 内容中，通过隐式 Razor 表达式访问属性（代码文件 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">WebAppSample/Pages/ShowBook.cshtml</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c26-code-0022"><code>@page</code>
<code> </code>
<code>&lt;div&gt;</code>
<code>  &lt;dl class="row"&gt;</code>
<code>    &lt;dt class="col-sm-2"&gt;</code>
<code>      Title</code>
<code>    &lt;/dt&gt;</code>
<code>    &lt;dd class="col-sm-10"&gt;</code>
<code>      <b>@Title</b></code>
<code>    &lt;/dd&gt;</code>
<code>    &lt;dt class="col-sm-2"&gt;</code>
<code>      Publisher</code>
<code>    &lt;/dt&gt;</code>
<code>    &lt;dd class="col-sm-10"&gt;</code>
<code>      <b>@Publisher</b></code>
<code>    &lt;/dd&gt;</code>
<code>  &lt;/dl&gt;</code>
<code>&lt;/div&gt;</code>
<code> </code>
<code>@functions {</code>
<code>  private string? Title { get; set; }<span aria-label="759" epub:type="pagebreak" id="Page_759" role="doc-pagebreak"></span></code>
<code>  private string? Publisher { get; set; }</code>
<code>  <b>public void OnGet(string? title, string? publisher) =&gt;</b> </code>
<code>    <b>(Title, Publisher) = (title, publisher);</b></code>
<code>}</code></pre>
                <aside data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">
                    <div class="top hr" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">
                        <hr />
                    </div>
                    <section class="feature2" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">
                        <p id="c26-para-0047" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                            data-immersive-translate-paragraph="1"><b
                                data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">NOTE</b> <i
                                data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">When implementing
                                the methods for the HTTP GET and HTTP POST requests, you have many options; the methods
                                just need to have the names </i> <code
                                data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">OnGet</code> <i
                                data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"> and </i> <code
                                data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">OnPost</code> <i
                                data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"> (or </i> <code
                                data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">OnGetAsync</code>
                            <i data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"> and </i> <code
                                data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">OnPostAsync</code>
                            <i data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">, if asynchronous
                                methods are used with the implementation). The parameters you specify map with the route
                                definition. With the sample code here, the </i> <code
                                data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">OnGet</code> <i
                                data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"> method is
                                declared to return </i> <code
                                data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">void</code> <i
                                data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">. You can also
                                declare to return other data types—for example, you can return a </i> <code
                                data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">string</code> <i
                                data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"> if just a string
                                should be returned. To return specific HTTP error codes together with content, you can
                                declare the method to return an object implementing the interface </i> <code
                                data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">IActionResult</code>
                            <i data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">. Later in this
                                chapter in the section “Model Binding,” you declare methods to return </i> <code
                                data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">IAsyncResult</code>
                            <i data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">.</i>
                            <font class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">注意：在实现 HTTP GET 和 HTTP
                                        POST 请求的方法时，您有多种选择；这些方法只需要命名为 <code xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">OnGet</code>
                                        和 <code xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">OnPost</code>
                                        （如果使用异步方法实现，则可以命名为 <code xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">OnGetAsync</code>
                                        和 <code xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">OnPostAsync</code>
                                        ）。您指定的参数将与路由定义映射。在示例代码中， <code xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">OnGet</code>
                                        方法被声明为返回 <code xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">void</code>
                                        。您也可以声明返回其他数据类型——例如，如果只需要返回字符串，可以返回 <code xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">string</code>
                                        。要返回特定的 HTTP 错误代码以及内容，可以声明方法返回实现 <code xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">IActionResult</code>
                                        接口的对象。在本章后面的“模型绑定”部分，您将声明方法返回 <code xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">IAsyncResult</code>
                                        。</font>
                                </font>
                            </font>
                        </p>
                        <div class="bottom hr" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">
                            <hr />
                        </div>
                    </section>
                </aside>
                <p id="c26-para-0048" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">Now you can pass the values with the URL string <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">https://localhost:5001/ShowBook?title=ProCSharp&amp;publisher=Wrox</code>
                    to show it in the returned HTML page, as shown in <a href="#c26-fig-0003" id="R_c26-fig-0003"
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Figure 26-3</a>.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">现在您可以将值通过 URL 字符串 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">https://localhost:5001/ShowBook?title=ProCSharp&amp;publisher=Wrox</code>
                                传递，以在返回的 HTML 页面中显示，如图 26-3 所示。</font>
                        </font>
                    </font>
                </p>
                <figure data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"> <img
                        alt="Snapshot shows title and publisher names." class="center" src="images/c26f003.png" />
                    <figcaption data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">
                        <p data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"><span
                                class="figureLabel"
                                data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"><a
                                    href="#R_c26-fig-0003" id="c26-fig-0003" role="doc-backlink"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"><b
                                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                                        data-immersive-translate-paragraph="1">FIGURE 26-3<font
                                            class="notranslate immersive-translate-target-wrapper"
                                            data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                                            <font class="notranslate"
                                                data-immersive-translate-translation-element-mark="1">  </font>
                                            <font
                                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                                                data-immersive-translate-translation-element-mark="1">
                                                <font
                                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                                    data-immersive-translate-translation-element-mark="1">图 26-3</font>
                                            </font>
                                        </font></b></a></span></p>
                    </figcaption>
                </figure>
                <p id="c26-para-0049" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">Instead of using parameters with the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">OnGet</code> method, you
                    can also access the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">RouteData</code> property
                    of the base class to access all the route values.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">除了使用 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">OnGet</code>
                                方法的参数，您还可以访问基类的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">RouteData</code>
                                属性来访问所有路由值。</font>
                        </font>
                    </font>
                </p>
                <p id="c26-para-0050" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">With the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"><b>@page</b></code>
                    directive, you can create a <i
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">custom route</i> to map
                    route values to parameter values. Using an <b
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"><code
                            data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">@page</code></b>
                    directive such as <b data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"><code
                            data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">@page {title}</code></b>
                    maps <b data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"><code
                            data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">ABook</code></b> from
                    the URL <b data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"><code
                            data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"><a href="https://localhost:5001/ShowBook/ABook">https://localhost:5001/ShowBook/ABook</a></code></b>
                    to the <b data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"><code
                            data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">title</code></b>
                    variable. The <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Calc</code> page uses the
                    <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">@page</code> directive
                    <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">"{op}/{x}/{y}"</code>.
                    With the URL <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"><a href="https://localhost:5001/Calc/add/38/4">https://localhost:5001/Calc/add/38/4</a></code>,
                    the <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">op</code> variable
                    gets the value <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">add</code>, the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">x</code> variable the
                    value <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">38</code>, and
                    the <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">y</code> variable
                    the value <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">4</code>.
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">使用 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"><b>@page</b></code>
                                指令，你可以创建自定义路由来将路由值映射到参数值。使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">@page</code>
                                指令（如 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">@page {title}</code>
                                ）将 URL 中的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">ABook</code>
                                映射到 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">title</code>
                                变量。 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Calc</code>
                                页面使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">@page</code>
                                指令 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">"{op}/{x}/{y}"</code>
                                。在 URL <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"><a href="https://localhost:5001/Calc/add/38/4">https://localhost:5001/Calc/add/38/4</a></code>
                                中， <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">op</code>
                                变量获得值 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">add</code> ，
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">x</code>
                                变量获得值 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">38</code> ，
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">y</code>
                                变量获得值 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">4</code> 。
                            </font>
                        </font>
                    </font>
                </p>
                <p id="c26-para-0051" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">Optionally, you can also define constraints to the route. If
                    you specify x to be of type <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">int</code>, with <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">@page "{op}/{x:int}/{y:int}"</code>,
                    a URL where the value passed cannot be converted to <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">int</code> does not
                    apply, and the next route that matches is searched.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">可选地，你也可以为路由定义约束。如果你指定 x 为 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">int</code>
                                类型，使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">@page "{op}/{x:int}/{y:int}"</code>
                                ，一个值无法转换为 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">int</code> 的
                                URL 不适用，系统将搜索下一个匹配的路由。</font>
                        </font>
                    </font>
                </p>
                <p data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">The following code snippet uses a custom route with
                    constraints where the parts of the URL that map to the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">x</code> and <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">y</code> parameters need
                    to be convertible to <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">int</code> and a
                    constraint specifying a regular expression. With the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">regex</code> constraint,
                    the values of the route need to match one of <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">add</code>, <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">sub</code>, <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">mul</code>, and <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">div</code> to pass it to
                    the <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">op</code>
                    parameter. The Razor Page <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Calc</code> uses the
                    model <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">CalcModel</code>
                    and accesses the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Op</code>, <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">X</code>, <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Y</code>, and <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Result</code> properties
                    with Razor expressions (code file <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">WebAppSample/Pages/Calc.cshtml</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">以下代码片段使用带约束的自定义路由，其中 URL 的部分需要映射到
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">x</code> 和
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">y</code>
                                参数的部分必须可转换为 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">int</code>
                                ，并有一个指定正则表达式的约束。使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">regex</code>
                                约束，路由的值需要匹配 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">add</code> 、
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">sub</code> 、
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">mul</code> 和
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">div</code>
                                中的一个才能传递给 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">op</code>
                                参数。Razor 页面 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Calc</code>
                                使用模型 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">CalcModel</code>
                                ，并通过 Razor 表达式（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">WebAppSample/Pages/Calc.cshtml</code>
                                ）访问 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Op</code> 、
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">X</code> 、
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Y</code> 和
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Result</code>
                                属性：</font>
                        </font>
                    </font>
                </p>
                <pre id="c26-code-0023"><code><b>@page "{op:regex(^[add|sub|mul|div])}/{x:int}/{y:int}"</b></code>
<code>@model WebAppSample.Pages.CalcModel</code>
<code> </code>
<code>&lt;h2&gt;Calculation&lt;/h2&gt;</code>
<code>&lt;h4&gt;The operation @Model.Op with @Model.X and @Model.Y results in @Model.Result&lt;/h4&gt;</code></pre>
                <p data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">With the code-behind file, the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">CalcModel</code> class
                    receives the <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">op</code>,
                    <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">x</code>, and <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">y</code> parameters with
                    the <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">OnGet</code>
                    method, does calculations depending on the value of the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">op</code> variable, and
                    passes the result to the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Result</code> property
                    (code file <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">WebAppSample/Pages/Calc.cshtml.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">通过代码隐藏文件， <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">CalcModel</code>
                                类使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">OnGet</code>
                                方法接收 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">op</code> 、
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">x</code> 和
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">y</code>
                                参数，根据 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">op</code>
                                变量的值进行计算，并将结果传递给 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Result</code>
                                属性（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">WebAppSample/Pages/Calc.cshtml.cs</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c26-code-0024"><code>public class CalcModel : PageModel</code>
<code>{</code>
<code>  public string Op { get; set; } = string.Empty;</code>
<code>  public int X { get; set; }</code>
<code>  public int Y { get; set; }</code>
<code>  public int Result { get; private set; }</code>
<code>  public void OnGet(string op, int x, int y)<span aria-label="760" epub:type="pagebreak" id="Page_760" role="doc-pagebreak"></span></code>
<code>  {</code>
<code>    Op = op;</code>
<code>    X = x;</code>
<code>    Y = y;</code>
<code>    Result = Op switch</code>
<code>    {</code>
<code>      "add" =&gt; X + Y,</code>
<code>      "sub" =&gt; X - Y,</code>
<code>      "mul" =&gt; X * Y,</code>
<code>      "div" =&gt; X / Y,</code>
<code>      _ =&gt; X + Y</code>
<code>    };</code>
<code>  }</code>
<code>}</code></pre>
                <p id="c26-para-0054" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">When you run the application, you can pass URLs such as <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Calc/add/17/25</code> or
                    <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Calc/mul/8/4</code> to
                    see the results (<a href="#c26-fig-0004" id="R_c26-fig-0004"
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Figure 26-4</a>).<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">运行应用程序时，您可以通过 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Calc/add/17/25</code>
                                或 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Calc/mul/8/4</code>
                                等 URL 查看结果（图 26-4）。</font>
                        </font>
                    </font>
                </p>
                <figure data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"> <img
                        alt="Snapshot shows calculation for addition." class="center" src="images/c26f004.png" />
                    <figcaption data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">
                        <p data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"><span
                                class="figureLabel"
                                data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"><a
                                    href="#R_c26-fig-0004" id="c26-fig-0004" role="doc-backlink"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"><b
                                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                                        data-immersive-translate-paragraph="1">FIGURE 26-4<font
                                            class="notranslate immersive-translate-target-wrapper"
                                            data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                                            <font class="notranslate"
                                                data-immersive-translate-translation-element-mark="1">  </font>
                                            <font
                                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                                                data-immersive-translate-translation-element-mark="1">
                                                <font
                                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                                    data-immersive-translate-translation-element-mark="1">图 26-4</font>
                                            </font>
                                        </font></b></a></span></p>
                    </figcaption>
                </figure>
            </section>
            <section data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"><span id="c26-sec-0014"
                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"></span>
                <h3 id="head-3-494" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">Razor Libraries and Areas <font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">Razor 库和区域</font>
                        </font>
                    </font>
                </h3>
                <p id="c26-para-0055" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">Let's extend the sample solution to dig deeper with Razor
                    Pages. Next, libraries are added to access a database. This solution consists of the web application
                    created earlier with a .NET 5 library <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">BooksModel</code> and a
                    Razor Class Library <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">BooksViews</code>. The
                    <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">BooksModel</code> class
                    just contains a <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Book</code> record and a
                    <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">BooksContext</code> to
                    access the database. Read <a href="c21.xhtml"
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Chapter 21</a>, “Entity
                    Framework Core,” for more information on accessing the database.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">让我们扩展示例解决方案，使用 Razor Pages
                                深入挖掘。接下来，添加库以访问数据库。此解决方案由先前创建的 .NET 5 Web 应用程序、库 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">BooksModel</code>
                                和 Razor 类库 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">BooksViews</code>
                                组成。 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">BooksModel</code>
                                类仅包含一个 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Book</code>
                                记录和一个 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">BooksContext</code>
                                用于访问数据库。有关数据库访问的更多信息，请阅读第 21 章，“Entity Framework Core”。</font>
                        </font>
                    </font>
                </p>
                <p data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">A Razor Class Library can be created with this .NET CLI
                    command:<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">可以使用此 .NET CLI 命令创建 Razor 类库：
                            </font>
                        </font>
                    </font>
                </p>
                <pre
                    id="c26-code-0025"><code>&gt; dotnet new razorclasslib --support-pages-and-views -o BooksViews</code></pre>
                <p id="c26-para-0057" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">Be sure to add the option <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">support-pages-and-views</code>
                    for Razor Pages support. Without this option, the library is meant to host Razor components that are
                    covered in the next chapter. Using this option adds the element <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">AddRazorSupportForMvc</code>
                    to the project file.<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">务必添加选项 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">support-pages-and-views</code>
                                以支持 Razor Pages。如果没有这个选项，该库旨在托管下一章中介绍的 Razor 组件。使用此选项会在项目文件中添加元素 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">AddRazorSupportForMvc</code>
                                。</font>
                        </font>
                    </font>
                </p>
                <p id="c26-para-0058" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">When you use Razor class libraries with Razor Pages, to not
                    get in conflicts with naming pages, you should use areas. Areas give you subfolders with URLs to
                    reduce conflicts when you use pages from different categories in web applications.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">在使用 Razor 类库与 Razor Pages
                                时，为避免与页面命名冲突，您应该使用区域。区域会为您提供子文件夹和 URL，以减少在 Web 应用中使用不同类别的页面时产生的冲突。</font>
                        </font>
                    </font>
                </p>
                <p id="c26-para-0059" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">When you use areas, below the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Areas</code> folder you
                    add a subfolder with the name of a category (such as <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Admin</code> or <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Books</code>) and then a
                    <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Pages</code> subfolder
                    where you store your Razor Pages. The sample application defines <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Index</code>, <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Details</code>, <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Create</code>, <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Edit</code>, and <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Delete</code> Razor Pages
                    to read and write <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Book</code> objects. By
                    referencing the library from the application, the URL <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">https://localhost:5001/Books/Create</code>
                    can be used to access the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Create</code> page in the
                    <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Books</code> area, as
                    shown in <a href="#c26-fig-0005" id="R_c26-fig-0005"
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Figure 26-5</a>.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">使用区域时，在 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Areas</code>
                                文件夹下添加一个名为类别（例如 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Admin</code>
                                或 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Books</code>
                                ）的子文件夹，然后在其中添加一个 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Pages</code>
                                子文件夹来存储您的 Razor Pages。示例应用程序定义了 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Index</code>
                                、 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Details</code>
                                、 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Create</code>
                                、 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Edit</code> 和
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Delete</code>
                                Razor Pages 来读取和写入 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Book</code>
                                对象。通过从应用程序引用该库，可以使用 URL <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">https://localhost:5001/Books/Create</code>
                                访问位于 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Books</code>
                                区域中的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Create</code>
                                页面，如图 26-5 所示。</font>
                        </font>
                    </font>
                </p>
                <figure data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"> <img
                        alt="Snapshot of creating library." class="center" src="images/c26f005.png" />
                    <figcaption data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">
                        <p data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"><span
                                class="figureLabel"
                                data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"><a
                                    href="#R_c26-fig-0005" id="c26-fig-0005" role="doc-backlink"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"><b
                                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                                        data-immersive-translate-paragraph="1">FIGURE 26-5<font
                                            class="notranslate immersive-translate-target-wrapper"
                                            data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                                            <font class="notranslate"
                                                data-immersive-translate-translation-element-mark="1">  </font>
                                            <font
                                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                                                data-immersive-translate-translation-element-mark="1">
                                                <font
                                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                                    data-immersive-translate-translation-element-mark="1">图 26-5</font>
                                            </font>
                                        </font></b></a></span></p>
                    </figcaption>
                </figure>
                <p id="c26-para-0060" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">When using the Razor Class Library from the web application,
                    all the pages from the library can be accessed from the application, but you can override specific
                    pages just by creating the same folder structure in the web application and adding the Razor Pages
                    to override in this folder.<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">当从 Web 应用程序使用 Razor
                                类库时，库中的所有页面都可以被应用程序访问，但只需在 Web 应用程序中创建相同的文件夹结构，并将要覆盖的 Razor 页面添加到该文件夹中，即可覆盖特定页面。</font>
                        </font>
                    </font>
                </p>
                <p data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">Within the library, no layout is defined. Usually, it's more
                    practical to use the same layout as defined by the web application. To use the same layout, you need
                    to create the folder structure for the area and add a <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">_ViewStart.cshtml</code>
                    file setting the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Layout</code> property of
                    the Razor Pages within the view (code file <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">WebAppSample/Areas/Books/_ViewStart.cshtml</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">在类库中未定义布局。通常，使用 Web
                                应用程序定义的相同布局更为实用。要使用相同布局，您需要为区域创建文件夹结构，并在视图（代码文件 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">WebAppSample/Areas/Books/_ViewStart.cshtml</code>
                                ）中添加一个 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">_ViewStart.cshtml</code>
                                文件设置 Razor 页面的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Layout</code>
                                属性：</font>
                        </font>
                    </font>
                </p>
                <pre id="c26-code-0026"><code>@{</code>
<code>  Layout = "~/Pages/Shared/_Layout.cshtml";</code>
<code>}</code></pre>
            </section> <span aria-label="761" epub:type="pagebreak" id="Page_761" role="doc-pagebreak"
                data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"></span>
            <section data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"><span id="c26-sec-0015"
                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"></span>
                <h3 id="head-3-495" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">Injecting Services <font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                        <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">注入服务</font>
                        </font>
                    </font>
                </h3>
                <p data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">With the code-behind file of a Razor page, you can inject
                    services as you've seen it done with controllers and middleware types in the previous two chapters.
                    In the next code snippet, in the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">CreateModel</code> class,
                    the EF Core context class <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">BooksContext</code> is
                    injected in the constructor (code file <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">BooksViews/Areas/Books/Pages/Create.cshtml.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">通过 Razor
                                页面的代码隐藏文件，您可以像在前两章中看到的那样注入服务。在下一个代码片段中，在 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">CreateModel</code>
                                类中，EF Core 上下文类 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">BooksContext</code>
                                被注入到构造函数中（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">BooksViews/Areas/Books/Pages/Create.cshtml.cs</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c26-code-0027"><code>public class CreateModel : PageModel</code>
<code>{</code>
<code>  private readonly BookModels.BooksContext _context;</code>
<code> </code>
<code>  public CreateModel(BookModels.BooksContext context)</code>
<code>  {</code>
<code>    _context = context;</code>
<code>  }</code>
<code>  //…</code>
<code>}</code></pre>
                <p id="c26-para-0063" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">Instead of injecting the EF Core context, you can use the
                    repository pattern and use an abstraction to the EF Core context that helps with becoming
                    independent of the EF Core context and helps with testability as shown in <a href="c25.xhtml"
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Chapter 25</a>,
                    “Services.”<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">与其注入 EF Core 上下文，你可以使用仓库模式，并使用一个
                                EF Core 上下文的抽象，这有助于实现与 EF Core 上下文的独立性，并有助于测试性，如第 25 章“服务”所示。</font>
                        </font>
                    </font>
                </p>
                <p id="c26-para-0064" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">To inject the service directly with the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">.cshtml</code> file and
                    not with code-behind file, you can use the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">@inject</code>
                    declaration. This kind of dependency injection is used with Razor components shown in <a
                        href="c27.xhtml" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Chapter
                        27</a>, “Blazor.”<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">要直接使用 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">.cshtml</code>
                                文件注入服务，而不是使用代码隐藏文件，你可以使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">@inject</code>
                                声明。这种依赖注入方式在第 27 章“Blazor”中用于 Razor 组件。</font>
                        </font>
                    </font>
                </p>
            </section>
            <section data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"><span id="c26-sec-0016"
                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"></span>
                <h3 id="head-3-496" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">Returning Results <font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                        <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">返回结果</font>
                        </font>
                    </font>
                </h3>
                <p id="c26-para-0065" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">When creating new books, first an HTTP GET request is done to
                    get a form to fill out the data. As the data is filled out by the user, an HTTP POST request sends
                    the book data with the HTTP body to the server.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">在创建新书时，首先执行一个 HTTP GET
                                请求以获取一个填写数据的表单。当用户填写完数据后，执行一个 HTTP POST 请求，将书籍数据通过 HTTP 正文发送到服务器。</font>
                        </font>
                    </font>
                </p>
                <p id="c26-para-0066" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">If a GET request is sent from the client, the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">OnGet</code> method in
                    the <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Create</code> page
                    is invoked. Here, just the empty page is returned. With the implementation in the following code
                    snippet, the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">OnGet</code> method
                    returns <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">IActionResult</code>. The
                    <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">PageModel</code> base
                    class defines several helper methods to return results. Examples are the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">NotFound</code> method,
                    which returns a <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">NotFoundResult</code> and
                    an HTTP 404 status code, and the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Unauthorized</code>
                    method, which returns an <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">UnauthorizedResult</code>
                    with status code 401. With the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">StatusCode</code> method,
                    you have full control on the status code returned. The methods from the base class <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">PageModel</code> are
                    similar to the methods of the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">ControllerBase</code>
                    class from <a href="c25.xhtml"
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Chapter 25</a>. The <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">ControllerBase</code>
                    class methods also are used with MVC, as you'll see later in this chapter in the section “ASP.NET
                    Core MVC.”<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">如果从客户端发送 GET 请求， <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Create</code>
                                页面中的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">OnGet</code>
                                方法会被调用。这里仅返回空页面。通过以下代码片段中的实现， <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">OnGet</code>
                                方法返回 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">IActionResult</code>
                                。 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">PageModel</code>
                                基类定义了多个辅助方法来返回结果。例如， <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">NotFound</code>
                                方法返回 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">NotFoundResult</code>
                                和 HTTP 404 状态码，而 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Unauthorized</code>
                                方法返回状态码为 401 的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">UnauthorizedResult</code>
                                。使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">StatusCode</code>
                                方法，你可以完全控制返回的状态码。基类 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">PageModel</code>
                                的方法与第 25 章中的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">ControllerBase</code>
                                类的方法类似。 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">ControllerBase</code>
                                类的方法也用于 MVC，你将在本章后面的“ASP.NET Core MVC”部分看到这一点。</font>
                        </font>
                    </font>
                </p>
                <p data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">With the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Create</code> page, the
                    <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">OnGet</code> method
                    invokes the <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Page</code>
                    method to return the content of the Razor page with a status code 200 (code file <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">BooksView/Areas/Pages/Create.cshtml.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">使用 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Create</code>
                                页面， <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">OnGet</code>
                                方法调用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Page</code>
                                方法以状态码 200 返回 Razor 页面的内容（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">BooksView/Areas/Pages/Create.cshtml.cs</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c26-code-0028"><code>public IActionResult OnGet()</code>
<code>{</code>
<code>  return Page();</code>
<code>}</code></pre>
                <p data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">When sending a GET request, the user receives the form, can
                    fill out the data, and submits the form by clicking the submit button (as shown in the following
                    code snippet). This way, an HTTP POST request is sent, which is covered next (code file <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">BooksView/Areas/Pages/Create.cshtml</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">当发送 GET
                                请求时，用户会收到表单，可以填写数据，并通过点击提交按钮提交表单（如下面的代码片段所示）。这样会发送 HTTP POST 请求，下一节将介绍（代码文件 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">BooksView/Areas/Pages/Create.cshtml</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c26-code-0029"><code>&lt;form method="post"&gt;</code>
<code>  &lt;!-- … --&gt;</code>
<code>  &lt;input type="submit" value="Create" class="btn btn-primary"/&gt;</code>
<code>&lt;/form&gt;</code></pre>
            </section> <span aria-label="762" epub:type="pagebreak" id="Page_762" role="doc-pagebreak"
                data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"></span>
            <section data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"><span id="c26-sec-0017"
                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"></span>
                <h3 id="head-3-497" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">Model Binding <font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                        <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">模型绑定</font>
                        </font>
                    </font>
                </h3>
                <p data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">To access the data received with the POST request, the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">BindProperty</code>
                    attribute can be used. <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">BindProperty</code> uses
                    a model binder (interface <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">IModelBinder</code>) to
                    assign values from the form data to the type where the attribute is assigned to; in the following
                    code snippet, the property <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Book</code> of type <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Book</code> is annotated
                    with the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">BindProperty</code>
                    attribute. With the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">OnPostAsync</code> method
                    that is invoked with the POST request, the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Book</code> property
                    received is used to add a new record to the EF Core context and write the new record to the
                    database. With a success, an HTTP redirect request is sent to the browser, so the browser continues
                    with a GET request to the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Index</code> page (code
                    file <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">BooksView/Areas/Pages/Create.cshtml.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">要访问通过 POST 请求接收的数据，可以使用 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">BindProperty</code>
                                属性。 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">BindProperty</code>
                                使用模型绑定器（接口 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">IModelBinder</code>
                                ）将表单数据中的值分配给分配了该属性的类型；在以下代码片段中，类型为 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Book</code>
                                的属性 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Book</code>
                                使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">BindProperty</code>
                                属性进行了标注。在通过 POST 请求调用的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">OnPostAsync</code>
                                方法中，接收到的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Book</code>
                                属性用于向 EF Core 上下文添加新记录并将新记录写入数据库。成功后，会向浏览器发送 HTTP 重定向请求，因此浏览器会继续对 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Index</code>
                                页面（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">BooksView/Areas/Pages/Create.cshtml.cs</code>
                                ）发起 GET 请求：</font>
                        </font>
                    </font>
                </p>
                <pre id="c26-code-0030"><code><b>[BindProperty]</b></code>
<code>public Book? Book { get; set; }</code>
<code> </code>
<code>public async Task&lt;IActionResult&gt; OnPostAsync()</code>
<code>{</code>
<code>  if (!ModelState.IsValid || Book is null)</code>
<code>  {</code>
<code>    return Page();</code>
<code>  }</code>
<code> </code>
<code>  _context.Books.Add(Book);</code>
<code>  await _context.SaveChangesAsync();</code>
<code> </code>
<code>  return RedirectToPage("./Index");</code>
<code>}</code></pre>
                <aside data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">
                    <div class="top hr" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">
                        <hr />
                    </div>
                    <section class="feature2" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">
                        <p id="c26-para-0071" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                            data-immersive-translate-paragraph="1"><b
                                data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">NOTE</b> <i
                                data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">With the model
                                type, you should make sure that the model type doesn't implement properties that should
                                not be filled from a POST request. In case your model has such properties, an <i
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">overposting
                                    attack</i> could be done to fill these properties with a hacker's POST request. To
                                avoid this, you can create a view-model type with only the properties that should be set
                                and programmatically assign the model type to the values from the view-model type.
                                Another option is to invoke the </i><code
                                data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">TryUpdateModelAsync</code><i
                                data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"> (a method from
                                the base class </i><code
                                data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">PageModel</code><i
                                data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">) instead of the
                            </i><code
                                data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">BindProperty</code><i
                                data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"> attribute. With
                                an argument of this method, you can explicitly specify the properties that should be
                                set.</i>
                            <font class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">注意 使用模型类型时，应确保模型类型不实现不应从
                                        POST 请求中填充的属性。如果您的模型具有此类属性，黑客可能会通过 POST
                                        请求对这些属性进行过度填充攻击。为了避免这种情况，您可以创建一个仅包含应设置属性的视图模型类型，并编程方式将模型类型分配给视图模型类型的值。另一种选择是调用
                                        <code xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">TryUpdateModelAsync</code>
                                        （基类 <code xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">PageModel</code>
                                        中的方法）而不是 <code xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">BindProperty</code>
                                        属性。通过此方法的参数，您可以明确指定应设置的属性。</font>
                                </font>
                            </font>
                        </p>
                        <div class="bottom hr" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">
                            <hr />
                        </div>
                    </section>
                </aside>
            </section>
            <section data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"><span id="c26-sec-0019"
                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"></span>
                <h3 id="head-3-498" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">Working with HTML Helpers<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">使用 HTML 辅助工具 </font>
                        </font>
                    </font>
                </h3>
                <p id="c26-para-0072" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">Let's get into the user interface. Instead of just using HTML
                    code with Razor syntax with expressions accessing the model, you can use HTML Helpers.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">让我们进入用户界面。除了使用 Razor 语法和访问模型的 HTML
                                代码外，您还可以使用 HTML 辅助工具。</font>
                        </font>
                    </font>
                </p>
                <p id="c26-para-0073" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">With a Razor page, the generated class contains an <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Html</code> property of
                    type <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">IHtmlHelper</code>
                    or, if the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">@model</code> directive
                    is used, an <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Html</code>
                    property of the generic type <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">IHtmlHelper&lt;Model&gt;</code>.
                    With this interface, several HTML Helpers are available that return HTML code. You can also create a
                    custom HTML Helper by defining an extension method that extends the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">IHtmlHelper</code>
                    interface and returns a string.<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">使用 Razor 页面时，生成的类包含类型为 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Html</code> 的
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Html</code>
                                属性，或者如果使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">@model</code>
                                指令，则包含泛型类型 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">IHtmlHelper&lt;Model&gt;</code>
                                的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Html</code>
                                属性。通过此接口，提供了一些返回 HTML 代码的 HTML 辅助工具。您还可以通过定义扩展 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">IHtmlHelper</code>
                                接口并返回字符串的扩展方法来创建自定义 HTML 辅助工具。</font>
                        </font>
                    </font>
                </p>
                <p data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">With the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Index</code> page as
                    shown in the following code snippet, the HTML Helpers <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">DisplayNameFor</code> and
                    <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">DisplayFor</code> are
                    used to generate HTML code. <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">DisplayNameFor</code>
                    uses a lambda expression to define the property that should be used to access the property name. The
                    name of the property is then returned with the HTML code. The <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">DisplayFor</code> method
                    uses the same expression but returns the value of the property. The <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">DisplayNameFor</code>
                    HTML Helper is used within the heading of the HTML table, the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">DisplayFor</code> method
                    within the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">@foreach</code> iteration
                    to show every value of the collection (code file <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">BooksView/Areas/Pages/Index.cshtml</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">以下代码片段中的 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Index</code>
                                页面，使用了 HTML 助手 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">DisplayNameFor</code>
                                和 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">DisplayFor</code>
                                来生成 HTML 代码。 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">DisplayNameFor</code>
                                使用 lambda 表达式来定义用于访问属性名的属性。然后，属性名与 HTML 代码一起返回。 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">DisplayFor</code>
                                方法使用相同的表达式，但返回属性值。 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">DisplayNameFor</code>
                                HTML 助手用于 HTML 表格的标题中， <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">DisplayFor</code>
                                方法在 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">@foreach</code>
                                迭代中用于显示集合的每个值（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">BooksView/Areas/Pages/Index.cshtml</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c26-code-0031"><code>&lt;table class="table"&gt;</code>
<code>  &lt;thead&gt;<span aria-label="763" epub:type="pagebreak" id="Page_763" role="doc-pagebreak"></span></code>
<code>    &lt;tr&gt;</code>
<code>      &lt;th&gt;</code>
<code>        <b>@Html.DisplayNameFor(model =&gt; model.Books![0].Title)</b></code>
<code>      &lt;/th&gt;</code>
<code>      &lt;th&gt;</code>
<code>        <b>@Html.DisplayNameFor(model =&gt; model.Books![0].Publisher)</b></code>
<code>      &lt;/th&gt;</code>
<code>      &lt;th&gt;&lt;/th&gt;</code>
<code>    &lt;/tr&gt;</code>
<code>  &lt;/thead&gt;</code>
<code>  &lt;tbody&gt;</code>
<code>@foreach (var item in Model.Books!) {</code>
<code>  &lt;tr&gt;</code>
<code>    &lt;td&gt;</code>
<code>      <b>@Html.DisplayFor(modelItem =&gt; item.Title)</b></code>
<code>    &lt;/td&gt;</code>
<code>    &lt;td&gt;</code>
<code>      <b>@Html.DisplayFor(modelItem =&gt; item.Publisher)</b></code>
<code>    &lt;/td&gt;</code>
<code>    &lt;!-- … --&gt;</code>
<code>  &lt;/tr&gt;</code>
<code>}</code>
<code>&lt;/tbody&gt;</code></pre>
                <p data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">Displaying the name of the property is not useful in many
                    cases. As shown with the following code snippet, with the model (or view-model type), you can use
                    attributes such as the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">DisplayName</code>
                    attribute to specify a name that should be used for display (code file <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">BooksModels/Book.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">
                                在许多情况下，显示属性名并不实用。以下代码片段展示了，通过模型（或视图模型类型），你可以使用 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">DisplayName</code>
                                属性等属性来指定用于显示的名称（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">BooksModels/Book.cs</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c26-code-0032"><code>public record Book(</code>
<code>  [property: MaxLength(50)]</code>
<code>  <b>[property: DisplayName("Title")]</b></code>
<code>  string Title,</code>
<code> </code>
<code>  [property:MaxLength(50)]</code>
<code>  <b>[property:DisplayName("Publisher")]</b></code>
<code>  string Publisher,</code>
<code> </code>
<code>  int BookId = 0);</code></pre>
                <aside data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">
                    <div class="top hr" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">
                        <hr />
                    </div>
                    <section class="feature2" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">
                        <p id="c26-para-0077" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                            data-immersive-translate-paragraph="1"><b
                                data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">NOTE</b> <i
                                data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">With the </i>
                            <code
                                data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">DisplayName</code>
                            <i data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"> attribute, you
                                can specify resources to be used to retrieve the name to display from a resource file.
                                This allows for localization of the user interface. Read <a href="c22.xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Chapter
                                    22</a>, “Localization,” for more information.</i>
                            <font class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">注意：使用 <code
                                            xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">DisplayName</code>
                                        属性，你可以指定用于从资源文件中获取显示名称的资源。这允许界面本地化。更多关于本地化的信息，请阅读第 22 章，“本地化”。</font>
                                </font>
                            </font>
                        </p>
                        <div class="bottom hr" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">
                            <hr />
                        </div>
                    </section>
                </aside>
                <p id="c26-para-0078" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">ASP.NET Core includes many HTML Helpers. Helpers that return
                    simple HTML elements such as <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">BeginForm</code> (a <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">form</code> element),
                    <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">CheckBox</code> (<code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">input type=”checkbox”</code>),
                    <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">TextBox</code> (<code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">input type=”text”</code>),
                    <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">DropDownList</code>
                    (<code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">select</code> with
                    <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">option</code>), and
                    helpers that return a complete form based on a model, such as <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">EditorForModel</code>.
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">ASP.NET Core 包含许多 HTML
                                助手。这些助手可以返回简单的 HTML 元素，例如 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">BeginForm</code>
                                （一个 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">form</code>
                                元素）、 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">CheckBox</code>
                                （ <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">input type=”checkbox”</code>
                                ）、 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">TextBox</code>
                                （ <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">input type=”text”</code>
                                ）、 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">DropDownList</code>
                                （ <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">select</code>
                                带有 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">option</code>
                                ），以及基于模型的完整表单助手，例如 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">EditorForModel</code>
                                。</font>
                        </font>
                    </font>
                </p>
            </section>
            <section data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"><span id="c26-sec-0021"
                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"></span>
                <h3 id="head-3-499" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">Working with Tag Helpers <font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">使用标签助手</font>
                        </font>
                    </font>
                </h3>
                <p id="c26-para-0079" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">HTML Helpers have been available since early versions of
                    ASP.NET MVC, the .NET Framework version of MVC. Tag Helpers are a newer construct, available with
                    ASP.NET Core. Instead of using Razor syntax to activate the HTML Helpers, with Tag Helpers you write
                    HTML syntax in your Razor Pages. Tag Helpers are still resolved on the server with server-side code;
                    HTML and JavaScript syntax is returned to the client.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">HTML 助手自 ASP.NET MVC 的 .NET
                                Framework 版本早期版本起就已可用。标签助手是 ASP.NET Core 中的一项较新功能。与使用 Razor 语法激活 HTML 助手不同，使用标签助手时，您在
                                Razor 页面中编写 HTML 语法。标签助手仍然通过服务器端代码在服务器上解析；HTML 和 JavaScript 语法会返回给客户端。</font>
                        </font>
                    </font>
                </p>
                <p id="c26-para-0080" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1"><span aria-label="764" epub:type="pagebreak" id="Page_764"
                        role="doc-pagebreak"
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"></span>Tag Helpers can be
                    implemented by adding attributes to existing HTML elements, and they can also replace existing
                    elements or create new elements, as shown in this section and the next.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">标签助手可以通过向现有 HTML
                                元素添加属性来实现，它们也可以替换现有元素或创建新元素，如本节和下一节所示。</font>
                        </font>
                    </font>
                </p>
                <p data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">Let's get into an example using the anchor Tag Helper. With
                    the following code snippet, the HTML element <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">a</code> is used to
                    create a link within a Razor page. With this element, the attributes <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">asp-page</code>, <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">asp-route-id</code>, and
                    <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">asp-area</code> are
                    specified. What's behind the scenes is the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">AnchorTagHelper</code>
                    class with the properties <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Page</code>, <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Area</code>, and <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">RouteValues</code>. These
                    properties are annotated with the attribute <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">HtmlAttributeName</code>
                    using the values "
                    <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">asp-page</code>
                    ", "
                    <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">asp-area</code>
                    ", and "
                    <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">asp-route-{value}</code>
                    ". With the <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">asp-</code>
                    prefix used, you can easily distinguish these server-side attribute names from HTML attribute names.
                    When you use these attributes with the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">AnchorTagHelper</code>,
                    an <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">href</code>
                    attribute is returned to the link of the corresponding Razor page including the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">id</code> parameter (code
                    file <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">BooksView/Areas/Books/Pages/Index.cshtml</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">
                                让我们通过一个使用锚标签辅助器的例子来讲解。通过以下代码片段，HTML 元素 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">a</code> 被用来在
                                Razor 页面中创建一个链接。使用这个元素，指定了属性 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">asp-page</code>
                                、 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">asp-route-id</code>
                                和 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">asp-area</code>
                                。背后是 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">AnchorTagHelper</code>
                                类，具有属性 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Page</code> 、
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Area</code> 和
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">RouteValues</code>
                                。这些属性通过属性 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">HtmlAttributeName</code>
                                被标注，使用值" <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">asp-page</code>
                                "、" <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">asp-area</code>
                                "和" <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">asp-route-{value}</code>
                                "。使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">asp-</code>
                                前缀，你可以轻松区分这些服务器端属性名和 HTML 属性名。当你使用这些属性与 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">AnchorTagHelper</code>
                                时，会返回一个 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">href</code>
                                属性到对应 Razor 页面的链接，包括 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">id</code>
                                参数（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">BooksView/Areas/Books/Pages/Index.cshtml</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c26-code-0033"><code>&lt;td&gt;</code>
<code>  &lt;a <b>asp-page=</b>"<b>./Edit</b>" <b>asp-route-id=</b>"<b>@item.BookId</b>" <b>asp-area=</b>"<b>Books</b>"&gt;Edit&lt;/a&gt; |</code>
<code>  &lt;a <b>asp-page=</b>"<b>./Details</b>" <b>asp-route-id=</b>"<b>@item.BookId</b>" <b>asp-area=</b>"<b>Books</b>"&gt;Details&lt;/a&gt; |</code>
<code>  &lt;a <b>asp-page=</b>"<b>./Delete</b>" <b>asp-route-id=</b>"<b>@item.BookId</b>" <b>asp-area=</b>"<b>Books</b>"&gt;Delete&lt;/a&gt;</code>
<code>&lt;/td&gt;</code></pre>
                <p data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">Other examples of Tag Helpers are the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">InputTagHelper</code> and
                    the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">LabelTagHelper</code>
                    shown in the following code snippet. The <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">LabelTagHelper</code> is
                    used with a <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">label</code> element and
                    creates code for a display (and also using the annotations you've already seen with the HTML
                    Helper), and the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">InputTagHelper</code> is
                    used with the input element. Both of these helpers map the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">asp-for</code> attribute
                    to the <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">For</code>
                    property (code file <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">BooksView/Areas/Books/Pages/Create.cshtml</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">其他标签辅助器的例子包括以下代码片段中的 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">InputTagHelper</code>
                                和 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">LabelTagHelper</code>
                                。 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">LabelTagHelper</code>
                                与 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">label</code>
                                元素一起使用，创建显示代码（并且使用你已经见过的 HTML 辅助器注释），而 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">InputTagHelper</code>
                                与输入元素一起使用。这两个辅助器都将 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">asp-for</code>
                                属性映射到 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">For</code>
                                属性（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">BooksView/Areas/Books/Pages/Create.cshtml</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c26-code-0034"><code>&lt;label <b>asp-for=</b>"<b>Book!.Publisher</b>" class="control-label"&gt;&lt;/label&gt;</code>
<code>&lt;input <b>asp-for=</b>"<b>Book!.Publisher</b>" class="form-control"/&gt;</code></pre>
                <p data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">Not all Tag Helpers are that easily detectable by using the
                    <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">asp-</code> prefix. The
                    <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">EnvironmentTagHelper</code>
                    uses the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">environment</code>
                    element. The content within the environment element is rendered only if the code is built for the
                    specified environment. With the environment element, you can use the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">include</code> and <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">exclude</code> attributes
                    to include a list or exclude a list of environments. The following code snippet uses the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">environment</code>
                    element to either reference minified or full-size JavaScript files that help with debugging (code
                    file <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">WebAppSample/Pages/Shared/_Layout.cshtml</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">并非所有 Tag Helpers 都能通过使用 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">asp-</code>
                                前缀那么容易被检测到。 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">EnvironmentTagHelper</code>
                                使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">environment</code>
                                元素。如果代码是为指定的环境构建的，则仅在环境元素内渲染内容。使用环境元素，你可以使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">include</code>
                                和 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">exclude</code>
                                属性来包含或排除环境列表。以下代码片段使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">environment</code>
                                元素来引用压缩或完整大小的 JavaScript 文件，这些文件有助于调试（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">WebAppSample/Pages/Shared/_Layout.cshtml</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c26-code-0035"><code>&lt;environment include="Development"&gt;</code>
<code>  &lt;script src="~/lib/jquery/dist/jquery.js"&gt;&lt;/script&gt;</code>
<code>  &lt;script src="~/lib/bootstrap/dist/js/bootstrap.js"&gt;&lt;/script&gt;</code>
<code>&lt;/environment&gt;</code>
<code>&lt;environment exclude="Development"&gt;</code>
<code>  &lt;script src="~/lib/jquery/dist/jquery.min.js"&gt;&lt;/script&gt;</code>
<code>  &lt;script src="~/lib/bootstrap/dist/js/bootstrap.min.js"&gt;&lt;/script&gt;</code>
<code>&lt;/environment&gt;</code></pre>
                <p data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">The ASP.NET Core Tag Helpers are defined in the assembly
                    <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Microsoft.AspNetCore.Mvc.TagHelpers</code>.
                    To allow Tag Helpers in Razor Pages, Tag Helpers need to be activated with the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">@addTagHelper</code>
                    directive. The following <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">@addTagHelper</code>
                    directive opens all Tag Helpers specified by the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">*</code> from the
                    assembly <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Microsoft.AspNetCore.Mvc.TagHelpers</code>
                    (code file <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">WebAppSample/Areas/Books/_ViewImports.cshtml</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">ASP.NET Core Tag Helpers 定义在 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Microsoft.AspNetCore.Mvc.TagHelpers</code>
                                程序集中。要在 Razor Pages 中启用 Tag Helpers，需要使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">@addTagHelper</code>
                                指令激活 Tag Helpers。以下 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">@addTagHelper</code>
                                指令打开由 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">*</code>
                                指定的程序集 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Microsoft.AspNetCore.Mvc.TagHelpers</code>
                                中的所有 Tag Helpers（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">WebAppSample/Areas/Books/_ViewImports.cshtml</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c26-code-0036"><code>@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers</code></pre>
                <p id="c26-para-0085" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">Instead of the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">*</code>, you can use the
                    fully qualified class name of the Tag Helpers. Specifying the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">@addTagHelper</code>
                    directive in the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">_ViewImports.cshtml</code>
                    file enables Tag Helpers in all the Razor Pages of this directory and subdirectories. If Tag Helpers
                    should just be enabled in specific pages, use this directive in these pages.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">你可以使用 Tag Helpers 的完全限定类名来代替 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">*</code> 。在
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">_ViewImports.cshtml</code>
                                文件中指定 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">@addTagHelper</code>
                                指令可以在该目录及其子目录的所有 Razor Pages 中启用 Tag Helpers。如果只想在特定页面中启用 Tag Helpers，请在这些页面中使用此指令。
                            </font>
                        </font>
                    </font>
                </p>
            </section>
            <section data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"><span id="c26-sec-0022"
                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"></span>
                <h3 id="head-3-500" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">Validation of User Input <font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">用户输入验证</font>
                        </font>
                    </font>
                </h3>
                <p data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">To validate user input on the client, you can use Tag
                    Helpers. The <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">ValidationMessageTagHelper</code>
                    attaches error messages to input fields (using the attribute <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">asp-validation-for</code>).
                    This helper creates the HTML 5 attribute <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">data-valmsg-for</code>.
                    The <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">ValidationSummaryTagHelper</code>
                    (with the attribute <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">asp-validation-summary</code>)
                    <span aria-label="765" epub:type="pagebreak" id="Page_765" role="doc-pagebreak"
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"></span>shows summary
                    information with errors of the complete form (code file <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">BooksViews/Areas/Books/Pages/Edit.cshtml</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">要在客户端验证用户输入，可以使用标签辅助工具。 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">ValidationMessageTagHelper</code>
                                将错误消息附加到输入字段（使用属性 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">asp-validation-for</code>
                                ）。这个辅助工具创建 HTML 5 属性 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">data-valmsg-for</code>
                                。 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">ValidationSummaryTagHelper</code>
                                （带有属性 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">asp-validation-summary</code>
                                ）显示包含完整表单错误的总览信息（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">BooksViews/Areas/Books/Pages/Edit.cshtml</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c26-code-0037"><code>&lt;div <b>asp-validation-summary=</b>"ModelOnly" class="text-danger"&gt;&lt;/div&gt;</code>
<code>&lt;div class="form-group"&gt;</code>
<code>  &lt;label asp-for="Book!.Title" class="control-label"&gt;&lt;/label&gt;</code>
<code>  &lt;input asp-for="Book!.Title" class="form-control"/&gt;</code>
<code>  &lt;span <b>asp-validation-for=</b>"Book!.Title" class="text-danger"&gt;&lt;/span&gt;</code>
<code>&lt;/div&gt;</code></pre>
                <p id="c26-para-0087" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">The validation controls make use of model annotations, such
                    as the <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Required</code>
                    and <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">StringLength</code>
                    attributes. With the attributes <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">CreditCard</code>, <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">EmailAddress</code>,
                    <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Phone</code>, and <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Url</code>, you can use
                    more attributes for input validation with typically used data. The <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Range</code> attribute
                    checks whether the input falls within the specified range. With the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">RegularExpression</code>,
                    you can specify a regular expression to check for the correct input. The validation Tag Helpers are
                    based on the jQuery Validation plug-in (<code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"><a href="https://jqueryvalidation.org/">https://jqueryvalidation.org/</a></code>).
                    This library needs to be referenced from the web application.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">验证控件使用模型注解，例如 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Required</code>
                                和 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">StringLength</code>
                                属性。使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">CreditCard</code>
                                、 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">EmailAddress</code>
                                、 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Phone</code>
                                和 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Url</code>
                                属性，你可以使用更多属性来对常用数据进行输入验证。 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Range</code>
                                属性检查输入是否在指定范围内。使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">RegularExpression</code>
                                ，你可以指定正则表达式来检查正确输入。验证标签辅助工具基于 jQuery 验证插件（ <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"><a href="https://jqueryvalidation.org/">https://jqueryvalidation.org/</a></code>
                                ）。这个库需要从 Web 应用程序中引用。</font>
                        </font>
                    </font>
                </p>
                <p id="c26-para-0088" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">Although validating the user input on the client enhances
                    usability and reduces the network traffic, you also always need to verify the input with server-side
                    code. With server-side code, you use the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">ModelState</code>
                    property of the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">PageModel</code> class by
                    checking the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">IsValid</code> property:
                    <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">ModelState.IsValid</code>.
                    This verifies whether the received data that is bound is valid. Here, the same annotations that you
                    added to the model (or the view model) apply.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">
                                尽管在客户端验证用户输入可以提高可用性并减少网络流量，但你始终需要使用服务器端代码来验证输入。通过服务器端代码，你通过检查 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">IsValid</code>
                                属性的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">PageModel</code>
                                类的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">ModelState</code>
                                属性： <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">ModelState.IsValid</code>
                                来进行验证。这验证了绑定的接收数据是否有效。在这里，你添加到模型（或视图模型）的相同注解适用。</font>
                        </font>
                    </font>
                </p>
            </section>
            <section data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"><span id="c26-sec-0023"
                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"></span>
                <h3 id="head-3-501" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">Creating Custom Tag Helpers <font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">创建自定义 Tag Helpers </font>
                        </font>
                    </font>
                </h3>
                <p data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">Aside from using the predefined Tag Helpers, you can create a
                    custom Tag Helper. The first custom Tag Helper converts Markdown code to HTML with the help of the
                    NuGet package <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Markdig</code>.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">除了使用预定义的 Tag Helpers，你还可以创建一个自定义
                                Tag Helper。第一个自定义 Tag Helper 使用 NuGet 包 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Markdig</code>
                                将 Markdown 代码转换为 HTML。</font>
                        </font>
                    </font>
                </p>
                <aside data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">
                    <div class="top hr" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">
                        <hr />
                    </div>
                    <section class="feature2" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">
                        <p id="c26-para-0090" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                            data-immersive-translate-paragraph="1"><b
                                data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">NOTE</b> <i
                                data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Markdown is a
                                markup language that can be created with a text editor. Markdown is designed to be
                                converted to HTML easily. Read my blog article “Using Markdown” for information about
                                using Markdown with .NET at </i><code
                                data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"><a href="https://csharp.christiannagel.com/2016/07/03/markdown/">https://csharp.christiannagel.com/2016/07/03/markdown/</a></code><i
                                data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">.</i>
                            <font class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">注意 Markdown
                                        是一种可以用文本编辑器创建的标记语言。Markdown 的设计易于转换为 HTML。阅读我的博客文章“使用 Markdown”以获取有关在 .NET 中使用
                                        Markdown 的信息，链接为 <code xmlns="http://www.w3.org/1999/xhtml"
                                            data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"><a href="https://csharp.christiannagel.com/2016/07/03/markdown/">https://csharp.christiannagel.com/2016/07/03/markdown/</a></code>
                                        。</font>
                                </font>
                            </font>
                        </p>
                        <div class="bottom hr" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">
                            <hr />
                        </div>
                    </section>
                </aside>
                <p id="c26-para-0091" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">The Tag Helper <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">MarkdownTagHelper</code>
                    is implemented in a .NET 5.0 library named <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">CustomTagHelpers</code>.
                    This library references the NuGet package <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Markdig</code> and has a
                    <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">FrameworkReference Microsoft.AspNetCore.App</code>.
                    With .NET 5 libraries, this <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">FrameworkReference</code>
                    includes a reference to many ASP.NET Core packages.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">Tag Helper <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">MarkdownTagHelper</code>
                                是在名为 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">CustomTagHelpers</code>
                                的 .NET 5.0 库中实现的。该库引用了 NuGet 包 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Markdig</code>
                                ，并具有 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">FrameworkReference Microsoft.AspNetCore.App</code>
                                。对于 .NET 5 库，这个 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">FrameworkReference</code>
                                包含了对许多 ASP.NET Core 包的引用。</font>
                        </font>
                    </font>
                </p>
                <p data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">The following code snippet shows the class declaration of the
                    <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">MarkdownTagHelper</code>.
                    A Tag Helper derives from the base class <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">TagHelper</code>. The
                    attribute <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">HtmlTargetElement</code>
                    specifies the element or attribute names that are used to specify the Tag Helper. This Tag Helper
                    can be used either with the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">markdown</code> element
                    or with the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">markdownfile</code>
                    attribute that can be used within a <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">div</code> element. The
                    <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">TagStructure</code>
                    attribute allows configuration if the element needs self-closing (enumeration value <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">WithoutEndTag</code>) or
                    allows an end tag or self-closing with <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">NormalOrSelfClosing</code>
                    (code file <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">CustomTagHelpers/MarkdownTagHelper.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">以下代码片段展示了 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">MarkdownTagHelper</code>
                                的类声明。Tag Helper 继承自基类 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">TagHelper</code>
                                。属性 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">HtmlTargetElement</code>
                                指定了用于指定 Tag Helper 的元素或属性名称。这个 Tag Helper 可以与 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">markdown</code>
                                元素一起使用，也可以与 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">markdownfile</code>
                                属性一起使用，该属性可以在 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">div</code>
                                元素内部使用。属性 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">TagStructure</code>
                                允许配置，如果元素需要自闭合（枚举值 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">WithoutEndTag</code>
                                ）或允许使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">NormalOrSelfClosing</code>
                                进行结束标签或自闭合（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">CustomTagHelpers/MarkdownTagHelper.cs</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c26-code-0038"><code>[<b>HtmlTargetElement</b>("markdown", </code>
<code>  TagStructure = TagStructure.NormalOrSelfClosing)]</code>
<code>[<b>HtmlTargetElement</b>(Attributes = "markdownfile")]</code>
<code>public class MarkdownTagHelper : TagHelper</code>
<code>{</code>
<code>  //…</code>
<code>}</code></pre>
                <p data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1"><span aria-label="766" epub:type="pagebreak" id="Page_766"
                        role="doc-pagebreak"
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"></span>Tag Helpers can
                    make use of dependency injection. Because the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">MarkdownTagHelper</code>
                    needs the directory of the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">wwwroot</code> files, and
                    this directory is returned from the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">IWebHostEnvironment</code>
                    interface, this interface is injected in the constructor:<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">Tag Helper 可以利用依赖注入。因为 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">MarkdownTagHelper</code>
                                需要获取 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">wwwroot</code>
                                文件的目录，而这个目录是从 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">IWebHostEnvironment</code>
                                接口返回的，所以这个接口在构造函数中被注入：</font>
                        </font>
                    </font>
                </p>
                <pre id="c26-code-0039"><code>private readonly IWebHostEnvironment _env;</code>
<code>public MarkdownTagHelper(IWebHostEnvironment env) =&gt; _env = env;</code></pre>
                <p data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">Properties of a Tag Helper are automatically applied by the
                    infrastructure when they are annotated with the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">HtmlAttributeName</code>
                    attribute. Here, the property <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">MarkdownFile</code> gets
                    its value from the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">markdownfile</code>
                    attribute:<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">Tag Helper 的属性在它们被 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">HtmlAttributeName</code>
                                属性注解时，会自动由基础设施应用。在这里，属性 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">MarkdownFile</code>
                                的值来自 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">markdownfile</code>
                                属性：</font>
                        </font>
                    </font>
                </p>
                <pre id="c26-code-0040"><code><b>[HtmlAttributeName("markdownfile")]</b></code>
<code>public string? MarkdownFile { get; set; }</code></pre>
                <p id="c26-para-0095" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">Next, let's get into the main functionality of this Tag
                    Helper. Tag Helpers need to override one of the methods <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Process</code> or <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">ProcessAsync</code>. The
                    <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">ProcessAsync</code>
                    method is used when async functionality is needed, whereas you can use the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Process</code> method if
                    you invoke only synchronous methods. The following code snippet overrides the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">ProcessAsync</code>
                    method because the asynchronous method <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">GetChildContentAsync</code>
                    is used within the implementation. With the implementation, the two different uses of the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">MarkdownTagHelper</code>
                    are considered. One use is to specify the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">markdown</code> element
                    where the content comes as a child of the element, and the other is the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">markdownfile</code>
                    attribute that references a markdown file.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">接下来，让我们进入这个 Tag Helper 的主要功能。Tag
                                Helpers 需要重写 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Process</code>
                                或 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">ProcessAsync</code>
                                中的一个方法。 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">ProcessAsync</code>
                                方法用于需要异步功能的情况，而如果你只调用同步方法，可以使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Process</code>
                                方法。以下代码片段重写了 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">ProcessAsync</code>
                                方法，因为在实现中使用了异步方法 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">GetChildContentAsync</code>
                                。通过实现，考虑了 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">MarkdownTagHelper</code>
                                的两种不同用法。一种用法是指定 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">markdown</code>
                                元素，其中内容作为元素的子元素，另一种是 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">markdownfile</code>
                                属性，它引用一个 markdown 文件。</font>
                        </font>
                    </font>
                </p>
                <p id="c26-para-0096" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">If the attribute <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">markdownfile</code> is
                    used, the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">MarkdownFile</code>
                    property is set; thus, the file specified with this property is read, and the content is written to
                    the <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">markdown</code>
                    variable. The directory of the file is retrieved via the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">_env</code> variable of
                    type <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">IHostingEnvironment</code>.
                    This interface defines the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">WebRootPath</code>
                    property that returns the root path for the web files.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">如果使用 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">markdownfile</code>
                                属性，则设置 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">MarkdownFile</code>
                                属性；因此，会读取使用该属性指定的文件，并将内容写入 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">markdown</code>
                                变量。通过 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">_env</code>
                                变量（类型为 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">IHostingEnvironment</code>
                                ）获取文件目录。此接口定义了 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">WebRootPath</code>
                                属性，该属性返回网页文件的根路径。</font>
                        </font>
                    </font>
                </p>
                <p data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">If the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">MarkdownFile</code>
                    property is not set, but instead the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">markdown</code> element
                    is used, the content of this element is read. The content of the element that is specified within
                    Markdown can be accessed using the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">TagHelperOutput</code>.
                    To retrieve the content, the method <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">GetChildContentAsync</code>
                    needs to be invoked, and after this method returns, the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">GetContent</code> method
                    needs to be invoked that finally returns the content as specified in the HTML page. Using the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Markdown</code> class of
                    the Markdig library, the Markdown content is converted to HTML. This HTML code is then put into the
                    content of the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">TagHelperOutput</code> by
                    invoking the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">SetHtmlContent</code>
                    method (code file <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">CustomTagHelpers/MarkdownTagHelper.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">如果未设置 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">MarkdownFile</code>
                                属性，而是使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">markdown</code>
                                元素，则读取该元素的内容。可以使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">TagHelperOutput</code>
                                访问 Markdown 中指定的元素内容。要获取内容，需要调用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">GetChildContentAsync</code>
                                方法，然后调用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">GetContent</code>
                                方法，该方法最终返回 HTML 页面中指定的内容。使用 Markdig 库的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Markdown</code>
                                类，将 Markdown 内容转换为 HTML。然后通过调用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">SetHtmlContent</code>
                                方法（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">CustomTagHelpers/MarkdownTagHelper.cs</code>
                                ）将此 HTML 代码放入 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">TagHelperOutput</code>
                                的内容中：</font>
                        </font>
                    </font>
                </p>
                <pre id="c26-code-0041"><code>public override async Task <b>ProcessAsync</b>(TagHelperContext context,   </code>
<code>  TagHelperOutput output)</code>
<code>{</code>
<code>  string markdown;</code>
<code>  if (MarkdownFile is not null)</code>
<code>  {</code>
<code>    string filename = Path.Combine(_env.WebRootPath, MarkdownFile);</code>
<code>    markdown = File.ReadAllText(filename);</code>
<code>  }</code>
<code>  else</code>
<code>  {</code>
<code>    <b>markdown = (await output.GetChildContentAsync()).GetContent();</b></code>
<code>  <b>}</b></code>
<code>  <b>output.Content.SetHtmlContent(Markdown.ToHtml(markdown));</b></code>
<code>}</code></pre>
                <p data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">After creating the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">MarkdownTagHelper</code>
                    you can use it from a Razor page. The <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">@addTagHelper</code> adds
                    all Tag Helpers from the library <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">CustomTagHelpers</code>.
                    In the HTML code, the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">markdown</code> element
                    is used. This element contains a small segment of Markdown syntax with a heading 2, a link, and a
                    list (code file <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">WebAppSample/Pages/UseMarkdown.cshtml</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">创建 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">MarkdownTagHelper</code>
                                后，你可以在 Razor 页面中使用它。 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">@addTagHelper</code>
                                会从库 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">CustomTagHelpers</code>
                                添加所有 Tag Helpers。在 HTML 代码中，使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">markdown</code>
                                元素。该元素包含一小段 Markdown 语法，包括二级标题、链接和列表（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">WebAppSample/Pages/UseMarkdown.cshtml</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c26-code-0042"><code>@page</code>
<code>@addTagHelper *, CustomTagHelpers</code>
<code> <span aria-label="767" epub:type="pagebreak" id="Page_767" role="doc-pagebreak"></span></code>
<code>&lt;h2&gt;Markdown Sample&lt;/h2&gt;</code>
<code> </code>
<code><b>&lt;markdown&gt;</b></code>
<code>## This is simple Markdown</code>
<code> </code>
<code>[C# Blog](https://csharp.christiannagel.com)</code>
<code> </code>
<code>* one</code>
<code>* two</code>
<code>* three</code>
<code><b>&lt;/markdown&gt;</b></code></pre>
                <p id="c26-para-0099" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">When you run the application, the Markdown syntax gets
                    converted to HTML output, as shown in <a href="#c26-fig-0006" id="R_c26-fig-0006"
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Figure 26-6</a>.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">当你运行应用程序时，Markdown 语法会被转换为 HTML
                                输出，如图 26-6 所示。</font>
                        </font>
                    </font>
                </p>
                <figure data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"> <img
                        alt="Snapshot of marking down sample." class="center" src="images/c26f006.png" />
                    <figcaption data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">
                        <p data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"><span
                                class="figureLabel"
                                data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"><a
                                    href="#R_c26-fig-0006" id="c26-fig-0006" role="doc-backlink"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"><b
                                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                                        data-immersive-translate-paragraph="1">FIGURE 26-6<font
                                            class="notranslate immersive-translate-target-wrapper"
                                            data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                                            <font class="notranslate"
                                                data-immersive-translate-translation-element-mark="1">  </font>
                                            <font
                                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                                                data-immersive-translate-translation-element-mark="1">
                                                <font
                                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                                    data-immersive-translate-translation-element-mark="1">图 26-6</font>
                                            </font>
                                        </font></b></a></span></p>
                    </figcaption>
                </figure>
                <p data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">Now, the same functionality can be achieved by creating the
                    file <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Sample.md</code>
                    (which contains the same Markdown content as shown earlier) and referencing the file from the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">markdownfile</code>
                    attribute (code file <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">WebAppSample/Pages/UseMarkdownAttribute.cshtml</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">现在，通过创建文件 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Sample.md</code>
                                （其中包含前面显示的相同 Markdown 内容）并从 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">markdownfile</code>
                                属性（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">WebAppSample/Pages/UseMarkdownAttribute.cshtml</code>
                                ）中引用该文件，即可实现相同的功能：</font>
                        </font>
                    </font>
                </p>
                <pre
                    id="c26-code-0043"><code>&lt;<b>div markdownfile</b>="Sample.md"&gt;&lt;<b>/</b>div&gt;</code></pre>
                <p id="c26-para-0101" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">With this in place, the property <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">MarkdownFile</code> of
                    the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">MarkdownTagHelper</code>
                    is set, and thus the Markdown file is read.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">这样一来， <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">MarkdownTagHelper</code>
                                的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">MarkdownFile</code>
                                属性被设置，因此 Markdown 文件被读取。</font>
                        </font>
                    </font>
                </p>
            </section>
            <section data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"><span id="c26-sec-0025"
                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"></span>
                <h3 id="head-3-502" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">Creating Elements with Tag Helpers <font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">使用标签助手创建元素</font>
                        </font>
                    </font>
                </h3>
                <p data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">The next custom Tag Helper you build in this section extends
                    the HTML <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">table</code>
                    element to show a row for every item in a list and a column for every property. A model of data
                    information is passed to the Tag Helper, and the Tag Helper creates <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">table</code>, <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">tr</code>, <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">th</code>, and <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">td</code> elements
                    dynamically. This Tag Helper uses reflection to create the required information. Similar
                    functionality like this can be implemented in view components as well, and the view helpers can be
                    used with a Tag Helper. This section goes into detail about creating more complex Tag Helpers and
                    using the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">TagBuilder</code> class
                    to dynamically create HTML elements.<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">本节中你将构建的下一个自定义标签助手扩展了 HTML <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">table</code>
                                元素，以显示列表中每个项目的行和每个属性的列。将数据信息模型传递给标签助手，标签助手动态创建 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">table</code>
                                、 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">tr</code> 、
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">th</code> 和
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">td</code>
                                元素。这个标签助手使用反射来创建所需信息。类似的功能也可以在视图组件中实现，并且视图助手可以与标签助手一起使用。本节详细介绍了如何创建更复杂的标签助手以及使用 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">TagBuilder</code>
                                类动态创建 HTML 元素。</font>
                        </font>
                    </font>
                </p>
                <aside data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">
                    <div class="top hr" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">
                        <hr />
                    </div>
                    <section class="feature2" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">
                        <p id="c26-para-0103" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                            data-immersive-translate-paragraph="1"><b
                                data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">NOTE</b> <i
                                data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Reflection is
                                explained in <a href="c12.xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Chapter
                                    12</a>.</i>
                            <font class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">注意：反射在第 12 章中解释。</font>
                                </font>
                            </font>
                        </p>
                        <div class="bottom hr" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">
                            <hr />
                        </div>
                    </section>
                </aside>
                <p data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">For this sample, the service class <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">MenusSamplesService</code>
                    implements the method <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">CreateMenuItems</code> to
                    return a list of <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">MenuItem</code> objects
                    (code file <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">WebAppSample/Services/MenusSampleService.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">对于这个示例，服务类 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">MenusSamplesService</code>
                                实现了方法 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">CreateMenuItems</code>
                                来返回 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">MenuItem</code>
                                对象的列表（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">WebAppSample/Services/MenusSampleService.cs</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c26-code-0044"><code>public class MenuSamplesService</code>
<code>{</code>
<code>  private List&lt;MenuItem&gt;? _menuItems;</code>
<code> </code>
<code>  public IEnumerable&lt;MenuItem&gt; GetMenuItems() =&gt;</code>
<code>    _menuItems ??= CreateMenuItems();</code>
<code> </code>
<code>  private List&lt;MenuItem&gt; CreateMenuItems()</code>
<code>  {</code>
<code>    DateTime today = DateTime.Today;</code>
<code>    return Enumerable.Range(1, 10).Select(i =&gt; </code>
<code>      new MenuItem(i, $"menu {i}", 14.8, today.AddDays(i))).ToList();</code>
<code>  }</code>
<code>}</code></pre>
                <p data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1"><span aria-label="768" epub:type="pagebreak" id="Page_768"
                        role="doc-pagebreak"
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"></span>The Tag Helper
                    class <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">TableTagHelper</code> is
                    activated with the HTML <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">table</code> element.
                    Unlike the previous helper with the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">markup</code> element,
                    this helper is used with a valid HTML element. The <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">HtmlTargetElement</code>
                    specifies <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">table</code>
                    to apply this helper and specifies the attribute <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">items</code>. This
                    attribute is used to set the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Items</code> property as
                    specified by the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">HtmlAttributeName</code>
                    attribute (code file <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">CustomTagHelpers/TableTagHelper.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">标签辅助类 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">TableTagHelper</code>
                                通过 HTML <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">table</code>
                                元素被激活。与之前使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">markup</code>
                                元素的辅助类不同，这个辅助类是用于一个有效的 HTML 元素。 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">HtmlTargetElement</code>
                                指定 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">table</code>
                                以应用这个辅助类，并指定属性 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">items</code>
                                。这个属性用于设置 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Items</code>
                                属性，如 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">HtmlAttributeName</code>
                                属性指定的（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">CustomTagHelpers/TableTagHelper.cs</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c26-code-0045"><code>[HtmlTargetElement("table", Attributes = ItemsAttributeName)]</code>
<code>public class TableTagHelper : TagHelper</code>
<code>{</code>
<code>  private const string ItemsAttributeName = "items";</code>
<code> </code>
<code>  [HtmlAttributeName(ItemsAttributeName)]</code>
<code>  public IEnumerable&lt;object&gt; Items { get; set; }</code>
<code>  //…</code>
<code>}</code></pre>
                <p data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">The heart of the Tag Helper is in the method <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Process</code>. This time
                    the synchronous variant of this method can be used because no async method is used in the
                    implementation. With the parameters of the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Process</code> method,
                    you receive a <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">TagHelperContext</code>.
                    This context contains both the attributes of the HTML element where the Tag Helper is applied and
                    all child elements. With the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">table</code> element
                    specified when using the Tag Helper, rows and columns could already have been defined, and you could
                    merge the result with the existing content. In the sample, this is ignored, and just the attributes
                    are taken to put them in the result. The result needs to be written to the second parameter: the
                    <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">TagHelperOutput</code>
                    object. For creating HTML code, the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">TagBuilder</code> type is
                    used. The <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">TagBuilder</code> helps
                    create HTML elements with attributes, and it deals with closing of elements. To add attributes to
                    the <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">TagBuilder</code>,
                    you use the method <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">MergeAttributes</code>.
                    This method requires a dictionary of all attribute names and their values. This dictionary is
                    created by using the LINQ extension method <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">ToDictionary</code>. With
                    the <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Where</code>
                    method, all of the existing attributes—with the exception of the items attribute—of the table
                    element are taken. The <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">items</code> attribute is
                    used for defining items with the Tag Helper but is not needed later by the client:<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">Tag Helper 的核心在于方法 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Process</code>
                                。这次可以使用同步版本的这个方法，因为实现中没有使用异步方法。通过 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Process</code>
                                方法的参数，你将获得 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">TagHelperContext</code>
                                。这个上下文包含了应用 Tag Helper 的 HTML 元素的属性以及所有子元素。在使用 Tag Helper 时指定的 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">table</code>
                                元素，行和列可能已经定义好了，你可以将结果与现有内容合并。在示例中，这一点被忽略了，只是提取属性放入结果中。结果需要写入第二个参数： <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">TagHelperOutput</code>
                                对象。创建 HTML 代码时使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">TagBuilder</code>
                                类型。 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">TagBuilder</code>
                                帮助创建具有属性的 HTML 元素，并处理元素的关闭。要向 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">TagBuilder</code>
                                添加属性，你使用方法 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">MergeAttributes</code>
                                。这个方法需要一个包含所有属性名称和值的字典。这个字典是通过使用 LINQ 扩展方法 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">ToDictionary</code>
                                创建的。使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Where</code>
                                方法，将获取表格元素的所有现有属性（除了 items 属性）。 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">items</code>
                                属性用于定义带有 Tag Helper 的项，但客户端后续不需要它：</font>
                        </font>
                    </font>
                </p>
                <pre id="c26-code-0046"><code>public override void Process(TagHelperContext context, TagHelperOutput output)</code>
<code>{</code>
<code>  TagBuilder table = new("table");</code>
<code>  table.GenerateId(context.UniqueId, "id");</code>
<code>  var attributes = context.AllAttributes</code>
<code>    .Where(a =&gt; a.Name != ItemsAttributeName)</code>
<code>    .ToDictionary(a =&gt; a.Name);</code>
<code>  table.MergeAttributes(attributes);</code>
<code> </code>
<code>  PropertyInfo[] properties = CreateHeading(table);</code>
<code>  //…</code>
<code>}</code></pre>
                <aside data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">
                    <div class="top hr" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">
                        <hr />
                    </div>
                    <section class="feature2" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">
                        <p id="c26-para-0108" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                            data-immersive-translate-paragraph="1"><b
                                data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">NOTE</b> <i
                                data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">LINQ is explained
                                in <a href="c09.xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Chapter
                                    9</a>, “Language Integrated Query.”</i>
                            <font class="notranslate immersive-translate-target-wrapper"
                                data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                                <font
                                    class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                    data-immersive-translate-translation-element-mark="1">
                                    <font
                                        class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                        data-immersive-translate-translation-element-mark="1">注意：LINQ 在第 9 章“语言集成查询”中解释。
                                    </font>
                                </font>
                            </font>
                        </p>
                        <div class="bottom hr" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">
                            <hr />
                        </div>
                    </section>
                </aside>
                <p data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">Next, create the first row in the table by using the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">CreateHeading</code>
                    method. This first row contains a <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">tr</code> element as a
                    child of the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">table</code> element, and
                    it contains <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">th</code>
                    (table heading) elements for every property. To get all the property names, you invoke the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">First</code> method to
                    retrieve the first object of the collection. You access the properties of this instance using
                    reflection, invoking the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">GetProperties</code>
                    method on the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Type</code> object, and
                    writing the name of the property to the inner text of the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">th</code> HTML element:
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">接下来，使用 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">CreateHeading</code>
                                方法创建表格的第一行。这一行包含一个作为 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">table</code>
                                元素的子元素的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">tr</code>
                                元素，并且包含每个属性对应的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">th</code>
                                （表头）元素。要获取所有属性名，你调用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">First</code>
                                方法来检索集合中的第一个对象。通过反射访问该实例的属性，在 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Type</code>
                                对象上调用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">GetProperties</code>
                                方法，并将属性名写入 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">th</code>
                                HTML 元素的内部文本：</font>
                        </font>
                    </font>
                </p>
                <pre id="c26-code-0047"><code>private PropertyInfo[] CreateHeading(TagBuilder table)</code>
<code>{</code>
<code>  if (Items is null) throw new InvalidOperationException("Items are empty");</code>
<code> </code>
<code>  TagBuilder tr = new("tr");<span aria-label="769" epub:type="pagebreak" id="Page_769" role="doc-pagebreak"></span></code>
<code>  var heading = Items.First();</code>
<code>  PropertyInfo[] properties = heading.GetType().GetProperties();</code>
<code>  foreach (var prop in properties)</code>
<code>  {</code>
<code>    var th = new TagBuilder("th");</code>
<code>    th.InnerHtml.Append(prop.Name);</code>
<code>    tr.InnerHtml.AppendHtml(th);</code>
<code>  }</code>
<code>  table.InnerHtml.AppendHtml(tr);</code>
<code>  return properties;</code>
<code>}</code></pre>
                <p data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">The final part of the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Process</code> method
                    iterates through all items of the collection and creates more rows (<code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">tr</code>) for every
                    item. With every property, a <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">td</code> element is
                    added, and the value of the property is written as inner text. Last, the inner HTML code of the
                    created <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">table</code>
                    element is written to the output:<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1"> <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Process</code>
                                方法的最后一部分遍历集合中的所有项，并为每个项创建更多行（ <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">tr</code>
                                ）。对于每个属性，添加一个 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">td</code>
                                元素，并将属性的值作为内部文本写入。最后，将创建的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">table</code>
                                元素的内部 HTML 代码写入输出：</font>
                        </font>
                    </font>
                </p>
                <pre id="c26-code-0048"><code>foreach (var item in Items)</code>
<code>{</code>
<code>  TagBuilder tr = new("tr");</code>
<code>  foreach (var prop in properties)</code>
<code>  {</code>
<code>    TagBuilder td = new("td");</code>
<code>    td.InnerHtml.Append(prop.GetValue(item).ToString());</code>
<code>    tr.InnerHtml.AppendHtml(td);</code>
<code>  }</code>
<code>  table.InnerHtml.AppendHtml(tr);</code>
<code>  }</code>
<code>  output.Content.Append(table.InnerHtml);</code>
<code>}</code></pre>
                <p data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">After you've created the Tag Helper, creating the view
                    becomes very simple. With the code-behind file of the Razor page <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">UseTableTagHelper</code>,
                    the service <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">MenuSampleService</code>
                    is injected to receive the menus (code file <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">WebAppSample/Pages/UseTableTagHelper.cshtml.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">在创建好 Tag Helper 之后，创建视图就变得非常简单。通过
                                Razor 页面的后台代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">UseTableTagHelper</code>
                                ，注入服务 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">MenuSampleService</code>
                                来接收菜单（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">WebAppSample/Pages/UseTableTagHelper.cshtml.cs</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c26-code-0049"><code>public class UseTableTagHelperModel : PageModel</code>
<code>{</code>
<code>  public UseTableTagHelperModel(MenuSamplesService menuSampleService) =&gt; </code>
<code>    MenuItems = menuSampleService.GetMenuItems();</code>
<code> </code>
<code>  public IEnumerable&lt;MenuItem&gt; MenuItems { get; }</code>
<code>}</code></pre>
                <p data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">With the Razor page content, the Tag Helper needs to be
                    activated by invoking <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">addTagHelper</code>. To
                    create an instance of the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">TableTagHelper</code>,
                    the <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">items</code>
                    attribute is added to the HTML table element (code file <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">WebAppSample/Pages/UseTableTagHelper.cshtml</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">使用 Razor 页面内容时，Tag Helper 需要通过调用
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">addTagHelper</code>
                                来激活。为了创建 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">TableTagHelper</code>
                                的实例，向 HTML 表格元素添加 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">items</code>
                                属性（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">WebAppSample/Pages/UseTableTagHelper.cshtml</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c26-code-0050"><code>@page</code>
<code>@addTagHelper *, CustomTagHelpers</code>
<code>@model WebAppSample.Pages.UseTableTagHelperModel</code>
<code> </code>
<code><b>&lt;table class="table" items="@Model.MenuItems"&gt;&lt;/table&gt;</b></code></pre>
                <p id="c26-para-0113" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">When you run the application, the table you see should look
                    like the one shown in <a href="#c26-fig-0007" id="R_c26-fig-0007"
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Figure 26-7</a>. After
                    you've created the Tag Helper, it is really easy to use. All the formatting that is defined using
                    CSS still applies because all the attributes of the defined HTML table are still in the resulting
                    HTML output.<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">运行应用程序时，你看到的表格应该与图 26-7 中显示的相同。创建好
                                Tag Helper 后，使用起来非常方便。所有使用 CSS 定义的格式仍然适用，因为定义的 HTML 表格的所有属性仍然存在于生成的 HTML 输出中。</font>
                        </font>
                    </font>
                </p> <span aria-label="770" epub:type="pagebreak" id="Page_770" role="doc-pagebreak"
                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"></span>
                <figure data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"> <img
                        alt="Snapshot of id, text, and price date." class="center" src="images/c26f007.png" />
                    <figcaption data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">
                        <p data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"><span
                                class="figureLabel"
                                data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"><a
                                    href="#R_c26-fig-0007" id="c26-fig-0007" role="doc-backlink"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"><b
                                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                                        data-immersive-translate-paragraph="1">FIGURE 26-7<font
                                            class="notranslate immersive-translate-target-wrapper"
                                            data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                                            <font class="notranslate"
                                                data-immersive-translate-translation-element-mark="1">  </font>
                                            <font
                                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                                                data-immersive-translate-translation-element-mark="1">
                                                <font
                                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                                    data-immersive-translate-translation-element-mark="1">图 26-7</font>
                                            </font>
                                        </font></b></a></span></p>
                    </figcaption>
                </figure>
                <p id="c26-para-0114" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">With the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">TableTagHelper</code>,
                    there's still room for improvement. It just uses the name of the properties to display the title of
                    the column. The values are shown with a default representation. How can you change this? The <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">TableTagHelper</code> can
                    be implemented to access annotations from the model to retrieve attributes such as <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">DisplayName</code>, and
                    the <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">DataType</code>
                    attribute specifies that only the data part of <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">DateTime</code> should be
                    displayed.<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">使用 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">TableTagHelper</code>
                                ，仍有改进空间。它只是使用属性名称来显示列的标题。值以默认表示形式显示。如何改变这一点？ <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">TableTagHelper</code>
                                可以实现以访问模型的注解来获取属性，如 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">DisplayName</code>
                                ，而 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">DataType</code>
                                属性指定只显示 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">DateTime</code>
                                的数据部分。</font>
                        </font>
                    </font>
                </p>
            </section>
            <section data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"><span id="c26-sec-0028"
                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"></span>
                <h3 id="head-3-503" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">View Components <font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                        <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">视图组件</font>
                        </font>
                    </font>
                </h3>
                <p id="c26-para-0115" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">ASP.NET Core gives another option to create reusable views:
                    <i data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">view components</i>. If
                    you have a component with a complex user interface that should be usable across different web
                    applications, you can add a view component to a library. Examples where view components are really
                    useful are dynamic navigation of menus, a login panel, or a sidebar content in a blog.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">ASP.NET Core
                                提供了另一种创建可重用视图的方式：视图组件。如果你有一个具有复杂用户界面的组件，并且希望它在不同的 Web
                                应用程序中都能使用，你可以将视图组件添加到库中。视图组件特别有用的例子包括动态菜单导航、登录面板或博客中的侧边栏内容。</font>
                        </font>
                    </font>
                </p>
                <p id="c26-para-0116" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">With view components, the controller functionality is
                    implemented in a class that derives from <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">ViewComponent</code> with
                    a name that's postfixed with <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">ViewComponent</code> or
                    has the attribute <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">ViewComponent</code>
                    applied. The user interface is defined similarly to a view, but the method to invoke the view
                    component is different.<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">使用视图组件时，控制器功能是在一个从 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">ViewComponent</code>
                                派生的类中实现的，该类的名称以 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">ViewComponent</code>
                                结尾或应用了 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">ViewComponent</code>
                                属性。用户界面的定义方式与视图类似，但调用视图组件的方法不同。</font>
                        </font>
                    </font>
                </p>
                <p data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">The view component for the sample application is implemented
                    in a Razor Class Library with support for Razor Pages and views. The following code snippet defines
                    the class <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">EventListComponent</code>
                    that derives from the base class <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">ViewComponent</code>.
                    This class uses the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">IEventsService</code>
                    contract type that needs to be registered with the DI container. The <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">InvokeAsync</code> method
                    is defined to be called from the page that shows the view component. This method can have any number
                    and type of parameters. Instead of using an async method implementation, you can synchronously
                    implement this method to return <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">IViewComponentResult</code>
                    instead of <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Task&lt;IViewComponentResult&gt;</code>.
                    However, typically the async variant is the best to use—for example, for accessing a database. The
                    <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">View</code> method used
                    to return the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">IViewComponentResult</code>
                    is defined with the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">ViewComponent</code> base
                    class and returns a <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">ViewViewComponentResult</code>.
                    <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">ViewViewComponentResult</code>
                    receives a model with the constructor that can then be used by the Razor user interface (code file
                    <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">EventViews/ViewComponents/EventListViewComponent.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">示例应用程序的视图组件在支持 Razor 页面和视图的 Razor
                                类库中实现。以下代码片段定义了从基类 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">ViewComponent</code>
                                派生的类 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">EventListComponent</code>
                                。该类使用需要注册到依赖注入容器的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">IEventsService</code>
                                合约类型。定义了 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">InvokeAsync</code>
                                方法，该方法将从显示视图组件的页面调用。此方法可以具有任意数量和类型的参数。您可以选择同步实现此方法以返回 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">IViewComponentResult</code>
                                而不是 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Task&lt;IViewComponentResult&gt;</code>
                                ，但通常异步变体是最佳选择——例如，用于访问数据库。使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">View</code>
                                方法返回 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">IViewComponentResult</code>
                                的定义与 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">ViewComponent</code>
                                基类一起使用，并返回 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">ViewViewComponentResult</code>
                                。 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">ViewViewComponentResult</code>
                                接收一个具有构造函数的模型，然后该模型可以被 Razor 用户界面（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">EventViews/ViewComponents/EventListViewComponent.cs</code>
                                ）使用：</font>
                        </font>
                    </font>
                </p>
                <pre id="c26-code-0051"><code>[ViewComponent(Name ="EventList")]</code>
<code>public class EventListViewComponent : ViewComponent</code>
<code>{</code>
<code>  private readonly IEventsService _eventsService;</code>
<code>  public EventListViewComponent (IEventsService eventsService) =&gt; </code>
<code>    _eventsService = eventsService;</code>
<code> </code>
<code>  public Task&lt;IViewComponentResult&gt; InvokeAsync(DateTime from, DateTime to) =&gt;</code>
<code>    Task.FromResult&lt;IViewComponentResult&gt;(</code>
<code>      View(EventsByDateRange(from, to)));</code>
<code> </code>
<code>  private IEnumerable&lt;Event&gt; EventsByDateRange(DateTime from, DateTime to) =&gt;</code>
<code>    _eventsService.Events.Where(e =&gt; e.Date&gt;= from &amp;&amp; e.Date &lt;= to);</code>
<code>}</code></pre>
                <p data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">The library contains a default look for the view component
                    that could be changed by the application using the view component. The default user interface needs
                    to be stored with the name <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">default.cshtml</code> (a
                    Razor view) in the folder <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Views/Shared/Components/[viewcomponent]</code>
                    or <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Pages/Shared/Components/[viewcomponent]</code>.
                    The <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Views</code> folder
                    works both with Razor Pages and Razor views. Razor views are discussed in the section “ASP.NET Core
                    MVC.” With the application using the view component, a different look can be created in the same
                    directory structure of the web application or in the folder <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Pages/Components/[viewcomponent]</code>.
                    With the sample library, the view is stored in the folder <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Views/Shared/Components/EventList</code>.
                    The <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">default.cshtml</code>
                    file is a simple Razor view (it doesn't have the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">@page</code> directive)
                    that has a model specified (with the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">@model</code> directive).
                    With Razor syntax, the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Model</code> property is
                    used to access data from the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Event</code> type (code
                    file <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">EventViews/Views/Shared/Components/EventList/default.cshtml</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">
                                库中包含一个视图组件的默认外观，该外观可以通过使用视图组件的应用程序进行更改。默认的用户界面需要以 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">default.cshtml</code>
                                （一个 Razor 视图）的名称存储在 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Views/Shared/Components/[viewcomponent]</code>
                                或 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Pages/Shared/Components/[viewcomponent]</code>
                                文件夹中。 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Views</code>
                                文件夹适用于 Razor Pages 和 Razor 视图。Razor 视图在“ASP.NET Core MVC”部分中讨论。使用视图组件的应用程序可以在 Web
                                应用的相同目录结构中创建不同的外观，或存储在 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Pages/Components/[viewcomponent]</code>
                                文件夹中。在示例库中，视图存储在 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Views/Shared/Components/EventList</code>
                                文件夹中。 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">default.cshtml</code>
                                文件是一个简单的 Razor 视图（它没有 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">@page</code>
                                指令），并指定了模型（使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">@model</code>
                                指令）。使用 Razor 语法，通过 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Model</code>
                                属性访问 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Event</code>
                                类型的数据（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">EventViews/Views/Shared/Components/EventList/default.cshtml</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c26-code-0052"><code>@using EventViews.Models</code>
<code>@model IEnumerable&lt;Event&gt;</code>
<code> <span aria-label="771" epub:type="pagebreak" id="Page_771" role="doc-pagebreak"></span></code>
<code>&lt;h5&gt;Dates with the UI from the library&lt;/h5&gt;</code>
<code>&lt;table class="table"&gt;</code>
<code>  &lt;thead&gt;</code>
<code>    &lt;tr&gt;</code>
<code>      &lt;td&gt;Date&lt;/td&gt;</code>
<code>      &lt;td&gt;Text&lt;/td&gt;</code>
<code>    &lt;/tr&gt;</code>
<code>  &lt;/thead&gt;</code>
<code>  &lt;tbody&gt;</code>
<code>    @foreach (var ev in Model)</code>
<code>    {</code>
<code>      &lt;tr&gt;</code>
<code>        &lt;td&gt;@ev.Date.ToString("d")&lt;/td&gt;</code>
<code>        &lt;td&gt;@ev.Text&lt;/td&gt;</code>
<code>      &lt;/tr&gt;</code>
<code>    }</code>
<code>  &lt;/tbody&gt;</code>
<code>&lt;/table&gt;</code></pre>
                <p data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">With the web application, the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">IEventsService</code>
                    interface is registered with an implementation of the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Formula1Events</code>
                    class. This class returns a list for Formula 1 race dates and is injected with the constructor of
                    the view component implementation (code file <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">WebAppSample/Startup.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">在 Web 应用程序中， <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">IEventsService</code>
                                接口通过 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Formula1Events</code>
                                类的实现进行注册。该类返回 F1 比赛日期的列表，并通过视图组件实现的构造函数进行注入（代码文件 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">WebAppSample/Startup.cs</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre
                    id="c26-code-0053"><code>services.AddSingleton&lt;IEventsService, Formula1Events&gt;();</code></pre>
                <p data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">Using the view model becomes simple: you use a Tag Helper for
                    view components. A simple Razor page is now used to ask the user for start and end dates, and as the
                    information is posted, the view component is shown. After the user interface is shown with a GET
                    request, the user fills out start and end dates. With a POST request, the dates match the binding
                    with the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">DateSelectionViewModel</code>.
                    After the POST, the same page is returned to the client, but the value of the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">ShowEvents</code>
                    property switches to <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">true</code> to show the
                    information from the view component (code file <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">WebAppSample/Pages/UseViewComponent.cshtml.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">使用视图模型变得简单：你使用一个 Tag Helper
                                来处理视图组件。现在一个简单的 Razor 页面用来询问用户起始和结束日期，当信息被提交后，视图组件会显示出来。在用 GET 请求显示用户界面后，用户填写起始和结束日期。通过
                                POST 请求，日期与 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">DateSelectionViewModel</code>
                                进行绑定。POST 之后，返回给客户端的是同一个页面，但 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">ShowEvents</code>
                                属性的值切换为 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">true</code>
                                以显示视图组件的信息（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">WebAppSample/Pages/UseViewComponent.cshtml.cs</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c26-code-0054"><code>public class UseViewComponentModel : PageModel</code>
<code>{</code>
<code>  public bool ShowEvents { get; set; } = false;</code>
<code> </code>
<code>  public IActionResult OnGet() =&gt; Page();</code>
<code> </code>
<code>  [BindProperty]</code>
<code>  public DateSelectionViewModel DateSelection { get; set; } = </code>
<code>    new DateSelectionViewModel();</code>
<code> </code>
<code>  public IActionResult OnPost()</code>
<code>  {</code>
<code>    ShowEvents = true;</code>
<code>    return Page();</code>
<code>  }</code>
<code>}</code>
<code> </code>
<code>public class DateSelectionViewModel</code>
<code>{</code>
<code>  public DateTime From { get; set; } = DateTime.Today;</code>
<code>  public DateTime To { get; set; } = DateTime.Today.AddDays(20);</code>
<code>}</code></pre>
                <p data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">The Razor page adds Tag Helpers referencing the library where
                    the view component is implemented. This enables Tag Helpers for view components. Label and input
                    elements are used that map the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">From</code> and <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">To</code> properties of
                    the <span aria-label="772" epub:type="pagebreak" id="Page_772" role="doc-pagebreak"
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"></span>
                    <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">DateSelectionViewModel</code>.
                    When the submit button is clicked, the POST request is sent to the server (code file <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">WebAppSample/Pages/UseViewComponent.cshtml</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">Razor 页面添加了引用实现视图组件的库的 Tag
                                Helper，这启用了视图组件的 Tag Helper。使用 Label 和 input 元素来映射 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">From</code> 和
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">To</code>
                                属性。当提交按钮被点击时，POST 请求被发送到服务器（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">WebAppSample/Pages/UseViewComponent.cshtml</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c26-code-0055"><code>@page</code>
<code>@model WebAppSample.Pages.UseViewComponentModel</code>
<code> </code>
<code><b>@addTagHelper *, EventViews</b></code>
<code> </code>
<code>&lt;h2&gt;Formula 1 Calendar&lt;/h2&gt;</code>
<code>&lt;form method="post"&gt;</code>
<code>  &lt;label asp-for="DateSelection.From" class="control-label"&gt;&lt;/label&gt;</code>
<code>  &lt;input asp-for="DateSelection.From" class="form-control"/&gt;</code>
<code>  &lt;br/&gt;</code>
<code>  &lt;label asp-for="DateSelection.To" class="control-label"&gt;&lt;/label&gt;</code>
<code>  &lt;input asp-for="DateSelection.To" class="form-control"/&gt;</code>
<code>  &lt;input type="submit" value="submit"/&gt;</code>
<code>&lt;/form&gt;</code></pre>
                <p data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">The last part of the Razor page is the view component that's
                    shown if the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">ShowEvents</code>
                    property returns true. Tag Helpers for view components are prefixed with <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">vc</code> and are named
                    after the name of the view component. The Tag Helper name uses a naming convention known as <i
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">lower kebab casing</i>.
                    With the class name where parts have uppercase characters, the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">-</code> is used. In
                    addition, the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">ViewComponent</code>
                    postfix is removed. Thus, the class name <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">EventListViewComponent</code>
                    changes to the Tag Helper name <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">event-list</code>. The
                    parameter names of the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">InvokeAsync</code> method
                    are mapped by attributes of the Tag Helper (code file <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">WebAppSample/Pages/UseViewComponent.cshtml</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">Razor 页面最后一部分是当 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">ShowEvents</code>
                                属性返回 true 时显示的视图组件。视图组件的标签助手以 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">vc</code>
                                为前缀，并以视图组件的名称命名。标签助手的名称使用一种称为小驼峰命名法的命名约定。对于包含大写字符的部分的类名，使用 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">-</code>
                                。此外，会移除 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">ViewComponent</code>
                                后缀。因此，类名 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">EventListViewComponent</code>
                                会变为标签助手名称 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">event-list</code>
                                。 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">InvokeAsync</code>
                                方法的参数名称通过标签助手的属性进行映射（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">WebAppSample/Pages/UseViewComponent.cshtml</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c26-code-0056"><code>@if (Model.ShowEvents)</code>
<code>{</code>
<code>&lt;vc:event-list from="@Model.DateSelection.From" to="@Model.DateSelection.To"/&gt;</code>
<code>}</code></pre>
                <p id="c26-para-0123" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">When you run the application, you can see the view component
                    rendered as shown in <a href="#c26-fig-0008" id="R_c26-fig-0008"
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Figure 26-8</a>.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">运行应用程序时，可以看到视图组件渲染的效果，如图 26-8 所示。
                            </font>
                        </font>
                    </font>
                </p> <span aria-label="773" epub:type="pagebreak" id="Page_773" role="doc-pagebreak"
                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"></span>
                <figure data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"> <img
                        alt="Snapshot of formula 1 calendar." class="center" src="images/c26f008.png" />
                    <figcaption data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">
                        <p data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"><span
                                class="figureLabel"
                                data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"><a
                                    href="#R_c26-fig-0008" id="c26-fig-0008" role="doc-backlink"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"><b
                                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                                        data-immersive-translate-paragraph="1">FIGURE 26-8<font
                                            class="notranslate immersive-translate-target-wrapper"
                                            data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                                            <font class="notranslate"
                                                data-immersive-translate-translation-element-mark="1">  </font>
                                            <font
                                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                                                data-immersive-translate-translation-element-mark="1">
                                                <font
                                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                                    data-immersive-translate-translation-element-mark="1">图 26-8</font>
                                            </font>
                                        </font></b></a></span></p>
                    </figcaption>
                </figure>
            </section>
        </section>
        <section aria-labelledby="head-2-241" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">
            <span id="c26-sec-0029" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"></span>
            <h2 id="head-2-241" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                data-immersive-translate-paragraph="1">ASP.NET CORE MVC</h2>
            <p id="c26-para-0124" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                data-immersive-translate-paragraph="1">After you know the ins and outs of Razor Pages, it's time to move
                on to ASP.NET Core MVC. Many things you've seen so far are the same with MVC, so I'm focusing on the
                differences. With ASP.NET Core MVC, you can use Razor syntax, HTML Helpers, Tag Helpers, view
                components, and more. MVC adds a controller and uses Razor views instead of Razor pages. Razor views are
                simpler than Razor pages. In principle, the code from the Razor page moves to the controller.<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">在了解了 Razor 页面的方方面面之后，是时候转向 ASP.NET
                            Core MVC 了。到目前为止你所看到的大部分内容与 MVC 是相同的，因此我专注于它们之间的差异。使用 ASP.NET Core MVC，你可以使用 Razor 语法、HTML
                            助手、标签助手、视图组件等。MVC 添加了一个控制器，并使用 Razor 视图而不是 Razor 页面。Razor 视图比 Razor 页面更简单。原则上，Razor
                            页面的代码会移动到控制器中。</font>
                    </font>
                </font>
            </p>
            <p data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                data-immersive-translate-paragraph="1">In this section, you create a sample application using ASP.NET
                Core MVC with user registration where the information is stored in a local database. You can create this
                application using this <code
                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">dotnet</code> CLI command:
                <font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">在本节中，你将使用 ASP.NET Core MVC
                            创建一个示例应用程序，该应用程序具有用户注册功能，用户信息存储在本地数据库中。你可以使用此 <code xmlns="http://www.w3.org/1999/xhtml"
                                data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">dotnet</code> CLI
                            命令创建此应用程序：</font>
                    </font>
                </font>
            </p>
            <pre id="c26-code-0057"><code>&gt; dotnet new mvc --auth Individual -o MVCSample</code></pre>
            <aside data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">
                <div class="top hr" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">
                    <hr />
                </div>
                <section class="feature2" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">
                    <p id="c26-para-0127" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                        data-immersive-translate-paragraph="1"><b
                            data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">NOTE</b> <i
                            data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">A template that
                            allows user registration is also available with Razor Pages. You just need to supply the
                            template name </i> <code
                            data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">webapp</code> <i
                            data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"> instead of </i>
                        <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">mvc</code> <i
                            data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">.</i>
                        <font class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">注意：Razor Pages
                                    也提供了一个允许用户注册的模板。你只需将模板名称 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">webapp</code>
                                    替换为 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">mvc</code>
                                    即可。</font>
                            </font>
                        </font>
                    </p>
                    <div class="bottom hr" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">
                        <hr />
                    </div>
                </section>
            </aside>
            <section data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"><span id="c26-sec-0031"
                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"></span>
                <h3 id="head-3-504" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">MVC Bootstrapping<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                        <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">MVC 引导</font>
                        </font>
                    </font>
                </h3>
                <p data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">The first change to Razor Pages is the configuration of the
                    DI container. The extension method <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">AddControllersWithViews</code>
                    registers all services needed for controllers, views, and the Razor engine. The configuration of the
                    EF Core context and the default identity comes from the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">--auth</code> option. The
                    <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">ApplicationDbContext</code>
                    is an EF Core context that defines <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">DbSet</code> properties
                    to store user information, roles of users, user claims, and login information. This context class
                    can be extended in case you need some additional information (code file <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">MVCSample/Startup.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">对 Razor Pages 的第一个更改是配置依赖注入容器。扩展方法
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">AddControllersWithViews</code>
                                注册了控制器、视图和 Razor 引擎所需的所有服务。EF Core 上下文和默认身份验证的配置来自 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">--auth</code>
                                选项。 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">ApplicationDbContext</code>
                                是一个 EF Core 上下文，它定义了 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">DbSet</code>
                                属性来存储用户信息、用户角色、用户声明和登录信息。如果需要额外的信息，可以扩展此上下文类（代码文件 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">MVCSample/Startup.cs</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c26-code-0058"><code>public void ConfigureServices(IServiceCollection services)</code>
<code>{</code>
<code>  services.AddDbContext&lt;ApplicationDbContext&gt;(options =&gt;</code>
<code>    options.UseSqlite(</code>
<code>      Configuration.GetConnectionString("DefaultConnection")));</code>
<code>  services.AddDatabaseDeveloperPageExceptionFilter();</code>
<code> </code>
<code>  services.AddDefaultIdentity&lt;IdentityUser&gt;(options =&gt; </code>
<code>    options.SignIn.RequireConfirmedAccount = true)</code>
<code>      .AddEntityFrameworkStores&lt;ApplicationDbContext&gt;();</code>
<code>  <b>services.AddControllersWithViews();</b></code>
<code>}</code></pre>
            </section>
            <section data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"><span id="c26-sec-0032"
                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"></span>
                <h3 id="head-3-505" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">MVC Routing<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                        <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">MVC 路由</font>
                        </font>
                    </font>
                </h3>
                <p data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">An important change to Razor Pages is the endpoint routing
                    configuration with the middleware in the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Configure</code> method.
                    The method <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">MapControllerRoute</code>
                    specifies the routing for MVC. With the web API in the previous chapter, you used attribute-based
                    routing that you specified with the controller. With Razor Pages, routing is based on the name of a
                    Razor page. With the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">@page</code> directive,
                    you can specify customizations to the route. With MVC you have a central place to specify all your
                    routes. You can invoke <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">MapControllerRoute</code>
                    multiple times with different route names where you can specify different patterns for the route.
                    The controller and action terms need to be part of the pattern. The term <i
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">controller</i> references
                    the name of a <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Controller</code> class
                    (without the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Controller</code>
                    postfix), and <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">action</code> references
                    the name of a method in the controller—an action method. With the pattern specified, <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">id</code> is optional
                    (because of the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">?</code>) and specifies
                    the name of a method parameter. Using <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">URI Books/Details/42</code>
                    maps to the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">BooksController</code>
                    with the <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Details</code>
                    action method and passes <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">42</code> for the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">id</code> parameter. The
                    pattern specifies default values for <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">controller</code> and
                    <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">action</code> to be
                    <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Home</code> and <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Index</code>. So by
                    default with the URI <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">/</code>, the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Index</code> method of
                    the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">HomeController</code> is
                    invoked without passing an argument value to the <span aria-label="774" epub:type="pagebreak"
                        id="Page_774" role="doc-pagebreak"
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"></span>
                    <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Index</code> method.
                    You can just use the URI <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Books</code>, which
                    invokes the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Index</code> method in
                    the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">BooksController</code>
                    class (code file <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">MVCSample/Startup.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">Razor Pages 的一项重要变化是在 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Configure</code>
                                方法中的中间件中配置的端点路由。方法 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">MapControllerRoute</code>
                                指定了 MVC 的路由。在上一章的 Web API 中，你使用了基于属性的路由，它通过控制器来指定。在 Razor Pages 中，路由基于 Razor 页面的名称。通过
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">@page</code>
                                指令，你可以指定路由的自定义设置。在 MVC 中，你有一个中央位置来指定所有你的路由。你可以多次调用 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">MapControllerRoute</code>
                                并使用不同的路由名称，在这些地方你可以为路由指定不同的模式。控制器和动作术语需要是模式的一部分。术语控制器引用的是 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Controller</code>
                                类的名称（不带 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Controller</code>
                                后缀），而 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">action</code>
                                引用控制器中的方法名称——一个动作方法。在指定了模式后， <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">id</code>
                                是可选的（因为 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">?</code>
                                的存在），并指定了方法参数的名称。使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">URI Books/Details/42</code>
                                映射到 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">BooksController</code>
                                中的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Details</code>
                                动作方法，并将 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">42</code> 作为
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">id</code>
                                参数传递。模式指定了 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">controller</code>
                                和 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">action</code>
                                的默认值为 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Home</code> 和
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Index</code>
                                。 所以默认情况下，使用 URI <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">/</code>
                                时，会调用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">HomeController</code>
                                的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Index</code>
                                方法，而不会向 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Index</code>
                                方法传递参数值。你可以直接使用 URI <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Books</code>
                                ，它会调用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">BooksController</code>
                                类中的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Index</code>
                                方法（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">MVCSample/Startup.cs</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c26-code-0059"><code>public void Configure(IApplicationBuilder app, IWebHostEnvironment env)</code>
<code>{</code>
<code>  //…</code>
<code>  app.UseRouting();</code>
<code> </code>
<code>  app.UseAuthentication();</code>
<code>  app.UseAuthorization();</code>
<code> </code>
<code>  app.UseEndpoints(endpoints =&gt;</code>
<code>  {</code>
<code>    endpoints.MapControllerRoute(</code>
<code>      name: "default",</code>
<code>      pattern: "{controller=Home}/{action=Index}/{id?}");</code>
<code>    endpoints.MapRazorPages();</code>
<code>  });</code>
<code>}</code></pre>
                <p id="c26-para-0130" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">Similar to Razor Pages, you can also define constraints with
                    a route, so it's possible to have a route with ASP.NET Core MVC that matches only when number values
                    are passed.<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">类似于 Razor
                                Pages，你也可以通过路由定义约束，因此可以创建一个仅当传递数字值时才匹配的 ASP.NET Core MVC 路由。</font>
                        </font>
                    </font>
                </p>
            </section>
            <section data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"><span id="c26-sec-0033"
                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"></span>
                <h3 id="head-3-506" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">Controllers <font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                        <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">控制器</font>
                        </font>
                    </font>
                </h3>
                <p id="c26-para-0131" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">In the previous chapter, you created ASP.NET Core controllers
                    to build web APIs. With ASP.NET Core MVC, it's the same controller; it just derives from the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Controller</code> base
                    class instead of <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">ControllerBase</code>.
                    The <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Controller</code>
                    class derives from <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">ControllerBase</code> but
                    adds features used by MVC. The <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Controller</code> base
                    class implements methods to return different kinds of views, such as the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">View</code>, <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">PartialView</code>, and
                    <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">ViewComponent</code>
                    methods, and <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">ViewData</code> and <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">TempData</code>
                    properties. You've already used the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">ViewData</code> property
                    from a Razor Pages base class to pass data between different views. You can also pass data between
                    controllers and views.<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">在上一章中，你创建了 ASP.NET Core 控制器来构建 Web
                                API。使用 ASP.NET Core MVC 时，它仍然是控制器，只是它继承自 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Controller</code>
                                基类而不是 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">ControllerBase</code>
                                。 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Controller</code>
                                类继承自 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">ControllerBase</code>
                                ，但添加了 MVC 使用的功能。 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Controller</code>
                                基类实现了返回不同类型视图的方法，如 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">View</code> 、
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">PartialView</code>
                                和 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">ViewComponent</code>
                                方法，以及 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">ViewData</code>
                                和 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">TempData</code>
                                属性。你已经使用 Razor Pages 基类中的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">ViewData</code>
                                属性在不同视图之间传递数据。你也可以在控制器和视图之间传递数据。</font>
                        </font>
                    </font>
                </p>
                <p data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">The following code snippet shows the implementation of the
                    <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">HomeController</code>
                    class. A controller needs to be located in the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Controller</code>
                    subdirectory and named with a <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Controller</code>
                    postfix. Deriving from the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Controller</code> base
                    class is optional. The <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">HomeController</code>
                    implements the action methods <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Index</code> and <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Privacy</code>. Similar
                    to the <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">OnGet</code> and
                    <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">OnPost</code> method
                    you looked at with Razor Pages, the action methods typically return <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">IActionResult</code> (but
                    can return any data type). The <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">View</code> method that's
                    used here searches for a view with a specific convention and returns the view to the caller (code
                    file <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">MVCSample/Controllers/HomeController.cs</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">以下代码片段展示了 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">HomeController</code>
                                类的实现。控制器需要位于 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Controller</code>
                                子目录中，并以 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Controller</code>
                                后缀命名。从 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Controller</code>
                                基类派生是可选的。 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">HomeController</code>
                                实现了动作方法 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Index</code>
                                和 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Privacy</code>
                                。类似于你之前看到的 Razor Pages 的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">OnGet</code>
                                和 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">OnPost</code>
                                方法，动作方法通常返回 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">IActionResult</code>
                                （但可以返回任何数据类型）。这里使用的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">View</code>
                                方法会根据特定约定查找视图，并将视图返回给调用者（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">MVCSample/Controllers/HomeController.cs</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c26-code-0060"><code>public class HomeController : Controller</code>
<code>{</code>
<code>  private readonly ILogger&lt;HomeController&gt; _logger;</code>
<code> </code>
<code>  public HomeController(ILogger&lt;HomeController&gt; logger)</code>
<code>  {</code>
<code>    _logger = logger;</code>
<code>  }</code>
<code> </code>
<code>  public IActionResult Index()</code>
<code>  {</code>
<code>    return View();</code>
<code>  }</code>
<code> </code>
<code>  public IActionResult Privacy()</code>
<code>  {<span aria-label="775" epub:type="pagebreak" id="Page_775" role="doc-pagebreak"></span></code>
<code>    return View();</code>
<code>  }</code>
<code> </code>
<code>  [ResponseCache(Duration = 0, Location = ResponseCacheLocation.None, NoStore = true)]</code>
<code>  public IActionResult Error()</code>
<code>  {</code>
<code>    return View(new ErrorViewModel</code>
<code>    { </code>
<code>      RequestId = Activity.Current?.Id ?? HttpContext.TraceIdentifier </code>
<code>    });</code>
<code>  }</code>
<code>}</code></pre>
                <p id="c26-para-0133" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">The convention that's used with ASP.NET Core MVC to look for
                    views is to search in the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Views</code> folder for a
                    folder with the same name as the controller—for example, <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Views/Home</code>. Within
                    this folder, if a view has the same name as the action method, this view is returned. If a view is
                    not found in this folder, a view is searched for in the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Shared</code> folder.
                    With the <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Shared</code>
                    folder, it's using the same fallback mechanism as you've seen with Razor Pages. To look for a
                    different view name, you can pass the name of the view to the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">View</code> method. In
                    addition to the name, you can also supply a model to the view— any data object the view should work
                    with. In addition to passing data with <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">ViewData</code>, you can
                    pass data with a model.<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">ASP.NET Core MVC 中用于查找视图的约定是在
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Views</code>
                                文件夹中搜索与控制器同名的文件夹——例如 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Views/Home</code>
                                。在这个文件夹中，如果视图与动作方法的名称相同，则返回该视图。如果在该文件夹中找不到视图，则会在 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Shared</code>
                                文件夹中搜索视图。对于 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Shared</code>
                                文件夹，它使用与 Razor Pages 相同的后备机制。要查找不同的视图名称，可以将视图的名称传递给 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">View</code>
                                方法。除了名称之外，还可以向视图提供模型——任何视图应该与之工作的数据对象。除了使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">ViewData</code>
                                传递数据，还可以使用模型传递数据。</font>
                        </font>
                    </font>
                </p>
            </section>
            <section data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"><span id="c26-sec-0034"
                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"></span>
                <h3 id="head-3-507" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">Razor Views <font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                        <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">Razor 视图</font>
                        </font>
                    </font>
                </h3>
                <p data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">Views used with ASP.NET Core MVC are Razor views, as shown
                    with the <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Privacy</code>
                    view in the following code snippet. The same file extension and base class <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">RazorPage</code> is used
                    with Razor views. In the code snippet, you can see the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">ViewData</code> property
                    of the <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">RazorPage</code>
                    class to be used to set and get the value with the <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Title</code> index (code
                    file <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">MVCSample/Views/Home/Privacy.cshtml</code>):
                    <font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">ASP.NET Core MVC 使用的视图是 Razor
                                视图，如下面的代码片段中的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Privacy</code>
                                视图所示。Razor 视图使用相同的文件扩展名和基类 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">RazorPage</code>
                                。在代码片段中，可以看到 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">RazorPage</code>
                                类的 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">ViewData</code>
                                属性，用于使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Title</code>
                                索引设置和获取值（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">MVCSample/Views/Home/Privacy.cshtml</code>
                                ）：</font>
                        </font>
                    </font>
                </p>
                <pre id="c26-code-0061"><code>@{</code>
<code>  ViewData["Title"] = "Privacy Policy";</code>
<code>}</code>
<code>&lt;h1&gt;@ViewData["Title"]&lt;/h1&gt;</code>
<code>&lt;p&gt;Use this page to detail your site's privacy policy.&lt;/p&gt;</code></pre>
                <p id="c26-para-0135" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">Razor views don't have code-behind files. Usually there's not
                    a lot of code needed with Razor views. The main functionality is within the controller—or, even
                    better, with the services that are injected with the controller.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">Razor 视图没有代码隐藏文件。通常 Razor
                                视图不需要太多代码。主要功能在控制器中——或者更好的方式是，在注入到控制器中的服务中。</font>
                        </font>
                    </font>
                </p>
                <p id="c26-para-0136" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">The <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">html</code> element as
                    well as the <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">head</code>
                    and <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">body</code>
                    elements are not specified by the view. With MVC, you use a <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">_Layout</code> page in
                    the <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Shared</code>
                    folder using the methods <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">RenderBody</code> and
                    <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">RenderSection</code>,
                    as you already learned with Razor Pages.<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1"> <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">html</code>
                                元素以及 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">head</code> 和
                                <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">body</code>
                                元素由视图指定。在 MVC 中，你使用 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">_Layout</code>
                                页面在 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Shared</code>
                                文件夹中，通过 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">RenderBody</code>
                                和 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">RenderSection</code>
                                方法，正如你已经用 Razor Pages 学到的。</font>
                        </font>
                    </font>
                </p>
                <section data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"><span id="c26-sec-0035"
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"></span>
                    <h4 id="head-4-60" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                        data-immersive-translate-paragraph="1">Strongly Typed Views<font
                            class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                            <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">强类型视图</font>
                            </font>
                        </font>
                    </h4>
                    <p id="c26-para-0137" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                        data-immersive-translate-paragraph="1">Razor views where a model is passed from the controller
                        and the <code
                            data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">@model</code>
                        directive is used with the view are known by the name <i
                            data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">strongly typed
                            view</i>. With a strongly typed view, you have a <code
                            data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Model</code> property
                        with the type that's defined by the <code
                            data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">@model</code>
                        directive.<font class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">当从控制器传递模型并在视图中使用 <code
                                        xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">@model</code>
                                    指令时，这种 Razor 视图被称为强类型视图。在强类型视图中，你有一个 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Model</code>
                                    属性，其类型由 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">@model</code>
                                    指令定义。</font>
                            </font>
                        </font>
                    </p>
                    <p data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                        data-immersive-translate-paragraph="1">With the following code snippet, the <code
                            data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Books</code> action
                        method of the <code
                            data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">HomeController</code>
                        returns a list of <code
                            data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Book</code> objects
                        (code file <code
                            data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">MVCSample/Controllers/HomeController.cs</code>):
                        <font class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">使用以下代码片段， <code
                                        xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Books</code>
                                    的 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">HomeController</code>
                                    动作方法返回一个 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Book</code>
                                    对象列表（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">MVCSample/Controllers/HomeController.cs</code>
                                    ）：</font>
                            </font>
                        </font>
                    </p>
                    <pre id="c26-code-0062"><code>public IActionResult Books()</code>
<code>{</code>
<code>  IEnumerable&lt;Book&gt; books = Enumerable.Range(6, 12)</code>
<code>    .Select(i =&gt; new Book(i, $"Professional C# {i}", "Wrox Press")).ToArray();</code>
<code>  return View(books);</code>
<code>}</code></pre>
                    <p data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                        data-immersive-translate-paragraph="1"><span aria-label="776" epub:type="pagebreak"
                            id="Page_776" role="doc-pagebreak"
                            data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"></span>Because no
                        different view name is specified with the <code
                            data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Books</code> method,
                        a view with the name <code
                            data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Books</code> is
                        searched in the folder <code
                            data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Views/Home</code>.
                        This Razor view has the <code
                            data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">@model</code>
                        directive applied, as shown in the following code snippet, so the model can be used with the
                        HTML Helpers (code file <code
                            data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">MVCSample/Views/Home/Books.cshtml</code>):
                        <font class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">由于 <code
                                        xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Books</code>
                                    方法没有指定不同的视图名称，因此会在文件夹 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Views/Home</code>
                                    中搜索名为 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Books</code>
                                    的视图。这个 Razor 视图应用了 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">@model</code>
                                    指令，如下面的代码片段所示，因此模型可以使用 HTML 助手（代码文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">MVCSample/Views/Home/Books.cshtml</code>
                                    ）：</font>
                            </font>
                        </font>
                    </p>
                    <pre id="c26-code-0063"><code><b>@model IEnumerable&lt;MVCSample.Controllers.Book&gt;</b></code>
<code>@{</code>
<code>  ViewData["Title"] = "Books";</code>
<code>}</code>
<code> </code>
<code>&lt;h1&gt;Books&lt;/h1&gt;</code>
<code> </code>
<code>&lt;p&gt;</code>
<code>  &lt;a asp-action="Create"&gt;Create New&lt;/a&gt;</code>
<code>&lt;/p&gt;</code>
<code>&lt;table class="table"&gt;</code>
<code>  &lt;thead&gt;</code>
<code>    &lt;tr&gt;</code>
<code>      &lt;th&gt;</code>
<code>        @Html.DisplayNameFor(model =&gt; model.Id)</code>
<code>      &lt;/th&gt;</code>
<code>      &lt;th&gt;</code>
<code>        @Html.DisplayNameFor(model =&gt; model.Title)</code>
<code>      &lt;/th&gt;</code>
<code>      &lt;th&gt;</code>
<code>        @Html.DisplayNameFor(model =&gt; model.Publisher)</code>
<code>      &lt;/th&gt;</code>
<code>    &lt;/tr&gt;</code>
<code>  &lt;/thead&gt;</code>
<code>  &lt;tbody&gt;</code>
<code>  @foreach (var item in Model) {</code>
<code>    &lt;tr&gt;</code>
<code>      &lt;td&gt;</code>
<code>        @Html.DisplayFor(modelItem =&gt; item.Id)</code>
<code>      &lt;/td&gt;</code>
<code>      &lt;td&gt;</code>
<code>        @Html.DisplayFor(modelItem =&gt; item.Title)</code>
<code>      &lt;/td&gt;</code>
<code>      &lt;td&gt;</code>
<code>        @Html.DisplayFor(modelItem =&gt; item.Publisher)</code>
<code>      &lt;/td&gt;</code>
<code>    &lt;/tr&gt;</code>
<code>  }</code>
<code>  &lt;/tbody&gt;</code>
<code>&lt;/table&gt;</code></pre>
                    <p id="c26-para-0140" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                        data-immersive-translate-paragraph="1">As you can see, it's the same technology used with MVC
                        and Razor Pages.<font class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">如您所见，这是与 MVC 和 Razor Pages
                                    使用的相同技术。</font>
                            </font>
                        </font>
                    </p>
                </section>
                <section data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"><span id="c26-sec-0036"
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"></span>
                    <h4 id="head-4-61" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                        data-immersive-translate-paragraph="1">Partial Views<font
                            class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                            <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">部分视图</font>
                            </font>
                        </font>
                    </h4>
                    <p data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                        data-immersive-translate-paragraph="1">Another type of view is the partial view. Behind the
                        scenes, a partial view is a Razor view with the same base class; nothing is different. It's just
                        used in a different way. A partial view doesn't have a layout assigned because it's only to be
                        used within another Razor view (or Razor page). So, what's different from HTML or Tag Helpers?
                        You use the <code
                            data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">.cshtml</code> files
                        with HTML and Razor syntax to implement the partial view. To use the partial view, you can use
                        the HTML Helper <code
                            data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">PartialAsync</code>
                        or the <code
                            data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">partial</code> Tag
                        Helper, as shown here:<font class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">另一种视图类型是部分视图。在后台，部分视图与 Razor
                                    视图具有相同的基类；没有任何不同之处。它只是以不同的方式使用。部分视图没有分配布局，因为它仅用于另一个 Razor 视图（或 Razor 页面）中。那么，与 HTML
                                    或 Tag Helpers 有什么不同呢？您使用带有 HTML 和 Razor 语法的 <code
                                        xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">.cshtml</code>
                                    文件来实现部分视图。要使用部分视图，您可以使用 HTML Helper <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">PartialAsync</code>
                                    或 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">partial</code>
                                    Tag Helper，如这里所示：</font>
                            </font>
                        </font>
                    </p>
                    <pre id="c26-code-0064"><code>&lt;partial name="MyPartial"/&gt;</code></pre>
                    <p id="c26-para-0142" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                        data-immersive-translate-paragraph="1"><span aria-label="777" epub:type="pagebreak"
                            id="Page_777" role="doc-pagebreak"
                            data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"></span>A reason why
                        the partial view is more important with MVC is that you can create a controller action method to
                        return a partial view using the <code
                            data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">PartialView</code>
                        method of the <code
                            data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Controller</code>
                        base class. This way, you can make an HTTP request from a browser client to load an HTML
                        fragment and only update parts of the page. Using the partial HTML or Tag Helpers, the
                        controller action method is not invoked.<font
                            class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">部分视图在 MVC 中更为重要，因为您可以使用 <code
                                        xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Controller</code>
                                    基类的 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">PartialView</code>
                                    方法创建一个控制器动作方法来返回部分视图。这样，您可以从浏览器客户端发起 HTTP 请求来加载 HTML 片段，并仅更新页面的部分内容。使用部分 HTML 或 Tag
                                    Helpers 时，控制器动作方法不会被调用。</font>
                            </font>
                        </font>
                    </p>
                    <p id="c26-para-0143" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                        data-immersive-translate-paragraph="1">Partial views use the same base class <code
                            data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">RazorPage</code> and
                        offer the same functionality. Strongly typed views use the same <code
                            data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">@model</code>
                        directive as you've seen with Razor Pages.<font
                            class="notranslate immersive-translate-target-wrapper"
                            data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                            <font
                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                                data-immersive-translate-translation-element-mark="1">
                                <font
                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                    data-immersive-translate-translation-element-mark="1">部分视图使用相同的基类 <code
                                        xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">RazorPage</code>
                                    并提供相同的功能。强类型视图使用与 Razor 页面中相同的 <code xmlns="http://www.w3.org/1999/xhtml"
                                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">@model</code>
                                    指令。</font>
                            </font>
                        </font>
                    </p>
                </section>
            </section>
            <section data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"><span id="c26-sec-0037"
                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"></span>
                <h3 id="head-3-508" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">Identity UI</h3>
                <p id="c26-para-0144" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">The sample application created has authentication and
                    authorization for individual users turned on. When you start the application, you can register a new
                    user and see the dialog shown in <a href="#c26-fig-0009" id="R_c26-fig-0009"
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Figure 26-9</a>. You can
                    see other dialogs as well—for logging in the user, changing profile information, and more.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">
                                创建的示例应用程序已开启对个别用户的身份验证和授权。启动应用程序时，您可以注册新用户并看到图 26-9 所示的对话框。您还可以看到其他对话框，用于用户登录、更改个人信息等。
                            </font>
                        </font>
                    </font>
                </p>
                <figure data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"> <img
                        alt="Snapshot of the login page for creating a new account." class="center"
                        src="images/c26f009.png" />
                    <figcaption data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">
                        <p data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"><span
                                class="figureLabel"
                                data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"><a
                                    href="#R_c26-fig-0009" id="c26-fig-0009" role="doc-backlink"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"><b
                                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                                        data-immersive-translate-paragraph="1">FIGURE 26-9<font
                                            class="notranslate immersive-translate-target-wrapper"
                                            data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                                            <font class="notranslate"
                                                data-immersive-translate-translation-element-mark="1">  </font>
                                            <font
                                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                                                data-immersive-translate-translation-element-mark="1">
                                                <font
                                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                                    data-immersive-translate-translation-element-mark="1">图 26-9</font>
                                            </font>
                                        </font></b></a></span></p>
                    </figcaption>
                </figure>
                <p data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">Where are these dialogs coming from? With the application,
                    you'll see an <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Areas</code> folder with
                    the subfolder <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Identity</code> and the
                    subfolder <code data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Pages</code>.
                    The only file within this folder is the file <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">_ViewStart.cshtml</code>
                    :<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">这些对话框是从哪里来的？使用应用程序时，你会看到一个名为 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Areas</code>
                                的文件夹，其中包含子文件夹 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Identity</code>
                                和子文件夹 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Pages</code>
                                。这个文件夹中只有一个文件 <code xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">_ViewStart.cshtml</code>
                                ：</font>
                        </font>
                    </font>
                </p>
                <pre id="c26-code-0065"><code>@{</code>
<code>  Layout = "/Views/Shared/_Layout.cshtml";</code>
<code>}</code></pre>
                <p id="c26-para-0146" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">All the user interfaces for the identity area are coming from
                    the Razor Class Library <code
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Microsoft.AspNetCore.Identity.UI</code>.
                    This library defines Razor Pages for all the different dialogs used. The layout used with all these
                    dialogs is coming from your web application.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">身份区域的所有用户界面都来自 Razor 类库 <code
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Microsoft.AspNetCore.Identity.UI</code>
                                。这个库定义了所有不同对话框的 Razor 页面。所有这些对话框使用的布局都来自你的 Web 应用程序。</font>
                        </font>
                    </font>
                </p>
                <p id="c26-para-0147" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">As you learned in the section “Razor Libraries and Areas,”
                    you can override every Razor page of a Razor library. With Visual Studio, from the Solution Explorer
                    you can select Add ➪ Add New Scaffolded Item and select Identity. When you click the Add button, you
                    can see all the different dialogs you can override with your application, as shown in <a
                        href="#c26-fig-0010" id="R_c26-fig-0010"
                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">Figure 26-10</a>. For all
                    the pages you select, a copy of the Razor page, including the code-behind file, is created in your
                    application, and you can change it as needed.<font
                        class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">正如你在“Razor 库和区域”部分学到的，你可以覆盖 Razor
                                库中的每个 Razor 页面。使用 Visual
                                Studio，从解决方案资源管理器中可以选择“添加”➪“添加新项”，然后选择“身份”。当你点击“添加”按钮时，你可以看到所有你可以用应用程序覆盖的不同对话框，如图 26-10
                                所示。对于你选择的每个页面，都会在你的应用程序中创建 Razor 页面的副本，包括代码隐藏文件，你可以根据需要修改它。</font>
                        </font>
                    </font>
                </p>
                <p id="c26-para-0148" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                    data-immersive-translate-paragraph="1">As you saw with the last step, MVC and Razor Pages mix very
                    well.<font class="notranslate immersive-translate-target-wrapper"
                        data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                        <font
                            class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                            data-immersive-translate-translation-element-mark="1">
                            <font
                                class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                data-immersive-translate-translation-element-mark="1">如你所见，MVC 和 Razor Pages 结合得非常好。
                            </font>
                        </font>
                    </font>
                </p>
                <figure data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"> <img
                        alt="Snapshot of adding identity." class="center" src="images/c26f010.png" />
                    <figcaption data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">
                        <p data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"><span
                                class="figureLabel"
                                data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"><a
                                    href="#R_c26-fig-0010" id="c26-fig-0010" role="doc-backlink"
                                    data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"><b
                                        data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                                        data-immersive-translate-paragraph="1">FIGURE 26-10<font
                                            class="notranslate immersive-translate-target-wrapper"
                                            data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                                            <font class="notranslate"
                                                data-immersive-translate-translation-element-mark="1">  </font>
                                            <font
                                                class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                                                data-immersive-translate-translation-element-mark="1">
                                                <font
                                                    class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                                                    data-immersive-translate-translation-element-mark="1">图 26-10</font>
                                            </font>
                                        </font></b></a></span></p>
                    </figcaption>
                </figure>
            </section>
        </section> <span aria-label="778" epub:type="pagebreak" id="Page_778" role="doc-pagebreak"
            data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"></span>
        <section aria-labelledby="head-2-242" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588">
            <span id="c26-sec-0038" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"></span>
            <h2 id="head-2-242" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                data-immersive-translate-paragraph="1">SUMMARY<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN">
                    <font class="notranslate" data-immersive-translate-translation-element-mark="1">  </font>
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">摘要</font>
                    </font>
                </font>
            </h2>
            <p id="c26-para-0149" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                data-immersive-translate-paragraph="1">In this chapter, you explored many features available with
                ASP.NET Core for Razor Pages as well as ASP.NET Core MVC. Razor syntax plays an important role with
                Razor Pages and views, and you can reuse and create UI components written with partial views, HTML
                Helpers, Tag Helpers, and view components.<font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">在本章中，你探索了 ASP.NET Core 为 Razor Pages 和
                            ASP.NET Core MVC 提供的许多功能。Razor 语法在 Razor Pages 和视图中发挥着重要作用，你可以重用和创建使用部分视图、HTML
                            助手、标签助手和视图组件编写的 UI 组件。</font>
                    </font>
                </font>
            </p>
            <p id="c26-para-0150" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                data-immersive-translate-paragraph="1">You've seen how routing is done with Razor Pages and how this
                differs with ASP.NET Core MVC.<font class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">你了解了 Razor Pages 的路由方式，以及它与 ASP.NET
                            Core MVC 的不同之处。</font>
                    </font>
                </font>
            </p>
            <p id="c26-para-0151" data-immersive-translate-walked="907a8bff-642d-4303-8c39-ed73cad7f588"
                data-immersive-translate-paragraph="1">The next chapter dives into a new technology where Razor is used:
                Razor components. Razor components are based on the ideas of Razor Pages but are very different because
                you can't use Tag Helpers and HTML Helpers. With Razor components, you can run .NET code on the client
                within a WebAssembly using the Blazor technology.<font
                    class="notranslate immersive-translate-target-wrapper"
                    data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br />
                    <font
                        class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper"
                        data-immersive-translate-translation-element-mark="1">
                        <font
                            class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner"
                            data-immersive-translate-translation-element-mark="1">下一章将深入介绍一种使用 Razor 技术的新技术：Razor
                            组件。Razor 组件基于 Razor Pages 的思想，但差异很大，因为不能使用 Tag Helpers 和 HTML Helpers。通过 Razor 组件，你可以使用
                            Blazor 技术在 WebAssembly 中在客户端运行.NET 代码。</font>
                    </font>
                </font>
            </p>
        </section>
    </section>
</body>
<div id="immersive-translate-popup" style="all: initial"></div>

</html>